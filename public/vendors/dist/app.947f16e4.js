/*! For license information please see app.947f16e4.js.LICENSE.txt */
(()=>{var e={"./node_modules/@popperjs/core/lib/createPopper.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{createPopper:()=>_,detectOverflow:()=>p.default,popperGenerator:()=>x});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js"),a=n("./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js"),l=n("./node_modules/@popperjs/core/lib/utils/orderModifiers.js"),c=n("./node_modules/@popperjs/core/lib/utils/debounce.js"),d=n("./node_modules/@popperjs/core/lib/utils/validateModifiers.js"),u=n("./node_modules/@popperjs/core/lib/utils/uniqueBy.js"),h=n("./node_modules/@popperjs/core/lib/utils/getBasePlacement.js"),m=n("./node_modules/@popperjs/core/lib/utils/mergeByName.js"),p=n("./node_modules/@popperjs/core/lib/utils/detectOverflow.js"),f=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js"),g=n("./node_modules/@popperjs/core/lib/enums.js"),v="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",b="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",y={placement:"bottom",modifiers:[],strategy:"absolute"};function w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function x(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,p=void 0===n?[]:n,x=t.defaultOptions,_=void 0===x?y:x;return function(e,t,n){void 0===n&&(n=_);var x={placement:"bottom",orderedModifiers:[],options:Object.assign({},y,_),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},S=[],C=!1,j={state:x,setOptions:function(n){var o="function"==typeof n?n(x.options):n;k(),x.options=Object.assign({},_,x.options,o),x.scrollParents={reference:(0,f.isElement)(e)?(0,i.default)(e):e.contextElement?(0,i.default)(e.contextElement):[],popper:(0,i.default)(t)};var r=(0,l.default)((0,m.default)([].concat(p,x.options.modifiers)));x.orderedModifiers=r.filter((function(e){return e.enabled}));var s=(0,u.default)([].concat(r,x.options.modifiers),(function(e){return e.name}));(0,d.default)(s),(0,h.default)(x.options.placement)===g.auto&&(x.orderedModifiers.find((function(e){return"flip"===e.name}))||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" ")));var c=(0,a.default)(t);return[c.marginTop,c.marginRight,c.marginBottom,c.marginLeft].some((function(e){return parseFloat(e)}))&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" ")),x.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,o=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var i=r({state:x,name:t,instance:j,options:o}),s=function(){};S.push(i||s)}})),j.update()},forceUpdate:function(){if(!C){var e=x.elements,t=e.reference,n=e.popper;if(w(t,n)){x.rects={reference:(0,o.default)(t,(0,s.default)(n),"fixed"===x.options.strategy),popper:(0,r.default)(n)},x.reset=!1,x.placement=x.options.placement,x.orderedModifiers.forEach((function(e){return x.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0,a=0;a<x.orderedModifiers.length;a++){if((i+=1)>100){console.error(b);break}if(!0!==x.reset){var l=x.orderedModifiers[a],c=l.fn,d=l.options,u=void 0===d?{}:d,h=l.name;"function"==typeof c&&(x=c({state:x,options:u,name:h,instance:j})||x)}else x.reset=!1,a=-1}}else console.error(v)}},update:(0,c.default)((function(){return new Promise((function(e){j.forceUpdate(),e(x)}))})),destroy:function(){k(),C=!0}};if(!w(e,t))return console.error(v),j;function k(){S.forEach((function(e){return e()})),S=[]}return j.setOptions(n).then((function(e){!C&&n.onFirstUpdate&&n.onFirstUpdate(e)})),j}}var _=x()},"./node_modules/@popperjs/core/lib/dom-utils/contains.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");function r(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&(0,o.isShadowRoot)(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}},"./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var o=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js"),r=n("./node_modules/@popperjs/core/lib/utils/math.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getWindow.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js");function a(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var a=e.getBoundingClientRect(),l=1,c=1;t&&(0,o.isHTMLElement)(e)&&(l=e.offsetWidth>0&&(0,r.round)(a.width)/e.offsetWidth||1,c=e.offsetHeight>0&&(0,r.round)(a.height)/e.offsetHeight||1);var d=((0,o.isElement)(e)?(0,i.default)(e):window).visualViewport,u=!(0,s.default)()&&n,h=(a.left+(u&&d?d.offsetLeft:0))/l,m=(a.top+(u&&d?d.offsetTop:0))/c,p=a.width/l,f=a.height/c;return{width:p,height:f,top:m,right:h+p,bottom:m+f,left:h,x:h,y:m}}},"./node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var o=n("./node_modules/@popperjs/core/lib/enums.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js"),a=n("./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js"),l=n("./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js"),c=n("./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js"),d=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js"),u=n("./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js"),h=n("./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js"),m=n("./node_modules/@popperjs/core/lib/dom-utils/contains.js"),p=n("./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js"),f=n("./node_modules/@popperjs/core/lib/utils/rectToClientRect.js"),g=n("./node_modules/@popperjs/core/lib/utils/math.js");function v(e,t,n){return t===o.viewport?(0,f.default)((0,r.default)(e,n)):(0,d.isElement)(t)?function(e,t){var n=(0,u.default)(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):(0,f.default)((0,i.default)((0,l.default)(e)))}function b(e,t,n,o){var r="clippingParents"===t?function(e){var t=(0,s.default)((0,h.default)(e)),n=["absolute","fixed"].indexOf((0,c.default)(e).position)>=0&&(0,d.isHTMLElement)(e)?(0,a.default)(e):e;return(0,d.isElement)(n)?t.filter((function(e){return(0,d.isElement)(e)&&(0,m.default)(e,n)&&"body"!==(0,p.default)(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),l=i[0],u=i.reduce((function(t,n){var r=v(e,n,o);return t.top=(0,g.max)(r.top,t.top),t.right=(0,g.min)(r.right,t.right),t.bottom=(0,g.min)(r.bottom,t.bottom),t.left=(0,g.max)(r.left,t.left),t}),v(e,l,o));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}},"./node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js"),a=n("./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js"),l=n("./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js"),c=n("./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js"),d=n("./node_modules/@popperjs/core/lib/utils/math.js");function u(e,t,n){void 0===n&&(n=!1);var u=(0,s.isHTMLElement)(t),h=(0,s.isHTMLElement)(t)&&function(e){var t=e.getBoundingClientRect(),n=(0,d.round)(t.width)/e.offsetWidth||1,o=(0,d.round)(t.height)/e.offsetHeight||1;return 1!==n||1!==o}(t),m=(0,l.default)(t),p=(0,o.default)(e,h,n),f={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(u||!u&&!n)&&(("body"!==(0,i.default)(t)||(0,c.default)(m))&&(f=(0,r.default)(t)),(0,s.isHTMLElement)(t)?((g=(0,o.default)(t,!0)).x+=t.clientLeft,g.y+=t.clientTop):m&&(g.x=(0,a.default)(m))),{x:p.left+f.scrollLeft-g.x,y:p.top+f.scrollTop-g.y,width:p.width,height:p.height}}},"./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getWindow.js");function r(e){return(0,o.default)(e).getComputedStyle(e)}},"./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");function r(e){return(((0,o.isElement)(e)?e.ownerDocument:e.document)||window.document).documentElement}},"./node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js"),a=n("./node_modules/@popperjs/core/lib/utils/math.js");function l(e){var t,n=(0,o.default)(e),l=(0,s.default)(e),c=null==(t=e.ownerDocument)?void 0:t.body,d=(0,a.max)(n.scrollWidth,n.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),u=(0,a.max)(n.scrollHeight,n.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),h=-l.scrollLeft+(0,i.default)(e),m=-l.scrollTop;return"rtl"===(0,r.default)(c||n).direction&&(h+=(0,a.max)(n.clientWidth,c?c.clientWidth:0)-d),{width:d,height:u,x:h,y:m}}},"./node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js":(e,t,n)=>{"use strict";function o(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}n.r(t),n.d(t,{default:()=>o})},"./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js");function r(e){var t=(0,o.default)(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}},"./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js":(e,t,n)=>{"use strict";function o(e){return e?(e.nodeName||"").toLowerCase():null}n.r(t),n.d(t,{default:()=>o})},"./node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getWindow.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js");function a(e){return e!==(0,r.default)(e)&&(0,i.isHTMLElement)(e)?(0,s.default)(e):(0,o.default)(e)}},"./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getWindow.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js"),a=n("./node_modules/@popperjs/core/lib/dom-utils/isTableElement.js"),l=n("./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js"),c=n("./node_modules/@popperjs/core/lib/utils/userAgent.js");function d(e){return(0,s.isHTMLElement)(e)&&"fixed"!==(0,i.default)(e).position?e.offsetParent:null}function u(e){for(var t=(0,o.default)(e),n=d(e);n&&(0,a.default)(n)&&"static"===(0,i.default)(n).position;)n=d(n);return n&&("html"===(0,r.default)(n)||"body"===(0,r.default)(n)&&"static"===(0,i.default)(n).position)?t:n||function(e){var t=/firefox/i.test((0,c.default)());if(/Trident/i.test((0,c.default)())&&(0,s.isHTMLElement)(e)&&"fixed"===(0,i.default)(e).position)return null;var n=(0,l.default)(e);for((0,s.isShadowRoot)(n)&&(n=n.host);(0,s.isHTMLElement)(n)&&["html","body"].indexOf((0,r.default)(n))<0;){var o=(0,i.default)(n);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return n;n=n.parentNode}return null}(e)||t}},"./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");function s(e){return"html"===(0,o.default)(e)?e:e.assignedSlot||e.parentNode||((0,i.isShadowRoot)(e)?e.host:null)||(0,r.default)(e)}},"./node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");function a(e){return["html","body","#document"].indexOf((0,i.default)(e))>=0?e.ownerDocument.body:(0,s.isHTMLElement)(e)&&(0,r.default)(e)?e:a((0,o.default)(e))}},"./node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getWindow.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js");function a(e,t){var n=(0,o.default)(e),a=(0,r.default)(e),l=n.visualViewport,c=a.clientWidth,d=a.clientHeight,u=0,h=0;if(l){c=l.width,d=l.height;var m=(0,s.default)();(m||!m&&"fixed"===t)&&(u=l.offsetLeft,h=l.offsetTop)}return{width:c,height:d,x:u+(0,i.default)(e),y:h}}},"./node_modules/@popperjs/core/lib/dom-utils/getWindow.js":(e,t,n)=>{"use strict";function o(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}n.r(t),n.d(t,{default:()=>o})},"./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getWindow.js");function r(e){var t=(0,o.default)(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}},"./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js");function s(e){return(0,o.default)((0,r.default)(e)).left+(0,i.default)(e).scrollLeft}},"./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{isElement:()=>r,isHTMLElement:()=>i,isShadowRoot:()=>s});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getWindow.js");function r(e){return e instanceof(0,o.default)(e).Element||e instanceof Element}function i(e){return e instanceof(0,o.default)(e).HTMLElement||e instanceof HTMLElement}function s(e){return"undefined"!=typeof ShadowRoot&&(e instanceof(0,o.default)(e).ShadowRoot||e instanceof ShadowRoot)}},"./node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n("./node_modules/@popperjs/core/lib/utils/userAgent.js");function r(){return!/^((?!chrome|android).)*safari/i.test((0,o.default)())}},"./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js");function r(e){var t=(0,o.default)(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}},"./node_modules/@popperjs/core/lib/dom-utils/isTableElement.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js");function r(e){return["table","td","th"].indexOf((0,o.default)(e))>=0}},"./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getWindow.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js");function a(e,t){var n;void 0===t&&(t=[]);var l=(0,o.default)(e),c=l===(null==(n=e.ownerDocument)?void 0:n.body),d=(0,i.default)(l),u=c?[d].concat(d.visualViewport||[],(0,s.default)(l)?l:[]):l,h=t.concat(u);return c?h:h.concat(a((0,r.default)(u)))}},"./node_modules/@popperjs/core/lib/enums.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{afterMain:()=>_,afterRead:()=>y,afterWrite:()=>j,auto:()=>a,basePlacements:()=>l,beforeMain:()=>w,beforeRead:()=>v,beforeWrite:()=>S,bottom:()=>r,clippingParents:()=>u,end:()=>d,left:()=>s,main:()=>x,modifierPhases:()=>k,placements:()=>g,popper:()=>m,read:()=>b,reference:()=>p,right:()=>i,start:()=>c,top:()=>o,variationPlacements:()=>f,viewport:()=>h,write:()=>C});var o="top",r="bottom",i="right",s="left",a="auto",l=[o,r,i,s],c="start",d="end",u="clippingParents",h="viewport",m="popper",p="reference",f=l.reduce((function(e,t){return e.concat([t+"-"+c,t+"-"+d])}),[]),g=[].concat(l,[a]).reduce((function(e,t){return e.concat([t,t+"-"+c,t+"-"+d])}),[]),v="beforeRead",b="read",y="afterRead",w="beforeMain",x="main",_="afterMain",S="beforeWrite",C="write",j="afterWrite",k=[v,b,y,w,x,_,S,C,j]},"./node_modules/@popperjs/core/lib/modifiers/applyStyles.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");const i={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},s=t.elements[e];(0,r.isHTMLElement)(s)&&(0,o.default)(s)&&(Object.assign(s.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],s=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});(0,r.isHTMLElement)(i)&&(0,o.default)(i)&&(Object.assign(i.style,a),Object.keys(s).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]}},"./node_modules/@popperjs/core/lib/modifiers/arrow.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var o=n("./node_modules/@popperjs/core/lib/utils/getBasePlacement.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/contains.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js"),a=n("./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js"),l=n("./node_modules/@popperjs/core/lib/utils/within.js"),c=n("./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js"),d=n("./node_modules/@popperjs/core/lib/utils/expandToHashMap.js"),u=n("./node_modules/@popperjs/core/lib/enums.js"),h=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js");const m={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,h=e.options,m=n.elements.arrow,p=n.modifiersData.popperOffsets,f=(0,o.default)(n.placement),g=(0,a.default)(f),v=[u.left,u.right].indexOf(f)>=0?"height":"width";if(m&&p){var b=function(e,t){return e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,(0,c.default)("number"!=typeof e?e:(0,d.default)(e,u.basePlacements))}(h.padding,n),y=(0,r.default)(m),w="y"===g?u.top:u.left,x="y"===g?u.bottom:u.right,_=n.rects.reference[v]+n.rects.reference[g]-p[g]-n.rects.popper[v],S=p[g]-n.rects.reference[g],C=(0,s.default)(m),j=C?"y"===g?C.clientHeight||0:C.clientWidth||0:0,k=_/2-S/2,E=b[w],O=j-y[v]-b[x],A=j/2-y[v]/2+k,T=(0,l.within)(E,A,O),D=g;n.modifiersData[i]=((t={})[D]=T,t.centerOffset=T-A,t)}},effect:function(e){var t=e.state,n=e.options.element,o=void 0===n?"[data-popper-arrow]":n;null!=o&&("string"!=typeof o||(o=t.elements.popper.querySelector(o)))&&((0,h.isHTMLElement)(o)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" ")),(0,i.default)(t.elements.popper,o)?t.elements.arrow=o:console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" ")))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}},"./node_modules/@popperjs/core/lib/modifiers/computeStyles.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m,mapToStyles:()=>h});var o=n("./node_modules/@popperjs/core/lib/enums.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getWindow.js"),s=n("./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js"),a=n("./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js"),l=n("./node_modules/@popperjs/core/lib/utils/getBasePlacement.js"),c=n("./node_modules/@popperjs/core/lib/utils/getVariation.js"),d=n("./node_modules/@popperjs/core/lib/utils/math.js"),u={top:"auto",right:"auto",bottom:"auto",left:"auto"};function h(e){var t,n=e.popper,l=e.popperRect,c=e.placement,h=e.variation,m=e.offsets,p=e.position,f=e.gpuAcceleration,g=e.adaptive,v=e.roundOffsets,b=e.isFixed,y=m.x,w=void 0===y?0:y,x=m.y,_=void 0===x?0:x,S="function"==typeof v?v({x:w,y:_}):{x:w,y:_};w=S.x,_=S.y;var C=m.hasOwnProperty("x"),j=m.hasOwnProperty("y"),k=o.left,E=o.top,O=window;if(g){var A=(0,r.default)(n),T="clientHeight",D="clientWidth";if(A===(0,i.default)(n)&&(A=(0,s.default)(n),"static"!==(0,a.default)(A).position&&"absolute"===p&&(T="scrollHeight",D="scrollWidth")),c===o.top||(c===o.left||c===o.right)&&h===o.end)E=o.bottom,_-=(b&&A===O&&O.visualViewport?O.visualViewport.height:A[T])-l.height,_*=f?1:-1;if(c===o.left||(c===o.top||c===o.bottom)&&h===o.end)k=o.right,w-=(b&&A===O&&O.visualViewport?O.visualViewport.width:A[D])-l.width,w*=f?1:-1}var M,P=Object.assign({position:p},g&&u),R=!0===v?function(e,t){var n=e.x,o=e.y,r=t.devicePixelRatio||1;return{x:(0,d.round)(n*r)/r||0,y:(0,d.round)(o*r)/r||0}}({x:w,y:_},(0,i.default)(n)):{x:w,y:_};return w=R.x,_=R.y,f?Object.assign({},P,((M={})[E]=j?"0":"",M[k]=C?"0":"",M.transform=(O.devicePixelRatio||1)<=1?"translate("+w+"px, "+_+"px)":"translate3d("+w+"px, "+_+"px, 0)",M)):Object.assign({},P,((t={})[E]=j?_+"px":"",t[k]=C?w+"px":"",t.transform="",t))}const m={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,o=n.gpuAcceleration,r=void 0===o||o,i=n.adaptive,s=void 0===i||i,d=n.roundOffsets,u=void 0===d||d,m=(0,a.default)(t.elements.popper).transitionProperty||"";s&&["transform","top","right","bottom","left"].some((function(e){return m.indexOf(e)>=0}))&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',"\n\n",'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.","\n\n","We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "));var p={placement:(0,l.default)(t.placement),variation:(0,c.default)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,h(Object.assign({},p,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,h(Object.assign({},p,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}}},"./node_modules/@popperjs/core/lib/modifiers/eventListeners.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getWindow.js"),r={passive:!0};const i={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,s=i.scroll,a=void 0===s||s,l=i.resize,c=void 0===l||l,d=(0,o.default)(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",n.update,r)})),c&&d.addEventListener("resize",n.update,r),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",n.update,r)})),c&&d.removeEventListener("resize",n.update,r)}},data:{}}},"./node_modules/@popperjs/core/lib/modifiers/flip.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var o=n("./node_modules/@popperjs/core/lib/utils/getOppositePlacement.js"),r=n("./node_modules/@popperjs/core/lib/utils/getBasePlacement.js"),i=n("./node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js"),s=n("./node_modules/@popperjs/core/lib/utils/detectOverflow.js"),a=n("./node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js"),l=n("./node_modules/@popperjs/core/lib/enums.js"),c=n("./node_modules/@popperjs/core/lib/utils/getVariation.js");const d={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,d=e.name;if(!t.modifiersData[d]._skip){for(var u=n.mainAxis,h=void 0===u||u,m=n.altAxis,p=void 0===m||m,f=n.fallbackPlacements,g=n.padding,v=n.boundary,b=n.rootBoundary,y=n.altBoundary,w=n.flipVariations,x=void 0===w||w,_=n.allowedAutoPlacements,S=t.options.placement,C=(0,r.default)(S),j=f||(C===S||!x?[(0,o.default)(S)]:function(e){if((0,r.default)(e)===l.auto)return[];var t=(0,o.default)(e);return[(0,i.default)(e),t,(0,i.default)(t)]}(S)),k=[S].concat(j).reduce((function(e,n){return e.concat((0,r.default)(n)===l.auto?(0,a.default)(t,{placement:n,boundary:v,rootBoundary:b,padding:g,flipVariations:x,allowedAutoPlacements:_}):n)}),[]),E=t.rects.reference,O=t.rects.popper,A=new Map,T=!0,D=k[0],M=0;M<k.length;M++){var P=k[M],R=(0,r.default)(P),N=(0,c.default)(P)===l.start,L=[l.top,l.bottom].indexOf(R)>=0,I=L?"width":"height",B=(0,s.default)(t,{placement:P,boundary:v,rootBoundary:b,altBoundary:y,padding:g}),F=L?N?l.right:l.left:N?l.bottom:l.top;E[I]>O[I]&&(F=(0,o.default)(F));var H=(0,o.default)(F),V=[];if(h&&V.push(B[R]<=0),p&&V.push(B[F]<=0,B[H]<=0),V.every((function(e){return e}))){D=P,T=!1;break}A.set(P,V)}if(T)for(var z=function(e){var t=k.find((function(t){var n=A.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return D=t,"break"},U=x?3:1;U>0;U--){if("break"===z(U))break}t.placement!==D&&(t.modifiersData[d]._skip=!0,t.placement=D,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}}},"./node_modules/@popperjs/core/lib/modifiers/hide.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var o=n("./node_modules/@popperjs/core/lib/enums.js"),r=n("./node_modules/@popperjs/core/lib/utils/detectOverflow.js");function i(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function s(e){return[o.top,o.right,o.bottom,o.left].some((function(t){return e[t]>=0}))}const a={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,o=t.rects.reference,a=t.rects.popper,l=t.modifiersData.preventOverflow,c=(0,r.default)(t,{elementContext:"reference"}),d=(0,r.default)(t,{altBoundary:!0}),u=i(c,o),h=i(d,a,l),m=s(u),p=s(h);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:h,isReferenceHidden:m,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":p})}}},"./node_modules/@popperjs/core/lib/modifiers/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{applyStyles:()=>o.default,arrow:()=>r.default,computeStyles:()=>i.default,eventListeners:()=>s.default,flip:()=>a.default,hide:()=>l.default,offset:()=>c.default,popperOffsets:()=>d.default,preventOverflow:()=>u.default});var o=n("./node_modules/@popperjs/core/lib/modifiers/applyStyles.js"),r=n("./node_modules/@popperjs/core/lib/modifiers/arrow.js"),i=n("./node_modules/@popperjs/core/lib/modifiers/computeStyles.js"),s=n("./node_modules/@popperjs/core/lib/modifiers/eventListeners.js"),a=n("./node_modules/@popperjs/core/lib/modifiers/flip.js"),l=n("./node_modules/@popperjs/core/lib/modifiers/hide.js"),c=n("./node_modules/@popperjs/core/lib/modifiers/offset.js"),d=n("./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js"),u=n("./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js")},"./node_modules/@popperjs/core/lib/modifiers/offset.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,distanceAndSkiddingToXY:()=>i});var o=n("./node_modules/@popperjs/core/lib/utils/getBasePlacement.js"),r=n("./node_modules/@popperjs/core/lib/enums.js");function i(e,t,n){var i=(0,o.default)(e),s=[r.left,r.top].indexOf(i)>=0?-1:1,a="function"==typeof n?n(Object.assign({},t,{placement:e})):n,l=a[0],c=a[1];return l=l||0,c=(c||0)*s,[r.left,r.right].indexOf(i)>=0?{x:c,y:l}:{x:l,y:c}}const s={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,o=e.name,s=n.offset,a=void 0===s?[0,0]:s,l=r.placements.reduce((function(e,n){return e[n]=i(n,t.rects,a),e}),{}),c=l[t.placement],d=c.x,u=c.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=u),t.modifiersData[o]=l}}},"./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n("./node_modules/@popperjs/core/lib/utils/computeOffsets.js");const r={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=(0,o.default)({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}}},"./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var o=n("./node_modules/@popperjs/core/lib/enums.js"),r=n("./node_modules/@popperjs/core/lib/utils/getBasePlacement.js"),i=n("./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js"),s=n("./node_modules/@popperjs/core/lib/utils/getAltAxis.js"),a=n("./node_modules/@popperjs/core/lib/utils/within.js"),l=n("./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js"),c=n("./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js"),d=n("./node_modules/@popperjs/core/lib/utils/detectOverflow.js"),u=n("./node_modules/@popperjs/core/lib/utils/getVariation.js"),h=n("./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js"),m=n("./node_modules/@popperjs/core/lib/utils/math.js");const p={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,p=e.name,f=n.mainAxis,g=void 0===f||f,v=n.altAxis,b=void 0!==v&&v,y=n.boundary,w=n.rootBoundary,x=n.altBoundary,_=n.padding,S=n.tether,C=void 0===S||S,j=n.tetherOffset,k=void 0===j?0:j,E=(0,d.default)(t,{boundary:y,rootBoundary:w,padding:_,altBoundary:x}),O=(0,r.default)(t.placement),A=(0,u.default)(t.placement),T=!A,D=(0,i.default)(O),M=(0,s.default)(D),P=t.modifiersData.popperOffsets,R=t.rects.reference,N=t.rects.popper,L="function"==typeof k?k(Object.assign({},t.rects,{placement:t.placement})):k,I="number"==typeof L?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),B=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(P){if(g){var H,V="y"===D?o.top:o.left,z="y"===D?o.bottom:o.right,U="y"===D?"height":"width",W=P[D],q=W+E[V],Z=W-E[z],G=C?-N[U]/2:0,$=A===o.start?R[U]:N[U],Y=A===o.start?-N[U]:-R[U],K=t.elements.arrow,X=C&&K?(0,l.default)(K):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:(0,h.default)(),J=Q[V],ee=Q[z],te=(0,a.within)(0,R[U],X[U]),ne=T?R[U]/2-G-te-J-I.mainAxis:$-te-J-I.mainAxis,oe=T?-R[U]/2+G+te+ee+I.mainAxis:Y+te+ee+I.mainAxis,re=t.elements.arrow&&(0,c.default)(t.elements.arrow),ie=re?"y"===D?re.clientTop||0:re.clientLeft||0:0,se=null!=(H=null==B?void 0:B[D])?H:0,ae=W+ne-se-ie,le=W+oe-se,ce=(0,a.within)(C?(0,m.min)(q,ae):q,W,C?(0,m.max)(Z,le):Z);P[D]=ce,F[D]=ce-W}if(b){var de,ue="x"===D?o.top:o.left,he="x"===D?o.bottom:o.right,me=P[M],pe="y"===M?"height":"width",fe=me+E[ue],ge=me-E[he],ve=-1!==[o.top,o.left].indexOf(O),be=null!=(de=null==B?void 0:B[M])?de:0,ye=ve?fe:me-R[pe]-N[pe]-be+I.altAxis,we=ve?me+R[pe]+N[pe]-be-I.altAxis:ge,xe=C&&ve?(0,a.withinMaxClamp)(ye,me,we):(0,a.within)(C?ye:fe,me,C?we:ge);P[M]=xe,F[M]=xe-me}t.modifiersData[p]=F}},requiresIfExists:["offset"]}},"./node_modules/@popperjs/core/lib/popper-lite.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{createPopper:()=>d,defaultModifiers:()=>c,detectOverflow:()=>r.default,popperGenerator:()=>o.popperGenerator});var o=n("./node_modules/@popperjs/core/lib/createPopper.js"),r=n("./node_modules/@popperjs/core/lib/utils/detectOverflow.js"),i=n("./node_modules/@popperjs/core/lib/modifiers/eventListeners.js"),s=n("./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js"),a=n("./node_modules/@popperjs/core/lib/modifiers/computeStyles.js"),l=n("./node_modules/@popperjs/core/lib/modifiers/applyStyles.js"),c=[i.default,s.default,a.default,l.default],d=(0,o.popperGenerator)({defaultModifiers:c})},"./node_modules/@popperjs/core/lib/popper.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{applyStyles:()=>f.applyStyles,arrow:()=>f.arrow,computeStyles:()=>f.computeStyles,createPopper:()=>v,createPopperLite:()=>p.createPopper,defaultModifiers:()=>g,detectOverflow:()=>r.default,eventListeners:()=>f.eventListeners,flip:()=>f.flip,hide:()=>f.hide,offset:()=>f.offset,popperGenerator:()=>o.popperGenerator,popperOffsets:()=>f.popperOffsets,preventOverflow:()=>f.preventOverflow});var o=n("./node_modules/@popperjs/core/lib/createPopper.js"),r=n("./node_modules/@popperjs/core/lib/utils/detectOverflow.js"),i=n("./node_modules/@popperjs/core/lib/modifiers/eventListeners.js"),s=n("./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js"),a=n("./node_modules/@popperjs/core/lib/modifiers/computeStyles.js"),l=n("./node_modules/@popperjs/core/lib/modifiers/applyStyles.js"),c=n("./node_modules/@popperjs/core/lib/modifiers/offset.js"),d=n("./node_modules/@popperjs/core/lib/modifiers/flip.js"),u=n("./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js"),h=n("./node_modules/@popperjs/core/lib/modifiers/arrow.js"),m=n("./node_modules/@popperjs/core/lib/modifiers/hide.js"),p=n("./node_modules/@popperjs/core/lib/popper-lite.js"),f=n("./node_modules/@popperjs/core/lib/modifiers/index.js"),g=[i.default,s.default,a.default,l.default,c.default,d.default,u.default,h.default,m.default],v=(0,o.popperGenerator)({defaultModifiers:g})},"./node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var o=n("./node_modules/@popperjs/core/lib/utils/getVariation.js"),r=n("./node_modules/@popperjs/core/lib/enums.js"),i=n("./node_modules/@popperjs/core/lib/utils/detectOverflow.js"),s=n("./node_modules/@popperjs/core/lib/utils/getBasePlacement.js");function a(e,t){void 0===t&&(t={});var n=t,a=n.placement,l=n.boundary,c=n.rootBoundary,d=n.padding,u=n.flipVariations,h=n.allowedAutoPlacements,m=void 0===h?r.placements:h,p=(0,o.default)(a),f=p?u?r.variationPlacements:r.variationPlacements.filter((function(e){return(0,o.default)(e)===p})):r.basePlacements,g=f.filter((function(e){return m.indexOf(e)>=0}));0===g.length&&(g=f,console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")));var v=g.reduce((function(t,n){return t[n]=(0,i.default)(e,{placement:n,boundary:l,rootBoundary:c,padding:d})[(0,s.default)(n)],t}),{});return Object.keys(v).sort((function(e,t){return v[e]-v[t]}))}},"./node_modules/@popperjs/core/lib/utils/computeOffsets.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var o=n("./node_modules/@popperjs/core/lib/utils/getBasePlacement.js"),r=n("./node_modules/@popperjs/core/lib/utils/getVariation.js"),i=n("./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js"),s=n("./node_modules/@popperjs/core/lib/enums.js");function a(e){var t,n=e.reference,a=e.element,l=e.placement,c=l?(0,o.default)(l):null,d=l?(0,r.default)(l):null,u=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2;switch(c){case s.top:t={x:u,y:n.y-a.height};break;case s.bottom:t={x:u,y:n.y+n.height};break;case s.right:t={x:n.x+n.width,y:h};break;case s.left:t={x:n.x-a.width,y:h};break;default:t={x:n.x,y:n.y}}var m=c?(0,i.default)(c):null;if(null!=m){var p="y"===m?"height":"width";switch(d){case s.start:t[m]=t[m]-(n[p]/2-a[p]/2);break;case s.end:t[m]=t[m]+(n[p]/2-a[p]/2)}}return t}},"./node_modules/@popperjs/core/lib/utils/debounce.js":(e,t,n)=>{"use strict";function o(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}n.r(t),n.d(t,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/detectOverflow.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var o=n("./node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js"),r=n("./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js"),i=n("./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js"),s=n("./node_modules/@popperjs/core/lib/utils/computeOffsets.js"),a=n("./node_modules/@popperjs/core/lib/utils/rectToClientRect.js"),l=n("./node_modules/@popperjs/core/lib/enums.js"),c=n("./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js"),d=n("./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js"),u=n("./node_modules/@popperjs/core/lib/utils/expandToHashMap.js");function h(e,t){void 0===t&&(t={});var n=t,h=n.placement,m=void 0===h?e.placement:h,p=n.strategy,f=void 0===p?e.strategy:p,g=n.boundary,v=void 0===g?l.clippingParents:g,b=n.rootBoundary,y=void 0===b?l.viewport:b,w=n.elementContext,x=void 0===w?l.popper:w,_=n.altBoundary,S=void 0!==_&&_,C=n.padding,j=void 0===C?0:C,k=(0,d.default)("number"!=typeof j?j:(0,u.default)(j,l.basePlacements)),E=x===l.popper?l.reference:l.popper,O=e.rects.popper,A=e.elements[S?E:x],T=(0,o.default)((0,c.isElement)(A)?A:A.contextElement||(0,r.default)(e.elements.popper),v,y,f),D=(0,i.default)(e.elements.reference),M=(0,s.default)({reference:D,element:O,strategy:"absolute",placement:m}),P=(0,a.default)(Object.assign({},O,M)),R=x===l.popper?P:D,N={top:T.top-R.top+k.top,bottom:R.bottom-T.bottom+k.bottom,left:T.left-R.left+k.left,right:R.right-T.right+k.right},L=e.modifiersData.offset;if(x===l.popper&&L){var I=L[m];Object.keys(N).forEach((function(e){var t=[l.right,l.bottom].indexOf(e)>=0?1:-1,n=[l.top,l.bottom].indexOf(e)>=0?"y":"x";N[e]+=I[n]*t}))}return N}},"./node_modules/@popperjs/core/lib/utils/expandToHashMap.js":(e,t,n)=>{"use strict";function o(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}n.r(t),n.d(t,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/format.js":(e,t,n)=>{"use strict";function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return[].concat(n).reduce((function(e,t){return e.replace(/%s/,t)}),e)}n.r(t),n.d(t,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/getAltAxis.js":(e,t,n)=>{"use strict";function o(e){return"x"===e?"y":"x"}n.r(t),n.d(t,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/getBasePlacement.js":(e,t,n)=>{"use strict";function o(e){return e.split("-")[0]}n.r(t),n.d(t,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js":(e,t,n)=>{"use strict";function o(){return{top:0,right:0,bottom:0,left:0}}n.r(t),n.d(t,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js":(e,t,n)=>{"use strict";function o(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}n.r(t),n.d(t,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/getOppositePlacement.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o={left:"right",right:"left",bottom:"top",top:"bottom"};function r(e){return e.replace(/left|right|bottom|top/g,(function(e){return o[e]}))}},"./node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o={start:"end",end:"start"};function r(e){return e.replace(/start|end/g,(function(e){return o[e]}))}},"./node_modules/@popperjs/core/lib/utils/getVariation.js":(e,t,n)=>{"use strict";function o(e){return e.split("-")[1]}n.r(t),n.d(t,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/math.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{max:()=>o,min:()=>r,round:()=>i});var o=Math.max,r=Math.min,i=Math.round},"./node_modules/@popperjs/core/lib/utils/mergeByName.js":(e,t,n)=>{"use strict";function o(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}n.r(t),n.d(t,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n("./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js");function r(e){return Object.assign({},(0,o.default)(),e)}},"./node_modules/@popperjs/core/lib/utils/orderModifiers.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n("./node_modules/@popperjs/core/lib/enums.js");function r(e){var t=new Map,n=new Set,o=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var o=t.get(e);o&&r(o)}})),o.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),o}function i(e){var t=r(e);return o.modifierPhases.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}},"./node_modules/@popperjs/core/lib/utils/rectToClientRect.js":(e,t,n)=>{"use strict";function o(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}n.r(t),n.d(t,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/uniqueBy.js":(e,t,n)=>{"use strict";function o(e,t){var n=new Set;return e.filter((function(e){var o=t(e);if(!n.has(o))return n.add(o),!0}))}n.r(t),n.d(t,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/userAgent.js":(e,t,n)=>{"use strict";function o(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}n.r(t),n.d(t,{default:()=>o})},"./node_modules/@popperjs/core/lib/utils/validateModifiers.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var o=n("./node_modules/@popperjs/core/lib/utils/format.js"),r=n("./node_modules/@popperjs/core/lib/enums.js"),i='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',s='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',a=["name","enabled","phase","fn","effect","requires","options"];function l(e){e.forEach((function(t){[].concat(Object.keys(t),a).filter((function(e,t,n){return n.indexOf(e)===t})).forEach((function(n){switch(n){case"name":"string"!=typeof t.name&&console.error((0,o.default)(i,String(t.name),'"name"','"string"','"'+String(t.name)+'"'));break;case"enabled":"boolean"!=typeof t.enabled&&console.error((0,o.default)(i,t.name,'"enabled"','"boolean"','"'+String(t.enabled)+'"'));break;case"phase":r.modifierPhases.indexOf(t.phase)<0&&console.error((0,o.default)(i,t.name,'"phase"',"either "+r.modifierPhases.join(", "),'"'+String(t.phase)+'"'));break;case"fn":"function"!=typeof t.fn&&console.error((0,o.default)(i,t.name,'"fn"','"function"','"'+String(t.fn)+'"'));break;case"effect":null!=t.effect&&"function"!=typeof t.effect&&console.error((0,o.default)(i,t.name,'"effect"','"function"','"'+String(t.fn)+'"'));break;case"requires":null==t.requires||Array.isArray(t.requires)||console.error((0,o.default)(i,t.name,'"requires"','"array"','"'+String(t.requires)+'"'));break;case"requiresIfExists":Array.isArray(t.requiresIfExists)||console.error((0,o.default)(i,t.name,'"requiresIfExists"','"array"','"'+String(t.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+t.name+'" modifier, valid properties are '+a.map((function(e){return'"'+e+'"'})).join(", ")+'; but "'+n+'" was provided.')}t.requires&&t.requires.forEach((function(n){null==e.find((function(e){return e.name===n}))&&console.error((0,o.default)(s,String(t.name),n,n))}))}))}))}},"./node_modules/@popperjs/core/lib/utils/within.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{within:()=>r,withinMaxClamp:()=>i});var o=n("./node_modules/@popperjs/core/lib/utils/math.js");function r(e,t,n){return(0,o.max)(e,(0,o.min)(t,n))}function i(e,t,n){var o=r(e,t,n);return o>n?n:o}},"./node_modules/@tarekraafat/autocomplete.js/dist/autoComplete.js":function(e){e.exports=function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){return i(e)||s(e)||a(e)||c()}function i(e){if(Array.isArray(e))return l(e)}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}var u=function(e){return"string"==typeof e?document.querySelector(e):e()},h=function(e,t){var n="string"==typeof e?document.createElement(e):e;for(var o in t){var r=t[o];if("inside"===o)r.append(n);else if("dest"===o)u(r[0]).insertAdjacentElement(r[1],n);else if("around"===o){var i=r;i.parentNode.insertBefore(n,i),n.append(i),null!=i.getAttribute("autofocus")&&i.focus()}else o in n?n[o]=r:n.setAttribute(o,r)}return n},m=function(e){return e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement?e.value:e.innerHTML},p=function(e,t){return e=String(e).toLowerCase(),t?e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC"):e},f=function(e,t){var n;return function(){clearTimeout(n),n=setTimeout((function(){return e()}),t)}},g=function(e,t,n){return t?t(e):e.length>=n},v=function(e,n){return h("mark",t({innerHTML:e},"string"==typeof n&&{class:n})).outerHTML},b=function(e){var t=e.name,o=e.options,r=e.resultsList,i=e.resultItem;for(var s in o)if("object"===n(o[s]))for(var a in e[s]||(e[s]={}),o[s])e[s][a]=o[s][a];else e[s]=o[s];e.selector=e.selector||"#"+t,r.destination=r.destination||e.selector,r.id=r.id||t+"_list_"+e.id,i.id=i.id||t+"_result",e.input=u(e.selector)},y=function(e,t){t.input.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:t.feedback,cancelable:!0}))},w=function(e,t,n){var o=n||{},r=o.mode,i=o.diacritics,s=o.highlight,a=p(t,i);if(t=String(t),e=p(e,i),"loose"===r){var l=(e=e.replace(/ /g,"")).length,c=0,d=Array.from(t).map((function(t,n){return c<l&&a[n]===e[c]&&(t=s?v(t,s):t,c++),t})).join("");if(c===l)return d}else{var u=a.indexOf(e);if(~u)return e=t.substring(u,u+e.length),u=s?t.replace(e,v(e,s)):t}},x=function(e,t){return new Promise((function(n,o){var r;return(r=e.data).cache&&r.store?n():new Promise((function(e,n){return"function"==typeof r.src?r.src(t).then(e,n):e(r.src)})).then((function(t){try{return e.feedback=r.store=t,y("response",e),n()}catch(e){return o(e)}}),o)}))},_=function(e,t){var n=t.data,o=t.searchEngine,r=[];n.store.forEach((function(i,s){var a=function(n){var s=n?i[n]:i,a="function"==typeof o?o(e,s):w(e,s,{mode:o,diacritics:t.diacritics,highlight:t.resultItem.highlight});if(a){var l={match:a,value:i};n&&(l.key=n),r.push(l)}};if(n.keys){var l,c=d(n.keys);try{for(c.s();!(l=c.n()).done;)a(l.value)}catch(e){c.e(e)}finally{c.f()}}else a()})),n.filter&&(r=n.filter(r));var i=r.slice(0,t.resultsList.maxResults);t.feedback={query:e,matches:r,results:i},y("results",t)},S="aria-expanded",C="aria-activedescendant",j="aria-selected",k=function(e,n){e.feedback.selection=t({index:n},e.feedback.results[n])},E=function(e){var n=e.resultsList,o=e.list,r=e.resultItem,i=e.feedback,s=i.matches,a=i.results;if(e.cursor=-1,o.innerHTML="",s.length||n.noResults){var l=new DocumentFragment;a.forEach((function(e,n){var o=h(r.tag,t({id:"".concat(r.id,"_").concat(n),role:"option",innerHTML:e.match,inside:l},r.class&&{class:r.class}));r.element&&r.element(o,e)})),o.append(l),n.element&&n.element(o,i),O(e)}else A(e)},O=function(e){e.isOpen||((e.wrapper||e.input).setAttribute(S,!0),e.list.removeAttribute("hidden"),e.isOpen=!0,y("open",e))},A=function(e){e.isOpen&&((e.wrapper||e.input).setAttribute(S,!1),e.input.setAttribute(C,""),e.list.setAttribute("hidden",""),e.isOpen=!1,y("close",e))},T=function(e,t){var n=t.resultItem,o=t.list.getElementsByTagName(n.tag),i=!!n.selected&&n.selected.split(" ");if(t.isOpen&&o.length){var s,a,l=t.cursor;e>=o.length&&(e=0),e<0&&(e=o.length-1),t.cursor=e,l>-1&&(o[l].removeAttribute(j),i&&(a=o[l].classList).remove.apply(a,r(i))),o[e].setAttribute(j,!0),i&&(s=o[e].classList).add.apply(s,r(i)),t.input.setAttribute(C,o[t.cursor].id),t.list.scrollTop=o[e].offsetTop-t.list.clientHeight+o[e].clientHeight+5,t.feedback.cursor=t.cursor,k(t,e),y("navigate",t)}},D=function(e){T(e.cursor+1,e)},M=function(e){T(e.cursor-1,e)},P=function(e,t,n){(n=n>=0?n:e.cursor)<0||(e.feedback.event=t,k(e,n),y("selection",e),A(e))},R=function(e,t){var n=t.resultItem.tag.toUpperCase(),o=Array.from(t.list.querySelectorAll(n)),r=e.target.closest(n);r&&r.nodeName===n&&P(t,e,o.indexOf(r))},N=function(e,t){switch(e.keyCode){case 40:case 38:e.preventDefault(),40===e.keyCode?D(t):M(t);break;case 13:t.submit||e.preventDefault(),t.cursor>=0&&P(t,e);break;case 9:t.resultsList.tabSelect&&t.cursor>=0&&P(t,e);break;case 27:t.input.value="",A(t)}};function L(e,t){var n=this;return new Promise((function(o,r){var i;return i=t||m(e.input),i=e.query?e.query(i):i,g(i,e.trigger,e.threshold)?x(e,i).then((function(t){try{return e.feedback instanceof Error?o():(_(i,e),e.resultsList&&E(e),s.call(n))}catch(e){return r(e)}}),r):(A(e),s.call(n));function s(){return o()}}))}var I=function(e,t){for(var n in e)for(var o in e[n])t(n,o)},B=function(e){var n=e.events,o=f((function(){return L(e)}),e.debounce),r=e.events=t({input:t({},n&&n.input)},e.resultsList&&{list:n?t({},n.list):{}}),i={input:{input:function(){o()},keydown:function(t){N(t,e)},blur:function(){A(e)}},list:{mousedown:function(e){e.preventDefault()},click:function(t){R(t,e)}}};I(i,(function(t,n){(e.resultsList||"input"===n)&&(r[t][n]||(r[t][n]=i[t][n]))})),I(r,(function(t,n){e[t].addEventListener(n,r[t][n])}))},F=function(e){I(e.events,(function(t,n){e[t].removeEventListener(n,e.events[t][n])}))};function H(e){var n=this;return new Promise((function(o,r){var i,s,a;if(i=e.placeHolder,a={role:"combobox","aria-owns":(s=e.resultsList).id,"aria-haspopup":!0,"aria-expanded":!1},h(e.input,t(t({"aria-controls":s.id,"aria-autocomplete":"both"},i&&{placeholder:i}),!e.wrapper&&t({},a))),e.wrapper&&(e.wrapper=h("div",t({around:e.input,class:e.name+"_wrapper"},a))),s&&(e.list=h(s.tag,t({dest:[s.destination,s.position],id:s.id,role:"listbox",hidden:"hidden"},s.class&&{class:s.class}))),B(e),e.data.cache)return x(e).then((function(e){try{return l.call(n)}catch(e){return r(e)}}),r);function l(){return y("init",e),o()}return l.call(n)}))}function V(e){var t=e.prototype;t.init=function(){H(this)},t.start=function(e){L(this,e)},t.unInit=function(){if(this.wrapper){var e=this.wrapper.parentNode;e.insertBefore(this.input,this.wrapper),e.removeChild(this.wrapper)}F(this)},t.open=function(){O(this)},t.close=function(){A(this)},t.goTo=function(e){T(e,this)},t.next=function(){D(this)},t.previous=function(){M(this)},t.select=function(e){P(this,null,e)},t.search=function(e,t,n){return w(e,t,n)}}function z(e){this.options=e,this.id=z.instances=(z.instances||0)+1,this.name="autoComplete",this.wrapper=1,this.threshold=1,this.debounce=0,this.resultsList={position:"afterend",tag:"ul",maxResults:5},this.resultItem={tag:"li"},b(this),V.call(this,z),H(this)}return z}()},"./node_modules/autonumeric/dist/autoNumeric.min.js":function(e){var t;t=()=>(()=>{var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>le});var n={allowedTagList:["b","caption","cite","code","const","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","input","ins","kdb","label","li","option","output","p","q","s","sample","span","strong","td","th","u"]};Object.freeze(n.allowedTagList),Object.defineProperty(n,"allowedTagList",{configurable:!1,writable:!1}),n.keyCode={Backspace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,Pause:19,CapsLock:20,Esc:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,Delete:46,num0:48,num1:49,num2:50,num3:51,num4:52,num5:53,num6:54,num7:55,num8:56,num9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,OSLeft:91,OSRight:92,ContextMenu:93,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,MultiplyNumpad:106,PlusNumpad:107,MinusNumpad:109,DotNumpad:110,SlashNumpad:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NumLock:144,ScrollLock:145,HyphenFirefox:173,MyComputer:182,MyCalculator:183,Semicolon:186,Equal:187,Comma:188,Hyphen:189,Dot:190,Slash:191,Backquote:192,LeftBracket:219,Backslash:220,RightBracket:221,Quote:222,Command:224,AltGraph:225,AndroidDefault:229},Object.freeze(n.keyCode),Object.defineProperty(n,"keyCode",{configurable:!1,writable:!1}),n.fromCharCodeKeyCode={0:"LaunchCalculator",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",91:"OS",92:"OSRight",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",173:"-",182:"MyComputer",183:"MyCalculator",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Meta",225:"AltGraph"},Object.freeze(n.fromCharCodeKeyCode),Object.defineProperty(n,"fromCharCodeKeyCode",{configurable:!1,writable:!1}),n.keyName={Unidentified:"Unidentified",AndroidDefault:"AndroidDefault",Alt:"Alt",AltGr:"AltGraph",CapsLock:"CapsLock",Ctrl:"Control",Fn:"Fn",FnLock:"FnLock",Hyper:"Hyper",Meta:"Meta",OSLeft:"OS",OSRight:"OS",Command:"OS",NumLock:"NumLock",ScrollLock:"ScrollLock",Shift:"Shift",Super:"Super",Symbol:"Symbol",SymbolLock:"SymbolLock",Enter:"Enter",Tab:"Tab",Space:" ",LeftArrow:"ArrowLeft",UpArrow:"ArrowUp",RightArrow:"ArrowRight",DownArrow:"ArrowDown",End:"End",Home:"Home",PageUp:"PageUp",PageDown:"PageDown",Backspace:"Backspace",Clear:"Clear",Copy:"Copy",CrSel:"CrSel",Cut:"Cut",Delete:"Delete",EraseEof:"EraseEof",ExSel:"ExSel",Insert:"Insert",Paste:"Paste",Redo:"Redo",Undo:"Undo",Accept:"Accept",Again:"Again",Attn:"Attn",Cancel:"Cancel",ContextMenu:"ContextMenu",Esc:"Escape",Execute:"Execute",Find:"Find",Finish:"Finish",Help:"Help",Pause:"Pause",Play:"Play",Props:"Props",Select:"Select",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",BrightnessDown:"BrightnessDown",BrightnessUp:"BrightnessUp",Eject:"Eject",LogOff:"LogOff",Power:"Power",PowerOff:"PowerOff",PrintScreen:"PrintScreen",Hibernate:"Hibernate",Standby:"Standby",WakeUp:"WakeUp",Compose:"Compose",Dead:"Dead",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",Print:"Print",num0:"0",num1:"1",num2:"2",num3:"3",num4:"4",num5:"5",num6:"6",num7:"7",num8:"8",num9:"9",a:"a",b:"b",c:"c",d:"d",e:"e",f:"f",g:"g",h:"h",i:"i",j:"j",k:"k",l:"l",m:"m",n:"n",o:"o",p:"p",q:"q",r:"r",s:"s",t:"t",u:"u",v:"v",w:"w",x:"x",y:"y",z:"z",A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z",Semicolon:";",Equal:"=",Comma:",",Hyphen:"-",Minus:"-",Plus:"+",Dot:".",Slash:"/",Backquote:"`",LeftParenthesis:"(",RightParenthesis:")",LeftBracket:"[",RightBracket:"]",Backslash:"\\",Quote:"'",numpad0:"0",numpad1:"1",numpad2:"2",numpad3:"3",numpad4:"4",numpad5:"5",numpad6:"6",numpad7:"7",numpad8:"8",numpad9:"9",NumpadDot:".",NumpadDotAlt:",",NumpadMultiply:"*",NumpadPlus:"+",NumpadMinus:"-",NumpadSubtract:"-",NumpadSlash:"/",NumpadDotObsoleteBrowsers:"Decimal",NumpadMultiplyObsoleteBrowsers:"Multiply",NumpadPlusObsoleteBrowsers:"Add",NumpadMinusObsoleteBrowsers:"Subtract",NumpadSlashObsoleteBrowsers:"Divide",_allFnKeys:["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"],_someNonPrintableKeys:["Tab","Enter","Shift","ShiftLeft","ShiftRight","Control","ControlLeft","ControlRight","Alt","AltLeft","AltRight","Pause","CapsLock","Escape"],_directionKeys:["PageUp","PageDown","End","Home","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"]},Object.freeze(n.keyName._allFnKeys),Object.freeze(n.keyName._someNonPrintableKeys),Object.freeze(n.keyName._directionKeys),Object.freeze(n.keyName),Object.defineProperty(n,"keyName",{configurable:!1,writable:!1}),Object.freeze(n);const o=n;function r(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i.apply(this,arguments)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,s,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=i.call(n)).done)&&(a.push(o.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==c(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===c(r)?r:String(r)),o)}var r}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"isNull",value:function(e){return null===e}},{key:"isUndefined",value:function(e){return void 0===e}},{key:"isUndefinedOrNullOrEmpty",value:function(e){return null==e||""===e}},{key:"isString",value:function(e){return"string"==typeof e||e instanceof String}},{key:"isEmptyString",value:function(e){return""===e}},{key:"isBoolean",value:function(e){return"boolean"==typeof e}},{key:"isTrueOrFalseString",value:function(e){var t=String(e).toLowerCase();return"true"===t||"false"===t}},{key:"isObject",value:function(e){return"object"===c(e)&&null!==e&&!Array.isArray(e)}},{key:"isEmptyObj",value:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}},{key:"isNumberStrict",value:function(e){return"number"==typeof e}},{key:"isNumber",value:function(e){return!this.isArray(e)&&!isNaN(parseFloat(e))&&isFinite(e)}},{key:"isDigit",value:function(e){return/\d/.test(e)}},{key:"isNumberOrArabic",value:function(e){var t=this.arabicToLatinNumbers(e,!1,!0,!0);return this.isNumber(t)}},{key:"isInt",value:function(e){return"number"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)}},{key:"isFunction",value:function(e){return"function"==typeof e}},{key:"isIE11",value:function(){return"undefined"!=typeof window&&!!window.MSInputMethodContext&&!!document.documentMode}},{key:"contains",value:function(e,t){return!(!this.isString(e)||!this.isString(t)||""===e||""===t)&&-1!==e.indexOf(t)}},{key:"isInArray",value:function(e,t){return!(!this.isArray(t)||t===[]||this.isUndefined(e))&&-1!==t.indexOf(e)}},{key:"isArray",value:function(e){if("[object Array]"===Object.prototype.toString.call([]))return Array.isArray(e)||"object"===c(e)&&"[object Array]"===Object.prototype.toString.call(e);throw new Error("toString message changed for Object Array")}},{key:"isElement",value:function(e){return"undefined"!=typeof Element&&e instanceof Element}},{key:"isInputElement",value:function(e){return this.isElement(e)&&"input"===e.tagName.toLowerCase()}},{key:"decimalPlaces",value:function(e){var t=s(e.split("."),2)[1];return this.isUndefined(t)?0:t.length}},{key:"indexFirstNonZeroDecimalPlace",value:function(e){var t=s(String(Math.abs(e)).split("."),2)[1];if(this.isUndefined(t))return 0;var n=t.lastIndexOf("0");return-1===n?n=0:n+=2,n}},{key:"keyCodeNumber",value:function(e){return void 0===e.which?e.keyCode:e.which}},{key:"character",value:function(t){var n;if("Unidentified"===t.key||void 0===t.key||this.isSeleniumBot()){var r=this.keyCodeNumber(t);if(r===o.keyCode.AndroidDefault)return o.keyName.AndroidDefault;var i=o.fromCharCodeKeyCode[r];n=e.isUndefinedOrNullOrEmpty(i)?String.fromCharCode(r):i}else{var s;switch(t.key){case"Add":n=o.keyName.NumpadPlus;break;case"Apps":n=o.keyName.ContextMenu;break;case"Crsel":n=o.keyName.CrSel;break;case"Decimal":n=t.char?t.char:o.keyName.NumpadDot;break;case"Del":n="firefox"===(s=this.browser()).name&&s.version<=36||"ie"===s.name&&s.version<=9?o.keyName.Dot:o.keyName.Delete;break;case"Divide":n=o.keyName.NumpadSlash;break;case"Down":n=o.keyName.DownArrow;break;case"Esc":n=o.keyName.Esc;break;case"Exsel":n=o.keyName.ExSel;break;case"Left":n=o.keyName.LeftArrow;break;case"Meta":case"Super":n=o.keyName.OSLeft;break;case"Multiply":n=o.keyName.NumpadMultiply;break;case"Right":n=o.keyName.RightArrow;break;case"Spacebar":n=o.keyName.Space;break;case"Subtract":n=o.keyName.NumpadMinus;break;case"Up":n=o.keyName.UpArrow;break;default:n=t.key}}return n}},{key:"browser",value:function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"ie",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===n[1]&&null!==(e=t.match(/\b(OPR|Edge)\/(\d+)/))?{name:e[1].replace("OPR","opera"),version:e[2]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0].toLowerCase(),version:n[1]})}},{key:"isSeleniumBot",value:function(){return!0===window.navigator.webdriver}},{key:"isNegative",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t===n||""!==t&&(e.isNumber(t)?t<0:o?this.contains(t,n):this.isNegativeStrict(t,n))}},{key:"isNegativeStrict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.charAt(0)===t}},{key:"isNegativeWithBrackets",value:function(e,t,n){return e.charAt(0)===t&&this.contains(e,n)}},{key:"isZeroOrHasNoValue",value:function(e){return!/[1-9]/g.test(e)}},{key:"setRawNegativeSign",value:function(e){return this.isNegativeStrict(e,"-")?e:"-".concat(e)}},{key:"replaceCharAt",value:function(e,t,n){return"".concat(e.substr(0,t)).concat(n).concat(e.substr(t+n.length))}},{key:"clampToRangeLimits",value:function(e,t){return Math.max(t.minimumValue,Math.min(t.maximumValue,e))}},{key:"countNumberCharactersOnTheCaretLeftSide",value:function(e,t,n){for(var o=new RegExp("[0-9".concat(n,"-]")),r=0,i=0;i<t;i++)o.test(e[i])&&r++;return r}},{key:"findCaretPositionInFormattedNumber",value:function(e,t,n,o){var r,i=n.length,s=e.length,a=0;for(r=0;r<i&&a<s&&a<t;r++)(e[a]===n[r]||"."===e[a]&&n[r]===o)&&a++;return r}},{key:"countCharInText",value:function(e,t){for(var n=0,o=0;o<t.length;o++)t[o]===e&&n++;return n}},{key:"convertCharacterCountToIndexPosition",value:function(e){return Math.max(e,e-1)}},{key:"getElementSelection",value:function(e){var t,n={};try{t=this.isUndefined(e.selectionStart)}catch(e){t=!1}try{if(t){var o=window.getSelection().getRangeAt(0);n.start=o.startOffset,n.end=o.endOffset,n.length=n.end-n.start}else n.start=e.selectionStart,n.end=e.selectionEnd,n.length=n.end-n.start}catch(e){n.start=0,n.end=0,n.length=0}return n}},{key:"setElementSelection",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.isUndefinedOrNullOrEmpty(o)&&(o=n),this.isInputElement(t))t.setSelectionRange(n,o);else if(!e.isNull(t.firstChild)){var r=document.createRange();r.setStart(t.firstChild,n),r.setEnd(t.firstChild,o);var i=window.getSelection();i.removeAllRanges(),i.addRange(r)}}},{key:"throwError",value:function(e){throw new Error(e)}},{key:"warning",value:function(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&console.warn("Warning: ".concat(e))}},{key:"isWheelEvent",value:function(e){return e instanceof WheelEvent}},{key:"isWheelUpEvent",value:function(e){return this.isWheelEvent(e)&&!this.isUndefinedOrNullOrEmpty(e.deltaY)||this.throwError("The event passed as a parameter is not a valid wheel event, '".concat(e.type,"' given.")),e.deltaY<0}},{key:"isWheelDownEvent",value:function(e){return this.isWheelEvent(e)&&!this.isUndefinedOrNullOrEmpty(e.deltaY)||this.throwError("The event passed as a parameter is not a valid wheel event, '".concat(e.type,"' given.")),e.deltaY>0}},{key:"forceDecimalPlaces",value:function(e,t){var n=s(String(e).split("."),2),o=n[0],r=n[1];return r?"".concat(o,".").concat(r.substr(0,t)):e}},{key:"roundToNearest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return 0===e?0:(0===t&&this.throwError("The `stepPlace` used to round is equal to `0`. This value must not be equal to zero."),Math.round(e/t)*t)}},{key:"modifyAndRoundToNearestAuto",value:function(e,t,n){e=Number(this.forceDecimalPlaces(e,n));var o=Math.abs(e);if(o>=0&&o<1){var r,i=Math.pow(10,-n);if(0===e)return t?i:-i;var s,a=n,l=this.indexFirstNonZeroDecimalPlace(e);return r=l>=a-1?i:Math.pow(10,-(l+1)),s=t?e+r:e-r,this.roundToNearest(s,r)}e=parseInt(e,10);var c,d=Math.abs(e).toString().length;switch(d){case 1:c=0;break;case 2:case 3:c=1;break;case 4:case 5:c=2;break;default:c=d-3}var u,h=Math.pow(10,c);return(u=t?e+h:e-h)<=10&&u>=-10?u:this.roundToNearest(u,h)}},{key:"addAndRoundToNearestAuto",value:function(e,t){return this.modifyAndRoundToNearestAuto(e,!0,t)}},{key:"subtractAndRoundToNearestAuto",value:function(e,t){return this.modifyAndRoundToNearestAuto(e,!1,t)}},{key:"arabicToLatinNumbers",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isNull(e))return e;var r=e.toString();if(""===r)return e;if(null===r.match(/[]/g))return t&&(r=Number(r)),r;n&&(r=r.replace(//,".")),o&&(r=r.replace(//g,"")),r=r.replace(/[]/g,(function(e){return e.charCodeAt(0)-1632})).replace(/[]/g,(function(e){return e.charCodeAt(0)-1776}));var i=Number(r);return isNaN(i)?i:(t&&(r=i),r)}},{key:"triggerEvent",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];window.CustomEvent?t=new CustomEvent(e,{detail:o,bubbles:r,cancelable:i}):(t=document.createEvent("CustomEvent")).initCustomEvent(e,r,i,{detail:o}),n.dispatchEvent(t)}},{key:"parseStr",value:function(e){var t,n,o,r,i={};if(0===e&&1/e<0&&(e="-0"),e=e.toString(),this.isNegativeStrict(e,"-")?(e=e.slice(1),i.s=-1):i.s=1,(t=e.indexOf("."))>-1&&(e=e.replace(".","")),t<0&&(t=e.length),(n=-1===e.search(/[1-9]/i)?e.length:e.search(/[1-9]/i))===(o=e.length))i.e=0,i.c=[0];else{for(r=o-1;"0"===e.charAt(r);r-=1)o-=1;for(o-=1,i.e=t-n-1,i.c=[],t=0;n<=o;n+=1)i.c[t]=+e.charAt(n),t+=1}return i}},{key:"testMinMax",value:function(e,t){var n=t.c,o=e.c,r=t.s,i=e.s,s=t.e,a=e.e;if(!n[0]||!o[0])return n[0]?r:o[0]?-i:0;if(r!==i)return r;var l=r<0;if(s!==a)return s>a^l?1:-1;for(r=-1,i=(s=n.length)<(a=o.length)?s:a,r+=1;r<i;r+=1)if(n[r]!==o[r])return n[r]>o[r]^l?1:-1;return s===a?0:s>a^l?1:-1}},{key:"randomString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return Math.random().toString(36).substr(2,e)}},{key:"domElement",value:function(t){return e.isString(t)?document.querySelector(t):t}},{key:"getElementValue",value:function(e){return"input"===e.tagName.toLowerCase()?e.value:this.text(e)}},{key:"setElementValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"input"===e.tagName.toLowerCase()?e.value=t:e.textContent=t}},{key:"setInvalidState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Invalid";(""===t||this.isNull(t))&&this.throwError("Cannot set the invalid state with an empty message."),e.setCustomValidity(t)}},{key:"setValidState",value:function(e){e.setCustomValidity("")}},{key:"cloneObject",value:function(e){return i({},e)}},{key:"camelize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(this.isNull(e))return null;n&&(e=e.replace(/^data-/,""));var r=e.split(t).map((function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))}));return r=r.join(""),o&&(r="".concat(r.charAt(0).toLowerCase()).concat(r.slice(1))),r}},{key:"text",value:function(e){var t=e.nodeType;return t===Node.ELEMENT_NODE||t===Node.DOCUMENT_NODE||t===Node.DOCUMENT_FRAGMENT_NODE?e.textContent:t===Node.TEXT_NODE?e.nodeValue:""}},{key:"setText",value:function(e,t){var n=e.nodeType;n!==Node.ELEMENT_NODE&&n!==Node.DOCUMENT_NODE&&n!==Node.DOCUMENT_FRAGMENT_NODE||(e.textContent=t)}},{key:"filterOut",value:function(e,t){var n=this;return e.filter((function(e){return!n.isInArray(e,t)}))}},{key:"trimPaddedZerosFromDecimalPlaces",value:function(e){if(""===(e=String(e)))return"";var t=s(e.split("."),2),n=t[0],o=t[1];if(this.isUndefinedOrNullOrEmpty(o))return n;var r=o.replace(/0+$/g,"");return""===r?n:"".concat(n,".").concat(r)}},{key:"getHoveredElement",value:function(){var e=r(document.querySelectorAll(":hover"));return e[e.length-1]}},{key:"arrayTrim",value:function(e,t){var n=e.length;return 0===n||t>n?e:t<0?[]:(e.length=parseInt(t,10),e)}},{key:"arrayUnique",value:function(){var e;return r(new Set((e=[]).concat.apply(e,arguments)))}},{key:"mergeMaps",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Map(t.reduce((function(e,t){return e.concat(r(t))}),[]))}},{key:"objectKeyLookup",value:function(e,t){var n=Object.entries(e).find((function(e){return e[1]===t})),o=null;return void 0!==n&&(o=n[0]),o}},{key:"insertAt",value:function(e,t,n){if(n>(e=String(e)).length)throw new Error("The given index is out of the string range.");if(1!==t.length)throw new Error("The given string `char` should be only one character long.");return""===e&&0===n?t:"".concat(e.slice(0,n)).concat(t).concat(e.slice(n))}},{key:"scientificToDecimal",value:function(e){var t=Number(e);if(isNaN(t))return NaN;if(e=String(e),!this.contains(e,"e")&&!this.contains(e,"E"))return e;var n=s(e.split(/e/i),2),o=n[0],r=n[1],i=o<0;i&&(o=o.replace("-",""));var a=+r<0;a&&(r=r.replace("-",""));var l,c=s(o.split(/\./),2),d=c[0],u=c[1];return a?(l=d.length>r?this.insertAt(d,".",d.length-r):"0.".concat("0".repeat(r-d.length)).concat(d),l="".concat(l).concat(u||"")):u?(o="".concat(d).concat(u),l=r<u.length?this.insertAt(o,".",+r+d.length):"".concat(o).concat("0".repeat(r-u.length))):(o=o.replace(".",""),l="".concat(o).concat("0".repeat(Number(r)))),i&&(l="-".concat(l)),l}}],null&&d(t.prototype,null),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==h(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===h(r)?r:String(r)),o)}var r}var p=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null===t)throw new Error("Invalid AST")}var t,n;return t=e,(n=[{key:"evaluate",value:function(e){if(null==e)throw new Error("Invalid AST sub-tree");if("number"===e.type)return e.value;if("unaryMinus"===e.type)return-this.evaluate(e.left);var t=this.evaluate(e.left),n=this.evaluate(e.right);switch(e.type){case"op_+":return Number(t)+Number(n);case"op_-":return t-n;case"op_*":return t*n;case"op_/":return t/n;default:throw new Error("Invalid operator '".concat(e.type,"'"))}}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==f(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===f(r)?r:String(r)),o)}var r}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"createNode",value:function(t,n,o){var r=new e;return r.type=t,r.left=n,r.right=o,r}},{key:"createUnaryNode",value:function(t){var n=new e;return n.type="unaryMinus",n.left=t,n.right=null,n}},{key:"createLeaf",value:function(t){var n=new e;return n.type="number",n.value=t,n}}],null&&g(t.prototype,null),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==b(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===b(r)?r:String(r)),o)}var r}var w=function(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=t,this.value=n,this.symbol=o}));function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==x(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===x(r)?r:String(r)),o)}var r}var S=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.text=t,this.textLength=t.length,this.index=0,this.token=new w("Error",0,0)}var t,n;return t=e,n=[{key:"_skipSpaces",value:function(){for(;" "===this.text[this.index]&&this.index<=this.textLength;)this.index++}},{key:"getIndex",value:function(){return this.index}},{key:"getNextToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".";if(this._skipSpaces(),this.textLength===this.index)return this.token.type="EOT",this.token;if(u.isDigit(this.text[this.index]))return this.token.type="num",this.token.value=this._getNumber(e),this.token;switch(this.token.type="Error",this.text[this.index]){case"+":this.token.type="+";break;case"-":this.token.type="-";break;case"*":this.token.type="*";break;case"/":this.token.type="/";break;case"(":this.token.type="(";break;case")":this.token.type=")"}if("Error"===this.token.type)throw new Error("Unexpected token '".concat(this.token.symbol,"' at position '").concat(this.token.index,"' in the token function"));return this.token.symbol=this.text[this.index],this.index++,this.token}},{key:"_getNumber",value:function(e){this._skipSpaces();for(var t=this.index;this.index<=this.textLength&&u.isDigit(this.text[this.index]);)this.index++;for(this.text[this.index]===e&&this.index++;this.index<=this.textLength&&u.isDigit(this.text[this.index]);)this.index++;if(this.index===t)throw new Error("No number has been found while it was expected");return this.text.substring(t,this.index).replace(e,".")}}],n&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==C(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===C(r)?r:String(r)),o)}var r}var k=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.text=t,this.decimalCharacter=n,this.lexer=new S(t),this.token=this.lexer.getNextToken(this.decimalCharacter),this._exp()}var t,n;return t=e,(n=[{key:"_exp",value:function(){var e=this._term(),t=this._moreExp();return v.createNode("op_+",e,t)}},{key:"_moreExp",value:function(){var e,t;switch(this.token.type){case"+":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._term(),t=this._moreExp(),v.createNode("op_+",t,e);case"-":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._term(),t=this._moreExp(),v.createNode("op_-",t,e)}return v.createLeaf(0)}},{key:"_term",value:function(){var e=this._factor(),t=this._moreTerms();return v.createNode("op_*",e,t)}},{key:"_moreTerms",value:function(){var e,t;switch(this.token.type){case"*":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._factor(),t=this._moreTerms(),v.createNode("op_*",t,e);case"/":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._factor(),t=this._moreTerms(),v.createNode("op_/",t,e)}return v.createLeaf(1)}},{key:"_factor",value:function(){var e,t,n;switch(this.token.type){case"num":return n=this.token.value,this.token=this.lexer.getNextToken(this.decimalCharacter),v.createLeaf(n);case"-":return this.token=this.lexer.getNextToken(this.decimalCharacter),t=this._factor(),v.createUnaryNode(t);case"(":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._exp(),this._match(")"),e;default:throw new Error("Unexpected token '".concat(this.token.symbol,"' with type '").concat(this.token.type,"' at position '").concat(this.token.index,"' in the factor function"))}}},{key:"_match",value:function(e){var t=this.lexer.getIndex()-1;if(this.text[t]!==e)throw new Error("Unexpected token '".concat(this.token.symbol,"' at position '").concat(t,"' in the match function"));this.token=this.lexer.getNextToken(this.decimalCharacter)}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,s,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=i.call(n)).done)&&(a.push(o.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},D.apply(this,arguments)}function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,N(o.key),o)}}function R(e,t,n){return(t=N(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){var t=function(e,t){if("object"!==M(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==M(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===M(t)?t:String(t)}var L,I=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=e._setArgumentsValues(n,o,r),s=i.domElement,a=i.initialValue,l=i.userOptions;if(this.domElement=s,this.defaultRawValue="",this._setSettings(l,!1),this._checkElement(),this.savedCancellableValue=null,this.historyTable=[],this.historyTableIndex=-1,this.onGoingRedo=!1,this.parentForm=this._getParentForm(),!this.runOnce&&this.settings.formatOnPageLoad)this._formatDefaultValueOnPageLoad(a);else{var c;if(u.isNull(a))switch(this.settings.emptyInputBehavior){case e.options.emptyInputBehavior.min:c=this.settings.minimumValue;break;case e.options.emptyInputBehavior.max:c=this.settings.maximumValue;break;case e.options.emptyInputBehavior.zero:c="0";break;case e.options.emptyInputBehavior.focus:case e.options.emptyInputBehavior.press:case e.options.emptyInputBehavior.always:case e.options.emptyInputBehavior.null:c="";break;default:c=this.settings.emptyInputBehavior}else c=a;this._setElementAndRawValue(c)}this.runOnce=!0,this.hasEventListeners=!1,(this.isInputElement||this.isContentEditable)&&(this.settings.noEventListeners||this._createEventListeners(),this._setWritePermissions(!0)),this._saveInitialValues(a),this.sessionStorageAvailable=this.constructor._storageTest(),this.storageNamePrefix="AUTO_",this._setPersistentStorageName(),this.validState=!0,this.isFocused=!1,this.isWheelEvent=!1,this.isDropEvent=!1,this.isEditing=!1,this.rawValueOnFocus=void 0,this.internalModification=!1,this.attributeToWatch=this._getAttributeToWatch(),this.getterSetter=Object.getOwnPropertyDescriptor(this.domElement.__proto__,this.attributeToWatch),this._addWatcher(),this.settings.createLocalList&&this._createLocalList(),this.constructor._addToGlobalList(this),this.global={set:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.autoNumericLocalList.forEach((function(t){t.set(e,n)}))},setUnformatted:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.autoNumericLocalList.forEach((function(t){t.setUnformatted(e,n)}))},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=[];return t.autoNumericLocalList.forEach((function(e){n.push(e.get())})),t._executeCallback(n,e),n},getNumericString:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=[];return t.autoNumericLocalList.forEach((function(e){n.push(e.getNumericString())})),t._executeCallback(n,e),n},getFormatted:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=[];return t.autoNumericLocalList.forEach((function(e){n.push(e.getFormatted())})),t._executeCallback(n,e),n},getNumber:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=[];return t.autoNumericLocalList.forEach((function(e){n.push(e.getNumber())})),t._executeCallback(n,e),n},getLocalized:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=[];return t.autoNumericLocalList.forEach((function(e){n.push(e.getLocalized())})),t._executeCallback(n,e),n},reformat:function(){t.autoNumericLocalList.forEach((function(e){e.reformat()}))},unformat:function(){t.autoNumericLocalList.forEach((function(e){e.unformat()}))},unformatLocalized:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.autoNumericLocalList.forEach((function(t){t.unformatLocalized(e)}))},update:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.autoNumericLocalList.forEach((function(e){e.update.apply(e,n)}))},isPristine:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!0;return t.autoNumericLocalList.forEach((function(t){n&&!t.isPristine(e)&&(n=!1)})),n},clear:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.autoNumericLocalList.forEach((function(t){t.clear(e)}))},remove:function(){t.autoNumericLocalList.forEach((function(e){e.remove()}))},wipe:function(){t.autoNumericLocalList.forEach((function(e){e.wipe()}))},nuke:function(){t.autoNumericLocalList.forEach((function(e){e.nuke()}))},has:function(n){return n instanceof e?t.autoNumericLocalList.has(n.node()):t.autoNumericLocalList.has(n)},addObject:function(n){var o,r;n instanceof e?(o=n.node(),r=n):(o=n,r=e.getAutoNumericElement(o)),t._hasLocalList()||t._createLocalList();var i,s=r._getLocalList();0===s.size&&(r._createLocalList(),s=r._getLocalList()),s instanceof Map?i=u.mergeMaps(t._getLocalList(),s):(t._addToLocalList(o,r),i=t._getLocalList()),i.forEach((function(e){e._setLocalList(i)}))},removeObject:function(n){var o,r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n instanceof e?(o=n.node(),r=n):(o=n,r=e.getAutoNumericElement(o));var s=t.autoNumericLocalList;t.autoNumericLocalList.delete(o),s.forEach((function(e){e._setLocalList(t.autoNumericLocalList)})),i||o!==t.node()?r._createLocalList():r._setLocalList(new Map)},empty:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.autoNumericLocalList.forEach((function(t){e?t._createLocalList():t._setLocalList(new Map)}))},elements:function(){var e=[];return t.autoNumericLocalList.forEach((function(t){e.push(t.node())})),e},getList:function(){return t.autoNumericLocalList},size:function(){return t.autoNumericLocalList.size}},this.options={reset:function(){return t.settings={rawValue:t.defaultRawValue},t.update(e.defaultSettings),t},allowDecimalPadding:function(e){return t.update({allowDecimalPadding:e}),t},alwaysAllowDecimalCharacter:function(e){return t.update({alwaysAllowDecimalCharacter:e}),t},caretPositionOnFocus:function(e){return t.settings.caretPositionOnFocus=e,t},createLocalList:function(e){return t.settings.createLocalList=e,t.settings.createLocalList?t._hasLocalList()||t._createLocalList():t._deleteLocalList(),t},currencySymbol:function(e){return t.update({currencySymbol:e}),t},currencySymbolPlacement:function(e){return t.update({currencySymbolPlacement:e}),t},decimalCharacter:function(e){return t.update({decimalCharacter:e}),t},decimalCharacterAlternative:function(e){return t.settings.decimalCharacterAlternative=e,t},decimalPlaces:function(e){return u.warning("Using `options.decimalPlaces()` instead of calling the specific `options.decimalPlacesRawValue()`, `options.decimalPlacesShownOnFocus()` and `options.decimalPlacesShownOnBlur()` methods will reset those options.\nPlease call the specific methods if you do not want to reset those.",t.settings.showWarnings),t.update({decimalPlaces:e}),t},decimalPlacesRawValue:function(e){return t.update({decimalPlacesRawValue:e}),t},decimalPlacesShownOnBlur:function(e){return t.update({decimalPlacesShownOnBlur:e}),t},decimalPlacesShownOnFocus:function(e){return t.update({decimalPlacesShownOnFocus:e}),t},defaultValueOverride:function(e){return t.update({defaultValueOverride:e}),t},digitalGroupSpacing:function(e){return t.update({digitalGroupSpacing:e}),t},digitGroupSeparator:function(e){return t.update({digitGroupSeparator:e}),t},divisorWhenUnfocused:function(e){return t.update({divisorWhenUnfocused:e}),t},emptyInputBehavior:function(n){return null===t.rawValue&&n!==e.options.emptyInputBehavior.null&&(u.warning("You are trying to modify the `emptyInputBehavior` option to something different than `'null'` (".concat(n,"), but the element raw value is currently set to `null`. This would result in an invalid `rawValue`. In order to fix that, the element value has been changed to the empty string `''`."),t.settings.showWarnings),t.rawValue=""),t.update({emptyInputBehavior:n}),t},eventBubbles:function(e){return t.settings.eventBubbles=e,t},eventIsCancelable:function(e){return t.settings.eventIsCancelable=e,t},failOnUnknownOption:function(e){return t.settings.failOnUnknownOption=e,t},formatOnPageLoad:function(e){return t.settings.formatOnPageLoad=e,t},formulaMode:function(e){return t.settings.formulaMode=e,t},historySize:function(e){return t.settings.historySize=e,t},invalidClass:function(e){return t.settings.invalidClass=e,t},isCancellable:function(e){return t.settings.isCancellable=e,t},leadingZero:function(e){return t.update({leadingZero:e}),t},maximumValue:function(e){return t.update({maximumValue:e}),t},minimumValue:function(e){return t.update({minimumValue:e}),t},modifyValueOnUpDownArrow:function(e){return t.settings.modifyValueOnUpDownArrow=e,t},modifyValueOnWheel:function(e){return t.settings.modifyValueOnWheel=e,t},negativeBracketsTypeOnBlur:function(e){return t.update({negativeBracketsTypeOnBlur:e}),t},negativePositiveSignPlacement:function(e){return t.update({negativePositiveSignPlacement:e}),t},negativeSignCharacter:function(e){return t.update({negativeSignCharacter:e}),t},negativePositiveSignBehavior:function(e){return t.settings.negativePositiveSignBehavior=e,t},noEventListeners:function(n){return n===e.options.noEventListeners.noEvents&&t.settings.noEventListeners===e.options.noEventListeners.addEvents&&t._removeEventListeners(),t.update({noEventListeners:n}),t},onInvalidPaste:function(e){return t.settings.onInvalidPaste=e,t},outputFormat:function(e){return t.settings.outputFormat=e,t},overrideMinMaxLimits:function(e){return t.update({overrideMinMaxLimits:e}),t},positiveSignCharacter:function(e){return t.update({positiveSignCharacter:e}),t},rawValueDivisor:function(e){return t.update({rawValueDivisor:e}),t},readOnly:function(e){return t.settings.readOnly=e,t._setWritePermissions(),t},roundingMethod:function(e){return t.update({roundingMethod:e}),t},saveValueToSessionStorage:function(e){return t.update({saveValueToSessionStorage:e}),t},symbolWhenUnfocused:function(e){return t.update({symbolWhenUnfocused:e}),t},selectNumberOnly:function(e){return t.settings.selectNumberOnly=e,t},selectOnFocus:function(e){return t.settings.selectOnFocus=e,t},serializeSpaces:function(e){return t.settings.serializeSpaces=e,t},showOnlyNumbersOnFocus:function(e){return t.update({showOnlyNumbersOnFocus:e}),t},showPositiveSign:function(e){return t.update({showPositiveSign:e}),t},showWarnings:function(e){return t.settings.showWarnings=e,t},styleRules:function(e){return t.update({styleRules:e}),t},suffixText:function(e){return t.update({suffixText:e}),t},unformatOnHover:function(e){return t.settings.unformatOnHover=e,t},unformatOnSubmit:function(e){return t.settings.unformatOnSubmit=e,t},upDownStep:function(e){return t.settings.upDownStep=e,t},valuesToStrings:function(e){return t.update({valuesToStrings:e}),t},watchExternalChanges:function(e){return t.update({watchExternalChanges:e}),t},wheelOn:function(e){return t.settings.wheelOn=e,t},wheelStep:function(e){return t.settings.wheelStep=e,t}},this._triggerEvent(e.events.initialized,this.domElement,{newValue:u.getElementValue(this.domElement),newRawValue:this.rawValue,error:null,aNElement:this})}var t,n,r;return t=e,n=[{key:"_saveInitialValues",value:function(e){this.initialValueHtmlAttribute=u.scientificToDecimal(this.domElement.getAttribute("value")),u.isNull(this.initialValueHtmlAttribute)&&(this.initialValueHtmlAttribute=""),this.initialValue=e,u.isNull(this.initialValue)&&(this.initialValue="")}},{key:"_createEventListeners",value:function(){var t=this;this.formulaMode=!1,this._onFocusInFunc=function(e){t._onFocusIn(e)},this._onFocusInAndMouseEnterFunc=function(e){t._onFocusInAndMouseEnter(e)},this._onFocusFunc=function(){t._onFocus()},this._onKeydownFunc=function(e){t._onKeydown(e)},this._onKeypressFunc=function(e){t._onKeypress(e)},this._onKeyupFunc=function(e){t._onKeyup(e)},this._onFocusOutAndMouseLeaveFunc=function(e){t._onFocusOutAndMouseLeave(e)},this._onPasteFunc=function(e){t._onPaste(e)},this._onWheelFunc=function(e){t._onWheel(e)},this._onDropFunc=function(e){t._onDrop(e)},this._onKeydownGlobalFunc=function(e){t._onKeydownGlobal(e)},this._onKeyupGlobalFunc=function(e){t._onKeyupGlobal(e)},this.domElement.addEventListener("focusin",this._onFocusInFunc,!1),this.domElement.addEventListener("focus",this._onFocusInAndMouseEnterFunc,!1),this.domElement.addEventListener("focus",this._onFocusFunc,!1),this.domElement.addEventListener("mouseenter",this._onFocusInAndMouseEnterFunc,!1),this.domElement.addEventListener("keydown",this._onKeydownFunc,!1),this.domElement.addEventListener("keypress",this._onKeypressFunc,!1),this.domElement.addEventListener("keyup",this._onKeyupFunc,!1),this.domElement.addEventListener("blur",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.addEventListener("mouseleave",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.addEventListener("paste",this._onPasteFunc,!1),this.domElement.addEventListener("wheel",this._onWheelFunc,!1),this.domElement.addEventListener("drop",this._onDropFunc,!1),this._setupFormListener(),this.hasEventListeners=!0,e._doesGlobalListExists()||(document.addEventListener("keydown",this._onKeydownGlobalFunc,!1),document.addEventListener("keyup",this._onKeyupGlobalFunc,!1))}},{key:"_removeEventListeners",value:function(){this.domElement.removeEventListener("focusin",this._onFocusInFunc,!1),this.domElement.removeEventListener("focus",this._onFocusInAndMouseEnterFunc,!1),this.domElement.removeEventListener("focus",this._onFocusFunc,!1),this.domElement.removeEventListener("mouseenter",this._onFocusInAndMouseEnterFunc,!1),this.domElement.removeEventListener("blur",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.removeEventListener("mouseleave",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.removeEventListener("keydown",this._onKeydownFunc,!1),this.domElement.removeEventListener("keypress",this._onKeypressFunc,!1),this.domElement.removeEventListener("keyup",this._onKeyupFunc,!1),this.domElement.removeEventListener("paste",this._onPasteFunc,!1),this.domElement.removeEventListener("wheel",this._onWheelFunc,!1),this.domElement.removeEventListener("drop",this._onDropFunc,!1),this._removeFormListener(),this.hasEventListeners=!1,document.removeEventListener("keydown",this._onKeydownGlobalFunc,!1),document.removeEventListener("keyup",this._onKeyupGlobalFunc,!1)}},{key:"_updateEventListeners",value:function(){this.settings.noEventListeners||this.hasEventListeners||this._createEventListeners(),this.settings.noEventListeners&&this.hasEventListeners&&this._removeEventListeners()}},{key:"_setupFormListener",value:function(){var e=this;u.isNull(this.parentForm)||(this._onFormSubmitFunc=function(){e._onFormSubmit()},this._onFormResetFunc=function(){e._onFormReset()},this._hasParentFormCounter()?this._incrementParentFormCounter():(this._initializeFormCounterToOne(),this.parentForm.addEventListener("submit",this._onFormSubmitFunc,!1),this.parentForm.addEventListener("reset",this._onFormResetFunc,!1),this._storeFormHandlerFunction()))}},{key:"_removeFormListener",value:function(){if(!u.isNull(this.parentForm)){var e=this._getParentFormCounter();1===e?(this.parentForm.removeEventListener("submit",this._getFormHandlerFunction().submitFn,!1),this.parentForm.removeEventListener("reset",this._getFormHandlerFunction().resetFn,!1),this._removeFormDataSetInfo()):e>1?this._decrementParentFormCounter():u.throwError("The AutoNumeric object count on the form is incoherent.")}}},{key:"_hasParentFormCounter",value:function(){return"anCount"in this.parentForm.dataset}},{key:"_getParentFormCounter",value:function(){return Number(this.parentForm.dataset.anCount)}},{key:"_initializeFormCounterToOne",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._getFormElement(e).dataset.anCount=1}},{key:"_incrementParentFormCounter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._getFormElement(e).dataset.anCount++}},{key:"_decrementParentFormCounter",value:function(){this.parentForm.dataset.anCount--}},{key:"_hasFormHandlerFunction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"anFormHandler"in this._getFormElement(e).dataset}},{key:"_getFormElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return u.isNull(e)?this.parentForm:e}},{key:"_storeFormHandlerFunction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.constructor._doesFormHandlerListExists()||this.constructor._createFormHandlerList();var t=u.randomString();this._getFormElement(e).dataset.anFormHandler=t,window.aNFormHandlerMap.set(t,{submitFn:this._onFormSubmitFunc,resetFn:this._onFormResetFunc})}},{key:"_getFormHandlerKey",value:function(){this._hasFormHandlerFunction()||u.throwError("Unable to retrieve the form handler name");var e=this.parentForm.dataset.anFormHandler;return""===e&&u.throwError("The form handler name is invalid"),e}},{key:"_getFormHandlerFunction",value:function(){var e=this._getFormHandlerKey();return window.aNFormHandlerMap.get(e)}},{key:"_removeFormDataSetInfo",value:function(){this._decrementParentFormCounter(),window.aNFormHandlerMap.delete(this._getFormHandlerKey()),this.parentForm.removeAttribute("data-an-count"),this.parentForm.removeAttribute("data-an-form-handler")}},{key:"_setWritePermissions",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.domElement.readOnly||this.settings.readOnly?this._setReadOnly():this._setReadWrite()}},{key:"_setReadOnly",value:function(){this.isInputElement?this.domElement.readOnly=!0:this.domElement.setAttribute("contenteditable",!1)}},{key:"_setReadWrite",value:function(){this.isInputElement?this.domElement.readOnly=!1:this.domElement.setAttribute("contenteditable",!0)}},{key:"_addWatcher",value:function(){var e=this;if(!u.isUndefined(this.getterSetter)){var t=this.getterSetter,n=t.set,o=t.get;Object.defineProperty(this.domElement,this.attributeToWatch,{configurable:!0,get:function(){return o.call(e.domElement)},set:function(t){n.call(e.domElement,t),e.settings.watchExternalChanges&&!e.internalModification&&e.set(t)}})}}},{key:"_removeWatcher",value:function(){var e=this;if(!u.isUndefined(this.getterSetter)){var t=this.getterSetter,n=t.set,o=t.get;Object.defineProperty(this.domElement,this.attributeToWatch,{configurable:!0,get:function(){return o.call(e.domElement)},set:function(t){n.call(e.domElement,t)}})}}},{key:"_getAttributeToWatch",value:function(){var e;if(this.isInputElement)e="value";else{var t=this.domElement.nodeType;t===Node.ELEMENT_NODE||t===Node.DOCUMENT_NODE||t===Node.DOCUMENT_FRAGMENT_NODE?e="textContent":t===Node.TEXT_NODE&&(e="nodeValue")}return e}},{key:"_historyTableAdd",value:function(){var e=0===this.historyTable.length;if(e||this.rawValue!==this._historyTableCurrentValueUsed()){var t=!0;if(!e){var n=this.historyTableIndex+1;n<this.historyTable.length&&this.rawValue===this.historyTable[n].value?t=!1:u.arrayTrim(this.historyTable,this.historyTableIndex+1)}if(this.historyTableIndex++,t){var o=u.getElementSelection(this.domElement);this.selectionStart=o.start,this.selectionEnd=o.end,this.historyTable.push({value:this.rawValue,start:this.selectionStart+1,end:this.selectionEnd+1}),this.historyTable.length>1&&(this.historyTable[this.historyTableIndex-1].start=this.selectionStart,this.historyTable[this.historyTableIndex-1].end=this.selectionEnd)}this.historyTable.length>this.settings.historySize&&this._historyTableForget()}}},{key:"_historyTableUndoOrRedo",value:function(){var e;if(arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?(e=this.historyTableIndex+1<this.historyTable.length)&&this.historyTableIndex++:(e=this.historyTableIndex>0)&&this.historyTableIndex--,e){var t=this.historyTable[this.historyTableIndex];this.set(t.value,null,!1),u.setElementSelection(this.domElement,t.start,t.end)}}},{key:"_historyTableUndo",value:function(){this._historyTableUndoOrRedo(!0)}},{key:"_historyTableRedo",value:function(){this._historyTableUndoOrRedo(!1)}},{key:"_historyTableForget",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=[],n=0;n<e;n++)t.push(this.historyTable.shift()),this.historyTableIndex--,this.historyTableIndex<0&&(this.historyTableIndex=0);return 1===t.length?t[0]:t}},{key:"_historyTableCurrentValueUsed",value:function(){var e=this.historyTableIndex;return e<0&&(e=0),u.isUndefinedOrNullOrEmpty(this.historyTable[e])?"":this.historyTable[e].value}},{key:"_parseStyleRules",value:function(){var e=this;u.isUndefinedOrNullOrEmpty(this.settings.styleRules)||""===this.rawValue||(u.isUndefinedOrNullOrEmpty(this.settings.styleRules.positive)||(this.rawValue>=0?this._addCSSClass(this.settings.styleRules.positive):this._removeCSSClass(this.settings.styleRules.positive)),u.isUndefinedOrNullOrEmpty(this.settings.styleRules.negative)||(this.rawValue<0?this._addCSSClass(this.settings.styleRules.negative):this._removeCSSClass(this.settings.styleRules.negative)),u.isUndefinedOrNullOrEmpty(this.settings.styleRules.ranges)||0===this.settings.styleRules.ranges.length||this.settings.styleRules.ranges.forEach((function(t){e.rawValue>=t.min&&e.rawValue<t.max?e._addCSSClass(t.class):e._removeCSSClass(t.class)})),u.isUndefinedOrNullOrEmpty(this.settings.styleRules.userDefined)||0===this.settings.styleRules.userDefined.length||this.settings.styleRules.userDefined.forEach((function(t){if(u.isFunction(t.callback))if(u.isString(t.classes))t.callback(e.rawValue)?e._addCSSClass(t.classes):e._removeCSSClass(t.classes);else if(u.isArray(t.classes))if(2===t.classes.length)t.callback(e.rawValue)?(e._addCSSClass(t.classes[0]),e._removeCSSClass(t.classes[1])):(e._removeCSSClass(t.classes[0]),e._addCSSClass(t.classes[1]));else if(t.classes.length>2){var n=t.callback(e.rawValue);u.isArray(n)?t.classes.forEach((function(t,o){u.isInArray(o,n)?e._addCSSClass(t):e._removeCSSClass(t)})):u.isInt(n)?t.classes.forEach((function(t,o){o===n?e._addCSSClass(t):e._removeCSSClass(t)})):u.isNull(n)?t.classes.forEach((function(t){e._removeCSSClass(t)})):u.throwError("The callback result is not an array nor a valid array index, ".concat(M(n)," given."))}else u.throwError("The classes attribute is not valid for the `styleRules` option.");else u.isUndefinedOrNullOrEmpty(t.classes)?t.callback(e):u.throwError("The callback/classes structure is not valid for the `styleRules` option.");else u.warning("The given `styleRules` callback is not a function, ".concat(M(t.callback)," given."),e.settings.showWarnings)})))}},{key:"_addCSSClass",value:function(e){this.domElement.classList.add(e)}},{key:"_removeCSSClass",value:function(e){this.domElement.classList.remove(e)}},{key:"update",value:function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];Array.isArray(n)&&Array.isArray(n[0])&&(n=n[0]);var r=u.cloneObject(this.settings),i=this.rawValue,s={};u.isUndefinedOrNullOrEmpty(n)||0===n.length?s=null:n.length>=1&&n.forEach((function(t){e.constructor._isPreDefinedOptionValid(t)&&(t=e.constructor._getOptionObject(t)),D(s,t)}));try{this._setSettings(s,!0),this._setWritePermissions(),this._updateEventListeners(),this.set(i)}catch(e){return this._setSettings(r,!0),u.throwError("Unable to update the settings, those are invalid: [".concat(e,"]")),this}return this}},{key:"getSettings",value:function(){return this.settings}},{key:"set",value:function(t){var n,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(u.isUndefined(t))return u.warning("You are trying to set an 'undefined' value ; an error could have occurred.",this.settings.showWarnings),this;if(u.isNull(r)||this._setSettings(r,!0),null===t&&this.settings.emptyInputBehavior!==e.options.emptyInputBehavior.null)return u.warning("You are trying to set the `null` value while the `emptyInputBehavior` option is set to ".concat(this.settings.emptyInputBehavior,". If you want to be able to set the `null` value, you need to change the 'emptyInputBehavior' option to `'null'`."),this.settings.showWarnings),this;if(null===t)return this._setElementAndRawValue(null,null,i),this._saveValueToPersistentStorage(),this;if(n=this.constructor._toNumericValue(t,this.settings),isNaN(Number(n)))return u.warning("The value you are trying to set results in `NaN`. The element value is set to the empty string instead.",this.settings.showWarnings),this.setValue("",i),this;if(""===n)switch(this.settings.emptyInputBehavior){case e.options.emptyInputBehavior.zero:n=0;break;case e.options.emptyInputBehavior.min:n=this.settings.minimumValue;break;case e.options.emptyInputBehavior.max:n=this.settings.maximumValue;break;default:u.isNumber(this.settings.emptyInputBehavior)&&(n=Number(this.settings.emptyInputBehavior))}if(""!==n){var s=O(this.constructor._checkIfInRangeWithOverrideOption(n,this.settings),2),a=s[0],l=s[1];if(a&&l&&this.settings.valuesToStrings&&this._checkValuesToStrings(n))return this._setElementAndRawValue(this.settings.valuesToStrings[n],n,i),this._saveValueToPersistentStorage(),this;if(u.isZeroOrHasNoValue(n)&&(n="0"),a&&l){var c=this.constructor._roundRawValue(n,this.settings);return c=this._trimLeadingAndTrailingZeros(c.replace(this.settings.decimalCharacter,".")),n=this._getRawValueToFormat(n),this.isFocused?n=this.constructor._roundFormattedValueShownOnFocus(n,this.settings):(this.settings.divisorWhenUnfocused&&(n=(n/=this.settings.divisorWhenUnfocused).toString()),n=this.constructor._roundFormattedValueShownOnBlur(n,this.settings)),n=this.constructor._modifyNegativeSignAndDecimalCharacterForFormattedValue(n,this.settings),n=this.constructor._addGroupSeparators(n,this.settings,this.isFocused,this.rawValue,c),!this.isFocused&&this.settings.symbolWhenUnfocused&&(n="".concat(n).concat(this.settings.symbolWhenUnfocused)),(this.settings.decimalPlacesShownOnFocus||this.settings.divisorWhenUnfocused)&&this._saveValueToPersistentStorage(),this._setElementAndRawValue(n,c,i),this._setValidOrInvalidState(c),this}return this._triggerRangeEvents(a,l),u.throwError("The value [".concat(n,"] being set falls outside of the minimumValue [").concat(this.settings.minimumValue,"] and maximumValue [").concat(this.settings.maximumValue,"] range set for this element")),this._removeValueFromPersistentStorage(),this.setValue("",i),this}return o=this.settings.emptyInputBehavior===e.options.emptyInputBehavior.always?this.settings.currencySymbol:"",this._setElementAndRawValue(o,"",i),this}},{key:"setUnformatted",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e||u.isUndefined(e))return this;u.isNull(t)||this._setSettings(t,!0);var n=this.constructor._removeBrackets(e,this.settings),o=this.constructor._stripAllNonNumberCharacters(n,this.settings,!0,this.isFocused);return u.isNumber(o)||u.throwError("The value is not a valid one, it's not a numeric string nor a recognized currency."),this.constructor._isWithinRangeWithOverrideOption(o,this.settings)?this.setValue(e):u.throwError("The value is out of the range limits [".concat(this.settings.minimumValue,", ").concat(this.settings.maximumValue,"].")),this}},{key:"setValue",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._setElementAndRawValue(e,t),this}},{key:"_setRawValue",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.rawValue!==t){var o=this.rawValue;this.rawValue=t,!u.isNull(this.settings.rawValueDivisor)&&0!==this.settings.rawValueDivisor&&""!==t&&null!==t&&this._isUserManuallyEditingTheValue()&&(this.rawValue/=this.settings.rawValueDivisor),this._triggerEvent(e.events.rawValueModified,this.domElement,{oldRawValue:o,newRawValue:this.rawValue,isPristine:this.isPristine(!0),error:null,aNElement:this}),this._parseStyleRules(),n&&this._historyTableAdd()}}},{key:"_setElementValue",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=u.getElementValue(this.domElement);return t!==o&&(this.internalModification=!0,u.setElementValue(this.domElement,t),this.internalModification=!1,n&&this._triggerEvent(e.events.formatted,this.domElement,{oldValue:o,newValue:t,oldRawValue:this.rawValue,newRawValue:this.rawValue,isPristine:this.isPristine(!1),error:null,aNElement:this})),this}},{key:"_setElementAndRawValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return u.isNull(t)?t=e:u.isBoolean(t)&&(n=t,t=e),this._setElementValue(e),this._setRawValue(t,n),this}},{key:"_getRawValueToFormat",value:function(e){return u.isNull(this.settings.rawValueDivisor)||0===this.settings.rawValueDivisor||""===e||null===e?e:e*this.settings.rawValueDivisor}},{key:"_checkValuesToStrings",value:function(e){return this.constructor._checkValuesToStringsArray(e,this.valuesToStringsKeys)}},{key:"_isUserManuallyEditingTheValue",value:function(){return this.isFocused&&this.isEditing||this.isDropEvent}},{key:"_executeCallback",value:function(e,t){!u.isNull(t)&&u.isFunction(t)&&t(e,this)}},{key:"_triggerEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;u.triggerEvent(e,t,n,this.settings.eventBubbles,this.settings.eventIsCancelable)}},{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.getNumericString(e)}},{key:"getNumericString",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e=u.isNull(this.rawValue)?null:u.trimPaddedZerosFromDecimalPlaces(this.rawValue),this._executeCallback(e,t),e}},{key:"getFormatted",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;"value"in this.domElement||"textContent"in this.domElement||u.throwError("Unable to get the formatted string from the element.");var t=u.getElementValue(this.domElement);return this._executeCallback(t,e),t}},{key:"getNumber",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e=null===this.rawValue?null:this.constructor._toLocale(this.getNumericString(),"number",this.settings),this._executeCallback(e,t),e}},{key:"getLocalized",value:function(){var t,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;u.isFunction(o)&&u.isNull(r)&&(r=o,o=null),""!=(t=u.isEmptyString(this.rawValue)?"":""+Number(this.rawValue))&&0===Number(t)&&this.settings.leadingZero!==e.options.leadingZero.keep&&(t="0"),n=u.isNull(o)?this.settings.outputFormat:o;var i=this.constructor._toLocale(t,n,this.settings);return this._executeCallback(i,r),i}},{key:"reformat",value:function(){return this.set(this.rawValue),this}},{key:"unformat",value:function(){return this._setElementValue(this.getNumericString()),this}},{key:"unformatLocalized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._setElementValue(this.getLocalized(e)),this}},{key:"isPristine",value:function(){return arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.initialValueHtmlAttribute===this.getFormatted():this.initialValue===this.getNumericString()}},{key:"select",value:function(){return this.settings.selectNumberOnly?this.selectNumber():this._defaultSelectAll(),this}},{key:"_defaultSelectAll",value:function(){u.setElementSelection(this.domElement,0,u.getElementValue(this.domElement).length)}},{key:"selectNumber",value:function(){var t,n,o=u.getElementValue(this.domElement),r=o.length,i=this.settings.currencySymbol.length,s=this.settings.currencySymbolPlacement,a=u.isNegative(o,this.settings.negativeSignCharacter)?1:0,l=this.settings.suffixText.length;if(t=s===e.options.currencySymbolPlacement.suffix?0:this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.left&&1===a&&i>0?i+1:i,s===e.options.currencySymbolPlacement.prefix)n=r-l;else switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.left:n=r-(l+i);break;case e.options.negativePositiveSignPlacement.right:n=i>0?r-(i+a+l):r-(i+l);break;default:n=r-(i+l)}return u.setElementSelection(this.domElement,t,n),this}},{key:"selectInteger",value:function(){var t=0,n=this.rawValue>=0;this.settings.currencySymbolPlacement!==e.options.currencySymbolPlacement.prefix&&(this.settings.currencySymbolPlacement!==e.options.currencySymbolPlacement.suffix||this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.prefix&&this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none)||(this.settings.showPositiveSign&&n||!n&&this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.left)&&(t+=1),this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&(t+=this.settings.currencySymbol.length);var o=u.getElementValue(this.domElement),r=o.indexOf(this.settings.decimalCharacter);return-1===r&&(r=this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix?o.length-this.settings.currencySymbol.length:o.length,n||this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.suffix&&this.settings.currencySymbolPlacement!==e.options.currencySymbolPlacement.suffix||(r-=1),r-=this.settings.suffixText.length),u.setElementSelection(this.domElement,t,r),this}},{key:"selectDecimal",value:function(){var e,t,n=u.getElementValue(this.domElement).indexOf(this.settings.decimalCharacter);return-1===n?(n=0,e=0):(n+=1,t=this.isFocused?this.settings.decimalPlacesShownOnFocus:this.settings.decimalPlacesShownOnBlur,e=n+Number(t)),u.setElementSelection(this.domElement,n,e),this}},{key:"node",value:function(){return this.domElement}},{key:"parent",value:function(){return this.domElement.parentNode}},{key:"detach",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e=u.isNull(t)?this.domElement:t.node(),this._removeFromLocalList(e),this}},{key:"attach",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._addToLocalList(e.node()),t&&e.update(this.settings),this}},{key:"formatOther",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._formatOrUnformatOther(!0,e,t)}},{key:"unformatOther",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._formatOrUnformatOther(!1,e,t)}},{key:"_formatOrUnformatOther",value:function(t,n){var o,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(o=u.isNull(i)?this.settings:this._cloneAndMergeSettings(i),u.isElement(n)){var s=u.getElementValue(n);return r=t?e.format(s,o):e.unformat(s,o),u.setElementValue(n,r),null}return t?e.format(n,o):e.unformat(n,o)}},{key:"init",value:function(t){var n=this,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!1,i=[];if(u.isString(t)?i=E(document.querySelectorAll(t)):u.isElement(t)?(i.push(t),r=!0):u.isArray(t)?i=t:u.throwError("The given parameters to the 'init' function are invalid."),0===i.length)return u.warning("No valid DOM elements were given hence no AutoNumeric object were instantiated.",!0),[];var s=this._getLocalList(),a=[];return i.forEach((function(t){var r=n.settings.createLocalList;o&&(n.settings.createLocalList=!1);var i=new e(t,u.getElementValue(t),n.settings);o&&(i._setLocalList(s),n._addToLocalList(t,i),n.settings.createLocalList=r),a.push(i)})),r?a[0]:a}},{key:"clear",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]){var t={emptyInputBehavior:e.options.emptyInputBehavior.focus};this.set("",t)}else this.set("");return this}},{key:"remove",value:function(){this._removeValueFromPersistentStorage(),this._removeEventListeners(),this._removeWatcher(),this._removeFromLocalList(this.domElement),this.constructor._removeFromGlobalList(this)}},{key:"wipe",value:function(){this._setElementValue("",!1),this.remove()}},{key:"nuke",value:function(){this.remove(),this.domElement.parentNode.removeChild(this.domElement)}},{key:"form",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||u.isUndefinedOrNullOrEmpty(this.parentForm)){var e=this._getParentForm();if(!u.isNull(e)&&e!==this.parentForm){var t=this._getFormAutoNumericChildren(this.parentForm);this.parentForm.dataset.anCount=t.length,this._hasFormHandlerFunction(e)?this._incrementParentFormCounter(e):(this._storeFormHandlerFunction(e),this._initializeFormCounterToOne(e))}this.parentForm=e}return this.parentForm}},{key:"_getFormAutoNumericChildren",value:function(e){var t=this;return E(e.querySelectorAll("input")).filter((function(e){return t.constructor.isManagedByAutoNumeric(e)}))}},{key:"_getParentForm",value:function(){if("body"===this.domElement.tagName.toLowerCase())return null;var e,t=this.domElement;do{if(t=t.parentNode,u.isNull(t))return null;if("body"===(e=t.tagName?t.tagName.toLowerCase():""))break}while("form"!==e);return"form"===e?t:null}},{key:"formNumericString",value:function(){return this.constructor._serializeNumericString(this.form(),this.settings.serializeSpaces)}},{key:"formFormatted",value:function(){return this.constructor._serializeFormatted(this.form(),this.settings.serializeSpaces)}},{key:"formLocalized",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e=u.isNull(t)?this.settings.outputFormat:t,this.constructor._serializeLocalized(this.form(),this.settings.serializeSpaces,e)}},{key:"formArrayNumericString",value:function(){return this.constructor._serializeNumericStringArray(this.form(),this.settings.serializeSpaces)}},{key:"formArrayFormatted",value:function(){return this.constructor._serializeFormattedArray(this.form(),this.settings.serializeSpaces)}},{key:"formArrayLocalized",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e=u.isNull(t)?this.settings.outputFormat:t,this.constructor._serializeLocalizedArray(this.form(),this.settings.serializeSpaces,e)}},{key:"formJsonNumericString",value:function(){return JSON.stringify(this.formArrayNumericString())}},{key:"formJsonFormatted",value:function(){return JSON.stringify(this.formArrayFormatted())}},{key:"formJsonLocalized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return JSON.stringify(this.formArrayLocalized(e))}},{key:"formUnformat",value:function(){return this.constructor._getChildANInputElement(this.form()).forEach((function(t){e.getAutoNumericElement(t).unformat()})),this}},{key:"formUnformatLocalized",value:function(){return this.constructor._getChildANInputElement(this.form()).forEach((function(t){e.getAutoNumericElement(t).unformatLocalized()})),this}},{key:"formReformat",value:function(){return this.constructor._getChildANInputElement(this.form()).forEach((function(t){e.getAutoNumericElement(t).reformat()})),this}},{key:"formSubmitNumericString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return u.isNull(e)?(this.formUnformat(),this.form().submit(),this.formReformat()):u.isFunction(e)?e(this.formNumericString()):u.throwError("The given callback is not a function."),this}},{key:"formSubmitFormatted",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return u.isNull(e)?this.form().submit():u.isFunction(e)?e(this.formFormatted()):u.throwError("The given callback is not a function."),this}},{key:"formSubmitLocalized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return u.isNull(t)?(this.formUnformatLocalized(),this.form().submit(),this.formReformat()):u.isFunction(t)?t(this.formLocalized(e)):u.throwError("The given callback is not a function."),this}},{key:"formSubmitArrayNumericString",value:function(e){return u.isFunction(e)?e(this.formArrayNumericString()):u.throwError("The given callback is not a function."),this}},{key:"formSubmitArrayFormatted",value:function(e){return u.isFunction(e)?e(this.formArrayFormatted()):u.throwError("The given callback is not a function."),this}},{key:"formSubmitArrayLocalized",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return u.isFunction(e)?e(this.formArrayLocalized(t)):u.throwError("The given callback is not a function."),this}},{key:"formSubmitJsonNumericString",value:function(e){return u.isFunction(e)?e(this.formJsonNumericString()):u.throwError("The given callback is not a function."),this}},{key:"formSubmitJsonFormatted",value:function(e){return u.isFunction(e)?e(this.formJsonFormatted()):u.throwError("The given callback is not a function."),this}},{key:"formSubmitJsonLocalized",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return u.isFunction(e)?e(this.formJsonLocalized(t)):u.throwError("The given callback is not a function."),this}},{key:"_createLocalList",value:function(){this.autoNumericLocalList=new Map,this._addToLocalList(this.domElement)}},{key:"_deleteLocalList",value:function(){delete this.autoNumericLocalList}},{key:"_setLocalList",value:function(e){this.autoNumericLocalList=e}},{key:"_getLocalList",value:function(){return this.autoNumericLocalList}},{key:"_hasLocalList",value:function(){return this.autoNumericLocalList instanceof Map&&0!==this.autoNumericLocalList.size}},{key:"_addToLocalList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;u.isNull(t)&&(t=this),u.isUndefined(this.autoNumericLocalList)?u.throwError("The local list provided does not exists when trying to add an element. [".concat(this.autoNumericLocalList,"] given.")):this.autoNumericLocalList.set(e,t)}},{key:"_removeFromLocalList",value:function(e){u.isUndefined(this.autoNumericLocalList)?this.settings.createLocalList&&u.throwError("The local list provided does not exists when trying to remove an element. [".concat(this.autoNumericLocalList,"] given.")):this.autoNumericLocalList.delete(e)}},{key:"_mergeSettings",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];D.apply(void 0,[this.settings].concat(t))}},{key:"_cloneAndMergeSettings",value:function(){for(var e={},t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return D.apply(void 0,[e,this.settings].concat(n)),e}},{key:"_updatePredefinedOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return u.isNull(t)?this.update(e):(this._mergeSettings(e,t),this.update(this.settings)),this}},{key:"french",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._updatePredefinedOptions(e.getPredefinedOptions().French,t),this}},{key:"northAmerican",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._updatePredefinedOptions(e.getPredefinedOptions().NorthAmerican,t),this}},{key:"british",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._updatePredefinedOptions(e.getPredefinedOptions().British,t),this}},{key:"swiss",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._updatePredefinedOptions(e.getPredefinedOptions().Swiss,t),this}},{key:"japanese",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._updatePredefinedOptions(e.getPredefinedOptions().Japanese,t),this}},{key:"spanish",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._updatePredefinedOptions(e.getPredefinedOptions().Spanish,t),this}},{key:"chinese",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._updatePredefinedOptions(e.getPredefinedOptions().Chinese,t),this}},{key:"brazilian",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._updatePredefinedOptions(e.getPredefinedOptions().Brazilian,t),this}},{key:"_runCallbacksFoundInTheSettingsObject",value:function(){for(var e in this.settings)if(Object.prototype.hasOwnProperty.call(this.settings,e)){var t=this.settings[e];if("function"==typeof t)this.settings[e]=t(this,e);else{var n=this.domElement.getAttribute(e);n=u.camelize(n),"function"==typeof this.settings[n]&&(this.settings[e]=n(this,e))}}}},{key:"_setTrailingNegativeSignInfo",value:function(){this.isTrailingNegative=this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.suffix||this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix&&(this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.left||this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.right)}},{key:"_modifyNegativeSignAndDecimalCharacterForRawValue",value:function(e){return"."!==this.settings.decimalCharacter&&(e=e.replace(this.settings.decimalCharacter,".")),"-"!==this.settings.negativeSignCharacter&&this.settings.isNegativeSignAllowed&&(e=e.replace(this.settings.negativeSignCharacter,"-")),e.match(/\d/)||(e+="0"),e}},{key:"_initialCaretPosition",value:function(t){u.isNull(this.settings.caretPositionOnFocus)&&this.settings.selectOnFocus===e.options.selectOnFocus.doNotSelect&&u.throwError("`_initialCaretPosition()` should never be called when the `caretPositionOnFocus` option is `null`.");var n=this.rawValue<0,o=u.isZeroOrHasNoValue(t),r=t.length,i=0,s=0,a=!1,l=0;this.settings.caretPositionOnFocus!==e.options.caretPositionOnFocus.start&&(i=(t=(t=(t=t.replace(this.settings.negativeSignCharacter,"")).replace(this.settings.positiveSignCharacter,"")).replace(this.settings.currencySymbol,"")).length,a=u.contains(t,this.settings.decimalCharacter),this.settings.caretPositionOnFocus!==e.options.caretPositionOnFocus.decimalLeft&&this.settings.caretPositionOnFocus!==e.options.caretPositionOnFocus.decimalRight||(a?(s=t.indexOf(this.settings.decimalCharacter),l=this.settings.decimalCharacter.length):(s=i,l=0)));var c="";n?c=this.settings.negativeSignCharacter:this.settings.showPositiveSign&&!o&&(c=this.settings.positiveSignCharacter);var d,h=c.length,m=this.settings.currencySymbol.length;if(this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix){if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.start)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!o))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.left:case e.options.negativePositiveSignPlacement.right:d=h+m;break;case e.options.negativePositiveSignPlacement.suffix:d=m}else d=m;else if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.end)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!o))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.left:case e.options.negativePositiveSignPlacement.right:d=r;break;case e.options.negativePositiveSignPlacement.suffix:d=m+i}else d=r;else if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.decimalLeft)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!o))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.left:case e.options.negativePositiveSignPlacement.right:d=h+m+s;break;case e.options.negativePositiveSignPlacement.suffix:d=m+s}else d=m+s;else if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.decimalRight)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!o))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.left:case e.options.negativePositiveSignPlacement.right:d=h+m+s+l;break;case e.options.negativePositiveSignPlacement.suffix:d=m+s+l}else d=m+s+l}else if(this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix)if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.start)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!o))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.suffix:case e.options.negativePositiveSignPlacement.right:case e.options.negativePositiveSignPlacement.left:d=0;break;case e.options.negativePositiveSignPlacement.prefix:d=h}else d=0;else if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.end)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!o))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.suffix:case e.options.negativePositiveSignPlacement.right:case e.options.negativePositiveSignPlacement.left:d=i;break;case e.options.negativePositiveSignPlacement.prefix:d=h+i}else d=i;else if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.decimalLeft)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!o))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.suffix:case e.options.negativePositiveSignPlacement.right:case e.options.negativePositiveSignPlacement.left:d=s;break;case e.options.negativePositiveSignPlacement.prefix:d=h+s}else d=s;else if(this.settings.caretPositionOnFocus===e.options.caretPositionOnFocus.decimalRight)if(this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(n||!n&&this.settings.showPositiveSign&&!o))switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.suffix:case e.options.negativePositiveSignPlacement.right:case e.options.negativePositiveSignPlacement.left:d=s+l;break;case e.options.negativePositiveSignPlacement.prefix:d=h+s+l}else d=s+l;return d}},{key:"_triggerRangeEvents",value:function(t,n){t||this._triggerEvent(e.events.minRangeExceeded,this.domElement),n||this._triggerEvent(e.events.maxRangeExceeded,this.domElement)}},{key:"_setInvalidState",value:function(){this.isInputElement?u.setInvalidState(this.domElement):this._addCSSClass(this.settings.invalidClass),this._triggerEvent(e.events.invalidValue,this.domElement),this.validState=!1}},{key:"_setValidState",value:function(){this.isInputElement?u.setValidState(this.domElement):this._removeCSSClass(this.settings.invalidClass),this.validState||this._triggerEvent(e.events.correctedValue,this.domElement),this.validState=!0}},{key:"_setValidOrInvalidState",value:function(t){if(this.settings.overrideMinMaxLimits===e.options.overrideMinMaxLimits.invalid){var n=this.constructor._isMinimumRangeRespected(t,this.settings),o=this.constructor._isMaximumRangeRespected(t,this.settings);n&&o?this._setValidState():this._setInvalidState(),this._triggerRangeEvents(n,o)}}},{key:"_keepAnOriginalSettingsCopy",value:function(){this.originalDigitGroupSeparator=this.settings.digitGroupSeparator,this.originalCurrencySymbol=this.settings.currencySymbol,this.originalSuffixText=this.settings.suffixText}},{key:"_trimLeadingAndTrailingZeros",value:function(t){if(""===t||null===t)return t;if(this.settings.leadingZero!==e.options.leadingZero.keep){if(0===Number(t))return"0";t=t.replace(/^(-)?0+(?=\d)/g,"$1")}return u.contains(t,".")&&(t=t.replace(/(\.[0-9]*?)0+$/,"$1")),t.replace(/\.$/,"")}},{key:"_setPersistentStorageName",value:function(){this.settings.saveValueToSessionStorage&&(""===this.domElement.name||u.isUndefined(this.domElement.name)?this.rawValueStorageName="".concat(this.storageNamePrefix).concat(this.domElement.id):this.rawValueStorageName="".concat(this.storageNamePrefix).concat(decodeURIComponent(this.domElement.name)))}},{key:"_saveValueToPersistentStorage",value:function(){this.settings.saveValueToSessionStorage&&(this.sessionStorageAvailable?sessionStorage.setItem(this.rawValueStorageName,this.rawValue):document.cookie="".concat(this.rawValueStorageName,"=").concat(this.rawValue,"; expires= ; path=/"))}},{key:"_getValueFromPersistentStorage",value:function(){return this.settings.saveValueToSessionStorage?this.sessionStorageAvailable?sessionStorage.getItem(this.rawValueStorageName):this.constructor._readCookie(this.rawValueStorageName):(u.warning("`_getValueFromPersistentStorage()` is called but `settings.saveValueToSessionStorage` is false. There must be an error that needs fixing.",this.settings.showWarnings),null)}},{key:"_removeValueFromPersistentStorage",value:function(){if(this.settings.saveValueToSessionStorage)if(this.sessionStorageAvailable)sessionStorage.removeItem(this.rawValueStorageName);else{var e=new Date;e.setTime(e.getTime()-864e5);var t="; expires=".concat(e.toUTCString());document.cookie="".concat(this.rawValueStorageName,"='' ;").concat(t,"; path=/")}}},{key:"_getDefaultValue",value:function(e){var t=e.getAttribute("value");return u.isNull(t)?"":t}},{key:"_onFocusInAndMouseEnter",value:function(t){if(this.isEditing=!1,!this.formulaMode&&this.settings.unformatOnHover&&"mouseenter"===t.type&&t.altKey)this.constructor._unformatAltHovered(this);else if("focus"===t.type&&(this.isFocused=!0,this.rawValueOnFocus=this.rawValue),"focus"===t.type&&this.settings.unformatOnHover&&this.hoveredWithAlt&&this.constructor._reformatAltHovered(this),"focus"===t.type||"mouseenter"===t.type&&!this.isFocused){var n=null;this.settings.emptyInputBehavior===e.options.emptyInputBehavior.focus&&this.rawValue<0&&null!==this.settings.negativeBracketsTypeOnBlur&&this.settings.isNegativeSignAllowed&&(n=this.constructor._removeBrackets(u.getElementValue(this.domElement),this.settings));var o=this._getRawValueToFormat(this.rawValue);if(""!==o){var r=this.constructor._roundFormattedValueShownOnFocusOrBlur(o,this.settings,this.isFocused);this.settings.showOnlyNumbersOnFocus===e.options.showOnlyNumbersOnFocus.onlyNumbers?(this.settings.digitGroupSeparator="",this.settings.currencySymbol="",this.settings.suffixText="",n=r.replace(".",this.settings.decimalCharacter)):n=u.isNull(r)?"":this.constructor._addGroupSeparators(r.replace(".",this.settings.decimalCharacter),this.settings,this.isFocused,o)}u.isNull(n)?this.valueOnFocus="":this.valueOnFocus=n,this.lastVal=this.valueOnFocus;var i=this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(this.valueOnFocus,this.settings),s=this.constructor._orderValueCurrencySymbolAndSuffixText(this.valueOnFocus,this.settings,!0),a=i&&""!==s&&this.settings.emptyInputBehavior===e.options.emptyInputBehavior.focus;a&&(n=s),u.isNull(n)||this._setElementValue(n),a&&s===this.settings.currencySymbol&&this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix&&u.setElementSelection(t.target,0)}}},{key:"_onFocus",value:function(){this.settings.isCancellable&&this._saveCancellableValue()}},{key:"_onFocusIn",value:function(e){this.settings.selectOnFocus?this.select():u.isNull(this.settings.caretPositionOnFocus)||u.setElementSelection(e.target,this._initialCaretPosition(u.getElementValue(this.domElement)))}},{key:"_enterFormulaMode",value:function(){this.settings.formulaMode&&(this.formulaMode=!0,u.setElementValue(this.domElement,"="),u.setElementSelection(this.domElement,1))}},{key:"_exitFormulaMode",value:function(){var t,n=u.getElementValue(this.domElement);n=n.replace(/^\s*=/,"");try{var o=new k(n,this.settings.decimalCharacter);t=(new p).evaluate(o)}catch(t){return this._triggerEvent(e.events.invalidFormula,this.domElement,{formula:n,aNElement:this}),this.reformat(),void(this.formulaMode=!1)}this._triggerEvent(e.events.validFormula,this.domElement,{formula:n,result:t,aNElement:this}),this.set(t),this.formulaMode=!1}},{key:"_acceptNonPrintableKeysInFormulaMode",value:function(){return this.eventKey===o.keyName.Backspace||this.eventKey===o.keyName.Delete||this.eventKey===o.keyName.LeftArrow||this.eventKey===o.keyName.RightArrow||this.eventKey===o.keyName.Home||this.eventKey===o.keyName.End}},{key:"_onKeydown",value:function(t){if(this.formatted=!1,this.isEditing=!0,this.formulaMode||this.isFocused||!this.settings.unformatOnHover||!t.altKey||this.domElement!==u.getHoveredElement()){if(this._updateEventKeyInfo(t),this.keydownEventCounter+=1,1===this.keydownEventCounter&&(this.initialValueOnFirstKeydown=u.getElementValue(t.target),this.initialRawValueOnFirstKeydown=this.rawValue),this.formulaMode){if(this.eventKey===o.keyName.Esc)return this.formulaMode=!1,void this.reformat();if(this.eventKey===o.keyName.Enter)return void this._exitFormulaMode();if(this._acceptNonPrintableKeysInFormulaMode())return}else{if(this.eventKey===o.keyName.Equal)return void this._enterFormulaMode();if(this.settings.modifyValueOnUpDownArrow&&(this.eventKey===o.keyName.UpArrow||this.eventKey===o.keyName.DownArrow))return void this.upDownArrowAction(t)}if(this.domElement.readOnly||this.settings.readOnly||this.domElement.disabled)this.processed=!0;else{this.eventKey===o.keyName.Esc&&(t.preventDefault(),this.settings.isCancellable&&this.rawValue!==this.savedCancellableValue&&(this.set(this.savedCancellableValue),this._triggerEvent(e.events.native.input,t.target)),this.select());var n=u.getElementValue(t.target);if(this.eventKey===o.keyName.Enter&&this.rawValue!==this.rawValueOnFocus&&(this._triggerEvent(e.events.native.change,t.target),this.valueOnFocus=n,this.rawValueOnFocus=this.rawValue,this.settings.isCancellable&&this._saveCancellableValue()),this._updateInternalProperties(t),this._processNonPrintableKeysAndShortcuts(t))this.processed=!0;else if(this.eventKey===o.keyName.Backspace||this.eventKey===o.keyName.Delete){var r=this._processCharacterDeletion(t);if(this.processed=!0,!r)return void t.preventDefault();this._formatValue(t),(n=u.getElementValue(t.target))!==this.lastVal&&this.throwInput&&(this._triggerEvent(e.events.native.input,t.target),t.preventDefault()),this.lastVal=n,this.throwInput=!0}}}else this.constructor._unformatAltHovered(this)}},{key:"_onKeypress",value:function(t){if(this.formulaMode){if(this._acceptNonPrintableKeysInFormulaMode())return;if(this.settings.formulaChars.test(this.eventKey))return;t.preventDefault()}else if(this.eventKey!==o.keyName.Insert){var n=this.processed;if(this._updateInternalProperties(t),!this._processNonPrintableKeysAndShortcuts(t))if(n)t.preventDefault();else{if(this._processCharacterInsertion()){this._formatValue(t);var r=u.getElementValue(t.target);if(r!==this.lastVal&&this.throwInput)this._triggerEvent(e.events.native.input,t.target),t.preventDefault();else{if((this.eventKey===this.settings.decimalCharacter||this.eventKey===this.settings.decimalCharacterAlternative)&&u.getElementSelection(t.target).start===u.getElementSelection(t.target).end&&u.getElementSelection(t.target).start===r.indexOf(this.settings.decimalCharacter)){var i=u.getElementSelection(t.target).start+1;u.setElementSelection(t.target,i)}t.preventDefault()}return this.lastVal=u.getElementValue(t.target),this.throwInput=!0,void this._setValidOrInvalidState(this.rawValue)}t.preventDefault()}}}},{key:"_onKeyup",value:function(t){if(this.isEditing=!1,this.keydownEventCounter=0,!this.formulaMode)if(this.settings.isCancellable&&this.eventKey===o.keyName.Esc)t.preventDefault();else{if(this._updateEventKeyInfo(t),this.eventKey===o.keyName.Z||this.eventKey===o.keyName.z){if(t.ctrlKey&&t.shiftKey)return t.preventDefault(),this._historyTableRedo(),this._triggerEvent(e.events.native.input,t.target),void(this.onGoingRedo=!0);if(t.ctrlKey&&!t.shiftKey){if(!this.onGoingRedo)return t.preventDefault(),this._historyTableUndo(),void this._triggerEvent(e.events.native.input,t.target);this.onGoingRedo=!1}}else if((this.eventKey===o.keyName.Y||this.eventKey===o.keyName.y)&&t.ctrlKey)return t.preventDefault(),this._historyTableRedo(),this._triggerEvent(e.events.native.input,t.target),void(this.onGoingRedo=!0);if(this.onGoingRedo&&(t.ctrlKey||t.shiftKey)&&(this.onGoingRedo=!1),(t.ctrlKey||t.metaKey)&&this.eventKey===o.keyName.x){var n=u.getElementSelection(this.domElement).start,r=this.constructor._toNumericValue(u.getElementValue(t.target),this.settings);this.set(r),this._setCaretPosition(n)}if(this.eventKey===o.keyName.Alt&&this.settings.unformatOnHover&&this.hoveredWithAlt)this.constructor._reformatAltHovered(this);else if(!t.ctrlKey&&!t.metaKey||this.eventKey!==o.keyName.Backspace&&this.eventKey!==o.keyName.Delete){this._updateInternalProperties(t);var i=this._processNonPrintableKeysAndShortcuts(t);delete this.valuePartsBeforePaste;var s=u.getElementValue(t.target);if(!(i||""===s&&""===this.initialValueOnFirstKeydown)&&(s===this.settings.currencySymbol?this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix?u.setElementSelection(t.target,0):u.setElementSelection(t.target,this.settings.currencySymbol.length):this.eventKey===o.keyName.Tab&&u.setElementSelection(t.target,0,s.length),(s===this.settings.suffixText||""===this.rawValue&&""!==this.settings.currencySymbol&&""!==this.settings.suffixText)&&u.setElementSelection(t.target,0),null!==this.settings.decimalPlacesShownOnFocus&&this._saveValueToPersistentStorage(),this.formatted||this._formatValue(t),this._setValidOrInvalidState(this.rawValue),this._saveRawValueForAndroid(),s!==this.initialValueOnFirstKeydown&&this._triggerEvent(e.events.formatted,t.target,{oldValue:this.initialValueOnFirstKeydown,newValue:s,oldRawValue:this.initialRawValueOnFirstKeydown,newRawValue:this.rawValue,isPristine:this.isPristine(!1),error:null,aNElement:this}),this.historyTable.length>1)){var a=u.getElementSelection(this.domElement);this.selectionStart=a.start,this.selectionEnd=a.end,this.historyTable[this.historyTableIndex].start=this.selectionStart,this.historyTable[this.historyTableIndex].end=this.selectionEnd}}else{var l=u.getElementValue(t.target);this._setRawValue(this._formatOrUnformatOther(!1,l))}}}},{key:"_saveRawValueForAndroid",value:function(){if(this.eventKey===o.keyName.AndroidDefault){var e=this.constructor._stripAllNonNumberCharactersExceptCustomDecimalChar(this.getFormatted(),this.settings,!0,this.isFocused);e=this.constructor._convertToNumericString(e,this.settings),this._setRawValue(e)}}},{key:"_onFocusOutAndMouseLeave",value:function(t){if(this.isEditing=!1,"mouseleave"!==t.type||!this.formulaMode)if(this.settings.unformatOnHover&&"mouseleave"===t.type&&this.hoveredWithAlt)this.constructor._reformatAltHovered(this);else if("mouseleave"===t.type&&!this.isFocused||"blur"===t.type){"blur"===t.type&&this.formulaMode&&this._exitFormulaMode(),this._saveValueToPersistentStorage(),this.settings.showOnlyNumbersOnFocus===e.options.showOnlyNumbersOnFocus.onlyNumbers&&(this.settings.digitGroupSeparator=this.originalDigitGroupSeparator,this.settings.currencySymbol=this.originalCurrencySymbol,this.settings.suffixText=this.originalSuffixText);var n=this._getRawValueToFormat(this.rawValue),o=u.isNull(n),r=O(this.constructor._checkIfInRangeWithOverrideOption(n,this.settings),2),i=r[0],s=r[1],a=!1;if(""===n||o||(this._triggerRangeEvents(i,s),this.settings.valuesToStrings&&this._checkValuesToStrings(n)&&(this._setElementValue(this.settings.valuesToStrings[n]),a=!0)),!a){var l;if(l=o||""===n?n:String(n),""===n||o){if(""===n)switch(this.settings.emptyInputBehavior){case e.options.emptyInputBehavior.zero:this._setRawValue("0"),l=this.constructor._roundValue("0",this.settings,0);break;case e.options.emptyInputBehavior.min:this._setRawValue(this.settings.minimumValue),l=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.minimumValue,this.settings,this.isFocused);break;case e.options.emptyInputBehavior.max:this._setRawValue(this.settings.maximumValue),l=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.maximumValue,this.settings,this.isFocused);break;default:u.isNumber(this.settings.emptyInputBehavior)&&(this._setRawValue(this.settings.emptyInputBehavior),l=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.emptyInputBehavior,this.settings,this.isFocused))}}else i&&s&&!this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(n,this.settings)?(l=this._modifyNegativeSignAndDecimalCharacterForRawValue(l),this.settings.divisorWhenUnfocused&&!u.isNull(l)&&(l=(l/=this.settings.divisorWhenUnfocused).toString()),l=this.constructor._roundFormattedValueShownOnBlur(l,this.settings),l=this.constructor._modifyNegativeSignAndDecimalCharacterForFormattedValue(l,this.settings)):this._triggerRangeEvents(i,s);var c=this.constructor._orderValueCurrencySymbolAndSuffixText(l,this.settings,!1);this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(l,this.settings)||o&&this.settings.emptyInputBehavior===e.options.emptyInputBehavior.null||(c=this.constructor._addGroupSeparators(l,this.settings,!1,n)),c===n&&""!==n&&this.settings.allowDecimalPadding!==e.options.allowDecimalPadding.never&&this.settings.allowDecimalPadding!==e.options.allowDecimalPadding.floats||(this.settings.symbolWhenUnfocused&&""!==n&&null!==n&&(c="".concat(c).concat(this.settings.symbolWhenUnfocused)),this._setElementValue(c))}this._setValidOrInvalidState(this.rawValue),"blur"===t.type&&this._onBlur(t)}}},{key:"_onPaste",value:function(t){if(t.preventDefault(),!(this.settings.readOnly||this.domElement.readOnly||this.domElement.disabled)){var n,o;window.clipboardData&&window.clipboardData.getData?n=window.clipboardData.getData("Text"):t.clipboardData&&t.clipboardData.getData?n=t.clipboardData.getData("text/plain"):u.throwError("Unable to retrieve the pasted value. Please use a modern browser (i.e. Firefox or Chromium)."),o=t.target.tagName?t.target:t.explicitOriginalTarget;var r=u.getElementValue(o),i=o.selectionStart||0,s=o.selectionEnd||0,a=s-i;if(a===r.length){var l=this._preparePastedText(n),c=u.arabicToLatinNumbers(l,!1,!1,!1);return"."===c||""===c||"."!==c&&!u.isNumber(c)?(this.formatted=!0,void(this.settings.onInvalidPaste===e.options.onInvalidPaste.error&&u.throwError("The pasted value '".concat(n,"' is not a valid paste content.")))):(this.set(c),this.formatted=!0,void this._triggerEvent(e.events.native.input,o))}var d=u.isNegativeStrict(n,this.settings.negativeSignCharacter);d&&(n=n.slice(1,n.length));var h,m,p=this._preparePastedText(n);if("."!==(h="."===p?".":u.arabicToLatinNumbers(p,!1,!1,!1))&&(!u.isNumber(h)||""===h))return this.formatted=!0,void(this.settings.onInvalidPaste===e.options.onInvalidPaste.error&&u.throwError("The pasted value '".concat(n,"' is not a valid paste content.")));var f,g,v=u.isNegativeStrict(this.getNumericString(),this.settings.negativeSignCharacter);d&&!v?(v=!0,f=!0):f=!1;var b=r.slice(0,i),y=r.slice(s,r.length);g=i!==s?this._preparePastedText(b+y):this._preparePastedText(r),v&&(g=u.setRawNegativeSign(g)),m=u.convertCharacterCountToIndexPosition(u.countNumberCharactersOnTheCaretLeftSide(r,i,this.settings.decimalCharacter)),f&&m++;var w=g.slice(0,m),x=g.slice(m,g.length),_=!1;"."===h&&(u.contains(w,".")&&(_=!0,w=w.replace(".","")),x=x.replace(".",""));var S=!1;switch(""===w&&"-"===x&&(w="-",x="",S=!0),this.settings.onInvalidPaste){case e.options.onInvalidPaste.truncate:case e.options.onInvalidPaste.replace:for(var C=u.parseStr(this.settings.minimumValue),j=u.parseStr(this.settings.maximumValue),k=g,E=0,O=w;E<h.length&&(g=(O+=h[E])+x,this.constructor._checkIfInRange(g,C,j));)k=g,E++;if(m+=E,S&&m++,this.settings.onInvalidPaste===e.options.onInvalidPaste.truncate){g=k,_&&m--;break}for(var A=m,T=k.length;E<h.length&&A<T;)if("."!==k[A]){if(g=u.replaceCharAt(k,A,h[E]),!this.constructor._checkIfInRange(g,C,j))break;k=g,E++,A++}else A++;m=A,_&&m--,g=k;break;case e.options.onInvalidPaste.error:case e.options.onInvalidPaste.ignore:case e.options.onInvalidPaste.clamp:default:if(g="".concat(w).concat(h).concat(x),i===s)m=u.convertCharacterCountToIndexPosition(u.countNumberCharactersOnTheCaretLeftSide(r,i,this.settings.decimalCharacter))+h.length;else if(""===x)m=u.convertCharacterCountToIndexPosition(u.countNumberCharactersOnTheCaretLeftSide(r,i,this.settings.decimalCharacter))+h.length,S&&m++;else{var D=u.convertCharacterCountToIndexPosition(u.countNumberCharactersOnTheCaretLeftSide(r,s,this.settings.decimalCharacter)),M=u.getElementValue(o).slice(i,s);m=D-a+u.countCharInText(this.settings.digitGroupSeparator,M)+h.length}f&&m++,_&&m--}if(u.isNumber(g)&&""!==g){var P=!1,R=!1;try{this.set(g),P=!0}catch(t){var N;switch(this.settings.onInvalidPaste){case e.options.onInvalidPaste.clamp:N=u.clampToRangeLimits(g,this.settings);try{this.set(N)}catch(e){u.throwError("Fatal error: Unable to set the clamped value '".concat(N,"'."))}R=!0,P=!0,g=N;break;case e.options.onInvalidPaste.error:case e.options.onInvalidPaste.truncate:case e.options.onInvalidPaste.replace:u.throwError("The pasted value '".concat(n,"' results in a value '").concat(g,"' that is outside of the minimum [").concat(this.settings.minimumValue,"] and maximum [").concat(this.settings.maximumValue,"] value range."));case e.options.onInvalidPaste.ignore:default:return}}var L,I=u.getElementValue(o);if(P)switch(this.settings.onInvalidPaste){case e.options.onInvalidPaste.clamp:if(R){this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix?u.setElementSelection(o,I.length-this.settings.currencySymbol.length):u.setElementSelection(o,I.length);break}case e.options.onInvalidPaste.error:case e.options.onInvalidPaste.ignore:case e.options.onInvalidPaste.truncate:case e.options.onInvalidPaste.replace:default:L=u.findCaretPositionInFormattedNumber(g,m,I,this.settings.decimalCharacter),u.setElementSelection(o,L)}P&&r!==I&&this._triggerEvent(e.events.native.input,o)}else this.settings.onInvalidPaste===e.options.onInvalidPaste.error&&u.throwError("The pasted value '".concat(n,"' would result into an invalid content '").concat(g,"'."))}}},{key:"_onBlur",value:function(t){this.isFocused=!1,this.isEditing=!1,u.trimPaddedZerosFromDecimalPlaces(this.rawValue)!==u.trimPaddedZerosFromDecimalPlaces(this.rawValueOnFocus)&&this._triggerEvent(e.events.native.change,t.target),this.rawValueOnFocus=void 0}},{key:"_wheelAndUpDownActions",value:function(t,n,o,r){var i,s=t.target.selectionStart||0,a=t.target.selectionEnd||0,l=this.rawValue;if(i=+(i=u.isUndefinedOrNullOrEmpty(l)?this.settings.minimumValue>0||this.settings.maximumValue<0?n?this.settings.minimumValue:this.settings.maximumValue:0:l),u.isNumber(r)){var c=+r;n?i+=c:o&&(i-=c)}else n?i=u.addAndRoundToNearestAuto(i,this.settings.decimalPlacesRawValue):o&&(i=u.subtractAndRoundToNearestAuto(i,this.settings.decimalPlacesRawValue));(i=u.clampToRangeLimits(i,this.settings))!==+l&&(this.set(i),this._triggerEvent(e.events.native.input,t.target)),t.preventDefault(),this._setSelection(s,a)}},{key:"upDownArrowAction",value:function(e){if(!(this.formulaMode||this.settings.readOnly||this.domElement.readOnly||this.domElement.disabled)){var t=!1,n=!1;this.eventKey===o.keyName.UpArrow?t=!0:this.eventKey===o.keyName.DownArrow?n=!0:u.throwError("Something has gone wrong since neither an Up or Down arrow key is detected, but the function was still called!"),this._wheelAndUpDownActions(e,t,n,this.settings.upDownStep)}}},{key:"_onWheel",value:function(t){this.formulaMode||this.settings.readOnly||this.domElement.readOnly||this.domElement.disabled||this.settings.modifyValueOnWheel&&(this.settings.wheelOn===e.options.wheelOn.focus?this.isFocused?t.shiftKey||this.wheelAction(t):t.shiftKey&&this.wheelAction(t):this.settings.wheelOn===e.options.wheelOn.hover?t.shiftKey?(t.preventDefault(),window.scrollBy(0,u.isNegativeStrict(String(t.deltaY))?-50:50)):this.wheelAction(t):u.throwError("Unknown `wheelOn` option."))}},{key:"wheelAction",value:function(e){this.isWheelEvent=!0;var t=!1,n=!1;u.isWheelUpEvent(e)?t=!0:u.isWheelDownEvent(e)?n=!0:u.throwError("The event is not a 'wheel' event."),this._wheelAndUpDownActions(e,t,n,this.settings.wheelStep),this.isWheelEvent=!1}},{key:"_onDrop",value:function(e){if(!this.formulaMode){var t;this.isDropEvent=!0,e.preventDefault(),t=u.isIE11()?"text":"text/plain";var n=e.dataTransfer.getData(t),o=this.unformatOther(n);this.set(o),this.isDropEvent=!1}}},{key:"_onFormSubmit",value:function(){var e=this;return this._getFormAutoNumericChildren(this.parentForm).map((function(t){return e.constructor.getAutoNumericElement(t)})).forEach((function(e){return e._unformatOnSubmit()})),!0}},{key:"_onFormReset",value:function(){var e=this;this._getFormAutoNumericChildren(this.parentForm).map((function(t){return e.constructor.getAutoNumericElement(t)})).forEach((function(t){var n=e._getDefaultValue(t.node());setTimeout((function(){return t.set(n)}),0)}))}},{key:"_unformatOnSubmit",value:function(){this.settings.unformatOnSubmit&&this._setElementValue(this.rawValue)}},{key:"_onKeydownGlobal",value:function(t){if(u.character(t)===o.keyName.Alt){var n=u.getHoveredElement();if(e.isManagedByAutoNumeric(n)){var r=e.getAutoNumericElement(n);!r.formulaMode&&r.settings.unformatOnHover&&this.constructor._unformatAltHovered(r)}}}},{key:"_onKeyupGlobal",value:function(t){if(u.character(t)===o.keyName.Alt){var n=u.getHoveredElement();if(e.isManagedByAutoNumeric(n)){var r=e.getAutoNumericElement(n);if(r.formulaMode||!r.settings.unformatOnHover)return;this.constructor._reformatAltHovered(r)}}}},{key:"_isElementTagSupported",value:function(){return u.isElement(this.domElement)||u.throwError("The DOM element is not valid, ".concat(this.domElement," given.")),u.isInArray(this.domElement.tagName.toLowerCase(),this.allowedTagList)}},{key:"_isInputElement",value:function(){return"input"===this.domElement.tagName.toLowerCase()}},{key:"_isInputTypeSupported",value:function(){return"text"===this.domElement.type||"hidden"===this.domElement.type||"tel"===this.domElement.type||u.isUndefinedOrNullOrEmpty(this.domElement.type)}},{key:"_checkElement",value:function(){var e=this.domElement.tagName.toLowerCase();this._isElementTagSupported()||u.throwError("The <".concat(e,"> tag is not supported by autoNumeric")),this._isInputElement()?(this._isInputTypeSupported()||u.throwError('The input type "'.concat(this.domElement.type,'" is not supported by autoNumeric')),this.isInputElement=!0):(this.isInputElement=!1,this.isContentEditable=this.domElement.hasAttribute("contenteditable")&&"true"===this.domElement.getAttribute("contenteditable"))}},{key:"_formatDefaultValueOnPageLoad",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=!0;if(u.isNull(n)?(t=u.getElementValue(this.domElement).trim(),this.domElement.setAttribute("value",t)):t=n,this.isInputElement||this.isContentEditable){var r=this.constructor._toNumericValue(t,this.settings);if(this.domElement.hasAttribute("value")&&""!==this.domElement.getAttribute("value")){if(null!==this.settings.defaultValueOverride&&this.settings.defaultValueOverride.toString()!==t||null===this.settings.defaultValueOverride&&""!==t&&t!==this.domElement.getAttribute("value")||""!==t&&"hidden"===this.domElement.getAttribute("type")&&!u.isNumber(r)){if(this.settings.saveValueToSessionStorage&&(null!==this.settings.decimalPlacesShownOnFocus||this.settings.divisorWhenUnfocused)&&this._setRawValue(this._getValueFromPersistentStorage()),!this.settings.saveValueToSessionStorage){var i=this.constructor._removeBrackets(t,this.settings);(this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.suffix||this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.prefix&&this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix)&&""!==this.settings.negativeSignCharacter&&u.isNegative(t,this.settings.negativeSignCharacter)?this._setRawValue("-".concat(this.constructor._stripAllNonNumberCharacters(i,this.settings,!0,this.isFocused))):this._setRawValue(this.constructor._stripAllNonNumberCharacters(i,this.settings,!0,this.isFocused))}o=!1}}else isNaN(Number(r))||1/0===r?u.throwError("The value [".concat(t,"] used in the input is not a valid value autoNumeric can work with.")):(this.set(r),o=!1);if(""===t)switch(this.settings.emptyInputBehavior){case e.options.emptyInputBehavior.focus:case e.options.emptyInputBehavior.null:case e.options.emptyInputBehavior.press:break;case e.options.emptyInputBehavior.always:this._setElementValue(this.settings.currencySymbol);break;case e.options.emptyInputBehavior.min:this.set(this.settings.minimumValue);break;case e.options.emptyInputBehavior.max:this.set(this.settings.maximumValue);break;case e.options.emptyInputBehavior.zero:this.set("0");break;default:this.set(this.settings.emptyInputBehavior)}else o&&t===this.domElement.getAttribute("value")&&this.set(t)}else null!==this.settings.defaultValueOverride&&this.settings.defaultValueOverride!==t||this.set(t)}},{key:"_calculateVMinAndVMaxIntegerSizes",value:function(){var e=O(this.settings.maximumValue.toString().split("."),1)[0],t=O(this.settings.minimumValue||0===this.settings.minimumValue?this.settings.minimumValue.toString().split("."):[],1)[0];e=e.replace(this.settings.negativeSignCharacter,""),t=t.replace(this.settings.negativeSignCharacter,""),this.settings.mIntPos=Math.max(e.length,1),this.settings.mIntNeg=Math.max(t.length,1)}},{key:"_calculateValuesToStringsKeys",value:function(){this.settings.valuesToStrings?this.valuesToStringsKeys=Object.keys(this.settings.valuesToStrings):this.valuesToStringsKeys=[]}},{key:"_transformOptionsValuesToDefaultTypes",value:function(){for(var e in this.settings)if(Object.prototype.hasOwnProperty.call(this.settings,e)){var t=this.settings[e];"true"!==t&&"false"!==t||(this.settings[e]="true"===t),"number"==typeof t&&(this.settings[e]=t.toString())}}},{key:"_setSettings",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!t&&u.isNull(e)||this.constructor._convertOldOptionsToNewOnes(e),t?("decimalPlacesRawValue"in e&&(this.settings.originalDecimalPlacesRawValue=e.decimalPlacesRawValue),"decimalPlaces"in e&&(this.settings.originalDecimalPlaces=e.decimalPlaces),this.constructor._calculateDecimalPlacesOnUpdate(e,this.settings),this._mergeSettings(e)):(this.settings={},this._mergeSettings(this.constructor.getDefaultConfig(),this.domElement.dataset,e,{rawValue:this.defaultRawValue}),this.caretFix=!1,this.throwInput=!0,this.allowedTagList=o.allowedTagList,this.runOnce=!1,this.hoveredWithAlt=!1),this._transformOptionsValuesToDefaultTypes(),this._runCallbacksFoundInTheSettingsObject(),this.constructor._correctNegativePositiveSignPlacementOption(this.settings),this.constructor._correctCaretPositionOnFocusAndSelectOnFocusOptions(this.settings),this.constructor._setNegativePositiveSignPermissions(this.settings),t||(u.isNull(e)||!e.decimalPlaces?this.settings.originalDecimalPlaces=null:this.settings.originalDecimalPlaces=e.decimalPlaces,this.settings.originalDecimalPlacesRawValue=this.settings.decimalPlacesRawValue,this.constructor._calculateDecimalPlacesOnInit(this.settings)),this._calculateVMinAndVMaxIntegerSizes(),this._setTrailingNegativeSignInfo(),this.regex={},this.constructor._cachesUsualRegularExpressions(this.settings,this.regex),this.constructor._setBrackets(this.settings),this._calculateValuesToStringsKeys(),u.isEmptyObj(this.settings)&&u.throwError("Unable to set the settings, those are invalid ; an empty object was given."),this.constructor.validate(this.settings,!1,e),this._keepAnOriginalSettingsCopy()}},{key:"_preparePastedText",value:function(e){return this.constructor._stripAllNonNumberCharacters(e,this.settings,!0,this.isFocused)}},{key:"_updateInternalProperties",value:function(){this.selection=u.getElementSelection(this.domElement),this.processed=!1}},{key:"_updateEventKeyInfo",value:function(e){this.eventKey=u.character(e)}},{key:"_saveCancellableValue",value:function(){this.savedCancellableValue=this.rawValue}},{key:"_setSelection",value:function(e,t){e=Math.max(e,0),t=Math.min(t,u.getElementValue(this.domElement).length),this.selection={start:e,end:t,length:t-e},u.setElementSelection(this.domElement,e,t)}},{key:"_setCaretPosition",value:function(e){this._setSelection(e,e)}},{key:"_getLeftAndRightPartAroundTheSelection",value:function(){var e=u.getElementValue(this.domElement);return[e.substring(0,this.selection.start),e.substring(this.selection.end,e.length)]}},{key:"_getUnformattedLeftAndRightPartAroundTheSelection",value:function(){var t=O(this._getLeftAndRightPartAroundTheSelection(),2),n=t[0],r=t[1];if(""===n&&""===r)return["",""];var i=!0;return this.eventKey!==o.keyName.Hyphen&&this.eventKey!==o.keyName.Minus||0!==Number(n)||(i=!1),this.isTrailingNegative&&(u.isNegative(r,this.settings.negativeSignCharacter)&&!u.isNegative(n,this.settings.negativeSignCharacter)||""===r&&u.isNegative(n,this.settings.negativeSignCharacter,!0))&&(n=n.replace(this.settings.negativeSignCharacter,""),r=r.replace(this.settings.negativeSignCharacter,""),n=n.replace("-",""),r=r.replace("-",""),n="-".concat(n)),[n=e._stripAllNonNumberCharactersExceptCustomDecimalChar(n,this.settings,i,this.isFocused),r=e._stripAllNonNumberCharactersExceptCustomDecimalChar(r,this.settings,!1,this.isFocused)]}},{key:"_normalizeParts",value:function(t,n){var r=!0;this.eventKey!==o.keyName.Hyphen&&this.eventKey!==o.keyName.Minus||0!==Number(t)||(r=!1),this.isTrailingNegative&&u.isNegative(n,this.settings.negativeSignCharacter)&&!u.isNegative(t,this.settings.negativeSignCharacter)&&(t="-".concat(t),n=n.replace(this.settings.negativeSignCharacter,"")),t=e._stripAllNonNumberCharactersExceptCustomDecimalChar(t,this.settings,r,this.isFocused),n=e._stripAllNonNumberCharactersExceptCustomDecimalChar(n,this.settings,!1,this.isFocused),this.settings.leadingZero!==e.options.leadingZero.deny||this.eventKey!==o.keyName.num0&&this.eventKey!==o.keyName.numpad0||0!==Number(t)||u.contains(t,this.settings.decimalCharacter)||""===n||(t=t.substring(0,t.length-1));var i=t+n;if(this.settings.decimalCharacter){var s=i.match(new RegExp("^".concat(this.regex.aNegRegAutoStrip,"\\").concat(this.settings.decimalCharacter)));s&&(i=(t=t.replace(s[1],s[1]+"0"))+n)}return[t,n,i]}},{key:"_setValueParts",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=O(this._normalizeParts(t,n),3),i=r[0],s=r[1],a=r[2],l=O(e._checkIfInRangeWithOverrideOption(a,this.settings),2),c=l[0],d=l[1];if(c&&d){var u=e._truncateDecimalPlaces(a,this.settings,o,this.settings.decimalPlacesRawValue).replace(this.settings.decimalCharacter,".");if(""===u||u===this.settings.negativeSignCharacter){var h;switch(this.settings.emptyInputBehavior){case e.options.emptyInputBehavior.focus:case e.options.emptyInputBehavior.press:case e.options.emptyInputBehavior.always:h="";break;case e.options.emptyInputBehavior.min:h=this.settings.minimumValue;break;case e.options.emptyInputBehavior.max:h=this.settings.maximumValue;break;case e.options.emptyInputBehavior.zero:h="0";break;case e.options.emptyInputBehavior.null:h=null;break;default:h=this.settings.emptyInputBehavior}this._setRawValue(h)}else this._setRawValue(this._trimLeadingAndTrailingZeros(u));var m=e._truncateDecimalPlaces(a,this.settings,o,this.settings.decimalPlacesShownOnFocus),p=i.length;return p>m.length&&(p=m.length),1===p&&"0"===i&&this.settings.leadingZero===e.options.leadingZero.deny&&(p=""===s||"0"===i&&""!==s?1:0),this._setElementValue(m,!1),this._setCaretPosition(p),!0}return this._triggerRangeEvents(c,d),!1}},{key:"_getSignPosition",value:function(){var t;if(this.settings.currencySymbol){var n=this.settings.currencySymbol.length,o=u.getElementValue(this.domElement);if(this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix)t=this.settings.negativeSignCharacter&&o&&o.charAt(0)===this.settings.negativeSignCharacter?[1,n+1]:[0,n];else{var r=o.length;t=[r-n,r]}}else t=[1e3,-1];return t}},{key:"_expandSelectionOnSign",value:function(){var e=O(this._getSignPosition(),2),t=e[0],n=e[1],o=this.selection;o.start<n&&o.end>t&&((o.start<t||o.end>n)&&u.getElementValue(this.domElement).substring(Math.max(o.start,t),Math.min(o.end,n)).match(/^\s*$/)?o.start<t?this._setSelection(o.start,t):this._setSelection(n,o.end):this._setSelection(Math.min(o.start,t),Math.max(o.end,n)))}},{key:"_checkPaste",value:function(){if(!this.formatted&&!u.isUndefined(this.valuePartsBeforePaste)){var t=this.valuePartsBeforePaste,n=O(this._getLeftAndRightPartAroundTheSelection(),2),o=n[0],r=n[1];delete this.valuePartsBeforePaste;var i=o.substr(0,t[0].length)+e._stripAllNonNumberCharactersExceptCustomDecimalChar(o.substr(t[0].length),this.settings,!0,this.isFocused);this._setValueParts(i,r,!0)||(this._setElementValue(t.join(""),!1),this._setCaretPosition(t[0].length))}}},{key:"_processNonPrintableKeysAndShortcuts",value:function(e){if((e.ctrlKey||e.metaKey)&&"keyup"===e.type&&!u.isUndefined(this.valuePartsBeforePaste)||e.shiftKey&&this.eventKey===o.keyName.Insert)return this._checkPaste(),!1;if(this.constructor._shouldSkipEventKey(this.eventKey))return!0;if((e.ctrlKey||e.metaKey)&&this.eventKey===o.keyName.a)return this.settings.selectNumberOnly&&(e.preventDefault(),this.selectNumber()),!0;if((e.ctrlKey||e.metaKey)&&(this.eventKey===o.keyName.c||this.eventKey===o.keyName.v||this.eventKey===o.keyName.x))return"keydown"===e.type&&this._expandSelectionOnSign(),this.eventKey!==o.keyName.v&&this.eventKey!==o.keyName.Insert||("keydown"===e.type||"keypress"===e.type?u.isUndefined(this.valuePartsBeforePaste)&&(this.valuePartsBeforePaste=this._getLeftAndRightPartAroundTheSelection()):this._checkPaste()),"keydown"===e.type||"keypress"===e.type||this.eventKey===o.keyName.c;if(e.ctrlKey||e.metaKey)return!(this.eventKey===o.keyName.Z||this.eventKey===o.keyName.z);if(this.eventKey===o.keyName.LeftArrow||this.eventKey===o.keyName.RightArrow){if("keydown"===e.type&&!e.shiftKey){var t=u.getElementValue(this.domElement);this.eventKey!==o.keyName.LeftArrow||t.charAt(this.selection.start-2)!==this.settings.digitGroupSeparator&&t.charAt(this.selection.start-2)!==this.settings.decimalCharacter?this.eventKey!==o.keyName.RightArrow||t.charAt(this.selection.start+1)!==this.settings.digitGroupSeparator&&t.charAt(this.selection.start+1)!==this.settings.decimalCharacter||this._setCaretPosition(this.selection.start+1):this._setCaretPosition(this.selection.start-1)}return!0}return u.isInArray(this.eventKey,o.keyName._directionKeys)}},{key:"_processCharacterDeletionIfTrailingNegativeSign",value:function(t){var n=O(t,2),r=n[0],i=n[1],s=u.getElementValue(this.domElement),a=u.isNegative(s,this.settings.negativeSignCharacter);if(this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.suffix&&(this.eventKey===o.keyName.Backspace?(this.caretFix=this.selection.start>=s.indexOf(this.settings.suffixText)&&""!==this.settings.suffixText,"-"===s.charAt(this.selection.start-1)?r=r.substring(1):this.selection.start<=s.length-this.settings.suffixText.length&&(r=r.substring(0,r.length-1))):(this.caretFix=this.selection.start>=s.indexOf(this.settings.suffixText)&&""!==this.settings.suffixText,this.selection.start>=s.indexOf(this.settings.currencySymbol)+this.settings.currencySymbol.length&&(i=i.substring(1,i.length)),u.isNegative(r,this.settings.negativeSignCharacter)&&"-"===s.charAt(this.selection.start)&&(r=r.substring(1)))),this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix)switch(this.settings.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.left:this.caretFix=this.selection.start>=s.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length,this.eventKey===o.keyName.Backspace?this.selection.start===s.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length&&a?r=r.substring(1):"-"!==r&&(this.selection.start<=s.indexOf(this.settings.negativeSignCharacter)||!a)&&(r=r.substring(0,r.length-1)):("-"===r[0]&&(i=i.substring(1)),this.selection.start===s.indexOf(this.settings.negativeSignCharacter)&&a&&(r=r.substring(1)));break;case e.options.negativePositiveSignPlacement.right:this.caretFix=this.selection.start>=s.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length,this.eventKey===o.keyName.Backspace?this.selection.start===s.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length?r=r.substring(1):"-"!==r&&this.selection.start<=s.indexOf(this.settings.negativeSignCharacter)-this.settings.currencySymbol.length?r=r.substring(0,r.length-1):""===r||a||(r=r.substring(0,r.length-1)):(this.caretFix=this.selection.start>=s.indexOf(this.settings.currencySymbol)&&""!==this.settings.currencySymbol,this.selection.start===s.indexOf(this.settings.negativeSignCharacter)&&(r=r.substring(1)),i=i.substring(1))}return[r,i]}},{key:"_processCharacterDeletion",value:function(e){var t,n;if(this.selection.length){this._expandSelectionOnSign();var r=O(this._getUnformattedLeftAndRightPartAroundTheSelection(),2);t=r[0],n=r[1]}else{var i=O(this._getUnformattedLeftAndRightPartAroundTheSelection(),2);if(t=i[0],n=i[1],""===t&&""===n&&(this.throwInput=!1),this.isTrailingNegative&&u.isNegative(u.getElementValue(this.domElement),this.settings.negativeSignCharacter)){var s=O(this._processCharacterDeletionIfTrailingNegativeSign([t,n]),2);t=s[0],n=s[1]}else this.eventKey===o.keyName.Backspace?t=t.substring(0,t.length-1):n=n.substring(1,n.length)}return!!this.constructor._isWithinRangeWithOverrideOption("".concat(t).concat(n),this.settings)&&u.getElementValue(e.target)!==this.settings.currencySymbol&&(this._setValueParts(t,n),!0)}},{key:"_isDecimalCharacterInsertionAllowed",value:function(){return String(this.settings.decimalPlacesShownOnFocus)!==String(e.options.decimalPlacesShownOnFocus.none)&&String(this.settings.decimalPlaces)!==String(e.options.decimalPlaces.none)}},{key:"_processCharacterInsertion",value:function(){var e=O(this._getUnformattedLeftAndRightPartAroundTheSelection(),2),t=e[0],n=e[1];if(this.eventKey!==o.keyName.AndroidDefault&&(this.throwInput=!0),this.eventKey===this.settings.decimalCharacter||this.settings.decimalCharacterAlternative&&this.eventKey===this.settings.decimalCharacterAlternative){if(!this._isDecimalCharacterInsertionAllowed()||!this.settings.decimalCharacter)return!1;if(this.settings.alwaysAllowDecimalCharacter)t=t.replace(this.settings.decimalCharacter,""),n=n.replace(this.settings.decimalCharacter,"");else{if(u.contains(t,this.settings.decimalCharacter))return!0;if(n.indexOf(this.settings.decimalCharacter)>0)return!0;0===n.indexOf(this.settings.decimalCharacter)&&(n=n.substr(1))}return this.settings.negativeSignCharacter&&u.contains(n,this.settings.negativeSignCharacter)&&(t="".concat(this.settings.negativeSignCharacter).concat(t),n=n.replace(this.settings.negativeSignCharacter,"")),this._setValueParts(t+this.settings.decimalCharacter,n),!0}if(("-"===this.eventKey||"+"===this.eventKey)&&this.settings.isNegativeSignAllowed)return""===t&&u.contains(n,"-")?(this.settings.negativePositiveSignBehavior||!this.settings.negativePositiveSignBehavior&&"+"===this.eventKey)&&(n=n.replace("-","")):u.isNegativeStrict(t,"-")?(this.settings.negativePositiveSignBehavior||!this.settings.negativePositiveSignBehavior&&"+"===this.eventKey)&&(t=t.replace("-","")):(this.settings.negativePositiveSignBehavior||!this.settings.negativePositiveSignBehavior&&"-"===this.eventKey)&&(t="".concat(this.settings.negativeSignCharacter).concat(t)),this._setValueParts(t,n),!0;var r=Number(this.eventKey);return r>=0&&r<=9?(this.settings.isNegativeSignAllowed&&""===t&&u.contains(n,"-")&&(t="-",n=n.substring(1,n.length)),this.settings.maximumValue<=0&&this.settings.minimumValue<this.settings.maximumValue&&!u.contains(u.getElementValue(this.domElement),this.settings.negativeSignCharacter)&&"0"!==this.eventKey&&(t="-".concat(t)),this._setValueParts("".concat(t).concat(this.eventKey),n),!0):(this.throwInput=!1,!1)}},{key:"_formatValue",value:function(t){var n=u.getElementValue(this.domElement),r=O(this._getUnformattedLeftAndRightPartAroundTheSelection(),1)[0];if((""===this.settings.digitGroupSeparator||""!==this.settings.digitGroupSeparator&&!u.contains(n,this.settings.digitGroupSeparator))&&(""===this.settings.currencySymbol||""!==this.settings.currencySymbol&&!u.contains(n,this.settings.currencySymbol))){var i=O(n.split(this.settings.decimalCharacter),1)[0],s="";u.isNegative(i,this.settings.negativeSignCharacter)&&(s=this.settings.negativeSignCharacter,i=i.replace(this.settings.negativeSignCharacter,""),r=r.replace("-","")),""===s&&i.length>this.settings.mIntPos&&"0"===r.charAt(0)&&(r=r.slice(1)),s===this.settings.negativeSignCharacter&&i.length>this.settings.mIntNeg&&"0"===r.charAt(0)&&(r=r.slice(1)),this.isTrailingNegative||(r="".concat(s).concat(r))}var a=this.constructor._addGroupSeparators(n,this.settings,this.isFocused,this.rawValue),l=a.length;if(a){var c,d=r.split("");if((this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.suffix||this.settings.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.prefix&&this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix)&&d[0]===this.settings.negativeSignCharacter&&!this.settings.isNegativeSignAllowed&&(d.shift(),(this.eventKey===o.keyName.Backspace||this.eventKey===o.keyName.Delete)&&this.caretFix&&((this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix&&this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.left||this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.suffix)&&(d.push(this.settings.negativeSignCharacter),this.caretFix="keydown"===t.type),this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix&&this.settings.negativePositiveSignPlacement===e.options.negativePositiveSignPlacement.right))){var h=this.settings.currencySymbol.split(""),m=["\\","^","$",".","|","?","*","+","(",")","["],p=[];h.forEach((function(e,t){t=h[e],u.isInArray(t,m)?p.push("\\"+t):p.push(t)})),this.eventKey===o.keyName.Backspace&&"-"===this.settings.negativeSignCharacter&&p.push("-"),d.push(p.join("")),this.caretFix="keydown"===t.type}for(var f=0;f<d.length;f++)d[f].match("\\d")||(d[f]="\\"+d[f]);c=this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix?new RegExp("^.*?".concat(d.join(".*?"))):new RegExp("^.*?[".concat(this.settings.currencySymbol,"]*").concat(d.join(".*?")));var g=a.match(c);g?(l=g[0].length,this.settings.showPositiveSign&&(0===l&&g.input.charAt(0)===this.settings.positiveSignCharacter&&(l=1===g.input.indexOf(this.settings.currencySymbol)?this.settings.currencySymbol.length+1:1),0===l&&g.input.charAt(this.settings.currencySymbol.length)===this.settings.positiveSignCharacter&&(l=this.settings.currencySymbol.length+1)),(0===l&&a.charAt(0)!==this.settings.negativeSignCharacter||1===l&&a.charAt(0)===this.settings.negativeSignCharacter)&&this.settings.currencySymbol&&this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix&&(l=this.settings.currencySymbol.length+(u.isNegativeStrict(a,this.settings.negativeSignCharacter)?1:0))):(this.settings.currencySymbol&&this.settings.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix&&(l-=this.settings.currencySymbol.length),this.settings.suffixText&&(l-=this.settings.suffixText.length))}a!==n&&(this._setElementValue(a,!1),this._setCaretPosition(l)),this.formatted=!0}}],r=[{key:"version",value:function(){return"4.8.1"}},{key:"_setArgumentsValues",value:function(e,t,n){u.isNull(e)&&u.throwError("At least one valid parameter is needed in order to initialize an AutoNumeric object");var o,r,i,s=u.isElement(e),a=u.isString(e),l=u.isObject(t),c=Array.isArray(t)&&t.length>0,d=u.isNumberOrArabic(t)||""===t,h=this._isPreDefinedOptionValid(t),m=u.isNull(t),p=u.isEmptyString(t),f=u.isObject(n),g=Array.isArray(n)&&n.length>0,v=u.isNull(n),b=this._isPreDefinedOptionValid(n);return s&&m&&v?(o=e,i=null,r=null):s&&d&&v?(o=e,i=t,r=null):s&&l&&v?(o=e,i=null,r=t):s&&h&&v?(o=e,i=null,r=this._getOptionObject(t)):s&&c&&v?(o=e,i=null,r=this.mergeOptions(t)):s&&(m||p)&&f?(o=e,i=null,r=n):s&&(m||p)&&g?(o=e,i=null,r=this.mergeOptions(n)):a&&m&&v?(o=document.querySelector(e),i=null,r=null):a&&l&&v?(o=document.querySelector(e),i=null,r=t):a&&h&&v?(o=document.querySelector(e),i=null,r=this._getOptionObject(t)):a&&c&&v?(o=document.querySelector(e),i=null,r=this.mergeOptions(t)):a&&(m||p)&&f?(o=document.querySelector(e),i=null,r=n):a&&(m||p)&&g?(o=document.querySelector(e),i=null,r=this.mergeOptions(n)):a&&d&&v?(o=document.querySelector(e),i=t,r=null):a&&d&&f?(o=document.querySelector(e),i=t,r=n):a&&d&&b?(o=document.querySelector(e),i=t,r=this._getOptionObject(n)):a&&d&&g?(o=document.querySelector(e),i=t,r=this.mergeOptions(n)):s&&d&&f?(o=e,i=t,r=n):s&&d&&b?(o=e,i=t,r=this._getOptionObject(n)):s&&d&&g?(o=e,i=t,r=this.mergeOptions(n)):u.throwError("The parameters given to the AutoNumeric object are not valid, '".concat(e,"', '").concat(t,"' and '").concat(n,"' given.")),u.isNull(o)&&u.throwError("The selector '".concat(e,"' did not select any valid DOM element. Please check on which element you called AutoNumeric.")),{domElement:o,initialValue:i,userOptions:r}}},{key:"mergeOptions",value:function(e){var t=this,n={};return e.forEach((function(e){D(n,t._getOptionObject(e))})),n}},{key:"_isPreDefinedOptionValid",value:function(t){return Object.prototype.hasOwnProperty.call(e.predefinedOptions,t)}},{key:"_getOptionObject",value:function(t){var n;return u.isString(t)?null==(n=e.getPredefinedOptions()[t])&&u.warning("The given pre-defined option [".concat(t,"] is not recognized by autoNumeric. Please check that pre-defined option name."),!0):n=t,n}},{key:"_doesFormHandlerListExists",value:function(){var e=M(window.aNFormHandlerMap);return"undefined"!==e&&"object"===e}},{key:"_createFormHandlerList",value:function(){window.aNFormHandlerMap=new Map}},{key:"_checkValuesToStringsArray",value:function(e,t){return u.isInArray(String(e),t)}},{key:"_checkValuesToStringsSettings",value:function(e,t){return this._checkValuesToStringsArray(e,Object.keys(t.valuesToStrings))}},{key:"_checkStringsToValuesSettings",value:function(e,t){return this._checkValuesToStringsArray(e,Object.values(t.valuesToStrings))}},{key:"_unformatAltHovered",value:function(e){e.hoveredWithAlt=!0,e.unformat()}},{key:"_reformatAltHovered",value:function(e){e.hoveredWithAlt=!1,e.reformat()}},{key:"_getChildANInputElement",value:function(e){var t=this,n=e.getElementsByTagName("input"),o=[];return Array.prototype.slice.call(n,0).forEach((function(e){t.test(e)&&o.push(e)})),o}},{key:"test",value:function(e){return this._isInGlobalList(u.domElement(e))}},{key:"_createWeakMap",value:function(e){window[e]=new WeakMap}},{key:"_createGlobalList",value:function(){this.autoNumericGlobalListName="autoNumericGlobalList",this._createWeakMap(this.autoNumericGlobalListName)}},{key:"_doesGlobalListExists",value:function(){var e=M(window[this.autoNumericGlobalListName]);return"undefined"!==e&&"object"===e}},{key:"_addToGlobalList",value:function(e){this._doesGlobalListExists()||this._createGlobalList();var t=e.node();if(this._isInGlobalList(t)){if(this._getFromGlobalList(t)===this)return;u.warning("A reference to the DOM element you just initialized already exists in the global AutoNumeric element list. Please make sure to not initialize the same DOM element multiple times.",e.getSettings().showWarnings)}window[this.autoNumericGlobalListName].set(t,e)}},{key:"_removeFromGlobalList",value:function(e){this._doesGlobalListExists()&&window[this.autoNumericGlobalListName].delete(e.node())}},{key:"_getFromGlobalList",value:function(e){return this._doesGlobalListExists()?window[this.autoNumericGlobalListName].get(e):null}},{key:"_isInGlobalList",value:function(e){return!!this._doesGlobalListExists()&&window[this.autoNumericGlobalListName].has(e)}},{key:"validate",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!u.isUndefinedOrNullOrEmpty(t)&&u.isObject(t)||u.throwError("The userOptions are invalid ; it should be a valid object, [".concat(t,"] given."));var r,i=u.isObject(o);i||u.isNull(o)||u.throwError("The 'originalOptions' parameter is invalid ; it should either be a valid option object or `null`, [".concat(t,"] given.")),u.isNull(t)||this._convertOldOptionsToNewOnes(t),r=n?D({},this.getDefaultConfig(),t):t,u.isTrueOrFalseString(r.showWarnings)||u.isBoolean(r.showWarnings)||u.throwError("The debug option 'showWarnings' is invalid ; it should be either 'true' or 'false', [".concat(r.showWarnings,"] given."));var s,a=/^[0-9]+$/,l=/[0-9]+/,c=/^-?[0-9]+(\.?[0-9]+)?$/,d=/^[0-9]+(\.?[0-9]+)?$/;u.isTrueOrFalseString(r.allowDecimalPadding)||u.isBoolean(r.allowDecimalPadding)||r.allowDecimalPadding===e.options.allowDecimalPadding.floats||u.isNumber(r.allowDecimalPadding)&&r.allowDecimalPadding>0||u.throwError("The decimal padding option 'allowDecimalPadding' is invalid ; it should either be `false`, `true`, `'floats'` or a positive integer superior to 0, [".concat(r.allowDecimalPadding,"] given.")),u.isNumber(r.allowDecimalPadding)&&r.allowDecimalPadding>r.decimalPlaces&&u.warning("Setting 'allowDecimalPadding' to a number [".concat(r.allowDecimalPadding,"] superior to the current 'decimalPlaces' settings [").concat(r.decimalPlaces,"] is useless, since the padding will not be shown."),r.showWarnings),r.allowDecimalPadding!==e.options.allowDecimalPadding.never&&"false"!==r.allowDecimalPadding||r.decimalPlaces===e.options.decimalPlaces.none&&r.decimalPlacesShownOnBlur===e.options.decimalPlacesShownOnBlur.none&&r.decimalPlacesShownOnFocus===e.options.decimalPlacesShownOnFocus.none||u.warning("Setting 'allowDecimalPadding' to [".concat(r.allowDecimalPadding,"] will override the current 'decimalPlaces*' settings [").concat(r.decimalPlaces,", ").concat(r.decimalPlacesShownOnBlur," and ").concat(r.decimalPlacesShownOnFocus,"]."),r.showWarnings),u.isTrueOrFalseString(r.alwaysAllowDecimalCharacter)||u.isBoolean(r.alwaysAllowDecimalCharacter)||u.throwError("The option 'alwaysAllowDecimalCharacter' is invalid ; it should either be `true` or `false`, [".concat(r.alwaysAllowDecimalCharacter,"] given.")),u.isNull(r.caretPositionOnFocus)||u.isInArray(r.caretPositionOnFocus,[e.options.caretPositionOnFocus.start,e.options.caretPositionOnFocus.end,e.options.caretPositionOnFocus.decimalLeft,e.options.caretPositionOnFocus.decimalRight])||u.throwError("The display on empty string option 'caretPositionOnFocus' is invalid ; it should either be `null`, 'focus', 'press', 'always' or 'zero', [".concat(r.caretPositionOnFocus,"] given.")),s=i?o:this._correctCaretPositionOnFocusAndSelectOnFocusOptions(t),u.isNull(s)||s.caretPositionOnFocus===e.options.caretPositionOnFocus.doNoForceCaretPosition||s.selectOnFocus!==e.options.selectOnFocus.select||u.warning("The 'selectOnFocus' option is set to 'select', which is in conflict with the 'caretPositionOnFocus' which is set to '".concat(s.caretPositionOnFocus,"'. As a result, if this has been called when instantiating an AutoNumeric object, the 'selectOnFocus' option is forced to 'doNotSelect'."),r.showWarnings),u.isInArray(r.digitGroupSeparator,[e.options.digitGroupSeparator.comma,e.options.digitGroupSeparator.dot,e.options.digitGroupSeparator.normalSpace,e.options.digitGroupSeparator.thinSpace,e.options.digitGroupSeparator.narrowNoBreakSpace,e.options.digitGroupSeparator.noBreakSpace,e.options.digitGroupSeparator.noSeparator,e.options.digitGroupSeparator.apostrophe,e.options.digitGroupSeparator.arabicThousandsSeparator,e.options.digitGroupSeparator.dotAbove,e.options.digitGroupSeparator.privateUseTwo])||u.throwError("The thousand separator character option 'digitGroupSeparator' is invalid ; it should be ',', '.', '', '', \"'\", '', ' ', '', '', '' or empty (''), [".concat(r.digitGroupSeparator,"] given.")),u.isTrueOrFalseString(r.showOnlyNumbersOnFocus)||u.isBoolean(r.showOnlyNumbersOnFocus)||u.throwError("The 'showOnlyNumbersOnFocus' option is invalid ; it should be either 'true' or 'false', [".concat(r.showOnlyNumbersOnFocus,"] given.")),u.isInArray(r.digitalGroupSpacing,[e.options.digitalGroupSpacing.two,e.options.digitalGroupSpacing.twoScaled,e.options.digitalGroupSpacing.three,e.options.digitalGroupSpacing.four])||r.digitalGroupSpacing>=2&&r.digitalGroupSpacing<=4||u.throwError("The grouping separator option for thousands 'digitalGroupSpacing' is invalid ; it should be '2', '2s', '3', or '4', [".concat(r.digitalGroupSpacing,"] given.")),u.isInArray(r.decimalCharacter,[e.options.decimalCharacter.comma,e.options.decimalCharacter.dot,e.options.decimalCharacter.middleDot,e.options.decimalCharacter.arabicDecimalSeparator,e.options.decimalCharacter.decimalSeparatorKeySymbol])||u.throwError("The decimal separator character option 'decimalCharacter' is invalid ; it should be '.', ',', '', '' or '', [".concat(r.decimalCharacter,"] given.")),r.decimalCharacter===r.digitGroupSeparator&&u.throwError("autoNumeric will not function properly when the decimal character 'decimalCharacter' [".concat(r.decimalCharacter,"] and the thousand separator 'digitGroupSeparator' [").concat(r.digitGroupSeparator,"] are the same character.")),u.isNull(r.decimalCharacterAlternative)||u.isString(r.decimalCharacterAlternative)||u.throwError("The alternate decimal separator character option 'decimalCharacterAlternative' is invalid ; it should be a string, [".concat(r.decimalCharacterAlternative,"] given.")),""===r.currencySymbol||u.isString(r.currencySymbol)||u.throwError("The currency symbol option 'currencySymbol' is invalid ; it should be a string, [".concat(r.currencySymbol,"] given.")),u.isInArray(r.currencySymbolPlacement,[e.options.currencySymbolPlacement.prefix,e.options.currencySymbolPlacement.suffix])||u.throwError("The placement of the currency sign option 'currencySymbolPlacement' is invalid ; it should either be 'p' (prefix) or 's' (suffix), [".concat(r.currencySymbolPlacement,"] given.")),u.isInArray(r.negativePositiveSignPlacement,[e.options.negativePositiveSignPlacement.prefix,e.options.negativePositiveSignPlacement.suffix,e.options.negativePositiveSignPlacement.left,e.options.negativePositiveSignPlacement.right,e.options.negativePositiveSignPlacement.none])||u.throwError("The placement of the negative sign option 'negativePositiveSignPlacement' is invalid ; it should either be 'p' (prefix), 's' (suffix), 'l' (left), 'r' (right) or 'null', [".concat(r.negativePositiveSignPlacement,"] given.")),u.isTrueOrFalseString(r.showPositiveSign)||u.isBoolean(r.showPositiveSign)||u.throwError("The show positive sign option 'showPositiveSign' is invalid ; it should be either 'true' or 'false', [".concat(r.showPositiveSign,"] given.")),(!u.isString(r.suffixText)||""!==r.suffixText&&(u.isNegative(r.suffixText,r.negativeSignCharacter)||l.test(r.suffixText)))&&u.throwError("The additional suffix option 'suffixText' is invalid ; it should not contains the negative sign '".concat(r.negativeSignCharacter,"' nor any numerical characters, [").concat(r.suffixText,"] given.")),(!u.isString(r.negativeSignCharacter)||1!==r.negativeSignCharacter.length||u.isUndefinedOrNullOrEmpty(r.negativeSignCharacter)||l.test(r.negativeSignCharacter))&&u.throwError("The negative sign character option 'negativeSignCharacter' is invalid ; it should be a single character, and cannot be any numerical characters, [".concat(r.negativeSignCharacter,"] given.")),(!u.isString(r.positiveSignCharacter)||1!==r.positiveSignCharacter.length||u.isUndefinedOrNullOrEmpty(r.positiveSignCharacter)||l.test(r.positiveSignCharacter))&&u.throwError("The positive sign character option 'positiveSignCharacter' is invalid ; it should be a single character, and cannot be any numerical characters, [".concat(r.positiveSignCharacter,"] given.\nIf you want to show the positive sign character, you need to set the `showPositiveSign` option to `true`.")),r.negativeSignCharacter===r.positiveSignCharacter&&u.throwError("The positive 'positiveSignCharacter' and negative 'negativeSignCharacter' sign characters cannot be identical ; [".concat(r.negativeSignCharacter,"] given.")),u.isTrueOrFalseString(r.negativePositiveSignBehavior)||u.isBoolean(r.negativePositiveSignBehavior)||u.throwError("The option 'negativePositiveSignBehavior' is invalid ; it should be either 'true' or 'false', [".concat(r.negativePositiveSignBehavior,"] given."));var h=O(u.isNull(r.negativeBracketsTypeOnBlur)?["",""]:r.negativeBracketsTypeOnBlur.split(","),2),m=h[0],p=h[1];(u.contains(r.digitGroupSeparator,r.negativeSignCharacter)||u.contains(r.decimalCharacter,r.negativeSignCharacter)||u.contains(r.decimalCharacterAlternative,r.negativeSignCharacter)||u.contains(m,r.negativeSignCharacter)||u.contains(p,r.negativeSignCharacter)||u.contains(r.suffixText,r.negativeSignCharacter))&&u.throwError("The negative sign character option 'negativeSignCharacter' is invalid ; it should not be equal or a part of the digit separator, the decimal character, the decimal character alternative, the negative brackets or the suffix text, [".concat(r.negativeSignCharacter,"] given.")),(u.contains(r.digitGroupSeparator,r.positiveSignCharacter)||u.contains(r.decimalCharacter,r.positiveSignCharacter)||u.contains(r.decimalCharacterAlternative,r.positiveSignCharacter)||u.contains(m,r.positiveSignCharacter)||u.contains(p,r.positiveSignCharacter)||u.contains(r.suffixText,r.positiveSignCharacter))&&u.throwError("The positive sign character option 'positiveSignCharacter' is invalid ; it should not be equal or a part of the digit separator, the decimal character, the decimal character alternative, the negative brackets or the suffix text, [".concat(r.positiveSignCharacter,"] given.")),u.isNull(r.overrideMinMaxLimits)||u.isInArray(r.overrideMinMaxLimits,[e.options.overrideMinMaxLimits.ceiling,e.options.overrideMinMaxLimits.floor,e.options.overrideMinMaxLimits.ignore,e.options.overrideMinMaxLimits.invalid])||u.throwError("The override min & max limits option 'overrideMinMaxLimits' is invalid ; it should either be 'ceiling', 'floor', 'ignore' or 'invalid', [".concat(r.overrideMinMaxLimits,"] given.")),r.overrideMinMaxLimits!==e.options.overrideMinMaxLimits.invalid&&r.overrideMinMaxLimits!==e.options.overrideMinMaxLimits.ignore&&(r.minimumValue>0||r.maximumValue<0)&&u.warning("You've set a `minimumValue` or a `maximumValue` excluding the value `0`. AutoNumeric will force the users to always have a valid value in the input, hence preventing them to clear the field. If you want to allow for temporary invalid values (i.e. out-of-range), you should use the 'invalid' option for the 'overrideMinMaxLimits' setting."),u.isString(r.maximumValue)&&c.test(r.maximumValue)||u.throwError("The maximum possible value option 'maximumValue' is invalid ; it should be a string that represents a positive or negative number, [".concat(r.maximumValue,"] given.")),u.isString(r.minimumValue)&&c.test(r.minimumValue)||u.throwError("The minimum possible value option 'minimumValue' is invalid ; it should be a string that represents a positive or negative number, [".concat(r.minimumValue,"] given.")),parseFloat(r.minimumValue)>parseFloat(r.maximumValue)&&u.throwError("The minimum possible value option is greater than the maximum possible value option ; 'minimumValue' [".concat(r.minimumValue,"] should be smaller than 'maximumValue' [").concat(r.maximumValue,"].")),u.isInt(r.decimalPlaces)&&r.decimalPlaces>=0||u.isString(r.decimalPlaces)&&a.test(r.decimalPlaces)||u.throwError("The number of decimal places option 'decimalPlaces' is invalid ; it should be a positive integer, [".concat(r.decimalPlaces,"] given.")),u.isNull(r.decimalPlacesRawValue)||u.isInt(r.decimalPlacesRawValue)&&r.decimalPlacesRawValue>=0||u.isString(r.decimalPlacesRawValue)&&a.test(r.decimalPlacesRawValue)||u.throwError("The number of decimal places for the raw value option 'decimalPlacesRawValue' is invalid ; it should be a positive integer or `null`, [".concat(r.decimalPlacesRawValue,"] given.")),this._validateDecimalPlacesRawValue(r),u.isNull(r.decimalPlacesShownOnFocus)||a.test(String(r.decimalPlacesShownOnFocus))||u.throwError("The number of expanded decimal places option 'decimalPlacesShownOnFocus' is invalid ; it should be a positive integer or `null`, [".concat(r.decimalPlacesShownOnFocus,"] given.")),!u.isNull(r.decimalPlacesShownOnFocus)&&Number(r.decimalPlaces)>Number(r.decimalPlacesShownOnFocus)&&u.warning("The extended decimal places 'decimalPlacesShownOnFocus' [".concat(r.decimalPlacesShownOnFocus,"] should be greater than the 'decimalPlaces' [").concat(r.decimalPlaces,"] value. Currently, this will limit the ability of your user to manually change some of the decimal places. Do you really want to do that?"),r.showWarnings),(u.isNull(r.divisorWhenUnfocused)||d.test(r.divisorWhenUnfocused))&&0!==r.divisorWhenUnfocused&&"0"!==r.divisorWhenUnfocused&&1!==r.divisorWhenUnfocused&&"1"!==r.divisorWhenUnfocused||u.throwError("The divisor option 'divisorWhenUnfocused' is invalid ; it should be a positive number higher than one, preferably an integer, [".concat(r.divisorWhenUnfocused,"] given.")),u.isNull(r.decimalPlacesShownOnBlur)||a.test(r.decimalPlacesShownOnBlur)||u.throwError("The number of decimals shown when unfocused option 'decimalPlacesShownOnBlur' is invalid ; it should be a positive integer or `null`, [".concat(r.decimalPlacesShownOnBlur,"] given.")),u.isNull(r.symbolWhenUnfocused)||u.isString(r.symbolWhenUnfocused)||u.throwError("The symbol to show when unfocused option 'symbolWhenUnfocused' is invalid ; it should be a string, [".concat(r.symbolWhenUnfocused,"] given.")),u.isTrueOrFalseString(r.saveValueToSessionStorage)||u.isBoolean(r.saveValueToSessionStorage)||u.throwError("The save to session storage option 'saveValueToSessionStorage' is invalid ; it should be either 'true' or 'false', [".concat(r.saveValueToSessionStorage,"] given.")),u.isInArray(r.onInvalidPaste,[e.options.onInvalidPaste.error,e.options.onInvalidPaste.ignore,e.options.onInvalidPaste.clamp,e.options.onInvalidPaste.truncate,e.options.onInvalidPaste.replace])||u.throwError("The paste behavior option 'onInvalidPaste' is invalid ; it should either be 'error', 'ignore', 'clamp', 'truncate' or 'replace' (cf. documentation), [".concat(r.onInvalidPaste,"] given.")),u.isInArray(r.roundingMethod,[e.options.roundingMethod.halfUpSymmetric,e.options.roundingMethod.halfUpAsymmetric,e.options.roundingMethod.halfDownSymmetric,e.options.roundingMethod.halfDownAsymmetric,e.options.roundingMethod.halfEvenBankersRounding,e.options.roundingMethod.upRoundAwayFromZero,e.options.roundingMethod.downRoundTowardZero,e.options.roundingMethod.toCeilingTowardPositiveInfinity,e.options.roundingMethod.toFloorTowardNegativeInfinity,e.options.roundingMethod.toNearest05,e.options.roundingMethod.toNearest05Alt,e.options.roundingMethod.upToNext05,e.options.roundingMethod.downToNext05])||u.throwError("The rounding method option 'roundingMethod' is invalid ; it should either be 'S', 'A', 's', 'a', 'B', 'U', 'D', 'C', 'F', 'N05', 'CHF', 'U05' or 'D05' (cf. documentation), [".concat(r.roundingMethod,"] given.")),u.isNull(r.negativeBracketsTypeOnBlur)||u.isInArray(r.negativeBracketsTypeOnBlur,[e.options.negativeBracketsTypeOnBlur.parentheses,e.options.negativeBracketsTypeOnBlur.brackets,e.options.negativeBracketsTypeOnBlur.chevrons,e.options.negativeBracketsTypeOnBlur.curlyBraces,e.options.negativeBracketsTypeOnBlur.angleBrackets,e.options.negativeBracketsTypeOnBlur.japaneseQuotationMarks,e.options.negativeBracketsTypeOnBlur.halfBrackets,e.options.negativeBracketsTypeOnBlur.whiteSquareBrackets,e.options.negativeBracketsTypeOnBlur.quotationMarks,e.options.negativeBracketsTypeOnBlur.guillemets])||u.throwError("The brackets for negative values option 'negativeBracketsTypeOnBlur' is invalid ; it should either be '(,)', '[,]', '<,>', '{,}', ',', ',', ',', ',', ',' or ',', [".concat(r.negativeBracketsTypeOnBlur,"] given.")),(u.isString(r.emptyInputBehavior)||u.isNumber(r.emptyInputBehavior))&&(u.isInArray(r.emptyInputBehavior,[e.options.emptyInputBehavior.focus,e.options.emptyInputBehavior.press,e.options.emptyInputBehavior.always,e.options.emptyInputBehavior.min,e.options.emptyInputBehavior.max,e.options.emptyInputBehavior.zero,e.options.emptyInputBehavior.null])||c.test(r.emptyInputBehavior))||u.throwError("The display on empty string option 'emptyInputBehavior' is invalid ; it should either be 'focus', 'press', 'always', 'min', 'max', 'zero', 'null', a number, or a string that represents a number, [".concat(r.emptyInputBehavior,"] given.")),r.emptyInputBehavior===e.options.emptyInputBehavior.zero&&(r.minimumValue>0||r.maximumValue<0)&&u.throwError("The 'emptyInputBehavior' option is set to 'zero', but this value is outside of the range defined by 'minimumValue' and 'maximumValue' [".concat(r.minimumValue,", ").concat(r.maximumValue,"].")),c.test(String(r.emptyInputBehavior))&&(this._isWithinRangeWithOverrideOption(r.emptyInputBehavior,r)||u.throwError("The 'emptyInputBehavior' option is set to a number or a string that represents a number, but its value [".concat(r.emptyInputBehavior,"] is outside of the range defined by the 'minimumValue' and 'maximumValue' options [").concat(r.minimumValue,", ").concat(r.maximumValue,"]."))),u.isTrueOrFalseString(r.eventBubbles)||u.isBoolean(r.eventBubbles)||u.throwError("The event bubbles option 'eventBubbles' is invalid ; it should be either 'true' or 'false', [".concat(r.eventBubbles,"] given.")),u.isTrueOrFalseString(r.eventIsCancelable)||u.isBoolean(r.eventIsCancelable)||u.throwError("The event is cancelable option 'eventIsCancelable' is invalid ; it should be either 'true' or 'false', [".concat(r.eventIsCancelable,"] given.")),!u.isBoolean(r.invalidClass)&&/^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$/.test(r.invalidClass)||u.throwError("The name of the 'invalidClass' option is not a valid CSS class name ; it should not be empty, and should follow the '^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$' regex, [".concat(r.invalidClass,"] given.")),u.isInArray(r.leadingZero,[e.options.leadingZero.allow,e.options.leadingZero.deny,e.options.leadingZero.keep])||u.throwError("The leading zero behavior option 'leadingZero' is invalid ; it should either be 'allow', 'deny' or 'keep', [".concat(r.leadingZero,"] given.")),u.isTrueOrFalseString(r.formatOnPageLoad)||u.isBoolean(r.formatOnPageLoad)||u.throwError("The format on initialization option 'formatOnPageLoad' is invalid ; it should be either 'true' or 'false', [".concat(r.formatOnPageLoad,"] given.")),u.isTrueOrFalseString(r.formulaMode)||u.isBoolean(r.formulaMode)||u.throwError("The formula mode option 'formulaMode' is invalid ; it should be either 'true' or 'false', [".concat(r.formulaMode,"] given.")),a.test(r.historySize)&&0!==r.historySize||u.throwError("The history size option 'historySize' is invalid ; it should be a positive integer, [".concat(r.historySize,"] given.")),u.isTrueOrFalseString(r.selectNumberOnly)||u.isBoolean(r.selectNumberOnly)||u.throwError("The select number only option 'selectNumberOnly' is invalid ; it should be either 'true' or 'false', [".concat(r.selectNumberOnly,"] given.")),u.isTrueOrFalseString(r.selectOnFocus)||u.isBoolean(r.selectOnFocus)||u.throwError("The select on focus option 'selectOnFocus' is invalid ; it should be either 'true' or 'false', [".concat(r.selectOnFocus,"] given.")),u.isNull(r.defaultValueOverride)||""===r.defaultValueOverride||c.test(r.defaultValueOverride)||u.throwError("The unformatted default value option 'defaultValueOverride' is invalid ; it should be a string that represents a positive or negative number, [".concat(r.defaultValueOverride,"] given.")),u.isTrueOrFalseString(r.unformatOnSubmit)||u.isBoolean(r.unformatOnSubmit)||u.throwError("The remove formatting on submit option 'unformatOnSubmit' is invalid ; it should be either 'true' or 'false', [".concat(r.unformatOnSubmit,"] given.")),u.isNull(r.valuesToStrings)||u.isObject(r.valuesToStrings)||u.throwError("The option 'valuesToStrings' is invalid ; it should be an object, ideally with 'key -> value' entries, [".concat(r.valuesToStrings,"] given.")),u.isNull(r.outputFormat)||u.isInArray(r.outputFormat,[e.options.outputFormat.string,e.options.outputFormat.number,e.options.outputFormat.dot,e.options.outputFormat.negativeDot,e.options.outputFormat.comma,e.options.outputFormat.negativeComma,e.options.outputFormat.dotNegative,e.options.outputFormat.commaNegative])||u.throwError("The custom locale format option 'outputFormat' is invalid ; it should either be null, 'string', 'number', '.', '-.', ',', '-,', '.-' or ',-', [".concat(r.outputFormat,"] given.")),u.isTrueOrFalseString(r.isCancellable)||u.isBoolean(r.isCancellable)||u.throwError("The cancellable behavior option 'isCancellable' is invalid ; it should be either 'true' or 'false', [".concat(r.isCancellable,"] given.")),u.isTrueOrFalseString(r.modifyValueOnUpDownArrow)||u.isBoolean(r.modifyValueOnUpDownArrow)||u.throwError("The increment/decrement on up and down arrow keys 'modifyValueOnUpDownArrow' is invalid ; it should be either 'true' or 'false', [".concat(r.modifyValueOnUpDownArrow,"] given.")),u.isTrueOrFalseString(r.modifyValueOnWheel)||u.isBoolean(r.modifyValueOnWheel)||u.throwError("The increment/decrement on mouse wheel option 'modifyValueOnWheel' is invalid ; it should be either 'true' or 'false', [".concat(r.modifyValueOnWheel,"] given.")),u.isTrueOrFalseString(r.watchExternalChanges)||u.isBoolean(r.watchExternalChanges)||u.throwError("The option 'watchExternalChanges' is invalid ; it should be either 'true' or 'false', [".concat(r.watchExternalChanges,"] given.")),u.isInArray(r.wheelOn,[e.options.wheelOn.focus,e.options.wheelOn.hover])||u.throwError("The wheel behavior option 'wheelOn' is invalid ; it should either be 'focus' or 'hover', [".concat(r.wheelOn,"] given.")),(!u.isString(r.upDownStep)&&!u.isNumber(r.upDownStep)||"progressive"!==r.upDownStep&&!d.test(r.upDownStep)||0===Number(r.upDownStep))&&u.throwError("The up/down arrow step value option 'upDownStep' is invalid ; it should either be the string 'progressive', or a number or a string that represents a positive number (excluding zero), [".concat(r.upDownStep,"] given.")),(!u.isString(r.wheelStep)&&!u.isNumber(r.wheelStep)||"progressive"!==r.wheelStep&&!d.test(r.wheelStep)||0===Number(r.wheelStep))&&u.throwError("The wheel step value option 'wheelStep' is invalid ; it should either be the string 'progressive', or a number or a string that represents a positive number (excluding zero), [".concat(r.wheelStep,"] given.")),u.isInArray(r.serializeSpaces,[e.options.serializeSpaces.plus,e.options.serializeSpaces.percent])||u.throwError("The space replacement character option 'serializeSpaces' is invalid ; it should either be '+' or '%20', [".concat(r.serializeSpaces,"] given.")),u.isTrueOrFalseString(r.noEventListeners)||u.isBoolean(r.noEventListeners)||u.throwError("The option 'noEventListeners' that prevent the creation of event listeners is invalid ; it should be either 'true' or 'false', [".concat(r.noEventListeners,"] given.")),u.isNull(r.styleRules)||u.isObject(r.styleRules)&&(Object.prototype.hasOwnProperty.call(r.styleRules,"positive")||Object.prototype.hasOwnProperty.call(r.styleRules,"negative")||Object.prototype.hasOwnProperty.call(r.styleRules,"ranges")||Object.prototype.hasOwnProperty.call(r.styleRules,"userDefined"))||u.throwError("The option 'styleRules' is invalid ; it should be a correctly structured object, with one or more 'positive', 'negative', 'ranges' or 'userDefined' attributes, [".concat(r.styleRules,"] given.")),u.isNull(r.styleRules)||!Object.prototype.hasOwnProperty.call(r.styleRules,"userDefined")||u.isNull(r.styleRules.userDefined)||r.styleRules.userDefined.forEach((function(e){Object.prototype.hasOwnProperty.call(e,"callback")&&!u.isFunction(e.callback)&&u.throwError("The callback defined in the `userDefined` attribute is not a function, ".concat(M(e.callback)," given."))})),(u.isNull(r.rawValueDivisor)||d.test(r.rawValueDivisor))&&0!==r.rawValueDivisor&&"0"!==r.rawValueDivisor&&1!==r.rawValueDivisor&&"1"!==r.rawValueDivisor||u.throwError("The raw value divisor option 'rawValueDivisor' is invalid ; it should be a positive number higher than one, preferably an integer, [".concat(r.rawValueDivisor,"] given.")),u.isTrueOrFalseString(r.readOnly)||u.isBoolean(r.readOnly)||u.throwError("The option 'readOnly' is invalid ; it should be either 'true' or 'false', [".concat(r.readOnly,"] given.")),u.isTrueOrFalseString(r.unformatOnHover)||u.isBoolean(r.unformatOnHover)||u.throwError("The option 'unformatOnHover' is invalid ; it should be either 'true' or 'false', [".concat(r.unformatOnHover,"] given.")),u.isTrueOrFalseString(r.failOnUnknownOption)||u.isBoolean(r.failOnUnknownOption)||u.throwError("The debug option 'failOnUnknownOption' is invalid ; it should be either 'true' or 'false', [".concat(r.failOnUnknownOption,"] given.")),u.isTrueOrFalseString(r.createLocalList)||u.isBoolean(r.createLocalList)||u.throwError("The debug option 'createLocalList' is invalid ; it should be either 'true' or 'false', [".concat(r.createLocalList,"] given."))}},{key:"_validateDecimalPlacesRawValue",value:function(e){u.isNull(e.decimalPlacesRawValue)||(e.decimalPlacesRawValue<e.decimalPlaces&&u.warning("The number of decimal places to store in the raw value [".concat(e.decimalPlacesRawValue,"] is lower than the ones to display [").concat(e.decimalPlaces,"]. This will likely confuse your users.\nTo solve that, you'd need to either set `decimalPlacesRawValue` to `null`, or set a number of decimal places for the raw value equal of bigger than `decimalPlaces`."),e.showWarnings),e.decimalPlacesRawValue<e.decimalPlacesShownOnFocus&&u.warning("The number of decimal places to store in the raw value [".concat(e.decimalPlacesRawValue,"] is lower than the ones shown on focus [").concat(e.decimalPlacesShownOnFocus,"]. This will likely confuse your users.\nTo solve that, you'd need to either set `decimalPlacesRawValue` to `null`, or set a number of decimal places for the raw value equal of bigger than `decimalPlacesShownOnFocus`."),e.showWarnings),e.decimalPlacesRawValue<e.decimalPlacesShownOnBlur&&u.warning("The number of decimal places to store in the raw value [".concat(e.decimalPlacesRawValue,"] is lower than the ones shown when unfocused [").concat(e.decimalPlacesShownOnBlur,"]. This will likely confuse your users.\nTo solve that, you'd need to either set `decimalPlacesRawValue` to `null`, or set a number of decimal places for the raw value equal of bigger than `decimalPlacesShownOnBlur`."),e.showWarnings))}},{key:"areSettingsValid",value:function(e){var t=!0;try{this.validate(e,!0)}catch(e){t=!1}return t}},{key:"getDefaultConfig",value:function(){return e.defaultSettings}},{key:"getPredefinedOptions",value:function(){return e.predefinedOptions}},{key:"_generateOptionsObjectFromOptionsArray",value:function(e){var t,n=this;return u.isUndefinedOrNullOrEmpty(e)||0===e.length?t=null:(t={},1===e.length&&Array.isArray(e[0])?e[0].forEach((function(e){D(t,n._getOptionObject(e))})):e.length>=1&&e.forEach((function(e){D(t,n._getOptionObject(e))}))),t}},{key:"format",value:function(t){if(u.isUndefined(t)||null===t)return null;var n;n=u.isElement(t)?u.getElementValue(t):t,u.isString(n)||u.isNumber(n)||u.throwError('The value "'.concat(n,'" being "set" is not numeric and therefore cannot be used appropriately.'));for(var o=arguments.length,r=new Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];var s=this._generateOptionsObjectFromOptionsArray(r),a=D({},this.getDefaultConfig(),s);a.isNegativeSignAllowed=n<0,a.isPositiveSignAllowed=n>=0,this._setBrackets(a),this._cachesUsualRegularExpressions(a,{});var l=this._toNumericValue(n,a);return isNaN(Number(l))&&u.throwError("The value [".concat(l,"] that you are trying to format is not a recognized number.")),this._isWithinRangeWithOverrideOption(l,a)||(u.triggerEvent(e.events.formatted,document,{oldValue:null,newValue:null,oldRawValue:null,newRawValue:null,isPristine:null,error:"Range test failed",aNElement:null},!0,!0),u.throwError("The value [".concat(l,"] being set falls outside of the minimumValue [").concat(a.minimumValue,"] and maximumValue [").concat(a.maximumValue,"] range set for this element"))),a.valuesToStrings&&this._checkValuesToStringsSettings(n,a)?a.valuesToStrings[n]:(this._correctNegativePositiveSignPlacementOption(a),this._calculateDecimalPlacesOnInit(a),u.isUndefinedOrNullOrEmpty(a.rawValueDivisor)||0===a.rawValueDivisor||""===l||null===l||(l*=a.rawValueDivisor),l=this._roundFormattedValueShownOnFocus(l,a),l=this._modifyNegativeSignAndDecimalCharacterForFormattedValue(l,a),l=this._addGroupSeparators(l,a,!1,l))}},{key:"formatAndSet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.format(e,t);return u.setElementValue(e,n),n}},{key:"unformat",value:function(e){if(u.isNumberStrict(e))return e;var t;if(""===(t=u.isElement(e)?u.getElementValue(e):e))return"";if(u.isUndefined(t)||null===t)return null;(u.isArray(t)||u.isObject(t))&&u.throwError("A number or a string representing a number is needed to be able to unformat it, [".concat(t,"] given."));for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];var i=this._generateOptionsObjectFromOptionsArray(o),s=D({},this.getDefaultConfig(),i);if(s.isNegativeSignAllowed=!1,s.isPositiveSignAllowed=!0,t=t.toString(),s.valuesToStrings&&this._checkStringsToValuesSettings(t,s))return u.objectKeyLookup(s.valuesToStrings,t);if(u.isNegative(t,s.negativeSignCharacter))s.isNegativeSignAllowed=!0,s.isPositiveSignAllowed=!1;else if(!u.isNull(s.negativeBracketsTypeOnBlur)){var a=O(s.negativeBracketsTypeOnBlur.split(","),2);s.firstBracket=a[0],s.lastBracket=a[1],t.charAt(0)===s.firstBracket&&t.charAt(t.length-1)===s.lastBracket&&(s.isNegativeSignAllowed=!0,s.isPositiveSignAllowed=!1,t=this._removeBrackets(t,s,!1))}return t=this._convertToNumericString(t,s),u.isNumber(Number(t))&&(t=u.scientificToDecimal(t)),new RegExp("[^+-0123456789.]","gi").test(t)?NaN:(this._correctNegativePositiveSignPlacementOption(s),s.decimalPlacesRawValue?s.originalDecimalPlacesRawValue=s.decimalPlacesRawValue:s.originalDecimalPlacesRawValue=s.decimalPlaces,this._calculateDecimalPlacesOnInit(s),u.isUndefinedOrNullOrEmpty(s.rawValueDivisor)||0===s.rawValueDivisor||""===t||null===t||(t/=s.rawValueDivisor),t=(t=this._roundRawValue(t,s)).replace(s.decimalCharacter,"."),t=this._toLocale(t,s.outputFormat,s))}},{key:"unformatAndSet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.unformat(e,t);return u.setElementValue(e,n),n}},{key:"localize",value:function(t){var n,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return""===(n=u.isElement(t)?u.getElementValue(t):t)?"":(u.isNull(r)&&(r=e.defaultSettings),n=this.unformat(n,r),0===Number(n)&&r.leadingZero!==e.options.leadingZero.keep&&(n="0"),o=u.isNull(r)?r.outputFormat:e.defaultSettings.outputFormat,this._toLocale(n,o,r))}},{key:"localizeAndSet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.localize(e,t);return u.setElementValue(e,n),n}},{key:"isManagedByAutoNumeric",value:function(e){return this._isInGlobalList(u.domElement(e))}},{key:"getAutoNumericElement",value:function(e){var t=u.domElement(e);return this.isManagedByAutoNumeric(t)?this._getFromGlobalList(t):null}},{key:"set",value:function(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=u.domElement(e);return this.isManagedByAutoNumeric(i)?this.getAutoNumericElement(i).set(t,o,r):(n=!(!u.isNull(o)&&Object.prototype.hasOwnProperty.call(o,"showWarnings"))||o.showWarnings,u.warning("Impossible to find an AutoNumeric object for the given DOM element or selector.",n),null)}},{key:"getNumericString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._get(e,"getNumericString",t)}},{key:"getFormatted",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._get(e,"getFormatted",t)}},{key:"getNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._get(e,"getNumber",t)}},{key:"_get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=u.domElement(e);return this.isManagedByAutoNumeric(o)||u.throwError("Impossible to find an AutoNumeric object for the given DOM element or selector."),this.getAutoNumericElement(o)[t](n)}},{key:"getLocalized",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=u.domElement(e);return this.isManagedByAutoNumeric(o)||u.throwError("Impossible to find an AutoNumeric object for the given DOM element or selector."),this.getAutoNumericElement(o).getLocalized(t,n)}},{key:"_stripAllNonNumberCharacters",value:function(e,t,n,o){return this._stripAllNonNumberCharactersExceptCustomDecimalChar(e,t,n,o).replace(t.decimalCharacter,".")}},{key:"_stripAllNonNumberCharactersExceptCustomDecimalChar",value:function(t,n,o,r){var i=(t=(t=this._normalizeCurrencySuffixAndNegativeSignCharacters(t,n)).replace(n.allowedAutoStrip,"")).match(n.numRegAutoStrip);if(t=i?[i[1],i[2],i[3]].join(""):"",n.leadingZero===e.options.leadingZero.allow||n.leadingZero===e.options.leadingZero.keep){var s="",a=O(t.split(n.decimalCharacter),2),l=a[0],c=a[1],d=l;u.contains(d,n.negativeSignCharacter)&&(s=n.negativeSignCharacter,d=d.replace(n.negativeSignCharacter,"")),""===s&&d.length>n.mIntPos&&"0"===d.charAt(0)&&(d=d.slice(1)),""!==s&&d.length>n.mIntNeg&&"0"===d.charAt(0)&&(d=d.slice(1)),t="".concat(s).concat(d).concat(u.isUndefined(c)?"":n.decimalCharacter+c)}return(o&&n.leadingZero===e.options.leadingZero.deny||!r&&n.leadingZero===e.options.leadingZero.allow)&&(t=t.replace(n.stripReg,"$1$2")),t}},{key:"_toggleNegativeBracket",value:function(e,t,n){return n?this._removeBrackets(e,t):this._addBrackets(e,t)}},{key:"_addBrackets",value:function(e,t){return u.isNull(t.negativeBracketsTypeOnBlur)?e:"".concat(t.firstBracket).concat(e.replace(t.negativeSignCharacter,"")).concat(t.lastBracket)}},{key:"_removeBrackets",value:function(e,t){var n,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return u.isNull(t.negativeBracketsTypeOnBlur)||e.charAt(0)!==t.firstBracket?n=e:(n=(n=e.replace(t.firstBracket,"")).replace(t.lastBracket,""),o?(n=n.replace(t.currencySymbol,""),n=this._mergeCurrencySignNegativePositiveSignAndValue(n,t,!0,!1)):n="".concat(t.negativeSignCharacter).concat(n)),n}},{key:"_setBrackets",value:function(e){if(u.isNull(e.negativeBracketsTypeOnBlur))e.firstBracket="",e.lastBracket="";else{var t=O(e.negativeBracketsTypeOnBlur.split(","),2),n=t[0],o=t[1];e.firstBracket=n,e.lastBracket=o}}},{key:"_convertToNumericString",value:function(t,n){t=this._removeBrackets(t,n,!1),t=(t=this._normalizeCurrencySuffixAndNegativeSignCharacters(t,n)).replace(new RegExp("[".concat(n.digitGroupSeparator,"]"),"g"),""),"."!==n.decimalCharacter&&(t=t.replace(n.decimalCharacter,".")),u.isNegative(t)&&t.lastIndexOf("-")===t.length-1&&(t=t.replace("-",""),t="-".concat(t)),n.showPositiveSign&&(t=t.replace(n.positiveSignCharacter,""));var o=n.leadingZero!==e.options.leadingZero.keep,r=u.arabicToLatinNumbers(t,o,!1,!1);return isNaN(r)||(t=r.toString()),t}},{key:"_normalizeCurrencySuffixAndNegativeSignCharacters",value:function(t,n){return t=String(t),n.currencySymbol!==e.options.currencySymbol.none&&(t=t.replace(n.currencySymbol,"")),n.suffixText!==e.options.suffixText.none&&(t=t.replace(n.suffixText,"")),n.negativeSignCharacter!==e.options.negativeSignCharacter.hyphen&&(t=t.replace(n.negativeSignCharacter,"-")),t}},{key:"_toLocale",value:function(t,n,o){if(u.isNull(n)||n===e.options.outputFormat.string)return t;var r;switch(n){case e.options.outputFormat.number:r=Number(t);break;case e.options.outputFormat.dotNegative:r=u.isNegative(t)?t.replace("-","")+"-":t;break;case e.options.outputFormat.comma:case e.options.outputFormat.negativeComma:r=t.replace(".",",");break;case e.options.outputFormat.commaNegative:r=t.replace(".",","),r=u.isNegative(r)?r.replace("-","")+"-":r;break;case e.options.outputFormat.dot:case e.options.outputFormat.negativeDot:r=t;break;default:u.throwError("The given outputFormat [".concat(n,"] option is not recognized."))}return n!==e.options.outputFormat.number&&"-"!==o.negativeSignCharacter&&(r=r.replace("-",o.negativeSignCharacter)),r}},{key:"_modifyNegativeSignAndDecimalCharacterForFormattedValue",value:function(e,t){return"-"!==t.negativeSignCharacter&&(e=e.replace("-",t.negativeSignCharacter)),"."!==t.decimalCharacter&&(e=e.replace(".",t.decimalCharacter)),e}},{key:"_isElementValueEmptyOrOnlyTheNegativeSign",value:function(e,t){return""===e||e===t.negativeSignCharacter}},{key:"_orderValueCurrencySymbolAndSuffixText",value:function(t,n,o){var r;if(n.emptyInputBehavior===e.options.emptyInputBehavior.always||o)switch(n.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.left:case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.none:r=t+n.currencySymbol+n.suffixText;break;default:r=n.currencySymbol+t+n.suffixText}else r=t;return r}},{key:"_addGroupSeparators",value:function(t,n,o,r){var i,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(i=u.isNull(s)?u.isNegative(t,n.negativeSignCharacter)||u.isNegativeWithBrackets(t,n.firstBracket,n.lastBracket):s<0,t=this._stripAllNonNumberCharactersExceptCustomDecimalChar(t,n,!1,o),this._isElementValueEmptyOrOnlyTheNegativeSign(t,n))return this._orderValueCurrencySymbolAndSuffixText(t,n,!0);var a,l=u.isZeroOrHasNoValue(t);switch(i&&(t=t.replace("-","")),n.digitalGroupSpacing=n.digitalGroupSpacing.toString(),n.digitalGroupSpacing){case e.options.digitalGroupSpacing.two:a=/(\d)((\d)(\d{2}?)+)$/;break;case e.options.digitalGroupSpacing.twoScaled:a=/(\d)((?:\d{2}){0,2}\d{3}(?:(?:\d{2}){2}\d{3})*?)$/;break;case e.options.digitalGroupSpacing.four:a=/(\d)((\d{4}?)+)$/;break;case e.options.digitalGroupSpacing.three:default:a=/(\d)((\d{3}?)+)$/}var c,d=O(t.split(n.decimalCharacter),2),h=d[0],m=d[1];if(n.decimalCharacterAlternative&&u.isUndefined(m)){var p=O(t.split(n.decimalCharacterAlternative),2);h=p[0],m=p[1]}if(""!==n.digitGroupSeparator)for(;a.test(h);)h=h.replace(a,"$1".concat(n.digitGroupSeparator,"$2"));return 0===(c=o?n.decimalPlacesShownOnFocus:n.decimalPlacesShownOnBlur)||u.isUndefined(m)?t=h:(m.length>c&&(m=m.substring(0,c)),t="".concat(h).concat(n.decimalCharacter).concat(m)),t=e._mergeCurrencySignNegativePositiveSignAndValue(t,n,i,l),u.isNull(s)&&(s=r),null!==n.negativeBracketsTypeOnBlur&&(s<0||u.isNegativeStrict(t,n.negativeSignCharacter))&&(t=this._toggleNegativeBracket(t,n,o)),n.suffixText?"".concat(t).concat(n.suffixText):t}},{key:"_mergeCurrencySignNegativePositiveSignAndValue",value:function(t,n,o,r){var i,s="";if(o?s=n.negativeSignCharacter:n.showPositiveSign&&!r&&(s=n.positiveSignCharacter),n.currencySymbolPlacement===e.options.currencySymbolPlacement.prefix)if(n.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(o||!o&&n.showPositiveSign&&!r))switch(n.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.prefix:case e.options.negativePositiveSignPlacement.left:i="".concat(s).concat(n.currencySymbol).concat(t);break;case e.options.negativePositiveSignPlacement.right:i="".concat(n.currencySymbol).concat(s).concat(t);break;case e.options.negativePositiveSignPlacement.suffix:i="".concat(n.currencySymbol).concat(t).concat(s)}else i=n.currencySymbol+t;else if(n.currencySymbolPlacement===e.options.currencySymbolPlacement.suffix)if(n.negativePositiveSignPlacement!==e.options.negativePositiveSignPlacement.none&&(o||!o&&n.showPositiveSign&&!r))switch(n.negativePositiveSignPlacement){case e.options.negativePositiveSignPlacement.suffix:case e.options.negativePositiveSignPlacement.right:i="".concat(t).concat(n.currencySymbol).concat(s);break;case e.options.negativePositiveSignPlacement.left:i="".concat(t).concat(s).concat(n.currencySymbol);break;case e.options.negativePositiveSignPlacement.prefix:i="".concat(s).concat(t).concat(n.currencySymbol)}else i=t+n.currencySymbol;return i}},{key:"_truncateZeros",value:function(e,t){var n;switch(t){case 0:n=/(\.(?:\d*[1-9])?)0*$/;break;case 1:n=/(\.\d(?:\d*[1-9])?)0*$/;break;default:n=new RegExp("(\\.\\d{".concat(t,"}(?:\\d*[1-9])?)0*"))}return e=e.replace(n,"$1"),0===t&&(e=e.replace(/\.$/,"")),e}},{key:"_roundRawValue",value:function(e,t){return this._roundValue(e,t,t.decimalPlacesRawValue)}},{key:"_roundFormattedValueShownOnFocus",value:function(e,t){return this._roundValue(e,t,Number(t.decimalPlacesShownOnFocus))}},{key:"_roundFormattedValueShownOnBlur",value:function(e,t){return this._roundValue(e,t,Number(t.decimalPlacesShownOnBlur))}},{key:"_roundFormattedValueShownOnFocusOrBlur",value:function(e,t,n){return n?this._roundFormattedValueShownOnFocus(e,t):this._roundFormattedValueShownOnBlur(e,t)}},{key:"_roundValue",value:function(t,n,o){if(u.isNull(t))return t;if(t=""===t?"0":t.toString(),n.roundingMethod===e.options.roundingMethod.toNearest05||n.roundingMethod===e.options.roundingMethod.toNearest05Alt||n.roundingMethod===e.options.roundingMethod.upToNext05||n.roundingMethod===e.options.roundingMethod.downToNext05)return this._roundCloseTo05(t,n);var r,i=O(e._prepareValueForRounding(t,n),2),s=i[0],a=(t=i[1]).lastIndexOf("."),l=-1===a,c=O(t.split("."),2),d=c[0];if(!(c[1]>0||n.allowDecimalPadding!==e.options.allowDecimalPadding.never&&n.allowDecimalPadding!==e.options.allowDecimalPadding.floats))return 0===Number(t)?d:"".concat(s).concat(d);r=n.allowDecimalPadding===e.options.allowDecimalPadding.always||n.allowDecimalPadding===e.options.allowDecimalPadding.floats?o:n.allowDecimalPadding>0?n.allowDecimalPadding:0;var h,m=l?t.length-1:a,p=t.length-1-m,f="";if(p<=o){if(f=t,p<r){l&&(f="".concat(f).concat(n.decimalCharacter));for(var g="000000";p<r;)f+=g=g.substring(0,r-p),p+=g.length}else p>r?f=this._truncateZeros(f,r):0===p&&0===r&&(f=f.replace(/\.$/,""));return 0===Number(f)?f:"".concat(s).concat(f)}h=l?o-1:Number(o)+Number(a);var v,b=Number(t.charAt(h+1)),y=t.substring(0,h+1).split("");if(v="."===t.charAt(h)?t.charAt(h-1)%2:t.charAt(h)%2,this._shouldRoundUp(b,n,s,v))for(var w=y.length-1;w>=0;w-=1)if("."!==y[w]){if(y[w]=+y[w]+1,y[w]<10)break;w>0&&(y[w]="0")}return y=y.slice(0,h+1),f=this._truncateZeros(y.join(""),r),0===Number(f)?f:"".concat(s).concat(f)}},{key:"_roundCloseTo05",value:function(t,n){switch(n.roundingMethod){case e.options.roundingMethod.toNearest05:case e.options.roundingMethod.toNearest05Alt:t=(Math.round(20*t)/20).toString();break;case e.options.roundingMethod.upToNext05:t=(Math.ceil(20*t)/20).toString();break;default:t=(Math.floor(20*t)/20).toString()}return u.contains(t,".")?t.length-t.indexOf(".")<3?t+"0":t:t+".00"}},{key:"_prepareValueForRounding",value:function(t,n){var o="";return u.isNegativeStrict(t,"-")&&(o="-",t=t.replace("-","")),t.match(/^\d/)||(t="0".concat(t)),0===Number(t)&&(o=""),(Number(t)>0&&n.leadingZero!==e.options.leadingZero.keep||t.length>0&&n.leadingZero===e.options.leadingZero.allow)&&(t=t.replace(/^0*(\d)/,"$1")),[o,t]}},{key:"_shouldRoundUp",value:function(t,n,o,r){return t>4&&n.roundingMethod===e.options.roundingMethod.halfUpSymmetric||t>4&&n.roundingMethod===e.options.roundingMethod.halfUpAsymmetric&&""===o||t>5&&n.roundingMethod===e.options.roundingMethod.halfUpAsymmetric&&"-"===o||t>5&&n.roundingMethod===e.options.roundingMethod.halfDownSymmetric||t>5&&n.roundingMethod===e.options.roundingMethod.halfDownAsymmetric&&""===o||t>4&&n.roundingMethod===e.options.roundingMethod.halfDownAsymmetric&&"-"===o||t>5&&n.roundingMethod===e.options.roundingMethod.halfEvenBankersRounding||5===t&&n.roundingMethod===e.options.roundingMethod.halfEvenBankersRounding&&1===r||t>0&&n.roundingMethod===e.options.roundingMethod.toCeilingTowardPositiveInfinity&&""===o||t>0&&n.roundingMethod===e.options.roundingMethod.toFloorTowardNegativeInfinity&&"-"===o||t>0&&n.roundingMethod===e.options.roundingMethod.upRoundAwayFromZero}},{key:"_truncateDecimalPlaces",value:function(e,t,n,o){n&&(e=this._roundFormattedValueShownOnFocus(e,t));var r=O(e.split(t.decimalCharacter),2),i=r[0],s=r[1];if(s&&s.length>o)if(o>0){var a=s.substring(0,o);e="".concat(i).concat(t.decimalCharacter).concat(a)}else e=i;return e}},{key:"_checkIfInRangeWithOverrideOption",value:function(t,n){if(u.isNull(t)&&n.emptyInputBehavior===e.options.emptyInputBehavior.null||n.overrideMinMaxLimits===e.options.overrideMinMaxLimits.ignore||n.overrideMinMaxLimits===e.options.overrideMinMaxLimits.invalid)return[!0,!0];t=(t=t.toString()).replace(",",".");var o,r=u.parseStr(n.minimumValue),i=u.parseStr(n.maximumValue),s=u.parseStr(t);switch(n.overrideMinMaxLimits){case e.options.overrideMinMaxLimits.floor:o=[u.testMinMax(r,s)>-1,!0];break;case e.options.overrideMinMaxLimits.ceiling:o=[!0,u.testMinMax(i,s)<1];break;default:o=[u.testMinMax(r,s)>-1,u.testMinMax(i,s)<1]}return o}},{key:"_isWithinRangeWithOverrideOption",value:function(e,t){var n=O(this._checkIfInRangeWithOverrideOption(e,t),2),o=n[0],r=n[1];return o&&r}},{key:"_cleanValueForRangeParse",value:function(e){return e=e.toString().replace(",","."),u.parseStr(e)}},{key:"_isMinimumRangeRespected",value:function(e,t){return u.testMinMax(u.parseStr(t.minimumValue),this._cleanValueForRangeParse(e))>-1}},{key:"_isMaximumRangeRespected",value:function(e,t){return u.testMinMax(u.parseStr(t.maximumValue),this._cleanValueForRangeParse(e))<1}},{key:"_readCookie",value:function(e){for(var t=e+"=",n=document.cookie.split(";"),o="",r=0;r<n.length;r+=1){for(o=n[r];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null}},{key:"_storageTest",value:function(){var e="modernizr";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}}},{key:"_correctNegativePositiveSignPlacementOption",value:function(t){if(u.isNull(t.negativePositiveSignPlacement))if(u.isUndefined(t)||!u.isUndefinedOrNullOrEmpty(t.negativePositiveSignPlacement)||u.isUndefinedOrNullOrEmpty(t.currencySymbol))t.negativePositiveSignPlacement=e.options.negativePositiveSignPlacement.left;else switch(t.currencySymbolPlacement){case e.options.currencySymbolPlacement.suffix:t.negativePositiveSignPlacement=e.options.negativePositiveSignPlacement.prefix;break;case e.options.currencySymbolPlacement.prefix:t.negativePositiveSignPlacement=e.options.negativePositiveSignPlacement.left}}},{key:"_correctCaretPositionOnFocusAndSelectOnFocusOptions",value:function(t){return u.isNull(t)?null:(!u.isUndefinedOrNullOrEmpty(t.caretPositionOnFocus)&&u.isUndefinedOrNullOrEmpty(t.selectOnFocus)&&(t.selectOnFocus=e.options.selectOnFocus.doNotSelect),u.isUndefinedOrNullOrEmpty(t.caretPositionOnFocus)&&!u.isUndefinedOrNullOrEmpty(t.selectOnFocus)&&t.selectOnFocus===e.options.selectOnFocus.select&&(t.caretPositionOnFocus=e.options.caretPositionOnFocus.doNoForceCaretPosition),t)}},{key:"_calculateDecimalPlacesOnInit",value:function(t){this._validateDecimalPlacesRawValue(t),t.decimalPlacesShownOnFocus===e.options.decimalPlacesShownOnFocus.useDefault&&(t.decimalPlacesShownOnFocus=t.decimalPlaces),t.decimalPlacesShownOnBlur===e.options.decimalPlacesShownOnBlur.useDefault&&(t.decimalPlacesShownOnBlur=t.decimalPlaces),t.decimalPlacesRawValue===e.options.decimalPlacesRawValue.useDefault&&(t.decimalPlacesRawValue=t.decimalPlaces);var n=0;t.rawValueDivisor&&t.rawValueDivisor!==e.options.rawValueDivisor.none&&(n=String(t.rawValueDivisor).length-1)<0&&(n=0),t.decimalPlacesRawValue=Math.max(Math.max(t.decimalPlacesShownOnBlur,t.decimalPlacesShownOnFocus)+n,Number(t.originalDecimalPlacesRawValue)+n)}},{key:"_calculateDecimalPlacesOnUpdate",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._validateDecimalPlacesRawValue(t),u.isNull(n)&&u.throwError("When updating the settings, the previous ones should be passed as an argument.");var o="decimalPlaces"in t;if(o||"decimalPlacesRawValue"in t||"decimalPlacesShownOnFocus"in t||"decimalPlacesShownOnBlur"in t||"rawValueDivisor"in t){o?("decimalPlacesShownOnFocus"in t&&t.decimalPlacesShownOnFocus!==e.options.decimalPlacesShownOnFocus.useDefault||(t.decimalPlacesShownOnFocus=t.decimalPlaces),"decimalPlacesShownOnBlur"in t&&t.decimalPlacesShownOnBlur!==e.options.decimalPlacesShownOnBlur.useDefault||(t.decimalPlacesShownOnBlur=t.decimalPlaces),"decimalPlacesRawValue"in t&&t.decimalPlacesRawValue!==e.options.decimalPlacesRawValue.useDefault||(t.decimalPlacesRawValue=t.decimalPlaces)):(u.isUndefined(t.decimalPlacesShownOnFocus)&&(t.decimalPlacesShownOnFocus=n.decimalPlacesShownOnFocus),u.isUndefined(t.decimalPlacesShownOnBlur)&&(t.decimalPlacesShownOnBlur=n.decimalPlacesShownOnBlur));var r=0;t.rawValueDivisor&&t.rawValueDivisor!==e.options.rawValueDivisor.none&&(r=String(t.rawValueDivisor).length-1)<0&&(r=0),t.decimalPlaces||t.decimalPlacesRawValue?t.decimalPlacesRawValue=Math.max(Math.max(t.decimalPlacesShownOnBlur,t.decimalPlacesShownOnFocus)+r,Number(t.decimalPlacesRawValue)+r):t.decimalPlacesRawValue=Math.max(Math.max(t.decimalPlacesShownOnBlur,t.decimalPlacesShownOnFocus)+r,Number(n.originalDecimalPlacesRawValue)+r)}}},{key:"_cachesUsualRegularExpressions",value:function(t,n){var o;o=t.negativeSignCharacter!==e.options.negativeSignCharacter.hyphen?"([-\\".concat(t.negativeSignCharacter,"]?)"):"(-?)",n.aNegRegAutoStrip=o,t.allowedAutoStrip=new RegExp("[^-0123456789\\".concat(t.decimalCharacter,"]"),"g"),t.numRegAutoStrip=new RegExp("".concat(o,"(?:\\").concat(t.decimalCharacter,"?([0-9]+\\").concat(t.decimalCharacter,"[0-9]+)|([0-9]*(?:\\").concat(t.decimalCharacter,"[0-9]*)?))")),t.stripReg=new RegExp("^".concat(n.aNegRegAutoStrip,"0*([0-9])")),t.formulaChars=new RegExp("[0-9".concat(t.decimalCharacter,"+\\-*/() ]"))}},{key:"_convertOldOptionsToNewOnes",value:function(e){var t={aSep:"digitGroupSeparator",nSep:"showOnlyNumbersOnFocus",dGroup:"digitalGroupSpacing",aDec:"decimalCharacter",altDec:"decimalCharacterAlternative",aSign:"currencySymbol",pSign:"currencySymbolPlacement",pNeg:"negativePositiveSignPlacement",aSuffix:"suffixText",oLimits:"overrideMinMaxLimits",vMax:"maximumValue",vMin:"minimumValue",mDec:"decimalPlacesOverride",eDec:"decimalPlacesShownOnFocus",scaleDecimal:"decimalPlacesShownOnBlur",aStor:"saveValueToSessionStorage",mRound:"roundingMethod",aPad:"allowDecimalPadding",nBracket:"negativeBracketsTypeOnBlur",wEmpty:"emptyInputBehavior",lZero:"leadingZero",aForm:"formatOnPageLoad",sNumber:"selectNumberOnly",anDefault:"defaultValueOverride",unSetOnSubmit:"unformatOnSubmit",outputType:"outputFormat",debug:"showWarnings",allowDecimalPadding:!0,alwaysAllowDecimalCharacter:!0,caretPositionOnFocus:!0,createLocalList:!0,currencySymbol:!0,currencySymbolPlacement:!0,decimalCharacter:!0,decimalCharacterAlternative:!0,decimalPlaces:!0,decimalPlacesRawValue:!0,decimalPlacesShownOnBlur:!0,decimalPlacesShownOnFocus:!0,defaultValueOverride:!0,digitalGroupSpacing:!0,digitGroupSeparator:!0,divisorWhenUnfocused:!0,emptyInputBehavior:!0,eventBubbles:!0,eventIsCancelable:!0,failOnUnknownOption:!0,formatOnPageLoad:!0,formulaMode:!0,historySize:!0,isCancellable:!0,leadingZero:!0,maximumValue:!0,minimumValue:!0,modifyValueOnUpDownArrow:!0,modifyValueOnWheel:!0,negativeBracketsTypeOnBlur:!0,negativePositiveSignPlacement:!0,negativeSignCharacter:!0,negativePositiveSignBehavior:!0,noEventListeners:!0,onInvalidPaste:!0,outputFormat:!0,overrideMinMaxLimits:!0,positiveSignCharacter:!0,rawValueDivisor:!0,readOnly:!0,roundingMethod:!0,saveValueToSessionStorage:!0,selectNumberOnly:!0,selectOnFocus:!0,serializeSpaces:!0,showOnlyNumbersOnFocus:!0,showPositiveSign:!0,showWarnings:!0,styleRules:!0,suffixText:!0,symbolWhenUnfocused:!0,upDownStep:!0,unformatOnHover:!0,unformatOnSubmit:!0,valuesToStrings:!0,watchExternalChanges:!0,wheelOn:!0,wheelStep:!0,allowedAutoStrip:!0,formulaChars:!0,isNegativeSignAllowed:!0,isPositiveSignAllowed:!0,mIntNeg:!0,mIntPos:!0,numRegAutoStrip:!0,originalDecimalPlaces:!0,originalDecimalPlacesRawValue:!0,stripReg:!0};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(!0===t[n])continue;Object.prototype.hasOwnProperty.call(t,n)?(u.warning("You are using the deprecated option name '".concat(n,"'. Please use '").concat(t[n],"' instead from now on. The old option name will be dropped very soon."),!0),e[t[n]]=e[n],delete e[n]):e.failOnUnknownOption&&u.throwError("Option name '".concat(n,"' is unknown. Please fix the options passed to autoNumeric"))}"mDec"in e&&u.warning("The old `mDec` option has been deprecated in favor of more accurate options ; `decimalPlaces`, `decimalPlacesRawValue`, `decimalPlacesShownOnFocus` and `decimalPlacesShownOnBlur`.",!0)}},{key:"_setNegativePositiveSignPermissions",value:function(e){e.isNegativeSignAllowed=e.minimumValue<0,e.isPositiveSignAllowed=e.maximumValue>=0}},{key:"_toNumericValue",value:function(e,t){var n;return u.isNumber(Number(e))?(u.isNumberStrict(e)||(e=String(e).trim()),n=u.scientificToDecimal(e)):(n=this._convertToNumericString(e.toString(),t),u.isNumber(Number(n))||(u.warning('The given value "'.concat(e,'" cannot be converted to a numeric one and therefore cannot be used appropriately.'),t.showWarnings),n=NaN)),n}},{key:"_checkIfInRange",value:function(e,t,n){var o=u.parseStr(e);return u.testMinMax(t,o)>-1&&u.testMinMax(n,o)<1}},{key:"_shouldSkipEventKey",value:function(e){var t=u.isInArray(e,o.keyName._allFnKeys),n=e===o.keyName.OSLeft||e===o.keyName.OSRight,r=e===o.keyName.ContextMenu,i=u.isInArray(e,o.keyName._someNonPrintableKeys),s=e===o.keyName.NumLock||e===o.keyName.ScrollLock||e===o.keyName.Insert||e===o.keyName.Command,a=e===o.keyName.Unidentified;return t||n||r||i||a||s}},{key:"_serialize",value:function(e){var t,n=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unformatted",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"+",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=[];return"object"===M(e)&&"form"===e.nodeName.toLowerCase()&&Array.prototype.slice.call(e.elements).forEach((function(e){if(e.name&&!e.disabled&&-1===["file","reset","submit","button"].indexOf(e.type))if("select-multiple"===e.type)Array.prototype.slice.call(e.options).forEach((function(t){t.selected&&(o?a.push({name:e.name,value:t.value}):a.push("".concat(encodeURIComponent(e.name),"=").concat(encodeURIComponent(t.value))))}));else if(-1===["checkbox","radio"].indexOf(e.type)||e.checked){var t,i;if(n.isManagedByAutoNumeric(e))switch(r){case"unformatted":i=n.getAutoNumericElement(e),u.isNull(i)||(t=n.unformat(e,i.getSettings()));break;case"localized":if(i=n.getAutoNumericElement(e),!u.isNull(i)){var l=u.cloneObject(i.getSettings());u.isNull(s)||(l.outputFormat=s),t=n.localize(e,l)}break;default:t=e.value}else t=e.value;u.isUndefined(t)&&u.throwError("This error should never be hit. If it has, something really wrong happened!"),o?a.push({name:e.name,value:t}):a.push("".concat(encodeURIComponent(e.name),"=").concat(encodeURIComponent(t)))}})),o?t=a:(t=a.join("&"),"+"===i&&(t=t.replace(/%20/g,"+"))),t}},{key:"_serializeNumericString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+";return this._serialize(e,!1,"unformatted",t)}},{key:"_serializeFormatted",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+";return this._serialize(e,!1,"formatted",t)}},{key:"_serializeLocalized",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this._serialize(e,!1,"localized",t,n)}},{key:"_serializeNumericStringArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+";return this._serialize(e,!0,"unformatted",t)}},{key:"_serializeFormattedArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+";return this._serialize(e,!0,"formatted",t)}},{key:"_serializeLocalizedArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this._serialize(e,!0,"localized",t,n)}}],n&&P(t.prototype,n),r&&P(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();R(I,"options",void 0),R(I,"events",void 0),R(I,"defaultSettings",void 0),R(I,"predefinedOptions",void 0),I.multiple=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=[];if(u.isObject(t)&&(n=t,t=null),u.isString(e))e=E(document.querySelectorAll(e));else if(u.isObject(e)){Object.prototype.hasOwnProperty.call(e,"rootElement")||u.throwError("The object passed to the 'multiple' function is invalid ; no 'rootElement' attribute found.");var r=E(e.rootElement.querySelectorAll("input"));Object.prototype.hasOwnProperty.call(e,"exclude")?(Array.isArray(e.exclude)||u.throwError("The 'exclude' array passed to the 'multiple' function is invalid."),e=u.filterOut(r,e.exclude)):e=r}else u.isArray(e)||u.throwError("The given parameters to the 'multiple' function are invalid.");if(0===e.length){var i=!0;return!u.isNull(n)&&u.isBoolean(n.showWarnings)&&(i=n.showWarnings),u.warning("No valid DOM elements were given hence no AutoNumeric objects were instantiated.",i),[]}var s=u.isArray(t)&&t.length>=1,a=!1,l=!1;if(s){var c=M(Number(t[0]));(a="number"===c&&!isNaN(Number(t[0])))||("string"===c||isNaN(c)||"object"===c)&&(l=!0)}var d,h=!1;if(u.isArray(n)&&n.length>=1){var m=M(n[0]);"string"!==m&&"object"!==m||(h=!0)}d=l?I.mergeOptions(t):h?I.mergeOptions(n):n;var p,f=u.isNumber(t);return a&&(p=t.length),e.forEach((function(e,n){f?o.push(new I(e,t,d)):a&&n<=p?o.push(new I(e,t[n],d)):o.push(new I(e,null,d))})),o},function(){if(Array.from||(Array.from=function(e){return[].slice.call(e)}),"undefined"==typeof window||"function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),I.events={correctedValue:"autoNumeric:correctedValue",initialized:"autoNumeric:initialized",invalidFormula:"autoNumeric:invalidFormula",invalidValue:"autoNumeric:invalidValue",formatted:"autoNumeric:formatted",rawValueModified:"autoNumeric:rawValueModified",minRangeExceeded:"autoNumeric:minExceeded",maxRangeExceeded:"autoNumeric:maxExceeded",native:{input:"input",change:"change"},validFormula:"autoNumeric:validFormula"},Object.freeze(I.events.native),Object.freeze(I.events),Object.defineProperty(I,"events",{configurable:!1,writable:!1}),I.options={allowDecimalPadding:{always:!0,never:!1,floats:"floats"},alwaysAllowDecimalCharacter:{alwaysAllow:!0,doNotAllow:!1},caretPositionOnFocus:{start:"start",end:"end",decimalLeft:"decimalLeft",decimalRight:"decimalRight",doNoForceCaretPosition:null},createLocalList:{createList:!0,doNotCreateList:!1},currencySymbol:{none:"",currencySign:"",austral:"",australCentavo:"",baht:"",cedi:"",cent:"",colon:"",cruzeiro:"",dollar:"$",dong:"",drachma:"",dram:"",european:"",euro:"",florin:"",franc:"",guarani:"",hryvnia:"",kip:"",att:"",lepton:".",lira:"",liraOld:"",lari:"",mark:"",mill:"",naira:"",peseta:"",peso:"",pfennig:"",pound:"",real:"R$ ",riel:"",ruble:"",rupee:"",rupeeOld:"",shekel:"",shekelAlt:"",taka:"",tenge:"",togrog:"",won:"",yen:""},currencySymbolPlacement:{prefix:"p",suffix:"s"},decimalCharacter:{comma:",",dot:".",middleDot:"",arabicDecimalSeparator:"",decimalSeparatorKeySymbol:""},decimalCharacterAlternative:{none:null,comma:",",dot:"."},decimalPlaces:{none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesRawValue:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesShownOnBlur:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesShownOnFocus:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},defaultValueOverride:{doNotOverride:null},digitalGroupSpacing:{two:"2",twoScaled:"2s",three:"3",four:"4"},digitGroupSeparator:{comma:",",dot:".",normalSpace:" ",thinSpace:"",narrowNoBreakSpace:"",noBreakSpace:"",noSeparator:"",apostrophe:"'",arabicThousandsSeparator:"",dotAbove:"",privateUseTwo:""},divisorWhenUnfocused:{none:null,percentage:100,permille:1e3,basisPoint:1e4},emptyInputBehavior:{focus:"focus",press:"press",always:"always",zero:"zero",min:"min",max:"max",null:"null"},eventBubbles:{bubbles:!0,doesNotBubble:!1},eventIsCancelable:{isCancelable:!0,isNotCancelable:!1},failOnUnknownOption:{fail:!0,ignore:!1},formatOnPageLoad:{format:!0,doNotFormat:!1},formulaMode:{enabled:!0,disabled:!1},historySize:{verySmall:5,small:10,medium:20,large:50,veryLarge:100,insane:Number.MAX_SAFE_INTEGER},invalidClass:"an-invalid",isCancellable:{cancellable:!0,notCancellable:!1},leadingZero:{allow:"allow",deny:"deny",keep:"keep"},maximumValue:{tenTrillions:"10000000000000",oneBillion:"1000000000",zero:"0"},minimumValue:{tenTrillions:"-10000000000000",oneBillion:"-1000000000",zero:"0"},modifyValueOnUpDownArrow:{modifyValue:!0,doNothing:!1},modifyValueOnWheel:{modifyValue:!0,doNothing:!1},negativeBracketsTypeOnBlur:{parentheses:"(,)",brackets:"[,]",chevrons:"<,>",curlyBraces:"{,}",angleBrackets:",",japaneseQuotationMarks:",",halfBrackets:",",whiteSquareBrackets:",",quotationMarks:",",guillemets:",",none:null},negativePositiveSignPlacement:{prefix:"p",suffix:"s",left:"l",right:"r",none:null},negativeSignCharacter:{hyphen:"-",minus:"",heavyMinus:"",fullWidthHyphen:"",circledMinus:"",squaredMinus:"",triangleMinus:"",plusMinus:"",minusPlus:"",dotMinus:"",minusTilde:"",not:""},negativePositiveSignBehavior:{toggle:!0,doNotToggle:!1},noEventListeners:{noEvents:!0,addEvents:!1},onInvalidPaste:{error:"error",ignore:"ignore",clamp:"clamp",truncate:"truncate",replace:"replace"},outputFormat:{string:"string",number:"number",dot:".",negativeDot:"-.",comma:",",negativeComma:"-,",dotNegative:".-",commaNegative:",-",none:null},overrideMinMaxLimits:{ceiling:"ceiling",floor:"floor",ignore:"ignore",invalid:"invalid",doNotOverride:null},positiveSignCharacter:{plus:"+",fullWidthPlus:"",heavyPlus:"",doublePlus:"",triplePlus:"",circledPlus:"",squaredPlus:"",trianglePlus:"",plusMinus:"",minusPlus:"",dotPlus:"",altHebrewPlus:"",normalSpace:" ",thinSpace:"",narrowNoBreakSpace:"",noBreakSpace:""},rawValueDivisor:{none:null,percentage:100,permille:1e3,basisPoint:1e4},readOnly:{readOnly:!0,readWrite:!1},roundingMethod:{halfUpSymmetric:"S",halfUpAsymmetric:"A",halfDownSymmetric:"s",halfDownAsymmetric:"a",halfEvenBankersRounding:"B",upRoundAwayFromZero:"U",downRoundTowardZero:"D",toCeilingTowardPositiveInfinity:"C",toFloorTowardNegativeInfinity:"F",toNearest05:"N05",toNearest05Alt:"CHF",upToNext05:"U05",downToNext05:"D05"},saveValueToSessionStorage:{save:!0,doNotSave:!1},selectNumberOnly:{selectNumbersOnly:!0,selectAll:!1},selectOnFocus:{select:!0,doNotSelect:!1},serializeSpaces:{plus:"+",percent:"%20"},showOnlyNumbersOnFocus:{onlyNumbers:!0,showAll:!1},showPositiveSign:{show:!0,hide:!1},showWarnings:{show:!0,hide:!1},styleRules:{none:null,positiveNegative:{positive:"autoNumeric-positive",negative:"autoNumeric-negative"},range0To100With4Steps:{ranges:[{min:0,max:25,class:"autoNumeric-red"},{min:25,max:50,class:"autoNumeric-orange"},{min:50,max:75,class:"autoNumeric-yellow"},{min:75,max:100,class:"autoNumeric-green"}]},evenOdd:{userDefined:[{callback:function(e){return e%2==0},classes:["autoNumeric-even","autoNumeric-odd"]}]},rangeSmallAndZero:{userDefined:[{callback:function(e){return e>=-1&&e<0?0:0===Number(e)?1:e>0&&e<=1?2:null},classes:["autoNumeric-small-negative","autoNumeric-zero","autoNumeric-small-positive"]}]}},suffixText:{none:"",percentage:"%",permille:"",basisPoint:""},symbolWhenUnfocused:{none:null,percentage:"%",permille:"",basisPoint:""},unformatOnHover:{unformat:!0,doNotUnformat:!1},unformatOnSubmit:{unformat:!0,keepCurrentValue:!1},upDownStep:{progressive:"progressive"},valuesToStrings:{none:null,zeroDash:{0:"-"},oneAroundZero:{"-1":"Min",1:"Max"}},watchExternalChanges:{watch:!0,doNotWatch:!1},wheelOn:{focus:"focus",hover:"hover"},wheelStep:{progressive:"progressive"}},L=I.options,Object.getOwnPropertyNames(L).forEach((function(e){"valuesToStrings"===e?Object.getOwnPropertyNames(L.valuesToStrings).forEach((function(e){u.isIE11()||null===L.valuesToStrings[e]||Object.freeze(L.valuesToStrings[e])})):"styleRules"!==e&&(u.isIE11()||null===L[e]||Object.freeze(L[e]))})),Object.freeze(L),Object.defineProperty(I,"options",{configurable:!1,writable:!1}),I.defaultSettings={allowDecimalPadding:I.options.allowDecimalPadding.always,alwaysAllowDecimalCharacter:I.options.alwaysAllowDecimalCharacter.doNotAllow,caretPositionOnFocus:I.options.caretPositionOnFocus.doNoForceCaretPosition,createLocalList:I.options.createLocalList.createList,currencySymbol:I.options.currencySymbol.none,currencySymbolPlacement:I.options.currencySymbolPlacement.prefix,decimalCharacter:I.options.decimalCharacter.dot,decimalCharacterAlternative:I.options.decimalCharacterAlternative.none,decimalPlaces:I.options.decimalPlaces.two,decimalPlacesRawValue:I.options.decimalPlacesRawValue.useDefault,decimalPlacesShownOnBlur:I.options.decimalPlacesShownOnBlur.useDefault,decimalPlacesShownOnFocus:I.options.decimalPlacesShownOnFocus.useDefault,defaultValueOverride:I.options.defaultValueOverride.doNotOverride,digitalGroupSpacing:I.options.digitalGroupSpacing.three,digitGroupSeparator:I.options.digitGroupSeparator.comma,divisorWhenUnfocused:I.options.divisorWhenUnfocused.none,emptyInputBehavior:I.options.emptyInputBehavior.focus,eventBubbles:I.options.eventBubbles.bubbles,eventIsCancelable:I.options.eventIsCancelable.isCancelable,failOnUnknownOption:I.options.failOnUnknownOption.ignore,formatOnPageLoad:I.options.formatOnPageLoad.format,formulaMode:I.options.formulaMode.disabled,historySize:I.options.historySize.medium,invalidClass:I.options.invalidClass,isCancellable:I.options.isCancellable.cancellable,leadingZero:I.options.leadingZero.deny,maximumValue:I.options.maximumValue.tenTrillions,minimumValue:I.options.minimumValue.tenTrillions,modifyValueOnUpDownArrow:I.options.modifyValueOnUpDownArrow.modifyValue,modifyValueOnWheel:I.options.modifyValueOnWheel.modifyValue,negativeBracketsTypeOnBlur:I.options.negativeBracketsTypeOnBlur.none,negativePositiveSignPlacement:I.options.negativePositiveSignPlacement.none,negativeSignCharacter:I.options.negativeSignCharacter.hyphen,negativePositiveSignBehavior:I.options.negativePositiveSignBehavior.doNotToggle,noEventListeners:I.options.noEventListeners.addEvents,onInvalidPaste:I.options.onInvalidPaste.error,outputFormat:I.options.outputFormat.none,overrideMinMaxLimits:I.options.overrideMinMaxLimits.doNotOverride,positiveSignCharacter:I.options.positiveSignCharacter.plus,rawValueDivisor:I.options.rawValueDivisor.none,readOnly:I.options.readOnly.readWrite,roundingMethod:I.options.roundingMethod.halfUpSymmetric,saveValueToSessionStorage:I.options.saveValueToSessionStorage.doNotSave,selectNumberOnly:I.options.selectNumberOnly.selectNumbersOnly,selectOnFocus:I.options.selectOnFocus.select,serializeSpaces:I.options.serializeSpaces.plus,showOnlyNumbersOnFocus:I.options.showOnlyNumbersOnFocus.showAll,showPositiveSign:I.options.showPositiveSign.hide,showWarnings:I.options.showWarnings.show,styleRules:I.options.styleRules.none,suffixText:I.options.suffixText.none,symbolWhenUnfocused:I.options.symbolWhenUnfocused.none,unformatOnHover:I.options.unformatOnHover.unformat,unformatOnSubmit:I.options.unformatOnSubmit.keepCurrentValue,upDownStep:"1",valuesToStrings:I.options.valuesToStrings.none,watchExternalChanges:I.options.watchExternalChanges.doNotWatch,wheelOn:I.options.wheelOn.focus,wheelStep:I.options.wheelStep.progressive},Object.freeze(I.defaultSettings),Object.defineProperty(I,"defaultSettings",{configurable:!1,writable:!1});var B={digitGroupSeparator:I.options.digitGroupSeparator.dot,decimalCharacter:I.options.decimalCharacter.comma,decimalCharacterAlternative:I.options.decimalCharacterAlternative.dot,currencySymbol:"",currencySymbolPlacement:I.options.currencySymbolPlacement.suffix,negativePositiveSignPlacement:I.options.negativePositiveSignPlacement.prefix},F={digitGroupSeparator:I.options.digitGroupSeparator.comma,decimalCharacter:I.options.decimalCharacter.dot,currencySymbol:I.options.currencySymbol.dollar,currencySymbolPlacement:I.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:I.options.negativePositiveSignPlacement.right},H={digitGroupSeparator:I.options.digitGroupSeparator.comma,decimalCharacter:I.options.decimalCharacter.dot,currencySymbol:I.options.currencySymbol.yen,currencySymbolPlacement:I.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:I.options.negativePositiveSignPlacement.right};u.cloneObject(B).formulaMode=I.options.formulaMode.enabled;var V=u.cloneObject(B);V.minimumValue=0;var z=u.cloneObject(B);z.maximumValue=0,z.negativePositiveSignPlacement=I.options.negativePositiveSignPlacement.prefix;var U=u.cloneObject(B);U.digitGroupSeparator=I.options.digitGroupSeparator.normalSpace;var W=u.cloneObject(U);W.minimumValue=0;var q=u.cloneObject(U);q.maximumValue=0,q.negativePositiveSignPlacement=I.options.negativePositiveSignPlacement.prefix;var Z=u.cloneObject(B);Z.currencySymbol=I.options.currencySymbol.none,Z.suffixText="".concat(I.options.suffixText.percentage),Z.wheelStep=1e-4,Z.rawValueDivisor=I.options.rawValueDivisor.percentage;var G=u.cloneObject(Z);G.minimumValue=0;var $=u.cloneObject(Z);$.maximumValue=0,$.negativePositiveSignPlacement=I.options.negativePositiveSignPlacement.prefix;var Y=u.cloneObject(Z);Y.decimalPlaces=3;var K=u.cloneObject(G);K.decimalPlaces=3;var X=u.cloneObject($);X.decimalPlaces=3,u.cloneObject(F).formulaMode=I.options.formulaMode.enabled;var Q=u.cloneObject(F);Q.minimumValue=0;var J=u.cloneObject(F);J.maximumValue=0,J.negativePositiveSignPlacement=I.options.negativePositiveSignPlacement.prefix;var ee=u.cloneObject(J);ee.negativeBracketsTypeOnBlur=I.options.negativeBracketsTypeOnBlur.parentheses;var te=u.cloneObject(F);te.currencySymbol=I.options.currencySymbol.none,te.suffixText=I.options.suffixText.percentage,te.wheelStep=1e-4,te.rawValueDivisor=I.options.rawValueDivisor.percentage;var ne=u.cloneObject(te);ne.minimumValue=0;var oe=u.cloneObject(te);oe.maximumValue=0,oe.negativePositiveSignPlacement=I.options.negativePositiveSignPlacement.prefix;var re=u.cloneObject(te);re.decimalPlaces=3;var ie=u.cloneObject(ne);ie.decimalPlaces=3;var se=u.cloneObject(oe);se.decimalPlaces=3;var ae=u.cloneObject(B);ae.currencySymbol=I.options.currencySymbol.lira,I.predefinedOptions={euro:B,euroPos:V,euroNeg:z,euroSpace:U,euroSpacePos:W,euroSpaceNeg:q,percentageEU2dec:Z,percentageEU2decPos:G,percentageEU2decNeg:$,percentageEU3dec:Y,percentageEU3decPos:K,percentageEU3decNeg:X,dollar:F,dollarPos:Q,dollarNeg:J,dollarNegBrackets:ee,percentageUS2dec:te,percentageUS2decPos:ne,percentageUS2decNeg:oe,percentageUS3dec:re,percentageUS3decPos:ie,percentageUS3decNeg:se,French:B,Spanish:B,NorthAmerican:F,British:{digitGroupSeparator:I.options.digitGroupSeparator.comma,decimalCharacter:I.options.decimalCharacter.dot,currencySymbol:I.options.currencySymbol.pound,currencySymbolPlacement:I.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:I.options.negativePositiveSignPlacement.right},Swiss:{digitGroupSeparator:I.options.digitGroupSeparator.apostrophe,decimalCharacter:I.options.decimalCharacter.dot,currencySymbol:"CHF",currencySymbolPlacement:I.options.currencySymbolPlacement.suffix,negativePositiveSignPlacement:I.options.negativePositiveSignPlacement.prefix},Japanese:H,Chinese:H,Brazilian:{digitGroupSeparator:I.options.digitGroupSeparator.dot,decimalCharacter:I.options.decimalCharacter.comma,currencySymbol:I.options.currencySymbol.real,currencySymbolPlacement:I.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:I.options.negativePositiveSignPlacement.right},Turkish:ae,dotDecimalCharCommaSeparator:{digitGroupSeparator:I.options.digitGroupSeparator.comma,decimalCharacter:I.options.decimalCharacter.dot},commaDecimalCharDotSeparator:{digitGroupSeparator:I.options.digitGroupSeparator.dot,decimalCharacter:I.options.decimalCharacter.comma,decimalCharacterAlternative:I.options.decimalCharacterAlternative.dot},integer:{decimalPlaces:0},integerPos:{minimumValue:I.options.minimumValue.zero,decimalPlaces:0},integerNeg:{maximumValue:I.options.maximumValue.zero,decimalPlaces:0},float:{allowDecimalPadding:I.options.allowDecimalPadding.never},floatPos:{allowDecimalPadding:I.options.allowDecimalPadding.never,minimumValue:I.options.minimumValue.zero,maximumValue:I.options.maximumValue.tenTrillions},floatNeg:{allowDecimalPadding:I.options.allowDecimalPadding.never,minimumValue:I.options.minimumValue.tenTrillions,maximumValue:I.options.maximumValue.zero},numeric:{digitGroupSeparator:I.options.digitGroupSeparator.noSeparator,decimalCharacter:I.options.decimalCharacter.dot,currencySymbol:I.options.currencySymbol.none},numericPos:{digitGroupSeparator:I.options.digitGroupSeparator.noSeparator,decimalCharacter:I.options.decimalCharacter.dot,currencySymbol:I.options.currencySymbol.none,minimumValue:I.options.minimumValue.zero,maximumValue:I.options.maximumValue.tenTrillions},numericNeg:{digitGroupSeparator:I.options.digitGroupSeparator.noSeparator,decimalCharacter:I.options.decimalCharacter.dot,currencySymbol:I.options.currencySymbol.none,minimumValue:I.options.minimumValue.tenTrillions,maximumValue:I.options.maximumValue.zero}},Object.getOwnPropertyNames(I.predefinedOptions).forEach((function(e){Object.freeze(I.predefinedOptions[e])})),Object.freeze(I.predefinedOptions),Object.defineProperty(I,"predefinedOptions",{configurable:!1,writable:!1});const le=I;return t.default})(),e.exports=t()},"./resources/js/Components/DatePicker.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DatePicker:()=>g,DatePickerTwo:()=>v,TimePicker:()=>b});n("./node_modules/core-js/modules/es.object.set-prototype-of.js"),n("./node_modules/core-js/modules/es.function.bind.js"),n("./node_modules/core-js/modules/es.object.get-prototype-of.js"),n("./node_modules/core-js/modules/es.array.index-of.js"),n("./node_modules/core-js/modules/es.error.to-string.js"),n("./node_modules/core-js/modules/es.date.to-string.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.regexp.to-string.js"),n("./node_modules/core-js/modules/es.reflect.to-string-tag.js"),n("./node_modules/core-js/modules/es.reflect.construct.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.map.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/es.error.cause.js"),n("./node_modules/core-js/modules/es.object.create.js"),n("./node_modules/core-js/modules/es.object.define-property.js"),n("./node_modules/core-js/modules/es.symbol.to-primitive.js"),n("./node_modules/core-js/modules/es.date.to-primitive.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.number.constructor.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js");var o=n("./node_modules/flatpickr/dist/esm/index.js");n("./node_modules/flatpickr/dist/flatpickr.min.css");function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,s=void 0,s=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===r(s)?s:String(s)),o)}var i,s}function a(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function c(e){var t=h();return function(){var n,o=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function d(e){var t="function"==typeof Map?new Map:void 0;return d=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return u(e,arguments,p(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),m(o,e)},d(e)}function u(e,t,n){return u=h()?Reflect.construct.bind():function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&m(r,n.prototype),r},u.apply(null,arguments)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var f=n("./node_modules/flatpickr/dist/l10n/fr.js").default.fr;o.default.localize(f);var g=function(e){l(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,[{key:"connectedCallback",value:function(){var e=this.dataset.mindate,t=this.dataset.maxdate;this.date=void 0!==e&&void 0!==t?(0,o.default)(this,{altInput:!0,altFormat:"d/m/Y",dateFormat:"Y-m-d",allowInput:!0,enable:[{from:e,to:t}],locale:{firstDayOfWeek:1}}):(0,o.default)(this,{altInput:!0,altFormat:"d/m/Y",dateFormat:"Y-m-d",allowInput:!0,locale:{firstDayOfWeek:1}})}},{key:"disconnectedCallback",value:function(){this.date.destroy()}}]),n}(d(HTMLInputElement)),v=function(e){l(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,[{key:"connectedCallback",value:function(){this.date=(0,o.default)(this,{altInput:!0,mode:"range",altFormat:"d/m/Y",dateFormat:"Y-m-d",allowInput:!0})}},{key:"disconnectedCallback",value:function(){this.date.destroy()}}]),n}(d(HTMLInputElement)),b=function(e){l(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,[{key:"connectedCallback",value:function(){this.date=(0,o.default)(this,{enableTime:!0,noCalendar:!0,dateFormat:"H:i",minTime:"08:00",maxTime:"17:30",time_24hr:!0})}},{key:"disconnectedCallback",value:function(){this.date.destroy()}}]),n}(d(HTMLInputElement))},"./resources/js/Components/InputNumeric.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{InputNumeric:()=>p});n("./node_modules/core-js/modules/es.object.set-prototype-of.js"),n("./node_modules/core-js/modules/es.function.bind.js"),n("./node_modules/core-js/modules/es.object.get-prototype-of.js"),n("./node_modules/core-js/modules/es.array.index-of.js"),n("./node_modules/core-js/modules/es.error.to-string.js"),n("./node_modules/core-js/modules/es.date.to-string.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.regexp.to-string.js"),n("./node_modules/core-js/modules/es.reflect.to-string-tag.js"),n("./node_modules/core-js/modules/es.reflect.construct.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.map.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/es.error.cause.js"),n("./node_modules/core-js/modules/es.object.create.js"),n("./node_modules/core-js/modules/es.object.define-property.js"),n("./node_modules/core-js/modules/es.symbol.to-primitive.js"),n("./node_modules/core-js/modules/es.date.to-primitive.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.number.constructor.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js");var o=n("./node_modules/autonumeric/dist/autoNumeric.min.js"),r=n.n(o);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,s=void 0,s=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===i(s)?s:String(s)),o)}var r,s}function a(e){var t=d();return function(){var n,o=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return c(e,arguments,h(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u(o,e)},l(e)}function c(e,t,n){return c=d()?Reflect.construct.bind():function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&u(r,n.prototype),r},c.apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var m={digitGroupSeparator:" ",decimalCharacter:",",decimalCharacterAlternative:".",decimalPlaces:0,currencySymbolPlacement:r().options.currencySymbolPlacement.suffix,roundingMethod:r().options.roundingMethod.halfUpSymmetric,negativePositiveSignPlacement:"p",minimumValue:0,maximumValue:1e13},p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(l,e);var t,n,o,i=a(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),i.apply(this,arguments)}return t=l,(n=[{key:"connectedCallback",value:function(){this.type="text";var e=this.dataset.max;void 0!==e&&(m.maximumValue=e),this.input=new(r())(this,m)}},{key:"disconnectedCallback",value:function(){this.input.remove()}}])&&s(t.prototype,n),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),l}(l(HTMLInputElement))},"./resources/js/Components/SelectInput.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{SelectInput:()=>p,SelectInputTop:()=>f});n("./node_modules/core-js/modules/es.object.set-prototype-of.js"),n("./node_modules/core-js/modules/es.function.bind.js"),n("./node_modules/core-js/modules/es.object.get-prototype-of.js"),n("./node_modules/core-js/modules/es.array.index-of.js"),n("./node_modules/core-js/modules/es.error.to-string.js"),n("./node_modules/core-js/modules/es.date.to-string.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.regexp.to-string.js"),n("./node_modules/core-js/modules/es.reflect.to-string-tag.js"),n("./node_modules/core-js/modules/es.reflect.construct.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.map.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/es.error.cause.js"),n("./node_modules/core-js/modules/es.object.create.js"),n("./node_modules/core-js/modules/es.object.define-property.js"),n("./node_modules/core-js/modules/es.symbol.to-primitive.js"),n("./node_modules/core-js/modules/es.date.to-primitive.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.number.constructor.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./resources/js/libs/SlimSelect/slimselect.min.js"),n("./resources/js/libs/SlimSelect/slimselect.min.css");function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,s=void 0,s=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===o(s)?s:String(s)),r)}var i,s}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function l(e){var t=u();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function c(e){var t="function"==typeof Map?new Map:void 0;return c=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return d(e,arguments,m(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h(o,e)},c(e)}function d(e,t,n){return d=u()?Reflect.construct.bind():function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&h(r,n.prototype),r},d.apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var p=function(e){a(n,e);var t=l(n);function n(){return r(this,n),t.apply(this,arguments)}return s(n,[{key:"connectedCallback",value:function(){this.select=new SlimSelect({select:this,settings:{searchText:"Aucun rsultat trouv",searchPlaceholder:"Rechercher",searchHighlight:!0,allowDeselect:!0}});var e=this.parentElement.querySelector(".ss-main");null!==e&&(e.addEventListener("focus",(function(t){var n=e.id;!1===document.querySelectorAll("#"+n)[1].classList.contains("ss-open-below")&&e.click()})),e.addEventListener("mousedown",(function(e){e.preventDefault()})))}},{key:"disconnectedCallback",value:function(){this.select.destroy()}}]),n}(c(HTMLSelectElement)),f=function(e){a(n,e);var t=l(n);function n(){return r(this,n),t.apply(this,arguments)}return s(n,[{key:"connectedCallback",value:function(){this.select=new SlimSelect({select:this,settings:{searchText:"Aucun rsultat trouv",searchPlaceholder:"Rechercher",searchHighlight:!0,openPosition:"up"}})}},{key:"disconnectedCallback",value:function(){this.select.destroy()}}]),n}(c(HTMLSelectElement))},"./resources/js/Components/TextEditor.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{TextEditor:()=>p});n("./node_modules/core-js/modules/es.object.set-prototype-of.js"),n("./node_modules/core-js/modules/es.function.bind.js"),n("./node_modules/core-js/modules/es.object.get-prototype-of.js"),n("./node_modules/core-js/modules/es.array.index-of.js"),n("./node_modules/core-js/modules/es.error.to-string.js"),n("./node_modules/core-js/modules/es.date.to-string.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.regexp.to-string.js"),n("./node_modules/core-js/modules/es.reflect.to-string-tag.js"),n("./node_modules/core-js/modules/es.reflect.construct.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.map.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/es.error.cause.js"),n("./node_modules/core-js/modules/es.object.create.js"),n("./node_modules/core-js/modules/es.object.define-property.js"),n("./node_modules/core-js/modules/es.symbol.to-primitive.js"),n("./node_modules/core-js/modules/es.date.to-primitive.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.number.constructor.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js");var o=n("./node_modules/tinymce/tinymce.js"),r=n.n(o);n("./node_modules/tinymce/models/dom/model.min.js"),n("./node_modules/tinymce/icons/default/icons.min.js"),n("./node_modules/tinymce/themes/silver/theme.min.js");function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,s=void 0,s=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===i(s)?s:String(s)),o)}var r,s}function a(e){var t=d();return function(){var n,o=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return c(e,arguments,h(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u(o,e)},l(e)}function c(e,t,n){return c=d()?Reflect.construct.bind():function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&u(r,n.prototype),r},c.apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}window.matchMedia("(prefers-color-scheme: dark)").matches;var m=window.matchMedia("(max-width: 1023.5px)").matches,p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(l,e);var t,n,o,i=a(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),i.apply(this,arguments)}return t=l,(n=[{key:"connectedCallback",value:function(){this.textarea=r().init({selector:"textarea#"+this.id,promotion:!1,language:"fr_FR",height:"calc(100vh - 280px)",plugins:"preview importcss searchreplace autolink directionality template code visualblocks visualchars fullscreen image link media codesample table charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount help charmap quickbars emoticons",editimage_cors_hosts:["picsum.photos"],menubar:"file edit view insert format tools table help",toolbar:"undo redo | bold italic underline strikethrough | fontfamily fontsize blocks | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen  preview save print | insertfile image media templates link anchor | ltr rtl",toolbar_sticky:!0,toolbar_sticky_offset:m?102:108,quickbars_insert_toolbar:!1,image_advtab:!0,link_list:[{title:"PROFISC NIGER",value:"https://www.profisc.net"}],image_list:[{title:"CGP LOGISTICS",value:"https://www.profisc.net/wp-content/uploads/2023/03/logo_logistics.png"},{title:"CGP PROFISC",value:"https://www.profisc.net/wp-content/uploads/2022/05/Fichier-fianale.png"}],image_class_list:[{title:"Aucune",value:""}],templates:[{title:"Modle 1",description:"Modle 1",content:"<div class=\"mceTmpl\">\n    <div style='background-color: #ffffff;'>\n        <div style='margin: 0px auto; max-width: 600px;'>\n            <table style='width: 100%;' role='presentation' border='0' cellspacing='0' cellpadding='0' align='center'>\n                <tbody>\n                <tr>\n                    <td style='direction: ltr; font-size: 0px; padding: 20px 0; padding-bottom: 0px; text-align: center;'>\n                        <div class='mj-column-per-100 mj-outlook-group-fix'\n                             style='font-size: 0px; text-align: left; direction: ltr; display: inline-block; vertical-align: top; width: 100%;'>\n                            <table style='vertical-align: top; height: 139.391px;' role='presentation' border='0'\n                                   width='100%' cellspacing='0' cellpadding='0'>\n                                <tbody>\n                                <tr style='height: 53px;'>\n                                    <td style='font-size: 0px; padding: 10px 25px; word-break: break-word; height: 53px;'\n                                        align='left'>\n                                        <table style='border-collapse: collapse; border-spacing: 0px;'\n                                               role='presentation' border='0' cellspacing='0' cellpadding='0'>\n                                            <tbody>\n                                            <tr>\n                                                <td style='width: 50px;'><img\n                                                        style='border: 0px; display: block; outline: none; text-decoration: none; height: 53px; width: 190px; font-size: 14px;'\n                                                        src='https://bn1301files.storage.live.com/y4mBwSgYOI7vUCoWd-a1invRhQ_WKfv3rTx7okZW9Oz-yGNYftPbqyaiq-LbfbZ5oGQC6EIBSCzmK7q1Hg8eT5QOCyc7BMfjQfNqRBBXE1aL56P65IrkDSn5NBZVJWy1l_gwjir91sehNUq56C9mA_H-iVik9UIMil5jjkp1JwGhGjOQ0RV3UQISIhLeOFEx7u7?width=1333&height=371&cropmode=none'\n                                                        alt='image description' width='50' height='auto'/></td>\n                                            </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                                <tr style='height: 84px;'>\n                                    <td style='font-size: 0px; padding: 10px 25px; word-break: break-word; height: 84px;'\n                                        align='left'>\n                                        <div style='font-family: Helvetica, Arial, sans-serif; font-size: 18px; font-weight: 400; line-height: 24px; text-align: left; color: #434245;'>\n                                            <h1 style='margin: 0; font-size: 24px; line-height: normal; font-weight: bold;'>\n                                                &nbsp;</h1>\n                                            <h1 style='margin: 0; font-size: 24px; line-height: normal; font-weight: bold;'>\n                                                Saviez-vous que <span style='color: #104e94;'><strong>PROFISC <span\n                                                    style='color: #000000;'>organise </span></strong></span>nouvelle\n                                                formation ?</h1>\n                                        </div>\n                                    </td>\n                                </tr>\n                                <tr style='height: 2.39062px;'>\n                                    <td style='font-size: 0px; padding: 10px 25px; word-break: break-word; height: 2.39062px;'>\n                                        <p style='border-top: dashed 1px lightgrey; font-size: 1px; margin: 0px auto; width: 100%;'>\n                                            &nbsp;</p></td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        </div>\n        <div style='margin: 0px auto; max-width: 600px;'>\n            <table style='width: 100%;' role='presentation' border='0' cellspacing='0' cellpadding='0' align='center'>\n                <tbody>\n                <tr>\n                    <td style='direction: ltr; font-size: 0px; padding: 20px 0; padding-bottom: 0px; text-align: center;'>\n                        <div class='mj-column-per-100 mj-outlook-group-fix'\n                             style='font-size: 0px; text-align: left; direction: ltr; display: inline-block; vertical-align: top; width: 100%;'>\n                            <table style='vertical-align: top;' role='presentation' border='0' width='100%'\n                                   cellspacing='0' cellpadding='0'>\n                                <tbody>\n                                <tr>\n                                    <td style='font-size: 0px; padding: 10px 25px; word-break: break-word;'\n                                        align='left'>\n                                        <div style='font-family: Helvetica, Arial, sans-serif; font-size: 18px; font-weight: 400; line-height: 24px; text-align: left; color: #434245;'>\n                                            <p style='margin: 0;'>Bonjour , Ibrahima Djibrilla</p>\n                                        </div>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td style='font-size: 0px; padding: 10px 25px; word-break: break-word;'\n                                        align='left'>\n                                        <div style='font-family: Helvetica, Arial, sans-serif; font-size: 18px; font-weight: 400; line-height: 24px; text-align: left; color: #434245;'>\n                                            <p style='margin: 0;'>Nous vous informons par la pr&eacute;sente que nous\n                                                organisons une nouvelle formation certifiante.</p>\n                                        </div>\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        </div>\n        <div style='margin: 0px auto; max-width: 600px;'>\n            <table style='width: 100%;' role='presentation' border='0' cellspacing='0' cellpadding='0' align='center'>\n                <tbody>\n                <tr>\n                    <td style='direction: ltr; font-size: 0px; padding: 20px 0; text-align: center;'>\n                        <div class='mj-column-per-100 mj-outlook-group-fix'\n                             style='font-size: 0px; text-align: left; direction: ltr; display: inline-block; vertical-align: top; width: 100%;'>\n                            <table style='vertical-align: top;' role='presentation' border='0' width='100%'\n                                   cellspacing='0' cellpadding='0'>\n                                <tbody>\n                                <tr>\n                                    <td style='font-size: 0px; padding: 10px 25px; word-break: break-word;'\n                                        align='left'>\n                                        <div style='font-family: Helvetica, Arial, sans-serif; font-size: 18px; font-weight: 400; line-height: 24px; text-align: left; color: #434245;'>\n                                            <p style='margin: 0;'><strong\n                                                    style='font-size: 14px; color: #999; line-height: 18px;'>Date D&eacute;but:</strong><br/>Dim.\n                                                4 ao&ucirc;t 2022, 08 h 00</p>\n                                        </div>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td style='font-size: 0px; padding: 10px 25px; word-break: break-word;'\n                                        align='left'>\n                                        <div style='font-family: Helvetica, Arial, sans-serif; font-size: 18px; font-weight: 400; line-height: 24px; text-align: left; color: #434245;'>\n                                            <p style='margin: 0;'><strong\n                                                    style='font-size: 14px; color: #999; line-height: 18px;'>O&ugrave;:</strong><br/>CGP\n                                                PROFISC, SONUCI-ZAC, rond point Tourar&eacute;</p>\n                                        </div>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td style='font-size: 0px; padding: 10px 25px; word-break: break-word;'\n                                        align='left'>\n                                        <div style='font-family: Helvetica, Arial, sans-serif; font-size: 18px; font-weight: 400; line-height: 24px; text-align: left; color: #434245;'>\n                                            <p style='margin: 0;'><strong\n                                                    style='font-size: 14px; color: #999; line-height: 18px;'>Th&egrave;me:</strong><br/>Gestion\n                                                comptable, fiscale et sociale des PME</p>\n                                        </div>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td style='font-size: 0px; padding: 10px 25px; word-break: break-word;'\n                                        align='left'>\n                                        <table style='border-collapse: separate; line-height: 100%;' role='presentation'\n                                               border='0' cellspacing='0' cellpadding='0'>\n                                            <tbody>\n                                            <tr>\n                                                <td style='border: none; border-radius: 30px; cursor: auto; mso-padding-alt: 10px 25px; background: #104e94;'\n                                                    role='presentation' align='center' valign='middle'\n                                                    bgcolor='#104e94'><a\n                                                        style='display: inline-block; background: #104e94; color: #ffffff; font-family: Helvetica, Arial, sans-serif; font-size: 14px; font-weight: bold; line-height: 30px; margin: 0; text-decoration: none; text-transform: uppercase; padding: 10px 25px; mso-padding-alt: 0px; border-radius: 30px;'\n                                                        href='http://www.profisc.net/formations-certifiantes/'\n                                                        target='_blank' rel='noopener'>EN SAVOIR PLUS SUR LA FORMATION\n                                                    ?</a></td>\n                                            </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        </div>\n        <div style='margin: 0px auto; max-width: 600px;'>\n            <table style='width: 100%;' role='presentation' border='0' cellspacing='0' cellpadding='0' align='center'>\n                <tbody>\n                <tr>\n                    <td style='direction: ltr; font-size: 0px; padding: 20px 0; padding-top: 0px; text-align: center;'>\n                        <div class='mj-column-per-100 mj-outlook-group-fix'\n                             style='font-size: 0px; text-align: left; direction: ltr; display: inline-block; vertical-align: top; width: 100%;'>\n                            <table style='vertical-align: top; height: 98px;' role='presentation' border='0'\n                                   width='100%' cellspacing='0' cellpadding='0'>\n                                <tbody>\n                                <tr style='height: 48px;'>\n                                    <td style='font-size: 0px; padding: 10px 25px; word-break: break-word; height: 48px;'\n                                        align='left'>\n                                        <div style='font-family: Helvetica, Arial, sans-serif; font-size: 18px; font-weight: 400; line-height: 24px; text-align: left; color: #434245;'>\n                                            Si vous avez de plus d'informations, n'h&eacute;sitez pas &agrave; nous\n                                            contacter au <a style='color: #104e94; text-decoration: none;'\n                                                            href='mailto:contact@profisc.net'>contact@profisc.net</a>!\n                                        </div>\n                                    </td>\n                                </tr>\n                                <tr style='height: 24px;'>\n                                    <td style='font-size: 0px; padding: 10px 25px; word-break: break-word; height: 24px;'\n                                        align='left'>\n                                        <div style='font-family: Helvetica, Arial, sans-serif; font-size: 18px; font-weight: bold; line-height: 24px; text-align: left; color: #434245;'>\n                                            Equipe CGP PROFISC\n                                        </div>\n                                    </td>\n                                </tr>\n                                <tr style='height: 26px;'>\n                                    <td style='font-size: 0px; padding: 10px 25px; word-break: break-word; height: 26px;'\n                                        align='left'>\n                                        <table style='float: none; display: inline-table;' role='presentation'\n                                               border='0' cellspacing='0' cellpadding='0' align='left'>\n                                            <tbody>\n                                            <tr>\n                                                <td style='padding: 4px;'>\n                                                    <table style='border-radius: 3px; width: 18px;' role='presentation'\n                                                           border='0' cellspacing='0' cellpadding='0'>\n                                                        <tbody>\n                                                        <tr>\n                                                            <td style='font-size: 0; height: 18px; vertical-align: middle; width: 18px;'>\n                                                                <a style='color: #104e94; text-decoration: none;'\n                                                                   href='https://www.facebook.com/CentreDeGestion/'\n                                                                   target='_blank' rel='noopener'> <img\n                                                                        style='border-radius: 3px; display: block;'\n                                                                        src='https://bn1301files.storage.live.com/y4mUaSrdj6Hv3StAaxKklLnaIRbXS3Yu_irw8YWcgdsBmKATL4OqW1R9V2O5llJQ7PVcAeMvGSRlPdwnGk95LcvjwQpRF0ctZmuxx4pbYWA1m-1V7kqr7L2JgWVKLTW6VcKil481U7L8hq63dP1JdpK38qCIb0cc3Y9qjjb6OMB994jY_wVd_w5X0E_gaQc51ag?width=512&height=512&cropmode=none'\n                                                                        alt='facebook-logo' width='18' height='18'/>\n                                                                </a></td>\n                                                        </tr>\n                                                        </tbody>\n                                                    </table>\n                                                </td>\n                                            </tr>\n                                            </tbody>\n                                        </table>\n                                        <table style='float: none; display: inline-table;' role='presentation'\n                                               border='0' cellspacing='0' cellpadding='0' align='left'>\n                                            <tbody>\n                                            <tr>\n                                                <td style='padding: 4px;'>\n                                                    <table style='border-radius: 3px; width: 18px;' role='presentation'\n                                                           border='0' cellspacing='0' cellpadding='0'>\n                                                        <tbody>\n                                                        <tr>\n                                                            <td style='font-size: 0; height: 18px; vertical-align: middle; width: 18px;'>\n                                                                <a style='color: #104e94; text-decoration: none;'\n                                                                   href='https://www.youtube.com/channel/UCY0I-25ZRetA_zv0yaaAJ1A'\n                                                                   target='_blank' rel='noopener'> <img\n                                                                        style='border-radius: 3px; display: block;'\n                                                                        src='https://bn1301files.storage.live.com/y4mQCTZG3w4ewry-kU7Nl2FT0hz6M6B9rUiR02aadk2H81QgHYtMNTwcwNTnaxVE0ZnIQhnKIdBVVtEHUFEvm7NICPhY0M2m9btGhR6FTYpdHUeT-hAHGcIdAmJc8hz0BEqh9Kpto_kNZpHwVlsVdlzweN2aHrvZXijMGnj57MN-HvdWz3xAPLaVRCtdXJvmmzv?width=512&height=512&cropmode=none'\n                                                                        width='18' height='18'/> </a></td>\n                                                        </tr>\n                                                        </tbody>\n                                                    </table>\n                                                </td>\n                                            </tr>\n                                            </tbody>\n                                        </table>\n                                        <table style='float: none; display: inline-table;' role='presentation'\n                                               border='0' cellspacing='0' cellpadding='0' align='left'>\n                                            <tbody>\n                                            <tr>\n                                                <td style='padding: 4px;'>\n                                                    <table style='border-radius: 3px; width: 18px;' role='presentation'\n                                                           border='0' cellspacing='0' cellpadding='0'>\n                                                        <tbody>\n                                                        <tr>\n                                                            <td style='font-size: 0; height: 18px; vertical-align: middle; width: 18px;'>\n                                                                <a style='color: #104e94; text-decoration: none;'\n                                                                   href='https://www.instagram.com/cgpprofisc/?hl=fr'\n                                                                   target='_blank' rel='noopener'> <img\n                                                                        style='border-radius: 3px; display: block;'\n                                                                        src='https://bn1301files.storage.live.com/y4mwcQyEnx_bXdrTpinXTV9Nw6rSYhiEJElhNlNA3ynoqZc-iE9Bx1O88N8Hi-Ghqj4q3TFw8z_VHvB8ahYYhZnF-6V5XHML-YIhoNwWKOkLCMXxF5IUxBQxJG4ytTQYLD1Y1QXksAp-cMZxZ8nEdFgXGTgXc0mNBzYRu-7zszSpiVhntbVWpzJO-EFT5bT2IGM?width=512&height=512&cropmode=none'\n                                                                        alt='instagram-logo' width='18' height='18'/>\n                                                                </a></td>\n\n                                                        </tr>\n                                                        </tbody>\n                                                    </table>\n                                                </td>\n                                            </tr>\n                                            </tbody>\n                                        </table>\n                                        <table style='float: none; display: inline-table;' role='presentation'\n                                               border='0' cellspacing='0' cellpadding='0' align='left'>\n                                            <tbody>\n                                            <tr>\n                                                <td style='padding: 4px;'>\n                                                    <table style='border-radius: 3px; width: 18px;' role='presentation'\n                                                           border='0' cellspacing='0' cellpadding='0'>\n                                                        <tbody>\n                                                        <tr>\n                                                            <td style='font-size: 0; height: 18px; vertical-align: middle; width: 18px;'>\n                                                                <a style='color: #104e94; text-decoration: none;'\n                                                                   href='https://www.linkedin.com/company/cgp-profisc/'\n                                                                   target='_blank' rel='noopener'> <img\n                                                                        style='border-radius: 3px; display: block;'\n                                                                        src='https://bn1301files.storage.live.com/y4mlcd7o0eEUIJ9z5fYmLpgzthDMtj6dWIId6PYqzzLHdYQw1zQPbN9KcZOASNbOa8NsQ24P3emlG95-J9ons6Gp3lOeZnEyiP9m-WEIDtzBYOcYNSO8QtMHwYBYs1H73hUI1_pmSv6vZFekl5Un2mChU_y5pftd3bVabvgL9iyH4_I2hjzW3d3UwvAMeMKmHer?width=512&height=512&cropmode=none'\n                                                                        alt='linked-logo' width='18' height='18'/> </a>\n                                                            </td>\n\n                                                        </tr>\n                                                        </tbody>\n                                                    </table>\n                                                </td>\n                                            </tr>\n                                            </tbody>\n                                        </table>\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        </div>\n        <div style='margin: 0px auto; max-width: 600px;'>\n            <table style='width: 100%;' role='presentation' border='0' cellspacing='0' cellpadding='0' align='center'>\n                <tbody>\n                <tr>\n                    <td style='direction: ltr; font-size: 0px; padding: 20px 0; padding-top: 0; text-align: center;'>\n                        <div class='mj-column-per-100 mj-outlook-group-fix'\n                             style='font-size: 0px; text-align: left; direction: ltr; display: inline-block; vertical-align: top; width: 100%;'>\n                            <table style='vertical-align: top;' role='presentation' border='0' width='100%'\n                                   cellspacing='0' cellpadding='0'>\n                                <tbody>\n                                <tr>\n                                    <td style='font-size: 0px; padding: 10px 25px; word-break: break-word;'>\n                                        <p style='border-top: dashed 1px lightgrey; font-size: 1px; margin: 0px auto; width: 100%;'>\n                                            &nbsp;</p>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td style='font-size: 0px; padding: 10px 25px; word-break: break-word;'\n                                        align='left'>\n                                        <div style='font-family: Helvetica, Arial, sans-serif; font-size: 14px; font-weight: 400; line-height: 24px; text-align: left; color: #999999;'>\n                                            Avez-vous des questions ou besoin d'aide? Envoyez-nous un courriel &agrave;\n                                            <a style='color: #104e94; text-decoration: none;'\n                                               href='mailto:contact@profisc.net'>contact@profisc.net</a></div>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td style='font-size: 0px; padding: 10px 25px; word-break: break-word;'\n                                        align='left'>\n                                        <div style='font-family: Helvetica, Arial, sans-serif; font-size: 18px; font-weight: 400; line-height: 24px; text-align: left; color: #434245;'>\n                                            SONUCI-ZAC, rond point Tourar&eacute; &copy; 2022 CGP PROFISC.\n                                        </div>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td style='font-size: 0px; padding: 10px 25px; word-break: break-word;'\n                                        align='left'>&nbsp;\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        </div>\n        <div style='margin: 0px auto; max-width: 600px;'>\n            <table style='width: 100%;' role='presentation' border='0' cellspacing='0' cellpadding='0' align='center'>\n                <tbody>\n                <tr>\n                    <td style='direction: ltr; font-size: 0px; padding: 20px 0; text-align: center;'>\n                        <div class='mj-column-per-100 mj-outlook-group-fix'\n                             style='font-size: 0px; text-align: left; direction: ltr; display: inline-block; vertical-align: top; width: 100%;'>\n                            <table style='vertical-align: top;' role='presentation' border='0' width='100%'\n                                   cellspacing='0' cellpadding='0'>\n                                <tbody>\n                                <tr>\n                                    <td style='font-size: 0px; word-break: break-word;'>\n                                        <div style='height: 1px;'>&nbsp;</div>\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>"},{title:"Modle 2",description:"Modle 2",content:'\n<style type="text/css">\n    #outlook a {\n        padding: 0;\n    }\n\n    body {\n        margin: 0;\n        padding: 0;\n        -webkit-text-size-adjust: 100%;\n        -ms-text-size-adjust: 100%;\n    }\n\n    table,\n    td {\n        border-collapse: collapse;\n        mso-table-lspace: 0pt;\n        mso-table-rspace: 0pt;\n    }\n\n    img {\n        border: 0;\n        height: auto;\n        line-height: 100%;\n        outline: none;\n        text-decoration: none;\n        -ms-interpolation-mode: bicubic;\n    }\n\n    p {\n        display: block;\n        margin: 13px 0;\n    }\n</style>\n<style type="text/css">\n    @media only screen and (min-width: 480px) {\n        .mj-column-per-50 {\n            width: 50% !important;\n            max-width: 50%;\n        }\n\n        .mj-column-per-100 {\n            width: 100% !important;\n            max-width: 100%;\n        }\n\n        .mj-column-per-30 {\n            width: 30% !important;\n            max-width: 30%;\n        }\n\n        .mj-column-per-70 {\n            width: 70% !important;\n            max-width: 70%;\n        }\n    }\n</style>\n<style type="text/css">\n    @media only screen and (max-width: 480px) {\n        table.mj-full-width-mobile {\n            width: 100% !important;\n        }\n\n        td.mj-full-width-mobile {\n            width: auto !important;\n        }\n    }\n</style>\n<style type="text/css">\n    a,\n    span,\n    td,\n    th {\n        -webkit-font-smoothing: antialiased !important;\n        -moz-osx-font-smoothing: grayscale !important;\n    }\n\n    .hover:hover td,\n    .hover:hover p,\n    .hover:hover a {\n        background-color: #104e94 !important;\n    }\n</style>\n\n<div style="background-color:#ffffff;">\n   \n    <div style="margin:0px auto;max-width:600px;">\n        <table align="center" border="0" cellpadding="0" cellspacing="0" role="presentation" style="width:100%;">\n            <tbody>\n            <tr>\n                <td style="direction:ltr;font-size:0px;padding:20px 0;padding-bottom:0px;text-align:center;">\n                 \n                    <div class="mj-column-per-50 mj-outlook-group-fix"\n                         style="font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:middle;width:100%;">\n                        <table border="0" cellpadding="0" cellspacing="0" role="presentation"\n                               style="vertical-align:middle;" width="100%">\n                            <tbody>\n                            <tr>\n                                <td align="left" style="font-size:0px;padding:10px 25px;word-break:break-word;">\n                                    <table border="0" cellpadding="0" cellspacing="0" role="presentation"\n                                           style="border-collapse:collapse;border-spacing:0px;">\n                                        <tbody>\n                                        <tr>\n                                            <td style="width:150px;">\n                                                <img style="border: 0px; display: block; outline: none; text-decoration: none;width: 150px; font-size: 14px;"\n                                                     src="https://bn1301files.storage.live.com/y4mBwSgYOI7vUCoWd-a1invRhQ_WKfv3rTx7okZW9Oz-yGNYftPbqyaiq-LbfbZ5oGQC6EIBSCzmK7q1Hg8eT5QOCyc7BMfjQfNqRBBXE1aL56P65IrkDSn5NBZVJWy1l_gwjir91sehNUq56C9mA_H-iVik9UIMil5jjkp1JwGhGjOQ0RV3UQISIhLeOFEx7u7?width=1333&amp;height=371&amp;cropmode=none"\n                                                     alt="" width="50" height="auto">\n                                            </td>\n                                        </tr>\n                                        </tbody>\n                                    </table>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                  \n                    <div class="mj-column-per-50 mj-outlook-group-fix"\n                         style="font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:middle;width:100%;">\n                        <table border="0" cellpadding="0" cellspacing="0" role="presentation"\n                               style="vertical-align:middle;" width="100%">\n                            <tbody>\n                            <tr>\n                                <td align="right" style="font-size:0px;padding:10px 25px;word-break:break-word;">\n                                  \n                                    <table style="float: none; display: inline-table;" role="presentation" border="0"\n                                           cellspacing="0" cellpadding="0" align="left">\n                                        <tbody>\n                                        <tr>\n                                            <td style="padding: 4px;">\n                                                <table style="border-radius: 3px; width: 18px;" role="presentation"\n                                                       border="0" cellspacing="0" cellpadding="0">\n                                                    <tbody>\n                                                    <tr>\n                                                        <td style="font-size: 0; height: 18px; vertical-align: middle; width: 18px;">\n                                                            <a style="color: #104e94; text-decoration: none;"\n                                                               href="https://www.facebook.com/CentreDeGestion/"\n                                                               target="_blank" rel="noopener"> <img\n                                                                    style="border-radius: 3px; display: block;"\n                                                                    src="https://bn1301files.storage.live.com/y4mUaSrdj6Hv3StAaxKklLnaIRbXS3Yu_irw8YWcgdsBmKATL4OqW1R9V2O5llJQ7PVcAeMvGSRlPdwnGk95LcvjwQpRF0ctZmuxx4pbYWA1m-1V7kqr7L2JgWVKLTW6VcKil481U7L8hq63dP1JdpK38qCIb0cc3Y9qjjb6OMB994jY_wVd_w5X0E_gaQc51ag?width=512&amp;height=512&amp;cropmode=none"\n                                                                    alt="" width="18" height="18"> </a></td>\n                                                    </tr>\n                                                    </tbody>\n                                                </table>\n                                            </td>\n                                        </tr>\n                                        </tbody>\n                                    </table>\n\n                                    <table style=\'float: none; display: inline-table;\' role=\'presentation\' border=\'0\'\n                                           cellspacing=\'0\' cellpadding=\'0\' align=\'left\'>\n                                        <tbody>\n                                        <tr>\n                                            <td style=\'padding: 4px;\'>\n                                                <table style=\'border-radius: 3px; width: 18px;\' role=\'presentation\'\n                                                       border=\'0\' cellspacing=\'0\' cellpadding=\'0\'>\n                                                    <tbody>\n                                                    <tr>\n                                                        <td style=\'font-size: 0; height: 18px; vertical-align: middle; width: 18px;\'>\n                                                            <a style=\'color: #104e94; text-decoration: none;\'\n                                                               href=\'https://www.youtube.com/channel/UCY0I-25ZRetA_zv0yaaAJ1A\'\n                                                               target=\'_blank\' rel=\'noopener\'> <img\n                                                                    style=\'border-radius: 3px; display: block;\'\n                                                                    src=\'https://bn1301files.storage.live.com/y4mQCTZG3w4ewry-kU7Nl2FT0hz6M6B9rUiR02aadk2H81QgHYtMNTwcwNTnaxVE0ZnIQhnKIdBVVtEHUFEvm7NICPhY0M2m9btGhR6FTYpdHUeT-hAHGcIdAmJc8hz0BEqh9Kpto_kNZpHwVlsVdlzweN2aHrvZXijMGnj57MN-HvdWz3xAPLaVRCtdXJvmmzv?width=512&height=512&cropmode=none\'\n                                                                    width=\'18\' height=\'18\'/> </a></td>\n                                                    </tr>\n                                                    </tbody>\n                                                </table>\n                                            </td>\n                                        </tr>\n                                        </tbody>\n                                    </table>\n                                    <table style=\'float: none; display: inline-table;\' role=\'presentation\' border=\'0\'\n                                           cellspacing=\'0\' cellpadding=\'0\' align=\'left\'>\n                                        <tbody>\n                                        <tr>\n                                            <td style=\'padding: 4px;\'>\n                                                <table style=\'border-radius: 3px; width: 18px;\' role=\'presentation\'\n                                                       border=\'0\' cellspacing=\'0\' cellpadding=\'0\'>\n                                                    <tbody>\n                                                    <tr>\n                                                        <td style=\'font-size: 0; height: 18px; vertical-align: middle; width: 18px;\'>\n                                                            <a style=\'color: #104e94; text-decoration: none;\'\n                                                               href=\'https://www.instagram.com/cgpprofisc/?hl=fr\'\n                                                               target=\'_blank\' rel=\'noopener\'> <img\n                                                                    style=\'border-radius: 3px; display: block;\'\n                                                                    src=\'https://bn1301files.storage.live.com/y4mwcQyEnx_bXdrTpinXTV9Nw6rSYhiEJElhNlNA3ynoqZc-iE9Bx1O88N8Hi-Ghqj4q3TFw8z_VHvB8ahYYhZnF-6V5XHML-YIhoNwWKOkLCMXxF5IUxBQxJG4ytTQYLD1Y1QXksAp-cMZxZ8nEdFgXGTgXc0mNBzYRu-7zszSpiVhntbVWpzJO-EFT5bT2IGM?width=512&height=512&cropmode=none\'\n                                                                    alt=\'\' width=\'18\' height=\'18\'/> </a></td>\n\n                                                    </tr>\n                                                    </tbody>\n                                                </table>\n                                            </td>\n                                        </tr>\n                                        </tbody>\n                                    </table>\n                                    <table style=\'float: none; display: inline-table;\' role=\'presentation\' border=\'0\'\n                                           cellspacing=\'0\' cellpadding=\'0\' align=\'left\'>\n                                        <tbody>\n                                        <tr>\n                                            <td style=\'padding: 4px;\'>\n                                                <table style=\'border-radius: 3px; width: 18px;\' role=\'presentation\'\n                                                       border=\'0\' cellspacing=\'0\' cellpadding=\'0\'>\n                                                    <tbody>\n                                                    <tr>\n                                                        <td style=\'font-size: 0; height: 18px; vertical-align: middle; width: 18px;\'>\n                                                            <a style=\'color: #104e94; text-decoration: none;\'\n                                                               href=\'https://www.linkedin.com/company/cgp-profisc/\'\n                                                               target=\'_blank\' rel=\'noopener\'> <img\n                                                                    style=\'border-radius: 3px; display: block;\'\n                                                                    src=\'https://bn1301files.storage.live.com/y4mlcd7o0eEUIJ9z5fYmLpgzthDMtj6dWIId6PYqzzLHdYQw1zQPbN9KcZOASNbOa8NsQ24P3emlG95-J9ons6Gp3lOeZnEyiP9m-WEIDtzBYOcYNSO8QtMHwYBYs1H73hUI1_pmSv6vZFekl5Un2mChU_y5pftd3bVabvgL9iyH4_I2hjzW3d3UwvAMeMKmHer?width=512&height=512&cropmode=none\'\n                                                                    alt=\'\' width=\'18\' height=\'18\'/> </a></td>\n\n                                                    </tr>\n                                                    </tbody>\n                                                </table>\n                                            </td>\n                                        </tr>\n                                        </tbody>\n                                    </table>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                  \n                </td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n    <div style="margin:0px auto;max-width:600px;">\n        <table align="center" border="0" cellpadding="0" cellspacing="0" role="presentation" style="width:100%;">\n            <tbody>\n            <tr>\n                <td style="direction:ltr;font-size:0px;padding:20px 0;text-align:center;">\n                   \n                    <div class="mj-column-per-100 mj-outlook-group-fix"\n                         style="font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;">\n                        <table border="0" cellpadding="0" cellspacing="0" role="presentation"\n                               style="vertical-align:top;" width="100%">\n                            <tbody>\n                            <tr>\n                                <td align="center" style="font-size:0px;padding:10px 25px;word-break:break-word;">\n                                    <table border="0" cellpadding="0" cellspacing="0" role="presentation"\n                                           style="border-collapse:collapse;border-spacing:0px;">\n                                        <tbody>\n                                        <tr>\n                                            <td style="width:550px;">\n                                                <img alt="" height="auto"\n                                                     src="http://www.profisc.net/wp-content/uploads/2022/05/expert-comptable-768x512-1.jpg"\n                                                     style="border-radius: 5px;border:0;display:block;outline:none;text-decoration:none;height:auto;width:100%;font-size:14px;"\n                                                     width="550"/>\n                                            </td>\n                                        </tr>\n                                        </tbody>\n                                    </table>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                   \n                </td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n\n    <div style="margin:0px auto;max-width:600px;">\n        <table align="center" border="0" cellpadding="0" cellspacing="0" role="presentation" style="width:100%;">\n            <tbody>\n            <tr>\n                <td style="direction:ltr;font-size:0px;padding:0 40px;text-align:center;">\n                    \n                    <div style="margin:0px auto;max-width:520px;">\n                        <table align="center" border="0" cellpadding="0" cellspacing="0" role="presentation"\n                               style="width:100%;">\n                            <tbody>\n                            <tr>\n                                <td style="direction:ltr;font-size:0px;padding:20px 0;text-align:center;">\n                                    \n                                    <div class="mj-column-per-100 mj-outlook-group-fix"\n                                         style="font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;">\n                                        <table border="0" cellpadding="0" cellspacing="0" role="presentation"\n                                               style="vertical-align:top;" width="100%">\n                                            <tbody>\n                                            <tr>\n                                                <td align="left"\n                                                    style="font-size:0px;padding:10px 25px;word-break:break-word;">\n                                                    <div style="font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:400;line-height:24px;text-align:left;color:#000000;">\n                                                        <h1 style="margin: 0; font-size: 32px; line-height: 40px;">\n                                                            Bonjour <span\n                                                                style="color: #104e94;">M. Ibrahima</span>, </br>Voici\n                                                            les mtiers de front office de lAdministration fiscale...\n                                                        </h1>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                    \n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    \n                    <div style="margin:0px auto;max-width:520px;">\n                        <table align="center" border="0" cellpadding="0" cellspacing="0" role="presentation"\n                               style="width:100%;">\n                            <tbody>\n                            <tr>\n                                <td style="direction:ltr;font-size:0px;padding:0;text-align:center;">\n                                   \n                                    <div class="mj-column-per-100 mj-outlook-group-fix"\n                                         style="font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;">\n                                        <table border="0" cellpadding="0" cellspacing="0" role="presentation"\n                                               style="vertical-align:top;" width="100%">\n                                            <tbody>\n                                            <tr>\n                                                <td align="left"\n                                                    style="font-size:0px;padding:10px 25px;word-break:break-word;">\n                                                    <div style="font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:400;line-height:24px;text-align:left;color:#000000;">\n                                                        <p style="margin: 0;">LAdministration fiscale est au cur du\n                                                            fonctionnement de lEtat. Par son rle de pourvoyeur de\n                                                            ressources internes, ses performances influencent fortement\n                                                            le fonctionnement des autres services de lEtat </br></br>\n                                                            Traditionnellement, lAdministration fiscale est charge de\n                                                            la mise en uvre de la politique fiscale du gouvernement\n                                                            afin de maximiser la mobilisation des recettes fiscales\n                                                            ncessaires au financement du budget de lEtat et de ses\n                                                            dmembrements...\n                                                        </p>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <td align="left" vertical-align="middle"\n                                                    style="font-size:0px;padding:10px 25px;word-break:break-word;">\n                                                    <table border="0" cellpadding="0" cellspacing="0"\n                                                           role="presentation"\n                                                           style="border-collapse:separate;line-height:100%;">\n                                                        <tbody>\n                                                        <tr>\n                                                            <td align="center" bgcolor="#104e94" role="presentation"\n                                                                style="border:none;border-radius:3px;cursor:auto;mso-padding-alt:10px 25px;background:#104e94;"\n                                                                valign="middle">\n                                                                <a href="http://www.profisc.net/les-metiers-de-front-office-de-ladministration-fiscale/"\n                                                                   style="display: inline-block; background: #104e94; color: #ffffff; font-family: Helvetica, Arial, sans-serif; font-size: 14px; font-weight: bold; line-height: 30px; margin: 0; text-decoration: none; text-transform: uppercase; padding: 10px 25px; mso-padding-alt: 0px; border-radius: 3px;"\n                                                                   target="_blank">\n                                                                    <strong>Lire Plus</strong>\n                                                                </a>\n                                                            </td>\n                                                        </tr>\n                                                        </tbody>\n                                                    </table>\n                                                </td>\n                                            </tr>\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                   \n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    \n                    <div style="margin:0px auto;max-width:520px;">\n                        <table align="center" border="0" cellpadding="0" cellspacing="0" role="presentation"\n                               style="width:100%;">\n                            <tbody>\n                            <tr>\n                                <td style="direction:ltr;font-size:0px;padding:20px 0;text-align:center;">\n                                    \n                                    <div class="mj-column-per-30 mj-outlook-group-fix"\n                                         style="font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:middle;width:100%;">\n                                        <table border="0" cellpadding="0" cellspacing="0" role="presentation"\n                                               style="vertical-align:middle;" width="100%">\n                                            <tbody>\n                                            <tr>\n                                                <td align="center"\n                                                    style="font-size:0px;padding:10px 25px;word-break:break-word;">\n                                                    <table border="0" cellpadding="0" cellspacing="0"\n                                                           role="presentation"\n                                                           style="border-collapse:collapse;border-spacing:0px;"\n                                                           class="mj-full-width-mobile">\n                                                        <tbody>\n                                                        <tr>\n                                                            <td style="width:106px;" class="mj-full-width-mobile">\n                                                                <img height="auto"\n                                                                     src="http://www.profisc.net/wp-content/uploads/2022/05/10666710.webp"\n                                                                     style="border-radius: 5px;border:0;display:block;outline:none;text-decoration:none;height:auto;width:100%;font-size:14px;"\n                                                                     width="106"/>\n                                                            </td>\n                                                        </tr>\n                                                        </tbody>\n                                                    </table>\n                                                </td>\n                                            </tr>\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                    \n                                    <div class="mj-column-per-70 mj-outlook-group-fix"\n                                         style="font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:middle;width:100%;">\n                                        <table border="0" cellpadding="0" cellspacing="0" role="presentation"\n                                               style="vertical-align:middle;" width="100%">\n                                            <tbody>\n                                            <tr>\n                                                <td align="left"\n                                                    style="font-size:0px;padding:10px 25px;word-break:break-word;">\n                                                    <div style="font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:400;line-height:24px;text-align:left;color:#000000;">\n                                                        <p class="date"\n                                                           style="margin: 0; margin-bottom: 5px; font-size: 14px;">25\n                                                            Mai 2022</p>\n                                                        <h3 style="margin: 0; font-size: 18px; line-height: 22px;"><a\n                                                                href="http://www.profisc.net/7-choses-quun-comptable-financier-ou-fiscaliste-dong-devrait-savoir/"\n                                                                style="color: #104e94; text-decoration: none;">7 choses\n                                                            quun comptable, financier ou fiscaliste dONG devrait\n                                                            savoir</a></h3>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                   \n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    \n                    <div style="margin:0px auto;max-width:520px;">\n                        <table align="center" border="0" cellpadding="0" cellspacing="0" role="presentation"\n                               style="width:100%;">\n                            <tbody>\n                            <tr>\n                                <td style="direction:ltr;font-size:0px;padding:20px 0;text-align:center;">\n                                    \n                                    <div class="mj-column-per-30 mj-outlook-group-fix"\n                                         style="font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:middle;width:100%;">\n                                        <table border="0" cellpadding="0" cellspacing="0" role="presentation"\n                                               style="vertical-align:middle;" width="100%">\n                                            <tbody>\n                                            <tr>\n                                                <td align="center"\n                                                    style="font-size:0px;padding:10px 25px;word-break:break-word;">\n                                                    <table border="0" cellpadding="0" cellspacing="0"\n                                                           role="presentation"\n                                                           style="border-collapse:collapse;border-spacing:0px;"\n                                                           class="mj-full-width-mobile">\n                                                        <tbody>\n                                                        <tr>\n                                                            <td style="width:106px;" class="mj-full-width-mobile">\n                                                                <img height="auto"\n                                                                     src="http://www.profisc.net/wp-content/uploads/2022/05/droiterreur.jpeg"\n                                                                     style="border-radius: 5px;border:0;display:block;outline:none;text-decoration:none;height:auto;width:100%;font-size:14px;"\n                                                                     width="106"/>\n                                                            </td>\n                                                        </tr>\n                                                        </tbody>\n                                                    </table>\n                                                </td>\n                                            </tr>\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                   \n                                    <div class="mj-column-per-70 mj-outlook-group-fix"\n                                         style="font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:middle;width:100%;">\n                                        <table border="0" cellpadding="0" cellspacing="0" role="presentation"\n                                               style="vertical-align:middle;" width="100%">\n                                            <tbody>\n                                            <tr>\n                                                <td align="left"\n                                                    style="font-size:0px;padding:10px 25px;word-break:break-word;">\n                                                    <div style="font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:400;line-height:24px;text-align:left;color:#000000;">\n                                                        <p class="date"\n                                                           style="margin: 0; margin-bottom: 5px; font-size: 14px;">25\n                                                            Mai 2022</p>\n                                                        <h3 style="margin: 0; font-size: 18px; line-height: 22px;"><a\n                                                                href="http://www.profisc.net/7-erreurs-commises-par-les-entrepreneurs/"\n                                                                style="color: #104e94; text-decoration: none;">7 ERREURS\n                                                            COMMISES PAR LES ENTREPRENEURS</a></h3>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                    \n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    \n                    <div style="background:#104e94;background-color:#104e94;margin:0px auto;border-radius:4px;max-width:520px;">\n                        <table align="center" border="0" cellpadding="0" cellspacing="0" role="presentation"\n                               style="background:#104e94;background-color:#104e94;width:100%;border-radius:4px;">\n                            <tbody>\n                            <tr>\n                                <td style="direction:ltr;font-size:0px;padding:20px 0;text-align:center;">\n                                   \n                                    <div class="mj-column-per-100 mj-outlook-group-fix"\n                                         style="font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;">\n                                        <table border="0" cellpadding="0" cellspacing="0" role="presentation"\n                                               style="vertical-align:top;" width="100%">\n                                            <tbody>\n                                            <tr>\n                                                <td align="left"\n                                                    style="font-size:0px;padding:10px 25px;word-break:break-word;">\n                                                    <div style="font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:bold;line-height:24px;text-align:left;color:#ffffff;">\n                                                        <p class="date"\n                                                           style="margin: 0; margin-bottom: 5px; font-size: 14px;">\n                                                            ARTICLE POPULAIRE</p>\n                                                        <h2 style="margin: 0; font-size: 24px; line-height: 30px;">Les\n                                                            mtiers de front office de lAdministration fiscale.</h2>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <td align="left"\n                                                    style="font-size:0px;padding:10px 25px;word-break:break-word;">\n                                                    <div style="font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:400;line-height:24px;text-align:left;color:#ffffff;">\n                                                        <p style="margin: 0;">LAdministration fiscale est au cur du\n                                                            fonctionnement de lEtat. Par son rle de pourvoyeur de\n                                                            ressources internes, ses performances influencent fortement\n                                                            le fonctionnement des autres services de lEtat...</p>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <td align="left" vertical-align="middle"\n                                                    style="font-size:0px;padding:10px 25px;word-break:break-word;">\n                                                    <table border="0" cellpadding="0" cellspacing="0"\n                                                           role="presentation"\n                                                           style="border-collapse:separate;line-height:100%;">\n                                                        <tbody>\n                                                        <tr>\n                                                            <td align="center" bgcolor="#ffffff" role="presentation"\n                                                                style="border:none;border-radius:3px;cursor:auto;mso-padding-alt:10px 25px;background:#ffffff;"\n                                                                valign="middle">\n                                                                <a href="http://www.profisc.net/les-metiers-de-front-office-de-ladministration-fiscale/"\n                                                                   style="display: inline-block; background: #ffffff; color: #104e94; font-family: Helvetica, Arial, sans-serif; font-size: 14px; font-weight: bold; line-height: 30px; margin: 0; text-decoration: none; text-transform: uppercase; padding: 10px 25px; mso-padding-alt: 0px; border-radius: 3px;"\n                                                                   target="_blank">\n                                                                    <strong>LIRE PLUS</strong>\n                                                                </a>\n                                                            </td>\n                                                        </tr>\n                                                        </tbody>\n                                                    </table>\n                                                </td>\n                                            </tr>\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                   \n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    \n                    <div style="margin:0px auto;max-width:520px;">\n                        <table align="center" border="0" cellpadding="0" cellspacing="0" role="presentation"\n                               style="width:100%;">\n                            <tbody>\n                            <tr>\n                                <td style="direction:ltr;font-size:0px;padding:20px 0;text-align:center;">\n                                    \n                                    <div class="mj-column-per-100 mj-outlook-group-fix"\n                                         style="font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;">\n                                        <table border="0" cellpadding="0" cellspacing="0" role="presentation"\n                                               style="vertical-align:top;" width="100%">\n                                            <tbody>\n                                            <tr>\n                                                <td align="left"\n                                                    style="font-size:0px;padding:10px 25px;word-break:break-word;">\n                                                    <div style="font-family:Helvetica, Arial, sans-serif;font-size:14px;font-weight:400;line-height:24px;text-align:left;color:#333333;">\n                                                        Avez-vous des questions ou besoin d\'aide ? Envoyez-nous un\n                                                        courriel  <a href="mailto:contact@profisc.net"\n                                                                      style="color: #104e94; text-decoration: none;">\n                                                        contact@profisc.net </a></div>\n                                                </td>\n                                            </tr>\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                    \n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    \n                    <div style="margin:0px auto;max-width:520px;">\n                        <table align="center" border="0" cellpadding="0" cellspacing="0" role="presentation"\n                               style="width:100%;">\n                            <tbody>\n                            <tr>\n                                <td style="direction:ltr;font-size:0px;padding:0px;text-align:center;">\n                                   \n                                    <div class="mj-column-per-100 mj-outlook-group-fix"\n                                         style="font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;">\n                                        <table border="0" cellpadding="0" cellspacing="0" role="presentation"\n                                               style="vertical-align:top;" width="100%">\n                                            <tbody>\n                                            <tr>\n                                                <td style="font-size:0px;padding:10px 25px;word-break:break-word;">\n                                                    <p style="border-top: solid 1px #f4f4f4; font-size: 1px; margin: 0px auto; width: 100%;">\n                                                    </p>\n                                                    \n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <td align="center"\n                                                    style="font-size:0px;padding:10px 25px;word-break:break-word;">\n                                                    <div style="font-family:Helvetica, Arial, sans-serif;font-size:14px;font-weight:400;line-height:24px;text-align:center;color:#333333;">\n                                                        <a class="footer-link" href="http://www.profisc.net/a-propos/"\n                                                           style="text-decoration: none; color: #000;">A Propos</a>  |\n                                                         <a class="footer-link"\n                                                             href="http://www.profisc.net/services-fiscaux/"\n                                                             style="text-decoration: none; color: #000;">Services</a> \n                                                        | <a class="footer-link"\n                                                              href="http://www.profisc.net/formations-certifiantes/"\n                                                              style="text-decoration: none; color: #000;">Formations</a>\n                                                         | <a class="footer-link"\n                                                                href="http://www.profisc.net/contact/"\n                                                                style="text-decoration: none; color: #000;">Contact</a>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <td align="center"\n                                                    style="font-size:0px;padding:10px 25px;word-break:break-word;">\n                                                    <table style="float: none; display: inline-table;"\n                                                           role="presentation" border="0" cellspacing="0"\n                                                           cellpadding="0" align="left">\n                                                        <tbody>\n                                                        <tr>\n                                                            <td style="padding: 4px;">\n                                                                <table style="border-radius: 3px; width: 18px;"\n                                                                       role="presentation" border="0" cellspacing="0"\n                                                                       cellpadding="0">\n                                                                    <tbody>\n                                                                    <tr>\n                                                                        <td style="font-size: 0; height: 18px; vertical-align: middle; width: 18px;">\n                                                                            <a style="color: #104e94; text-decoration: none;"\n                                                                               href="https://www.facebook.com/CentreDeGestion/"\n                                                                               target="_blank" rel="noopener"> <img\n                                                                                    style="border-radius: 3px; display: block;"\n                                                                                    src="https://bn1301files.storage.live.com/y4mUaSrdj6Hv3StAaxKklLnaIRbXS3Yu_irw8YWcgdsBmKATL4OqW1R9V2O5llJQ7PVcAeMvGSRlPdwnGk95LcvjwQpRF0ctZmuxx4pbYWA1m-1V7kqr7L2JgWVKLTW6VcKil481U7L8hq63dP1JdpK38qCIb0cc3Y9qjjb6OMB994jY_wVd_w5X0E_gaQc51ag?width=512&amp;height=512&amp;cropmode=none"\n                                                                                    alt="facebook-logo" width="18"\n                                                                                    height="18"> </a></td>\n                                                                    </tr>\n                                                                    </tbody>\n                                                                </table>\n                                                            </td>\n                                                        </tr>\n                                                        </tbody>\n                                                    </table>\n\n                                                    <table style=\'float: none; display: inline-table;\'\n                                                           role=\'presentation\' border=\'0\' cellspacing=\'0\'\n                                                           cellpadding=\'0\' align=\'left\'>\n                                                        <tbody>\n                                                        <tr>\n                                                            <td style=\'padding: 4px;\'>\n                                                                <table style=\'border-radius: 3px; width: 18px;\'\n                                                                       role=\'presentation\' border=\'0\' cellspacing=\'0\'\n                                                                       cellpadding=\'0\'>\n                                                                    <tbody>\n                                                                    <tr>\n                                                                        <td style=\'font-size: 0; height: 18px; vertical-align: middle; width: 18px;\'>\n                                                                            <a style=\'color: #104e94; text-decoration: none;\'\n                                                                               href=\'https://www.youtube.com/channel/UCY0I-25ZRetA_zv0yaaAJ1A\'\n                                                                               target=\'_blank\' rel=\'noopener\'> <img\n                                                                                    style=\'border-radius: 3px; display: block;\'\n                                                                                    src=\'https://bn1301files.storage.live.com/y4mQCTZG3w4ewry-kU7Nl2FT0hz6M6B9rUiR02aadk2H81QgHYtMNTwcwNTnaxVE0ZnIQhnKIdBVVtEHUFEvm7NICPhY0M2m9btGhR6FTYpdHUeT-hAHGcIdAmJc8hz0BEqh9Kpto_kNZpHwVlsVdlzweN2aHrvZXijMGnj57MN-HvdWz3xAPLaVRCtdXJvmmzv?width=512&height=512&cropmode=none\'\n                                                                                    width=\'18\' height=\'18\'/> </a></td>\n                                                                    </tr>\n                                                                    </tbody>\n                                                                </table>\n                                                            </td>\n                                                        </tr>\n                                                        </tbody>\n                                                    </table>\n                                                    <table style=\'float: none; display: inline-table;\'\n                                                           role=\'presentation\' border=\'0\' cellspacing=\'0\'\n                                                           cellpadding=\'0\' align=\'left\'>\n                                                        <tbody>\n                                                        <tr>\n                                                            <td style=\'padding: 4px;\'>\n                                                                <table style=\'border-radius: 3px; width: 18px;\'\n                                                                       role=\'presentation\' border=\'0\' cellspacing=\'0\'\n                                                                       cellpadding=\'0\'>\n                                                                    <tbody>\n                                                                    <tr>\n                                                                        <td style=\'font-size: 0; height: 18px; vertical-align: middle; width: 18px;\'>\n                                                                            <a style=\'color: #104e94; text-decoration: none;\'\n                                                                               href=\'https://www.instagram.com/cgpprofisc/?hl=fr\'\n                                                                               target=\'_blank\' rel=\'noopener\'> <img\n                                                                                    style=\'border-radius: 3px; display: block;\'\n                                                                                    src=\'https://bn1301files.storage.live.com/y4mwcQyEnx_bXdrTpinXTV9Nw6rSYhiEJElhNlNA3ynoqZc-iE9Bx1O88N8Hi-Ghqj4q3TFw8z_VHvB8ahYYhZnF-6V5XHML-YIhoNwWKOkLCMXxF5IUxBQxJG4ytTQYLD1Y1QXksAp-cMZxZ8nEdFgXGTgXc0mNBzYRu-7zszSpiVhntbVWpzJO-EFT5bT2IGM?width=512&height=512&cropmode=none\'\n                                                                                    alt=\'instagram-logo\' width=\'18\'\n                                                                                    height=\'18\'/> </a></td>\n\n                                                                    </tr>\n                                                                    </tbody>\n                                                                </table>\n                                                            </td>\n                                                        </tr>\n                                                        </tbody>\n                                                    </table>\n                                                    <table style=\'float: none; display: inline-table;\'\n                                                           role=\'presentation\' border=\'0\' cellspacing=\'0\'\n                                                           cellpadding=\'0\' align=\'left\'>\n                                                        <tbody>\n                                                        <tr>\n                                                            <td style=\'padding: 4px;\'>\n                                                                <table style=\'border-radius: 3px; width: 18px;\'\n                                                                       role=\'presentation\' border=\'0\' cellspacing=\'0\'\n                                                                       cellpadding=\'0\'>\n                                                                    <tbody>\n                                                                    <tr>\n                                                                        <td style=\'font-size: 0; height: 18px; vertical-align: middle; width: 18px;\'>\n                                                                            <a style=\'color: #104e94; text-decoration: none;\'\n                                                                               href=\'https://www.linkedin.com/company/cgp-profisc/\'\n                                                                               target=\'_blank\' rel=\'noopener\'> <img\n                                                                                    style=\'border-radius: 3px; display: block;\'\n                                                                                    src=\'https://bn1301files.storage.live.com/y4mlcd7o0eEUIJ9z5fYmLpgzthDMtj6dWIId6PYqzzLHdYQw1zQPbN9KcZOASNbOa8NsQ24P3emlG95-J9ons6Gp3lOeZnEyiP9m-WEIDtzBYOcYNSO8QtMHwYBYs1H73hUI1_pmSv6vZFekl5Un2mChU_y5pftd3bVabvgL9iyH4_I2hjzW3d3UwvAMeMKmHer?width=512&height=512&cropmode=none\'\n                                                                                    alt=\'linked-logo\' width=\'18\'\n                                                                                    height=\'18\'/> </a></td>\n\n                                                                    </tr>\n                                                                    </tbody>\n                                                                </table>\n                                                            </td>\n                                                        </tr>\n                                                        </tbody>\n                                                    </table>\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <td align="center"\n                                                    style="font-size:0px;padding:10px 25px;word-break:break-word;">\n                                                    <div style="font-family:Helvetica, Arial, sans-serif;font-size:14px;font-weight:400;line-height:24px;text-align:center;color:#333333;">\n                                                        SONUCI-ZAC, rond point Tourar, Niamey - Niger </br> 2022 CGP\n                                                        PROFISC.\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <td align="center"\n                                                    style="font-size:0px;padding:10px 25px;word-break:break-word;">\n                                                    <table border="0" cellpadding="0" cellspacing="0"\n                                                           role="presentation"\n                                                           style="border-collapse:collapse;border-spacing:0px;">\n                                                        <tbody>\n                                                        <tr>\n                                                            <td style="width:50px;">\n                                                                <img alt="image description" height="auto"\n                                                                     src="https://bn1301files.storage.live.com/y4mBwSgYOI7vUCoWd-a1invRhQ_WKfv3rTx7okZW9Oz-yGNYftPbqyaiq-LbfbZ5oGQC6EIBSCzmK7q1Hg8eT5QOCyc7BMfjQfNqRBBXE1aL56P65IrkDSn5NBZVJWy1l_gwjir91sehNUq56C9mA_H-iVik9UIMil5jjkp1JwGhGjOQ0RV3UQISIhLeOFEx7u7?width=1333&height=371&cropmode=none"\n                                                                     style="border:0;display:block;outline:none;text-decoration:none;height:auto;width:100%;font-size:14px;"\n                                                                     width="50"/>\n                                                            </td>\n                                                        </tr>\n                                                        </tbody>\n                                                    </table>\n                                                </td>\n                                            </tr>\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                    \n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    \n                    <div style="margin:0px auto;max-width:520px;">\n                        <table align="center" border="0" cellpadding="0" cellspacing="0" role="presentation"\n                               style="width:100%;">\n                            <tbody>\n                            <tr>\n                                <td style="direction:ltr;font-size:0px;padding:20px 0;text-align:center;">\n                                   \n                                    <div class="mj-column-per-100 mj-outlook-group-fix"\n                                         style="font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;">\n                                        <table border="0" cellpadding="0" cellspacing="0" role="presentation"\n                                               style="vertical-align:top;" width="100%">\n                                            <tbody>\n                                            <tr>\n                                                <td style="font-size:0px;word-break:break-word;">\n                                                  \n                                                    <div style="height:1px;"> </div>\n                                                   \n                                                </td>\n                                            </tr>\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                    \n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    \n                </td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n                        '}],importcss_append:!0,file_picker_callback:function(e,t,n){"file"===n.filetype&&e("https://www.profisc.net/wp-content/uploads/2023/03/logo_logistics.png",{text:"CGP PROFISC"}),"image"===n.filetype&&e("https://www.profisc.net/wp-content/uploads/2023/03/logo_logistics.png",{alt:"CGP PROFISC"}),"media"===n.filetype&&e("movie.mp4",{source2:"alt.ogg",poster:"https://www.profisc.net/wp-content/uploads/2023/03/logo_logistics.png"})},image_caption:!0,quickbars_selection_toolbar:"bold italic | quicklink h2 h3 blockquote quickimage quicktable",noneditable_class:"mceNonEditable",toolbar_mode:"sliding",contextmenu:"link image table",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:16px }"})}},{key:"disconnectedCallback",value:function(){r().remove()}}])&&s(t.prototype,n),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),l}(l(HTMLTextAreaElement))},"./resources/js/Components/calendar.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{calendar:()=>b});n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.string.trim.js"),n("./node_modules/core-js/modules/es.object.set-prototype-of.js"),n("./node_modules/core-js/modules/es.function.bind.js"),n("./node_modules/core-js/modules/es.object.get-prototype-of.js"),n("./node_modules/core-js/modules/es.array.index-of.js"),n("./node_modules/core-js/modules/es.error.to-string.js"),n("./node_modules/core-js/modules/es.date.to-string.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.regexp.to-string.js"),n("./node_modules/core-js/modules/es.reflect.to-string-tag.js"),n("./node_modules/core-js/modules/es.reflect.construct.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.map.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/es.error.cause.js"),n("./node_modules/core-js/modules/es.object.create.js"),n("./node_modules/core-js/modules/es.object.define-property.js"),n("./node_modules/core-js/modules/es.symbol.to-primitive.js"),n("./node_modules/core-js/modules/es.date.to-primitive.js"),n("./node_modules/core-js/modules/es.number.constructor.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js");var o=n("./node_modules/@fullcalendar/core/index.js"),r=n("./node_modules/@fullcalendar/daygrid/index.js"),i=n("./node_modules/@fullcalendar/timegrid/index.js"),s=n("./node_modules/@fullcalendar/list/index.js"),a=n("./node_modules/@fullcalendar/multimonth/index.js"),l=n("./node_modules/@fullcalendar/core/locales/fr.js"),c=n("./node_modules/tippy.js/dist/tippy.esm.js");n("./node_modules/tippy.js/animations/shift-away.css"),n("./node_modules/tippy.js/animations/shift-away-extreme.css"),n("./node_modules/tippy.js/animations/shift-away-subtle.css"),n("./node_modules/tippy.js/themes/translucent.css"),n("./node_modules/tippy.js/dist/tippy.css");function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==d(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===d(i)?i:String(i)),o)}var r,i}function h(e){var t=f();return function(){var n,o=v(e);if(t){var r=v(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function m(e){var t="function"==typeof Map?new Map:void 0;return m=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return p(e,arguments,v(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),g(o,e)},m(e)}function p(e,t,n){return p=f()?Reflect.construct.bind():function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&g(r,n.prototype),r},p.apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(p,e);var t,n,d,m=h(p);function p(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),m.apply(this,arguments)}return t=p,(n=[{key:"connectedCallback",value:function(){this.div=new o.Calendar(this,{plugins:[r.default,i.default,s.default,a.default],locale:l.default,timeZone:"local",expandRows:!0,headerToolbar:{left:"prev,next today",center:"title",right:"multiMonthYear,dayGridMonth,timeGridWeek,timeGridDay,listWeek"},initialView:"dayGridMonth",navLinks:!0,editable:!1,selectable:!0,nowIndicator:!0,dayMaxEvents:!0,eventDidMount:function(e){var t=e.event.extendedProps.description;void 0!==t&&""!==t.trim()&&(0,c.default)(e.el,{content:t,allowHTML:!0,animation:"shift-away",placement:"bottom",theme:"translucent",interactive:!0})},events:calendarEvents,eventClassNames:"JS_Call_Url_Get_Form"}),this.div.render()}},{key:"disconnectedCallback",value:function(){this.div.destroy()}}])&&u(t.prototype,n),d&&u(t,d),Object.defineProperty(t,"prototype",{writable:!1}),p}(m(HTMLDivElement))},"./resources/js/bootstrap.js":(e,t,n)=>{"use strict";n.r(t);var o=n("./node_modules/axios/lib/axios.js");window.axios=o.default,window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},"./resources/js/libs/CustomConfirm.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CustomConfirm:()=>l,CustomConfirmLogout:()=>d,customAlert:()=>c});n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.string.search.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/web.url.js"),n("./node_modules/core-js/modules/web.url-search-params.js"),n("./node_modules/core-js/modules/web.timers.js");var o=n("./node_modules/jquery/dist/jquery.js"),r=n.n(o),i=(n("./node_modules/jquery-confirm/dist/jquery-confirm.min.js"),n("./node_modules/jquery-confirm/css/jquery-confirm.css"),n("./resources/js/libs/NotificationToast.js")),s=n("./node_modules/turbolinks/dist/turbolinks.js"),a=n.n(s);function l(e){r().confirm({icon:"fa fa-question",title:"Confirmation",content:"Voulez-vous supprimer cet enregistrement ? <br> Ce processus ne peut pas tre annul.",useBootstrap:!1,boxWidth:"500px",theme:"modern",closeIcon:!0,animation:"scale",type:"red",buttons:{Supprimer:{btnClass:"btn__confirm__delete",action:function(){var t=e.action;axios({method:"post",url:t,responseType:"json",data:void 0===e.type?new FormData(e):[]}).then((function(e){var t,n=e.data,o=null===(t=n)||void 0===t?void 0:t.redirection,r=new URL(o).search,s=window.location.search;r!==s&&-1===r.search("tab")&&(o+=s),a().visit(o),document.addEventListener("turbolinks:load",(function(){var e,t;void 0!==n&&((0,i.default)(null===(e=n)||void 0===e?void 0:e.type,null===(t=n)||void 0===t?void 0:t.message),setTimeout((function(){n=void 0}),500))}))})).catch((function(e){(0,i.default)("error",e.message)})),document.querySelector(".jconfirm.jconfirm-modern.jconfirm-open").remove()}},Annuler:function(){}}})}function c(e){r().alert({icon:"fa fa-exclamation-triangle",title:"Alert!",content:e,useBootstrap:!1,boxWidth:"500px",theme:"material",closeIcon:!0,animation:"scale",type:"red"})}function d(e){r().confirm({icon:"fa fa-question",title:"Confirmation",content:"Voulez-vous vraiment vous dconnectez de votre session utilisateur ?",useBootstrap:!1,boxWidth:"500px",theme:"modern",closeIcon:!0,animation:"scale",type:"red",buttons:{OUI:{btnClass:"btn__confirm__delete",action:function(){axios({method:"post",url:e,responseType:"json"}).then((function(e){var t,n=e.data,o=null===(t=n)||void 0===t?void 0:t.redirection;a().visit(o),document.addEventListener("turbolinks:load",(function(){var e,t;void 0!==n&&((0,i.default)(null===(e=n)||void 0===e?void 0:e.type,null===(t=n)||void 0===t?void 0:t.message),setTimeout((function(){n=void 0}),500))}))})).catch((function(e){(0,i.default)("error",e.message)})),document.querySelector(".jconfirm.jconfirm-modern.jconfirm-open").remove()}},NON:function(){}}})}},"./resources/js/libs/FormControl.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});n("./node_modules/core-js/modules/es.array.for-each.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/web.dom-collections.for-each.js"),n("./node_modules/core-js/modules/es.string.trim.js"),n("./node_modules/core-js/modules/web.timers.js"),n("./node_modules/core-js/modules/es.parse-int.js"),n("./node_modules/core-js/modules/es.function.name.js");var o=n("./resources/js/libs/NotificationToast.js");function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.querySelectorAll("input[data-control]"),r=e.querySelectorAll("select[data-control]");return n.forEach((function(t){t.dataset.control.split(",").forEach((function(n){var r=t.parentElement.parentElement;switch(n){case"noEmpty":""===t.value.trim()?(r.classList.add("shake","error"),setTimeout((function(){r.classList.remove("shake")}),500)):r.classList.remove("shake","error"),t.onkeyup=function(){i(t,r)},t.classList.contains("flatpickr-input")&&(t.onchange=function(){i(t,r)});break;case"minLength4":""===t.value.trim()||t.value.trim().length<4?(r.classList.add("shake","error"),setTimeout((function(){r.classList.remove("shake")}),500)):r.classList.remove("shake","error"),t.onkeyup=function(){!function(e,t){""===e.value.trim()||e.value.trim().length<4?(t.classList.add("error"),t.classList.remove("valid")):(t.classList.remove("error"),t.classList.add("valid"))}(t,r)};break;case"noZero":isNaN(parseInt(t.value.trim(),10))||""===t.value.trim()||parseInt(t.value.trim(),10)<=0?(r.classList.add("shake","error"),setTimeout((function(){r.classList.remove("shake")}),500)):r.classList.remove("shake","error"),t.onkeyup=function(){!function(e,t){parseInt(e.value.trim(),10)<=0||isNaN(parseInt(e.value.trim(),10))||""===e.value.trim()?(t.classList.add("error"),t.classList.remove("valid")):(t.classList.remove("error"),t.classList.add("valid"))}(t,r)};break;case"checkConfirmPassword":var s=e.querySelector("#password").value;t.value!==s?(r.classList.add("shake","error"),setTimeout((function(){r.classList.remove("shake")}),500),(0,o.default)("error","Mot de passe incorrect")):r.classList.remove("shake","error")}}))})),r.forEach((function(e){e.dataset.control.split(",").forEach((function(t){if("noEmpty"===t){var n=e.parentElement.parentElement;""===e.selectedIndex||e.selectedIndex<=0?(n.classList.add("shake","error"),setTimeout((function(){n.classList.remove("shake")}),500)):n.classList.remove("shake","error"),e.addEventListener("change",(function(){!function(e,t){""===e.selectedIndex||e.selectedIndex<=0?(t.classList.add("error"),t.classList.remove("valid")):(t.classList.remove("error"),t.classList.add("valid"))}(e,n)}))}}))})),function(e,t){var n=e.querySelectorAll("select");n.forEach((function(e){var n=e.querySelector("[data-placeholder]");if(null!==n&&e.value===n.value&&null!==t){for(var o=e.options,r=0;r<o.length;r++)o[r].selected=!1;e.value="",t.set(e.name,"")}}))}(e,t),e.querySelectorAll(".field.error").length<=0}function i(e,t){""===e.value.trim()?(t.classList.add("error"),t.classList.remove("valid")):(t.classList.remove("error"),t.classList.add("valid"))}},"./resources/js/libs/NotificationToast.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});n("./node_modules/core-js/modules/es.date.to-string.js");var o=n("./node_modules/simple-notify/dist/simple-notify.es.js");n("./node_modules/simple-notify/dist/simple-notify.min.css");function r(e,t){new o.default({status:e,title:"STOCK-XPERT | "+(new Date).getFullYear(),text:t,effect:"slide",speed:300,customClass:"",customIcon:"",showIcon:!0,showCloseButton:!0,autoclose:!0,autotimeout:4500,gap:20,distance:20,type:1,position:"x-center bottom",customWrapper:""})}},"./resources/js/libs/SlimSelect/slimselect.min.js":(e,t,n)=>{"use strict";n.r(t);var o,r;n("./node_modules/core-js/modules/es.global-this.js"),n("./node_modules/core-js/modules/es.error.to-string.js"),n("./node_modules/core-js/modules/es.date.to-string.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.regexp.to-string.js"),n("./node_modules/core-js/modules/web.timers.js"),n("./node_modules/core-js/modules/es.json.stringify.js"),n("./node_modules/core-js/modules/es.array.is-array.js"),n("./node_modules/core-js/modules/es.error.cause.js"),n("./node_modules/core-js/modules/es.array.for-each.js"),n("./node_modules/core-js/modules/web.dom-collections.for-each.js"),n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js"),n("./node_modules/core-js/modules/es.string.trim.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.string.search.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/es.string.replace.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.array.map.js"),n("./node_modules/core-js/modules/es.array.some.js"),n("./node_modules/core-js/modules/es.regexp.constructor.js"),n("./node_modules/core-js/modules/es.regexp.dot-all.js"),n("./node_modules/core-js/modules/es.regexp.sticky.js"),n("./node_modules/core-js/modules/es.string.match.js"),n("./node_modules/core-js/modules/es.function.bind.js"),n("./node_modules/core-js/modules/es.object.keys.js"),n("./node_modules/core-js/modules/es.array.index-of.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.symbol.to-primitive.js"),n("./node_modules/core-js/modules/es.date.to-primitive.js"),n("./node_modules/core-js/modules/es.number.constructor.js"),n("./node_modules/core-js/modules/es.object.define-property.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.regexp.test.js");function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==d(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===d(i)?i:String(i)),o)}var r,i}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}e=n.hmd(e),o=void 0,r=function(){function e(){return Math.random().toString(36).substring(2,10)}function t(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=self,l=o&&!t;clearTimeout(t),t=setTimeout((function(){t=null,o||e.apply(a,i)}),n),l&&e.apply(a,i)}}function n(e,t){return JSON.stringify(e)===JSON.stringify(t)}var o=l((function t(n){c(this,t),this.id="",this.style="",this.class=[],this.isMultiple=!1,this.isOpen=!1,this.isFullOpen=!1,this.intervalMove=null,n||(n={}),this.id="ss-"+e(),this.style=n.style||"",this.class=n.class||[],this.disabled=void 0!==n.disabled&&n.disabled,this.alwaysOpen=void 0!==n.alwaysOpen&&n.alwaysOpen,this.showSearch=void 0===n.showSearch||n.showSearch,this.searchPlaceholder=n.searchPlaceholder||"Search",this.searchText=n.searchText||"No Results",this.searchingText=n.searchingText||"Searching...",this.searchHighlight=void 0!==n.searchHighlight&&n.searchHighlight,this.closeOnSelect=void 0===n.closeOnSelect||n.closeOnSelect,this.contentLocation=n.contentLocation||document.body,this.contentPosition=n.contentPosition||"absolute",this.openPosition=n.openPosition||"auto",this.placeholderText=void 0!==n.placeholderText?n.placeholderText:"Select Value",this.allowDeselect=void 0!==n.allowDeselect&&n.allowDeselect,this.hideSelected=void 0!==n.hideSelected&&n.hideSelected,this.showOptionTooltips=void 0!==n.showOptionTooltips&&n.showOptionTooltips,this.minSelected=n.minSelected||0,this.maxSelected=n.maxSelected||1e3,this.timeoutDelay=n.timeoutDelay||200,this.maxValuesShown=n.maxValuesShown||20,this.maxValuesMessage=n.maxValuesMessage||"{number} selected"})),r=l((function t(n){if(c(this,t),this.id=n.id&&""!==n.id?n.id:e(),this.label=n.label||"",this.selectAll=void 0!==n.selectAll&&n.selectAll,this.closable=n.closable||"off",this.options=[],n.options){var o,r=i(n.options);try{for(r.s();!(o=r.n()).done;){var a=o.value;this.options.push(new s(a))}}catch(e){r.e(e)}finally{r.f()}}})),s=l((function t(n){c(this,t),this.id=n.id&&""!==n.id?n.id:e(),this.value=void 0===n.value?n.text:n.value,this.text=n.text||"",this.html=n.html||"",this.selected=void 0!==n.selected&&n.selected,this.display=void 0===n.display||n.display,this.disabled=void 0!==n.disabled&&n.disabled,this.mandatory=void 0!==n.mandatory&&n.mandatory,this.placeholder=void 0!==n.placeholder&&n.placeholder,this.class=n.class||"",this.style=n.style||"",this.data=n.data||{}})),a=function(){function e(t,n){c(this,e),this.selectType="single",this.data=[],this.selectType=t,this.setData(n)}return l(e,[{key:"validateDataArray",value:function(e){if(!Array.isArray(e))return new Error("Data must be an array");var t,n=i(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(!(o instanceof r||"label"in o))return o instanceof s||"text"in o?this.validateOption(o):new Error("Data object must be a valid optgroup or option");if(!("label"in o))return new Error("Optgroup must have a label");if("options"in o&&o.options){var a,l=i(o.options);try{for(l.s();!(a=l.n()).done;){var c=a.value;return this.validateOption(c)}}catch(e){l.e(e)}finally{l.f()}}}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"validateOption",value:function(e){return"text"in e?null:new Error("Option must have a text")}},{key:"partialToFullData",value:function(e){var t=[];return e.forEach((function(e){if(e instanceof r||"label"in e){var n=[];"options"in e&&e.options&&e.options.forEach((function(e){n.push(new s(e))})),n.length>0&&t.push(new r(e))}(e instanceof s||"text"in e)&&t.push(new s(e))})),t}},{key:"setData",value:function(e){this.data=this.partialToFullData(e),"single"===this.selectType&&this.setSelectedBy("value",this.getSelected())}},{key:"getData",value:function(){return this.filter(null,!0)}},{key:"getDataOptions",value:function(){return this.filter(null,!1)}},{key:"addOption",value:function(e){this.setData(this.getData().concat(new s(e)))}},{key:"setSelectedBy",value:function(e,t){var n,o=null,a=!1,l=i(this.data);try{for(l.s();!(n=l.n()).done;){var c=n.value;if(c instanceof r){var d,u=i(c.options);try{for(u.s();!(d=u.n()).done;){var h=d.value;o||(o=h),h.selected=!a&&t.includes(h[e]),h.selected&&"single"===this.selectType&&(a=!0)}}catch(e){u.e(e)}finally{u.f()}}c instanceof s&&(o||(o=c),c.selected=!a&&t.includes(c[e]),c.selected&&"single"===this.selectType&&(a=!0))}}catch(e){l.e(e)}finally{l.f()}"single"===this.selectType&&o&&!a&&(o.selected=!0)}},{key:"getSelected",value:function(){var e=this.getSelectedOptions(),t=[];return e.forEach((function(e){t.push(e.value)})),t}},{key:"getSelectedOptions",value:function(){return this.filter((function(e){return e.selected}),!1)}},{key:"getSelectedIDs",value:function(){var e=this.getSelectedOptions(),t=[];return e.forEach((function(e){t.push(e.id)})),t}},{key:"getOptgroupByID",value:function(e){var t,n=i(this.data);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(o instanceof r&&o.id===e)return o}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"getOptionByID",value:function(e){var t=this.filter((function(t){return t.id===e}),!1);return t.length?t[0]:null}},{key:"search",value:function(e,t){return""===(e=e.trim())?this.getData():this.filter((function(n){return t(n,e)}),!0)}},{key:"filter",value:function(e,t){var n=[];return this.data.forEach((function(o){if(o instanceof r){var i=[];if(o.options.forEach((function(o){e&&!e(o)||(t?i.push(new s(o)):n.push(new s(o)))})),i.length>0){var a=new r(o);a.options=i,n.push(a)}}o instanceof s&&(e&&!e(o)||n.push(new s(o)))})),n}}]),e}(),u=function(){function e(t,n,o){c(this,e),this.classes={main:"ss-main",placeholder:"ss-placeholder",values:"ss-values",single:"ss-single",max:"ss-max",value:"ss-value",valueText:"ss-value-text",valueDelete:"ss-value-delete",valueOut:"ss-value-out",deselect:"ss-deselect",deselectPath:"M10,10 L90,90 M10,90 L90,10",arrow:"ss-arrow",arrowClose:"M10,30 L50,70 L90,30",arrowOpen:"M10,70 L50,30 L90,70",content:"ss-content",openAbove:"ss-open-above",openBelow:"ss-open-below",search:"ss-search",searchHighlighter:"ss-search-highlight",searching:"ss-searching",addable:"ss-addable",addablePath:"M50,10 L50,90 M10,50 L90,50",list:"ss-list",optgroup:"ss-optgroup",optgroupLabel:"ss-optgroup-label",optgroupLabelText:"ss-optgroup-label-text",optgroupActions:"ss-optgroup-actions",optgroupSelectAll:"ss-selectall",optgroupSelectAllBox:"M60,10 L10,10 L10,90 L90,90 L90,50",optgroupSelectAllCheck:"M30,45 L50,70 L90,10",optgroupClosable:"ss-closable",option:"ss-option",optionDelete:"M10,10 L90,90 M10,90 L90,10",highlighted:"ss-highlighted",open:"ss-open",close:"ss-close",selected:"ss-selected",error:"ss-error",disabled:"ss-disabled",hide:"ss-hide"},this.store=n,this.settings=t,this.callbacks=o,this.main=this.mainDiv(),this.content=this.contentDiv(),this.updateClassStyles(),this.updateAriaAttributes(),this.settings.contentLocation.appendChild(this.content.main)}return l(e,[{key:"enable",value:function(){this.main.main.classList.remove(this.classes.disabled),this.content.search.input.disabled=!1}},{key:"disable",value:function(){this.main.main.classList.add(this.classes.disabled),this.content.search.input.disabled=!0}},{key:"open",value:function(){this.main.arrow.path.setAttribute("d",this.classes.arrowOpen),this.main.main.classList.add("up"===this.settings.openPosition?this.classes.openAbove:this.classes.openBelow),this.main.main.setAttribute("aria-expanded","true"),this.moveContent();var e=this.store.getSelectedOptions();if(e.length){var t=e[e.length-1].id,n=this.content.list.querySelector('[data-id="'+t+'"]');n&&this.ensureElementInView(this.content.list,n)}}},{key:"close",value:function(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.remove(this.classes.openBelow),this.main.main.setAttribute("aria-expanded","false"),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.main.arrow.path.setAttribute("d",this.classes.arrowClose)}},{key:"updateClassStyles",value:function(){if(this.main.main.className="",this.main.main.removeAttribute("style"),this.content.main.className="",this.content.main.removeAttribute("style"),this.main.main.classList.add(this.classes.main),this.content.main.classList.add(this.classes.content),""!==this.settings.style&&(this.main.main.style.cssText=this.settings.style,this.content.main.style.cssText=this.settings.style),this.settings.class.length){var e,t=i(this.settings.class);try{for(t.s();!(e=t.n()).done;){var n=e.value;""!==n.trim()&&(this.main.main.classList.add(n.trim()),this.content.main.classList.add(n.trim()))}}catch(e){t.e(e)}finally{t.f()}}"relative"===this.settings.contentPosition&&this.content.main.classList.add("ss-"+this.settings.contentPosition)}},{key:"updateAriaAttributes",value:function(){this.main.main.role="combobox",this.main.main.setAttribute("aria-haspopup","listbox"),this.main.main.setAttribute("aria-controls",this.content.main.id),this.main.main.setAttribute("aria-expanded","false"),this.content.main.setAttribute("role","listbox")}},{key:"mainDiv",value:function(){var e=this,t=document.createElement("div");t.dataset.id=this.settings.id,t.id=this.settings.id,t.tabIndex=0,t.onkeydown=function(t){switch(t.key){case"ArrowUp":case"ArrowDown":return e.callbacks.open(),"ArrowDown"===t.key?e.highlight("down"):e.highlight("up"),!1;case"Tab":return e.callbacks.close(),!0;case"Enter":case" ":e.callbacks.open();var n=e.content.list.querySelector("."+e.classes.highlighted);return n&&n.click(),!1;case"Escape":return e.callbacks.close(),!1}},t.onclick=function(t){e.settings.disabled||(e.settings.isOpen?e.callbacks.close():e.callbacks.open())};var n=document.createElement("div");n.classList.add(this.classes.values),t.appendChild(n);var o=document.createElement("div");o.classList.add(this.classes.deselect),this.settings.allowDeselect&&!this.settings.isMultiple||o.classList.add(this.classes.hide),o.onclick=function(t){if(t.stopPropagation(),!e.settings.disabled){var n=!0,o=e.store.getSelectedOptions(),r=[];e.callbacks.beforeChange&&(n=!0===e.callbacks.beforeChange(r,o)),n&&(e.callbacks.setSelected([""],!1),e.settings.closeOnSelect&&e.callbacks.close(),e.callbacks.afterChange&&e.callbacks.afterChange(r))}};var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("viewBox","0 0 100 100");var i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d",this.classes.deselectPath),r.appendChild(i),o.appendChild(r),t.appendChild(o);var s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.classList.add(this.classes.arrow),s.setAttribute("viewBox","0 0 100 100");var a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("d",this.classes.arrowClose),this.settings.alwaysOpen&&s.classList.add(this.classes.hide),s.appendChild(a),t.appendChild(s),{main:t,values:n,deselect:{main:o,svg:r,path:i},arrow:{main:s,path:a}}}},{key:"mainFocus",value:function(e){"click"!==e&&this.main.main.focus({preventScroll:!0})}},{key:"placeholder",value:function(){var e=this.store.filter((function(e){return e.placeholder}),!1),t=this.settings.placeholderText;e.length&&(""!==e[0].html?t=e[0].html:""!==e[0].text&&(t=e[0].text));var n=document.createElement("div");return n.classList.add(this.classes.placeholder),n.innerHTML=t,n}},{key:"renderValues",value:function(){this.settings.isMultiple?this.renderMultipleValues():this.renderSingleValue()}},{key:"renderSingleValue",value:function(){var e=this.store.filter((function(e){return e.selected&&!e.placeholder}),!1),t=e.length>0?e[0]:null;if(t){var n=document.createElement("div");n.classList.add(this.classes.single),t.html?n.innerHTML=t.html:n.innerText=t.text,this.main.values.innerHTML=n.outerHTML}else this.main.values.innerHTML=this.placeholder().outerHTML;this.settings.allowDeselect&&e.length?this.main.deselect.main.classList.remove(this.classes.hide):this.main.deselect.main.classList.add(this.classes.hide)}},{key:"renderMultipleValues",value:function(){var e=this,t=this.main.values.childNodes,n=this.store.filter((function(e){return e.selected&&e.display}),!1);if(0!==n.length){var o=this.main.values.querySelector("."+this.classes.placeholder);if(o&&o.remove(),n.length>this.settings.maxValuesShown){var r=document.createElement("div");return r.classList.add(this.classes.max),r.textContent=this.settings.maxValuesMessage.replace("{number}",n.length.toString()),void(this.main.values.innerHTML=r.outerHTML)}var i=this.main.values.querySelector("."+this.classes.max);i&&i.remove();for(var s=[],a=function(){var e=t[l],o=e.getAttribute("data-id");o&&(n.filter((function(e){return e.id===o}),!1).length||s.push(e))},l=0;l<t.length;l++)a();for(var c=function(){var t=u[d];t.classList.add(e.classes.valueOut),setTimeout((function(){e.main.values.removeChild(t)}),100)},d=0,u=s;d<u.length;d++)c();t=this.main.values.childNodes;for(var h=0;h<n.length;h++){for(var m=!0,p=0;p<t.length;p++)n[h].id===String(t[p].dataset.id)&&(m=!1);m&&(0===t.length?this.main.values.appendChild(this.multipleValue(n[h])):0===h?this.main.values.insertBefore(this.multipleValue(n[h]),t[h]):t[h-1].insertAdjacentElement("afterend",this.multipleValue(n[h])))}}else this.main.values.innerHTML=this.placeholder().outerHTML}},{key:"multipleValue",value:function(e){var t=this,n=document.createElement("div");n.classList.add(this.classes.value),n.dataset.id=e.id;var o=document.createElement("div");if(o.classList.add(this.classes.valueText),o.innerText=e.text,n.appendChild(o),!e.mandatory){var a=document.createElement("div");a.classList.add(this.classes.valueDelete),a.onclick=function(n){if(n.preventDefault(),n.stopPropagation(),!t.settings.disabled){var o=!0,a=t.store.getSelectedOptions(),l=a.filter((function(t){return t.selected&&t.id!==e.id}),!0);if(!(t.settings.minSelected&&l.length<t.settings.minSelected)&&(t.callbacks.beforeChange&&(o=!0===t.callbacks.beforeChange(l,a)),o)){var c,d=[],u=i(l);try{for(u.s();!(c=u.n()).done;){var h=c.value;if(h instanceof r){var m,p=i(h.options);try{for(p.s();!(m=p.n()).done;){var f=m.value;d.push(f.value)}}catch(e){p.e(e)}finally{p.f()}}h instanceof s&&d.push(h.value)}}catch(e){u.e(e)}finally{u.f()}t.callbacks.setSelected(d,!1),t.settings.closeOnSelect&&t.callbacks.close(),t.callbacks.afterChange&&t.callbacks.afterChange(l)}}};var l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("viewBox","0 0 100 100");var c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d",this.classes.optionDelete),l.appendChild(c),a.appendChild(l),n.appendChild(a)}return n}},{key:"contentDiv",value:function(){var e=document.createElement("div");e.dataset.id=this.settings.id,e.id=this.settings.id;var t=this.searchDiv();e.appendChild(t.main);var n=this.listDiv();return e.appendChild(n),{main:e,search:t,list:n}}},{key:"moveContent",value:function(){"relative"!==this.settings.contentPosition&&"down"!==this.settings.openPosition?"up"!==this.settings.openPosition?"up"===this.putContent()?this.moveContentAbove():this.moveContentBelow():this.moveContentAbove():this.moveContentBelow()}},{key:"searchDiv",value:function(){var e=this,n=document.createElement("div"),o=document.createElement("input"),r=document.createElement("div");n.classList.add(this.classes.search);var i={main:n,input:o};if(this.settings.showSearch||(n.classList.add(this.classes.hide),o.readOnly=!0),o.type="search",o.placeholder=this.settings.searchPlaceholder,o.tabIndex=-1,o.setAttribute("aria-label",this.settings.searchPlaceholder),o.setAttribute("autocapitalize","off"),o.setAttribute("autocomplete","off"),o.setAttribute("autocorrect","off"),o.oninput=t((function(t){e.callbacks.search(t.target.value)}),100),o.onkeydown=function(t){switch(t.key){case"ArrowUp":case"ArrowDown":return"ArrowDown"===t.key?e.highlight("down"):e.highlight("up"),!1;case"Tab":return e.callbacks.close(),!0;case"Escape":return e.callbacks.close(),!1;case"Enter":case" ":if(e.callbacks.addable&&t.ctrlKey)return r.click(),!1;var n=e.content.list.querySelector("."+e.classes.highlighted);return!n||(n.click(),!1)}},n.appendChild(o),this.callbacks.addable){r.classList.add(this.classes.addable);var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","0 0 100 100");var l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("d",this.classes.addablePath),a.appendChild(l),r.appendChild(a),r.onclick=function(t){if(t.preventDefault(),t.stopPropagation(),e.callbacks.addable){var n=e.content.search.input.value.trim();if(""!==n){var o=function(t){var n=new s(t);if(e.callbacks.addOption(n),e.settings.isMultiple){var o=e.store.getSelected();o.push(n.value),e.callbacks.setSelected(o,!0)}else e.callbacks.setSelected([n.value],!0);e.callbacks.search(""),e.settings.closeOnSelect&&setTimeout((function(){e.callbacks.close()}),100)},r=e.callbacks.addable(n);!1!==r&&null!=r&&(r instanceof Promise?r.then((function(e){o("string"==typeof e?{text:e,value:e}:e)})):o("string"==typeof r?{text:r,value:r}:r))}else e.content.search.input.focus()}},n.appendChild(r),i.addable={main:r,svg:a,path:l}}return i}},{key:"searchFocus",value:function(){this.content.search.input.focus()}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o="."+this.classes.option;return e&&(o+=":not(."+this.classes.placeholder+")"),t&&(o+=":not(."+this.classes.disabled+")"),n&&(o+=":not(."+this.classes.hide+")"),Array.from(this.content.list.querySelectorAll(o))}},{key:"highlight",value:function(e){var t=this.getOptions(!0,!0,!0);if(0!==t.length)if(1!==t.length||t[0].classList.contains(this.classes.highlighted)){for(var n=0;n<t.length;n++)if(t[n].classList.contains(this.classes.highlighted)){var o=t[n];o.classList.remove(this.classes.highlighted);var r=o.parentElement;if(r&&r.classList.contains(this.classes.open)){var i=r.querySelector("."+this.classes.optgroupLabel);i&&i.click()}var s=t["down"===e?n+1<t.length?n+1:0:n-1>=0?n-1:t.length-1];s.classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,s);var a=s.parentElement;if(a&&a.classList.contains(this.classes.close)){var l=a.querySelector("."+this.classes.optgroupLabel);l&&l.click()}return}t["down"===e?0:t.length-1].classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,t["down"===e?0:t.length-1])}else t[0].classList.add(this.classes.highlighted)}},{key:"listDiv",value:function(){var e=document.createElement("div");return e.classList.add(this.classes.list),e}},{key:"renderError",value:function(e){this.content.list.innerHTML="";var t=document.createElement("div");t.classList.add(this.classes.error),t.textContent=e,this.content.list.appendChild(t)}},{key:"renderSearching",value:function(){this.content.list.innerHTML="";var e=document.createElement("div");e.classList.add(this.classes.searching),e.textContent=this.settings.searchingText,this.content.list.appendChild(e)}},{key:"renderOptions",value:function(e){var t=this;if(this.content.list.innerHTML="",0===e.length){var n=document.createElement("div");return n.classList.add(this.classes.search),n.innerHTML=this.settings.searchText,void this.content.list.appendChild(n)}var o,a=i(e);try{var l=function(){var e=o.value;if(e instanceof r){var n=document.createElement("div");n.classList.add(t.classes.optgroup);var a=document.createElement("div");a.classList.add(t.classes.optgroupLabel),n.appendChild(a);var l=document.createElement("div");l.classList.add(t.classes.optgroupLabelText),l.textContent=e.label,a.appendChild(l);var c=document.createElement("div");if(c.classList.add(t.classes.optgroupActions),a.appendChild(c),t.settings.isMultiple&&e.selectAll){var d=document.createElement("div");d.classList.add(t.classes.optgroupSelectAll);var u,h=!0,m=i(e.options);try{for(m.s();!(u=m.n()).done;)if(!u.value.selected){h=!1;break}}catch(e){m.e(e)}finally{m.f()}h&&d.classList.add(t.classes.selected);var p=document.createElement("span");p.textContent="Select All",d.appendChild(p);var f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.setAttribute("viewBox","0 0 100 100"),d.appendChild(f);var g=document.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("d",t.classes.optgroupSelectAllBox),f.appendChild(g);var v=document.createElementNS("http://www.w3.org/2000/svg","path");v.setAttribute("d",t.classes.optgroupSelectAllCheck),f.appendChild(v),d.addEventListener("click",(function(n){n.preventDefault(),n.stopPropagation();var o=t.store.getSelected();if(h){var r=o.filter((function(t){var n,o=i(e.options);try{for(o.s();!(n=o.n()).done;)if(t===n.value.value)return!1}catch(e){o.e(e)}finally{o.f()}return!0}));t.callbacks.setSelected(r,!0)}else{var s=o.concat(e.options.map((function(e){return e.value})));t.callbacks.setSelected(s,!0)}})),c.appendChild(d)}if("off"!==e.closable){var b=document.createElement("div");b.classList.add(t.classes.optgroupClosable);var y=document.createElementNS("http://www.w3.org/2000/svg","svg");y.setAttribute("viewBox","0 0 100 100"),y.classList.add(t.classes.arrow),b.appendChild(y);var w=document.createElementNS("http://www.w3.org/2000/svg","path");y.appendChild(w),e.options.some((function(e){return e.selected}))||""!==t.content.search.input.value.trim()?(b.classList.add(t.classes.open),w.setAttribute("d",t.classes.arrowOpen)):"open"===e.closable?(n.classList.add(t.classes.open),w.setAttribute("d",t.classes.arrowOpen)):"close"===e.closable&&(n.classList.add(t.classes.close),w.setAttribute("d",t.classes.arrowClose)),a.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),n.classList.contains(t.classes.close)?(n.classList.remove(t.classes.close),n.classList.add(t.classes.open),w.setAttribute("d",t.classes.arrowOpen)):(n.classList.remove(t.classes.open),n.classList.add(t.classes.close),w.setAttribute("d",t.classes.arrowClose))})),c.appendChild(b)}n.appendChild(a);var x,_=i(e.options);try{for(_.s();!(x=_.n()).done;){var S=x.value;n.appendChild(t.option(S))}}catch(e){_.e(e)}finally{_.f()}t.content.list.appendChild(n)}e instanceof s&&t.content.list.appendChild(t.option(e))};for(a.s();!(o=a.n()).done;)l()}catch(e){a.e(e)}finally{a.f()}}},{key:"option",value:function(e){var t=this;if(e.placeholder){var n=document.createElement("div");return n.classList.add(this.classes.option),n.classList.add(this.classes.hide),n}var o=document.createElement("div");return o.dataset.id=e.id,o.id=e.id,o.classList.add(this.classes.option),o.setAttribute("role","option"),e.class&&e.class.split(" ").forEach((function(e){o.classList.add(e)})),e.style&&(o.style.cssText=e.style),this.settings.searchHighlight&&""!==this.content.search.input.value.trim()?o.innerHTML=this.highlightText(""!==e.html?e.html:e.text,this.content.search.input.value,this.classes.searchHighlighter):""!==e.html?o.innerHTML=e.html:o.textContent=e.text,this.settings.showOptionTooltips&&o.textContent&&o.setAttribute("title",o.textContent),e.display||o.classList.add(this.classes.hide),e.disabled&&o.classList.add(this.classes.disabled),e.selected&&this.settings.hideSelected&&o.classList.add(this.classes.hide),e.selected?(o.classList.add(this.classes.selected),o.setAttribute("aria-selected","true"),this.main.main.setAttribute("aria-activedescendant",o.id)):(o.classList.remove(this.classes.selected),o.setAttribute("aria-selected","false")),o.addEventListener("click",(function(n){n.preventDefault(),n.stopPropagation();var o=t.store.getSelected(),r=n.currentTarget,i=String(r.dataset.id);if(!(e.disabled||e.selected&&!t.settings.allowDeselect||t.settings.isMultiple&&t.settings.maxSelected<=o.length&&!e.selected||t.settings.isMultiple&&t.settings.minSelected>=o.length&&e.selected)){var s=!1,a=t.store.getSelectedOptions(),l=[];t.settings.isMultiple&&(l=e.selected?a.filter((function(e){return e.id!==i})):a.concat(e)),t.settings.isMultiple||(l=e.selected?[]:[e]),t.callbacks.beforeChange||(s=!0),t.callbacks.beforeChange&&(s=!1!==t.callbacks.beforeChange(l,a)),s&&(t.store.getOptionByID(i)||t.callbacks.addOption(e),t.callbacks.setSelected(l.map((function(e){return e.value})),!1),t.settings.closeOnSelect&&t.callbacks.close(),t.callbacks.afterChange&&t.callbacks.afterChange(l))}})),o}},{key:"destroy",value:function(){this.main.main.remove(),this.content.main.remove()}},{key:"highlightText",value:function(e,t,n){var o=e,r=new RegExp("("+t.trim()+")(?![^<]*>[^<>]*</)","i");if(!e.match(r))return e;var i=e.match(r).index,s=i+e.match(r)[0].toString().length,a=e.substring(i,s);return o=o.replace(r,'<mark class="'.concat(n,'">').concat(a,"</mark>"))}},{key:"moveContentAbove",value:function(){var e=this.main.main.offsetHeight,t=this.content.main.offsetHeight;this.main.main.classList.remove(this.classes.openBelow),this.main.main.classList.add(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.content.main.classList.add(this.classes.openAbove);var n=this.main.main.getBoundingClientRect();this.content.main.style.margin="-"+(e+t-1)+"px 0px 0px 0px",this.content.main.style.top=n.top+n.height+window.scrollY+"px",this.content.main.style.left=n.left+window.scrollX+"px",this.content.main.style.width=n.width+"px"}},{key:"moveContentBelow",value:function(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.add(this.classes.openBelow),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.add(this.classes.openBelow);var e=this.main.main.getBoundingClientRect();this.content.main.style.margin="-1px 0px 0px 0px","relative"!==this.settings.contentPosition&&(this.content.main.style.top=e.top+e.height+window.scrollY+"px",this.content.main.style.left=e.left+window.scrollX+"px",this.content.main.style.width=e.width+"px")}},{key:"ensureElementInView",value:function(e,t){var n=e.scrollTop+e.offsetTop,o=n+e.clientHeight,r=t.offsetTop,i=r+t.clientHeight;r<n?e.scrollTop-=n-r:i>o&&(e.scrollTop+=i-o)}},{key:"putContent",value:function(){var e=this.main.main.offsetHeight,t=this.main.main.getBoundingClientRect(),n=this.content.main.offsetHeight;return window.innerHeight-(t.top+e)<=n&&t.top>n?"up":"down"}}]),e}(),h=function(){function e(t){c(this,e),this.listen=!1,this.observer=null,this.select=t,this.select.addEventListener("change",this.valueChange.bind(this),{passive:!0}),this.observer=new MutationObserver(this.observeCall.bind(this)),this.changeListen(!0)}return l(e,[{key:"enable",value:function(){this.select.disabled=!1}},{key:"disable",value:function(){this.select.disabled=!0}},{key:"hideUI",value:function(){this.select.tabIndex=-1,this.select.style.display="none",this.select.setAttribute("aria-hidden","true")}},{key:"showUI",value:function(){this.select.removeAttribute("tabindex"),this.select.style.display="",this.select.removeAttribute("aria-hidden")}},{key:"changeListen",value:function(e){this.listen=e,e&&this.observer&&this.observer.observe(this.select,{subtree:!0,childList:!0,attributes:!0}),e||this.observer&&this.observer.disconnect()}},{key:"valueChange",value:function(e){return this.listen&&this.onValueChange&&this.onValueChange(this.getSelectedValues()),!0}},{key:"observeCall",value:function(e){if(this.listen){var t,n=!1,o=!1,r=!1,s=i(e);try{for(s.s();!(t=s.n()).done;){var a=t.value;a.target===this.select&&("disabled"===a.attributeName&&(o=!0),"class"===a.attributeName&&(n=!0)),"OPTGROUP"!==a.target.nodeName&&"OPTION"!==a.target.nodeName||(r=!0)}}catch(e){s.e(e)}finally{s.f()}n&&this.onClassChange&&this.onClassChange(this.select.className.split(" ")),o&&this.onDisabledChange&&(this.changeListen(!1),this.onDisabledChange(this.select.disabled),this.changeListen(!0)),r&&this.onOptionsChange&&(this.changeListen(!1),this.onOptionsChange(this.getData()),this.changeListen(!0))}}},{key:"getData",value:function(){var e,t=[],n=i(this.select.childNodes);try{for(n.s();!(e=n.n()).done;){var o=e.value;"OPTGROUP"===o.nodeName&&t.push(this.getDataFromOptgroup(o)),"OPTION"===o.nodeName&&t.push(this.getDataFromOption(o))}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getDataFromOptgroup",value:function(e){var t,n={id:e.id,label:e.label,selectAll:!!e.dataset&&"true"===e.dataset.selectall,closable:e.dataset?e.dataset.closable:"off",options:[]},o=i(e.childNodes);try{for(o.s();!(t=o.n()).done;){var r=t.value;"OPTION"===r.nodeName&&n.options.push(this.getDataFromOption(r))}}catch(e){o.e(e)}finally{o.f()}return n}},{key:"getDataFromOption",value:function(e){return{id:e.id,value:e.value,text:e.text,html:e.dataset&&e.dataset.html?e.dataset.html:"",selected:e.selected,display:"none"!==e.style.display,disabled:e.disabled,mandatory:!!e.dataset&&"true"===e.dataset.mandatory,placeholder:"true"===e.dataset.placeholder,class:e.className,style:e.style.cssText,data:e.dataset}}},{key:"getSelectedValues",value:function(){var e,t=[],n=i(this.select.childNodes);try{for(n.s();!(e=n.n()).done;){var o=e.value;if("OPTGROUP"===o.nodeName){var r,s=i(o.childNodes);try{for(s.s();!(r=s.n()).done;){var a=r.value;if("OPTION"===a.nodeName){var l=a;l.selected&&t.push(l.value)}}}catch(e){s.e(e)}finally{s.f()}}if("OPTION"===o.nodeName){var c=o;c.selected&&t.push(c.value)}}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"setSelected",value:function(e){this.changeListen(!1);var t,n=i(this.select.childNodes);try{for(n.s();!(t=n.n()).done;){var o=t.value;if("OPTGROUP"===o.nodeName){var r,s=i(o.childNodes);try{for(s.s();!(r=s.n()).done;){var a=r.value;if("OPTION"===a.nodeName){var l=a;l.selected=e.includes(l.value)}}}catch(e){s.e(e)}finally{s.f()}}if("OPTION"===o.nodeName){var c=o;c.selected=e.includes(c.value)}}}catch(e){n.e(e)}finally{n.f()}this.changeListen(!0)}},{key:"updateSelect",value:function(e,t,n){var o=this;this.changeListen(!1),e&&(this.select.dataset.id=e),t&&(this.select.style.cssText=t),n&&(this.select.className="",n.forEach((function(e){""!==e.trim()&&o.select.classList.add(e.trim())}))),this.changeListen(!0)}},{key:"updateOptions",value:function(e){this.changeListen(!1),this.select.innerHTML="";var t,n=i(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;o instanceof r&&this.select.appendChild(this.createOptgroup(o)),o instanceof s&&this.select.appendChild(this.createOption(o))}}catch(e){n.e(e)}finally{n.f()}this.select.dispatchEvent(new Event("change")),this.changeListen(!0)}},{key:"createOptgroup",value:function(e){var t=document.createElement("optgroup");if(t.id=e.id,t.label=e.label,e.selectAll&&(t.dataset.selectAll="true"),"off"!==e.closable&&(t.dataset.closable=e.closable),e.options){var n,o=i(e.options);try{for(o.s();!(n=o.n()).done;){var r=n.value;t.appendChild(this.createOption(r))}}catch(e){o.e(e)}finally{o.f()}}return t}},{key:"createOption",value:function(e){var t=document.createElement("option");return t.id=e.id,t.value=e.value,t.innerHTML=e.text,""!==e.html&&t.setAttribute("data-html",e.html),e.selected&&(t.selected=e.selected),e.disabled&&(t.disabled=!0),!1===e.display&&(t.style.display="none"),e.placeholder&&t.setAttribute("data-placeholder","true"),e.mandatory&&t.setAttribute("data-mandatory","true"),e.class&&e.class.split(" ").forEach((function(e){t.classList.add(e)})),e.data&&"object"==d(e.data)&&Object.keys(e.data).forEach((function(n){t.setAttribute("data-"+function(e){var t=e.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,(function(e){return"-"+e.toLowerCase()}));return e[0]===e[0].toUpperCase()?t.substring(1):t}(n),e.data[n])})),t}},{key:"destroy",value:function(){this.changeListen(!1),this.select.removeEventListener("change",this.valueChange.bind(this)),this.observer&&(this.observer.disconnect(),this.observer=null),delete this.select.dataset.id,this.showUI()}}]),e}();return function(){function e(n){var r,i=this;if(c(this,e),this.events={search:void 0,searchFilter:function(e,t){return-1!==e.text.toLowerCase().indexOf(t.toLowerCase())},addable:void 0,beforeChange:void 0,afterChange:void 0,beforeOpen:void 0,afterOpen:void 0,beforeClose:void 0,afterClose:void 0},this.windowResize=t((function(){(i.settings.isOpen||i.settings.isFullOpen)&&i.render.moveContent()})),this.windowScroll=t((function(){(i.settings.isOpen||i.settings.isFullOpen)&&i.render.moveContent()})),this.documentClick=function(e){i.settings.isOpen&&e.target&&!function(e,t){function n(e,n){return n&&e&&e.classList&&e.classList.contains(n)||n&&e&&e.dataset&&e.dataset.id&&e.dataset.id===t?e:null}return n(e,t)||function e(t,o){return t&&t!==document?n(t,o)?t:e(t.parentNode,o):null}(e,t)}(e.target,i.settings.id)&&i.close(e.type)},this.windowVisibilityChange=function(){document.hidden&&i.close()},this.selectEl="string"==typeof n.select?document.querySelector(n.select):n.select,this.selectEl)if("SELECT"===this.selectEl.tagName){this.selectEl.dataset.ssid&&this.destroy(),this.settings=new o(n.settings);var s=["afterChange","beforeOpen","afterOpen","beforeClose","afterClose"];for(var l in n.events)n.events.hasOwnProperty(l)&&(-1!==s.indexOf(l)?this.events[l]=t(n.events[l],100):this.events[l]=n.events[l]);this.settings.disabled=(null===(r=n.settings)||void 0===r?void 0:r.disabled)?n.settings.disabled:this.selectEl.disabled,this.settings.isMultiple=this.selectEl.multiple,this.settings.style=this.selectEl.style.cssText,this.settings.class=this.selectEl.className.split(" "),this.select=new h(this.selectEl),this.select.updateSelect(this.settings.id,this.settings.style,this.settings.class),this.select.hideUI(),this.select.onValueChange=function(e){i.setSelected(e)},this.select.onClassChange=function(e){i.settings.class=e,i.render.updateClassStyles()},this.select.onDisabledChange=function(e){e?i.disable():i.enable()},this.select.onOptionsChange=function(e){i.setData(e)},this.store=new a(this.settings.isMultiple?"multiple":"single",n.data?n.data:this.select.getData()),n.data&&this.select.updateOptions(this.store.getData());var d={open:this.open.bind(this),close:this.close.bind(this),addable:this.events.addable?this.events.addable:void 0,setSelected:this.setSelected.bind(this),addOption:this.addOption.bind(this),search:this.search.bind(this),beforeChange:this.events.beforeChange,afterChange:this.events.afterChange};this.render=new u(this.settings,this.store,d),this.render.renderValues(),this.render.renderOptions(this.store.getData());var m=this.selectEl.getAttribute("aria-label"),p=this.selectEl.getAttribute("aria-labelledby");m?this.render.main.main.setAttribute("aria-label",m):p&&this.render.main.main.setAttribute("aria-labelledby",p),this.selectEl.parentNode&&this.selectEl.parentNode.insertBefore(this.render.main.main,this.selectEl.nextSibling),document.addEventListener("click",this.documentClick),window.addEventListener("resize",this.windowResize,!1),"auto"===this.settings.openPosition&&window.addEventListener("scroll",this.windowScroll,!1),document.addEventListener("visibilitychange",this.windowVisibilityChange),this.settings.disabled&&this.disable(),this.settings.alwaysOpen&&this.open(),this.selectEl.slim=this}else n.events&&n.events.error&&n.events.error(new Error("Element isnt of type select"));else n.events&&n.events.error&&n.events.error(new Error("Could not find select element"))}return l(e,[{key:"enable",value:function(){this.settings.disabled=!1,this.select.enable(),this.render.enable()}},{key:"disable",value:function(){this.settings.disabled=!0,this.select.disable(),this.render.disable()}},{key:"getData",value:function(){return this.store.getData()}},{key:"setData",value:function(e){var t=this.store.getSelected(),o=this.store.validateDataArray(e);if(o)this.events.error&&this.events.error(o);else{this.store.setData(e);var r=this.store.getData();this.select.updateOptions(r),this.render.renderValues(),this.render.renderOptions(r),this.events.afterChange&&!n(t,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}}},{key:"getSelected",value:function(){return this.store.getSelected()}},{key:"setSelected",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this.store.getSelected();this.store.setSelectedBy("value",Array.isArray(e)?e:[e]);var r=this.store.getData();this.select.updateOptions(r),this.render.renderValues(),""!==this.render.content.search.input.value?this.search(this.render.content.search.input.value):this.render.renderOptions(r),t&&this.events.afterChange&&!n(o,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}},{key:"addOption",value:function(e){var t=this.store.getSelected();this.store.getDataOptions().some((function(t){var n;return t.value===(null!==(n=e.value)&&void 0!==n?n:e.text)}))||this.store.addOption(e);var o=this.store.getData();this.select.updateOptions(o),this.render.renderValues(),this.render.renderOptions(o),this.events.afterChange&&!n(t,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}},{key:"open",value:function(){var e=this;this.settings.disabled||this.settings.isOpen||(this.events.beforeOpen&&this.events.beforeOpen(),this.render.open(),this.settings.showSearch&&this.render.searchFocus(),this.settings.isOpen=!0,setTimeout((function(){e.events.afterOpen&&e.events.afterOpen(),e.settings.isOpen&&(e.settings.isFullOpen=!0)}),this.settings.timeoutDelay),"absolute"===this.settings.contentPosition&&(this.settings.intervalMove&&clearInterval(this.settings.intervalMove),this.settings.intervalMove=setInterval(this.render.moveContent.bind(this.render),500)))}},{key:"close",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.settings.isOpen&&!this.settings.alwaysOpen&&(this.events.beforeClose&&this.events.beforeClose(),this.render.close(),""!==this.render.content.search.input.value&&this.search(""),this.render.mainFocus(t),this.settings.isOpen=!1,this.settings.isFullOpen=!1,setTimeout((function(){e.events.afterClose&&e.events.afterClose()}),this.settings.timeoutDelay),this.settings.intervalMove&&clearInterval(this.settings.intervalMove))}},{key:"search",value:function(e){var t=this;if(this.render.content.search.input.value!==e&&(this.render.content.search.input.value=e),this.events.search){this.render.renderSearching();var n=this.events.search(e,this.store.getSelectedOptions());n instanceof Promise?n.then((function(e){t.render.renderOptions(t.store.partialToFullData(e))})).catch((function(e){t.render.renderError("string"==typeof e?e:e.message)})):Array.isArray(n)?this.render.renderOptions(this.store.partialToFullData(n)):this.render.renderError("Search event must return a promise or an array of data")}else this.render.renderOptions(""===e?this.store.getData():this.store.search(e,this.events.searchFilter))}},{key:"destroy",value:function(){document.removeEventListener("click",this.documentClick),window.removeEventListener("resize",this.windowResize,!1),"auto"===this.settings.openPosition&&window.removeEventListener("scroll",this.windowScroll,!1),document.removeEventListener("visibilitychange",this.windowVisibilityChange),this.store.setData([]),this.render.destroy(),this.select.destroy()}}]),e}()},"object"==("undefined"==typeof exports?"undefined":d(exports))?e.exports=r():"function"==typeof define&&n.amdO?define(r):(o="undefined"!=typeof globalThis?globalThis:o||self).SlimSelect=r()},"./node_modules/core-js/internals/a-callable.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/is-callable.js"),r=n("./node_modules/core-js/internals/try-to-string.js"),i=TypeError;e.exports=function(e){if(o(e))return e;throw i(r(e)+" is not a function")}},"./node_modules/core-js/internals/a-constructor.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/is-constructor.js"),r=n("./node_modules/core-js/internals/try-to-string.js"),i=TypeError;e.exports=function(e){if(o(e))return e;throw i(r(e)+" is not a constructor")}},"./node_modules/core-js/internals/a-possible-prototype.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/is-callable.js"),r=String,i=TypeError;e.exports=function(e){if("object"==typeof e||o(e))return e;throw i("Can't set "+r(e)+" as a prototype")}},"./node_modules/core-js/internals/add-to-unscopables.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/well-known-symbol.js"),r=n("./node_modules/core-js/internals/object-create.js"),i=n("./node_modules/core-js/internals/object-define-property.js").f,s=o("unscopables"),a=Array.prototype;null==a[s]&&i(a,s,{configurable:!0,value:r(null)}),e.exports=function(e){a[s][e]=!0}},"./node_modules/core-js/internals/advance-string-index.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/string-multibyte.js").charAt;e.exports=function(e,t,n){return t+(n?o(e,t).length:1)}},"./node_modules/core-js/internals/an-instance.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/object-is-prototype-of.js"),r=TypeError;e.exports=function(e,t){if(o(t,e))return e;throw r("Incorrect invocation")}},"./node_modules/core-js/internals/an-object.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/is-object.js"),r=String,i=TypeError;e.exports=function(e){if(o(e))return e;throw i(r(e)+" is not an object")}},"./node_modules/core-js/internals/array-buffer-non-extensible.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/fails.js");e.exports=o((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},"./node_modules/core-js/internals/array-for-each.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/array-iteration.js").forEach,r=n("./node_modules/core-js/internals/array-method-is-strict.js")("forEach");e.exports=r?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},"./node_modules/core-js/internals/array-from.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/function-bind-context.js"),r=n("./node_modules/core-js/internals/function-call.js"),i=n("./node_modules/core-js/internals/to-object.js"),s=n("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),a=n("./node_modules/core-js/internals/is-array-iterator-method.js"),l=n("./node_modules/core-js/internals/is-constructor.js"),c=n("./node_modules/core-js/internals/length-of-array-like.js"),d=n("./node_modules/core-js/internals/create-property.js"),u=n("./node_modules/core-js/internals/get-iterator.js"),h=n("./node_modules/core-js/internals/get-iterator-method.js"),m=Array;e.exports=function(e){var t=i(e),n=l(this),p=arguments.length,f=p>1?arguments[1]:void 0,g=void 0!==f;g&&(f=o(f,p>2?arguments[2]:void 0));var v,b,y,w,x,_,S=h(t),C=0;if(!S||this===m&&a(S))for(v=c(t),b=n?new this(v):m(v);v>C;C++)_=g?f(t[C],C):t[C],d(b,C,_);else for(x=(w=u(t,S)).next,b=n?new this:[];!(y=r(x,w)).done;C++)_=g?s(w,f,[y.value,C],!0):y.value,d(b,C,_);return b.length=C,b}},"./node_modules/core-js/internals/array-includes.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/to-indexed-object.js"),r=n("./node_modules/core-js/internals/to-absolute-index.js"),i=n("./node_modules/core-js/internals/length-of-array-like.js"),s=function(e){return function(t,n,s){var a,l=o(t),c=i(l),d=r(s,c);if(e&&n!=n){for(;c>d;)if((a=l[d++])!=a)return!0}else for(;c>d;d++)if((e||d in l)&&l[d]===n)return e||d||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"./node_modules/core-js/internals/array-iteration.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-bind-context.js"),r=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=n("./node_modules/core-js/internals/indexed-object.js"),s=n("./node_modules/core-js/internals/to-object.js"),a=n("./node_modules/core-js/internals/length-of-array-like.js"),l=n("./node_modules/core-js/internals/array-species-create.js"),c=r([].push),d=function(e){var t=1==e,n=2==e,r=3==e,d=4==e,u=6==e,h=7==e,m=5==e||u;return function(p,f,g,v){for(var b,y,w=s(p),x=i(w),_=o(f,g),S=a(x),C=0,j=v||l,k=t?j(p,S):n||h?j(p,0):void 0;S>C;C++)if((m||C in x)&&(y=_(b=x[C],C,w),e))if(t)k[C]=y;else if(y)switch(e){case 3:return!0;case 5:return b;case 6:return C;case 2:c(k,b)}else switch(e){case 4:return!1;case 7:c(k,b)}return u?-1:r||d?d:k}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},"./node_modules/core-js/internals/array-method-has-species-support.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/fails.js"),r=n("./node_modules/core-js/internals/well-known-symbol.js"),i=n("./node_modules/core-js/internals/engine-v8-version.js"),s=r("species");e.exports=function(e){return i>=51||!o((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"./node_modules/core-js/internals/array-method-is-strict.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/fails.js");e.exports=function(e,t){var n=[][e];return!!n&&o((function(){n.call(null,t||function(){return 1},1)}))}},"./node_modules/core-js/internals/array-slice-simple.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/to-absolute-index.js"),r=n("./node_modules/core-js/internals/length-of-array-like.js"),i=n("./node_modules/core-js/internals/create-property.js"),s=Array,a=Math.max;e.exports=function(e,t,n){for(var l=r(e),c=o(t,l),d=o(void 0===n?l:n,l),u=s(a(d-c,0)),h=0;c<d;c++,h++)i(u,h,e[c]);return u.length=h,u}},"./node_modules/core-js/internals/array-slice.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this.js");e.exports=o([].slice)},"./node_modules/core-js/internals/array-sort.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/array-slice-simple.js"),r=Math.floor,i=function(e,t){var n=e.length,l=r(n/2);return n<8?s(e,t):a(e,i(o(e,0,l),t),i(o(e,l),t),t)},s=function(e,t){for(var n,o,r=e.length,i=1;i<r;){for(o=i,n=e[i];o&&t(e[o-1],n)>0;)e[o]=e[--o];o!==i++&&(e[o]=n)}return e},a=function(e,t,n,o){for(var r=t.length,i=n.length,s=0,a=0;s<r||a<i;)e[s+a]=s<r&&a<i?o(t[s],n[a])<=0?t[s++]:n[a++]:s<r?t[s++]:n[a++];return e};e.exports=i},"./node_modules/core-js/internals/array-species-constructor.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/is-array.js"),r=n("./node_modules/core-js/internals/is-constructor.js"),i=n("./node_modules/core-js/internals/is-object.js"),s=n("./node_modules/core-js/internals/well-known-symbol.js")("species"),a=Array;e.exports=function(e){var t;return o(e)&&(t=e.constructor,(r(t)&&(t===a||o(t.prototype))||i(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?a:t}},"./node_modules/core-js/internals/array-species-create.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/array-species-constructor.js");e.exports=function(e,t){return new(o(e))(0===t?0:t)}},"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/an-object.js"),r=n("./node_modules/core-js/internals/iterator-close.js");e.exports=function(e,t,n,i){try{return i?t(o(n)[0],n[1]):t(n)}catch(t){r(e,"throw",t)}}},"./node_modules/core-js/internals/check-correctness-of-iteration.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/well-known-symbol.js")("iterator"),r=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){r=!0}};s[o]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var i={};i[o]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},"./node_modules/core-js/internals/classof-raw.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this.js"),r=o({}.toString),i=o("".slice);e.exports=function(e){return i(r(e),8,-1)}},"./node_modules/core-js/internals/classof.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/to-string-tag-support.js"),r=n("./node_modules/core-js/internals/is-callable.js"),i=n("./node_modules/core-js/internals/classof-raw.js"),s=n("./node_modules/core-js/internals/well-known-symbol.js")("toStringTag"),a=Object,l="Arguments"==i(function(){return arguments}());e.exports=o?i:function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=a(e),s))?n:l?i(t):"Object"==(o=i(t))&&r(t.callee)?"Arguments":o}},"./node_modules/core-js/internals/collection-strong.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/object-create.js"),r=n("./node_modules/core-js/internals/define-built-in-accessor.js"),i=n("./node_modules/core-js/internals/define-built-ins.js"),s=n("./node_modules/core-js/internals/function-bind-context.js"),a=n("./node_modules/core-js/internals/an-instance.js"),l=n("./node_modules/core-js/internals/is-null-or-undefined.js"),c=n("./node_modules/core-js/internals/iterate.js"),d=n("./node_modules/core-js/internals/iterator-define.js"),u=n("./node_modules/core-js/internals/create-iter-result-object.js"),h=n("./node_modules/core-js/internals/set-species.js"),m=n("./node_modules/core-js/internals/descriptors.js"),p=n("./node_modules/core-js/internals/internal-metadata.js").fastKey,f=n("./node_modules/core-js/internals/internal-state.js"),g=f.set,v=f.getterFor;e.exports={getConstructor:function(e,t,n,d){var u=e((function(e,r){a(e,h),g(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),m||(e.size=0),l(r)||c(r,e[d],{that:e,AS_ENTRIES:n})})),h=u.prototype,f=v(t),b=function(e,t,n){var o,r,i=f(e),s=y(e,t);return s?s.value=n:(i.last=s={index:r=p(t,!0),key:t,value:n,previous:o=i.last,next:void 0,removed:!1},i.first||(i.first=s),o&&(o.next=s),m?i.size++:e.size++,"F"!==r&&(i.index[r]=s)),e},y=function(e,t){var n,o=f(e),r=p(t);if("F"!==r)return o.index[r];for(n=o.first;n;n=n.next)if(n.key==t)return n};return i(h,{clear:function(){for(var e=f(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,m?e.size=0:this.size=0},delete:function(e){var t=this,n=f(t),o=y(t,e);if(o){var r=o.next,i=o.previous;delete n.index[o.index],o.removed=!0,i&&(i.next=r),r&&(r.previous=i),n.first==o&&(n.first=r),n.last==o&&(n.last=i),m?n.size--:t.size--}return!!o},forEach:function(e){for(var t,n=f(this),o=s(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(o(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),i(h,n?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return b(this,0===e?0:e,t)}}:{add:function(e){return b(this,e=0===e?0:e,e)}}),m&&r(h,"size",{configurable:!0,get:function(){return f(this).size}}),u},setStrong:function(e,t,n){var o=t+" Iterator",r=v(t),i=v(o);d(e,t,(function(e,t){g(this,{type:o,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?u("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,u(void 0,!0))}),n?"entries":"values",!n,!0),h(t)}}},"./node_modules/core-js/internals/collection.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/function-uncurry-this.js"),s=n("./node_modules/core-js/internals/is-forced.js"),a=n("./node_modules/core-js/internals/define-built-in.js"),l=n("./node_modules/core-js/internals/internal-metadata.js"),c=n("./node_modules/core-js/internals/iterate.js"),d=n("./node_modules/core-js/internals/an-instance.js"),u=n("./node_modules/core-js/internals/is-callable.js"),h=n("./node_modules/core-js/internals/is-null-or-undefined.js"),m=n("./node_modules/core-js/internals/is-object.js"),p=n("./node_modules/core-js/internals/fails.js"),f=n("./node_modules/core-js/internals/check-correctness-of-iteration.js"),g=n("./node_modules/core-js/internals/set-to-string-tag.js"),v=n("./node_modules/core-js/internals/inherit-if-required.js");e.exports=function(e,t,n){var b=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),w=b?"set":"add",x=r[e],_=x&&x.prototype,S=x,C={},j=function(e){var t=i(_[e]);a(_,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(y&&!m(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return y&&!m(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!m(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(s(e,!u(x)||!(y||_.forEach&&!p((function(){(new x).entries().next()})))))S=n.getConstructor(t,e,b,w),l.enable();else if(s(e,!0)){var k=new S,E=k[w](y?{}:-0,1)!=k,O=p((function(){k.has(1)})),A=f((function(e){new x(e)})),T=!y&&p((function(){for(var e=new x,t=5;t--;)e[w](t,t);return!e.has(-0)}));A||((S=t((function(e,t){d(e,_);var n=v(new x,e,S);return h(t)||c(t,n[w],{that:n,AS_ENTRIES:b}),n}))).prototype=_,_.constructor=S),(O||T)&&(j("delete"),j("has"),b&&j("get")),(T||E)&&j(w),y&&_.clear&&delete _.clear}return C[e]=S,o({global:!0,constructor:!0,forced:S!=x},C),g(S,e),y||n.setStrong(S,e,b),S}},"./node_modules/core-js/internals/copy-constructor-properties.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/has-own-property.js"),r=n("./node_modules/core-js/internals/own-keys.js"),i=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),s=n("./node_modules/core-js/internals/object-define-property.js");e.exports=function(e,t,n){for(var a=r(t),l=s.f,c=i.f,d=0;d<a.length;d++){var u=a[d];o(e,u)||n&&o(n,u)||l(e,u,c(t,u))}}},"./node_modules/core-js/internals/correct-is-regexp-logic.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/well-known-symbol.js")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[o]=!1,"/./"[e](t)}catch(e){}}return!1}},"./node_modules/core-js/internals/correct-prototype-getter.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/fails.js");e.exports=!o((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},"./node_modules/core-js/internals/create-iter-result-object.js":e=>{e.exports=function(e,t){return{value:e,done:t}}},"./node_modules/core-js/internals/create-non-enumerable-property.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/descriptors.js"),r=n("./node_modules/core-js/internals/object-define-property.js"),i=n("./node_modules/core-js/internals/create-property-descriptor.js");e.exports=o?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},"./node_modules/core-js/internals/create-property-descriptor.js":e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"./node_modules/core-js/internals/create-property.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/to-property-key.js"),r=n("./node_modules/core-js/internals/object-define-property.js"),i=n("./node_modules/core-js/internals/create-property-descriptor.js");e.exports=function(e,t,n){var s=o(t);s in e?r.f(e,s,i(0,n)):e[s]=n}},"./node_modules/core-js/internals/date-to-primitive.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/an-object.js"),r=n("./node_modules/core-js/internals/ordinary-to-primitive.js"),i=TypeError;e.exports=function(e){if(o(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw i("Incorrect hint");return r(this,e)}},"./node_modules/core-js/internals/define-built-in-accessor.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/make-built-in.js"),r=n("./node_modules/core-js/internals/object-define-property.js");e.exports=function(e,t,n){return n.get&&o(n.get,t,{getter:!0}),n.set&&o(n.set,t,{setter:!0}),r.f(e,t,n)}},"./node_modules/core-js/internals/define-built-in.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/is-callable.js"),r=n("./node_modules/core-js/internals/object-define-property.js"),i=n("./node_modules/core-js/internals/make-built-in.js"),s=n("./node_modules/core-js/internals/define-global-property.js");e.exports=function(e,t,n,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:t;if(o(n)&&i(n,c,a),a.global)l?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=n:r.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},"./node_modules/core-js/internals/define-built-ins.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/define-built-in.js");e.exports=function(e,t,n){for(var r in t)o(e,r,t[r],n);return e}},"./node_modules/core-js/internals/define-global-property.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/global.js"),r=Object.defineProperty;e.exports=function(e,t){try{r(o,e,{value:t,configurable:!0,writable:!0})}catch(n){o[e]=t}return t}},"./node_modules/core-js/internals/descriptors.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/fails.js");e.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"./node_modules/core-js/internals/document-all.js":e=>{var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},"./node_modules/core-js/internals/document-create-element.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/global.js"),r=n("./node_modules/core-js/internals/is-object.js"),i=o.document,s=r(i)&&r(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},"./node_modules/core-js/internals/dom-iterables.js":e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js/internals/dom-token-list-prototype.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/document-create-element.js")("span").classList,r=o&&o.constructor&&o.constructor.prototype;e.exports=r===Object.prototype?void 0:r},"./node_modules/core-js/internals/engine-is-browser.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/engine-is-deno.js"),r=n("./node_modules/core-js/internals/engine-is-node.js");e.exports=!o&&!r&&"object"==typeof window&&"object"==typeof document},"./node_modules/core-js/internals/engine-is-bun.js":e=>{e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},"./node_modules/core-js/internals/engine-is-deno.js":e=>{e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},"./node_modules/core-js/internals/engine-is-ios-pebble.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/engine-user-agent.js");e.exports=/ipad|iphone|ipod/i.test(o)&&"undefined"!=typeof Pebble},"./node_modules/core-js/internals/engine-is-ios.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/engine-user-agent.js");e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(o)},"./node_modules/core-js/internals/engine-is-node.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/classof-raw.js");e.exports="undefined"!=typeof process&&"process"==o(process)},"./node_modules/core-js/internals/engine-is-webos-webkit.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/engine-user-agent.js");e.exports=/web0s(?!.*chrome)/i.test(o)},"./node_modules/core-js/internals/engine-user-agent.js":e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},"./node_modules/core-js/internals/engine-v8-version.js":(e,t,n)=>{var o,r,i=n("./node_modules/core-js/internals/global.js"),s=n("./node_modules/core-js/internals/engine-user-agent.js"),a=i.process,l=i.Deno,c=a&&a.versions||l&&l.version,d=c&&c.v8;d&&(r=(o=d.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!r&&s&&(!(o=s.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=s.match(/Chrome\/(\d+)/))&&(r=+o[1]),e.exports=r},"./node_modules/core-js/internals/enum-bug-keys.js":e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/error-stack-clear.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this.js"),r=Error,i=o("".replace),s=String(r("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(s);e.exports=function(e,t){if(l&&"string"==typeof e&&!r.prepareStackTrace)for(;t--;)e=i(e,a,"");return e}},"./node_modules/core-js/internals/error-stack-install.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/create-non-enumerable-property.js"),r=n("./node_modules/core-js/internals/error-stack-clear.js"),i=n("./node_modules/core-js/internals/error-stack-installable.js"),s=Error.captureStackTrace;e.exports=function(e,t,n,a){i&&(s?s(e,t):o(e,"stack",r(n,a)))}},"./node_modules/core-js/internals/error-stack-installable.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/fails.js"),r=n("./node_modules/core-js/internals/create-property-descriptor.js");e.exports=!o((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)}))},"./node_modules/core-js/internals/error-to-string.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/descriptors.js"),r=n("./node_modules/core-js/internals/fails.js"),i=n("./node_modules/core-js/internals/an-object.js"),s=n("./node_modules/core-js/internals/object-create.js"),a=n("./node_modules/core-js/internals/normalize-string-argument.js"),l=Error.prototype.toString,c=r((function(){if(o){var e=s(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==l.call(e))return!0}return"2: 1"!==l.call({message:1,name:2})||"Error"!==l.call({})}));e.exports=c?function(){var e=i(this),t=a(e.name,"Error"),n=a(e.message);return t?n?t+": "+n:t:n}:l},"./node_modules/core-js/internals/export.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/global.js"),r=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,i=n("./node_modules/core-js/internals/create-non-enumerable-property.js"),s=n("./node_modules/core-js/internals/define-built-in.js"),a=n("./node_modules/core-js/internals/define-global-property.js"),l=n("./node_modules/core-js/internals/copy-constructor-properties.js"),c=n("./node_modules/core-js/internals/is-forced.js");e.exports=function(e,t){var n,d,u,h,m,p=e.target,f=e.global,g=e.stat;if(n=f?o:g?o[p]||a(p,{}):(o[p]||{}).prototype)for(d in t){if(h=t[d],u=e.dontCallGetSet?(m=r(n,d))&&m.value:n[d],!c(f?d:p+(g?".":"#")+d,e.forced)&&void 0!==u){if(typeof h==typeof u)continue;l(h,u)}(e.sham||u&&u.sham)&&i(h,"sham",!0),s(n,d,h,e)}}},"./node_modules/core-js/internals/fails.js":e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":(e,t,n)=>{"use strict";n("./node_modules/core-js/modules/es.regexp.exec.js");var o=n("./node_modules/core-js/internals/function-uncurry-this-clause.js"),r=n("./node_modules/core-js/internals/define-built-in.js"),i=n("./node_modules/core-js/internals/regexp-exec.js"),s=n("./node_modules/core-js/internals/fails.js"),a=n("./node_modules/core-js/internals/well-known-symbol.js"),l=n("./node_modules/core-js/internals/create-non-enumerable-property.js"),c=a("species"),d=RegExp.prototype;e.exports=function(e,t,n,u){var h=a(e),m=!s((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),p=m&&!s((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!m||!p||n){var f=o(/./[h]),g=t(h,""[e],(function(e,t,n,r,s){var a=o(e),l=t.exec;return l===i||l===d.exec?m&&!s?{done:!0,value:f(t,n,r)}:{done:!0,value:a(n,t,r)}:{done:!1}}));r(String.prototype,e,g[0]),r(d,h,g[1])}u&&l(d[h],"sham",!0)}},"./node_modules/core-js/internals/freezing.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/fails.js");e.exports=!o((function(){return Object.isExtensible(Object.preventExtensions({}))}))},"./node_modules/core-js/internals/function-apply.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-bind-native.js"),r=Function.prototype,i=r.apply,s=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(o?s.bind(i):function(){return s.apply(i,arguments)})},"./node_modules/core-js/internals/function-bind-context.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this-clause.js"),r=n("./node_modules/core-js/internals/a-callable.js"),i=n("./node_modules/core-js/internals/function-bind-native.js"),s=o(o.bind);e.exports=function(e,t){return r(e),void 0===t?e:i?s(e,t):function(){return e.apply(t,arguments)}}},"./node_modules/core-js/internals/function-bind-native.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/fails.js");e.exports=!o((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},"./node_modules/core-js/internals/function-bind.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/function-uncurry-this.js"),r=n("./node_modules/core-js/internals/a-callable.js"),i=n("./node_modules/core-js/internals/is-object.js"),s=n("./node_modules/core-js/internals/has-own-property.js"),a=n("./node_modules/core-js/internals/array-slice.js"),l=n("./node_modules/core-js/internals/function-bind-native.js"),c=Function,d=o([].concat),u=o([].join),h={};e.exports=l?c.bind:function(e){var t=r(this),n=t.prototype,o=a(arguments,1),l=function(){var n=d(o,a(arguments));return this instanceof l?function(e,t,n){if(!s(h,t)){for(var o=[],r=0;r<t;r++)o[r]="a["+r+"]";h[t]=c("C,a","return new C("+u(o,",")+")")}return h[t](e,n)}(t,n.length,n):t.apply(e,n)};return i(n)&&(l.prototype=n),l}},"./node_modules/core-js/internals/function-call.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-bind-native.js"),r=Function.prototype.call;e.exports=o?r.bind(r):function(){return r.apply(r,arguments)}},"./node_modules/core-js/internals/function-name.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/descriptors.js"),r=n("./node_modules/core-js/internals/has-own-property.js"),i=Function.prototype,s=o&&Object.getOwnPropertyDescriptor,a=r(i,"name"),l=a&&"something"===function(){}.name,c=a&&(!o||o&&s(i,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this.js"),r=n("./node_modules/core-js/internals/a-callable.js");e.exports=function(e,t,n){try{return o(r(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},"./node_modules/core-js/internals/function-uncurry-this-clause.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/classof-raw.js"),r=n("./node_modules/core-js/internals/function-uncurry-this.js");e.exports=function(e){if("Function"===o(e))return r(e)}},"./node_modules/core-js/internals/function-uncurry-this.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-bind-native.js"),r=Function.prototype,i=r.call,s=o&&r.bind.bind(i,i);e.exports=o?s:function(e){return function(){return i.apply(e,arguments)}}},"./node_modules/core-js/internals/get-built-in.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/global.js"),r=n("./node_modules/core-js/internals/is-callable.js");e.exports=function(e,t){return arguments.length<2?(n=o[e],r(n)?n:void 0):o[e]&&o[e][t];var n}},"./node_modules/core-js/internals/get-iterator-method.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/classof.js"),r=n("./node_modules/core-js/internals/get-method.js"),i=n("./node_modules/core-js/internals/is-null-or-undefined.js"),s=n("./node_modules/core-js/internals/iterators.js"),a=n("./node_modules/core-js/internals/well-known-symbol.js")("iterator");e.exports=function(e){if(!i(e))return r(e,a)||r(e,"@@iterator")||s[o(e)]}},"./node_modules/core-js/internals/get-iterator.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-call.js"),r=n("./node_modules/core-js/internals/a-callable.js"),i=n("./node_modules/core-js/internals/an-object.js"),s=n("./node_modules/core-js/internals/try-to-string.js"),a=n("./node_modules/core-js/internals/get-iterator-method.js"),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?a(e):t;if(r(n))return i(o(n,e));throw l(s(e)+" is not iterable")}},"./node_modules/core-js/internals/get-json-replacer-function.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this.js"),r=n("./node_modules/core-js/internals/is-array.js"),i=n("./node_modules/core-js/internals/is-callable.js"),s=n("./node_modules/core-js/internals/classof-raw.js"),a=n("./node_modules/core-js/internals/to-string.js"),l=o([].push);e.exports=function(e){if(i(e))return e;if(r(e)){for(var t=e.length,n=[],o=0;o<t;o++){var c=e[o];"string"==typeof c?l(n,c):"number"!=typeof c&&"Number"!=s(c)&&"String"!=s(c)||l(n,a(c))}var d=n.length,u=!0;return function(e,t){if(u)return u=!1,t;if(r(this))return t;for(var o=0;o<d;o++)if(n[o]===e)return t}}}},"./node_modules/core-js/internals/get-method.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/a-callable.js"),r=n("./node_modules/core-js/internals/is-null-or-undefined.js");e.exports=function(e,t){var n=e[t];return r(n)?void 0:o(n)}},"./node_modules/core-js/internals/get-substitution.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this.js"),r=n("./node_modules/core-js/internals/to-object.js"),i=Math.floor,s=o("".charAt),a=o("".replace),l=o("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,o,u,h){var m=n+e.length,p=o.length,f=d;return void 0!==u&&(u=r(u),f=c),a(h,f,(function(r,a){var c;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,m);case"<":c=u[l(a,1,-1)];break;default:var d=+a;if(0===d)return r;if(d>p){var h=i(d/10);return 0===h?r:h<=p?void 0===o[h-1]?s(a,1):o[h-1]+s(a,1):r}c=o[d-1]}return void 0===c?"":c}))}},"./node_modules/core-js/internals/global.js":(e,t,n)=>{var o=function(e){return e&&e.Math==Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},"./node_modules/core-js/internals/has-own-property.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this.js"),r=n("./node_modules/core-js/internals/to-object.js"),i=o({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(r(e),t)}},"./node_modules/core-js/internals/hidden-keys.js":e=>{e.exports={}},"./node_modules/core-js/internals/host-report-errors.js":e=>{e.exports=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(e){}}},"./node_modules/core-js/internals/html.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/get-built-in.js");e.exports=o("document","documentElement")},"./node_modules/core-js/internals/ie8-dom-define.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/descriptors.js"),r=n("./node_modules/core-js/internals/fails.js"),i=n("./node_modules/core-js/internals/document-create-element.js");e.exports=!o&&!r((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},"./node_modules/core-js/internals/indexed-object.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this.js"),r=n("./node_modules/core-js/internals/fails.js"),i=n("./node_modules/core-js/internals/classof-raw.js"),s=Object,a=o("".split);e.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a(e,""):s(e)}:s},"./node_modules/core-js/internals/inherit-if-required.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/is-callable.js"),r=n("./node_modules/core-js/internals/is-object.js"),i=n("./node_modules/core-js/internals/object-set-prototype-of.js");e.exports=function(e,t,n){var s,a;return i&&o(s=t.constructor)&&s!==n&&r(a=s.prototype)&&a!==n.prototype&&i(e,a),e}},"./node_modules/core-js/internals/inspect-source.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this.js"),r=n("./node_modules/core-js/internals/is-callable.js"),i=n("./node_modules/core-js/internals/shared-store.js"),s=o(Function.toString);r(i.inspectSource)||(i.inspectSource=function(e){return s(e)}),e.exports=i.inspectSource},"./node_modules/core-js/internals/install-error-cause.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/is-object.js"),r=n("./node_modules/core-js/internals/create-non-enumerable-property.js");e.exports=function(e,t){o(t)&&"cause"in t&&r(e,"cause",t.cause)}},"./node_modules/core-js/internals/internal-metadata.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=n("./node_modules/core-js/internals/hidden-keys.js"),s=n("./node_modules/core-js/internals/is-object.js"),a=n("./node_modules/core-js/internals/has-own-property.js"),l=n("./node_modules/core-js/internals/object-define-property.js").f,c=n("./node_modules/core-js/internals/object-get-own-property-names.js"),d=n("./node_modules/core-js/internals/object-get-own-property-names-external.js"),u=n("./node_modules/core-js/internals/object-is-extensible.js"),h=n("./node_modules/core-js/internals/uid.js"),m=n("./node_modules/core-js/internals/freezing.js"),p=!1,f=h("meta"),g=0,v=function(e){l(e,f,{value:{objectID:"O"+g++,weakData:{}}})},b=e.exports={enable:function(){b.enable=function(){},p=!0;var e=c.f,t=r([].splice),n={};n[f]=1,e(n).length&&(c.f=function(n){for(var o=e(n),r=0,i=o.length;r<i;r++)if(o[r]===f){t(o,r,1);break}return o},o({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:d.f}))},fastKey:function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,f)){if(!u(e))return"F";if(!t)return"E";v(e)}return e[f].objectID},getWeakData:function(e,t){if(!a(e,f)){if(!u(e))return!0;if(!t)return!1;v(e)}return e[f].weakData},onFreeze:function(e){return m&&p&&u(e)&&!a(e,f)&&v(e),e}};i[f]=!0},"./node_modules/core-js/internals/internal-state.js":(e,t,n)=>{var o,r,i,s=n("./node_modules/core-js/internals/weak-map-basic-detection.js"),a=n("./node_modules/core-js/internals/global.js"),l=n("./node_modules/core-js/internals/is-object.js"),c=n("./node_modules/core-js/internals/create-non-enumerable-property.js"),d=n("./node_modules/core-js/internals/has-own-property.js"),u=n("./node_modules/core-js/internals/shared-store.js"),h=n("./node_modules/core-js/internals/shared-key.js"),m=n("./node_modules/core-js/internals/hidden-keys.js"),p="Object already initialized",f=a.TypeError,g=a.WeakMap;if(s||u.state){var v=u.state||(u.state=new g);v.get=v.get,v.has=v.has,v.set=v.set,o=function(e,t){if(v.has(e))throw f(p);return t.facade=e,v.set(e,t),t},r=function(e){return v.get(e)||{}},i=function(e){return v.has(e)}}else{var b=h("state");m[b]=!0,o=function(e,t){if(d(e,b))throw f(p);return t.facade=e,c(e,b,t),t},r=function(e){return d(e,b)?e[b]:{}},i=function(e){return d(e,b)}}e.exports={set:o,get:r,has:i,enforce:function(e){return i(e)?r(e):o(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw f("Incompatible receiver, "+e+" required");return n}}}},"./node_modules/core-js/internals/is-array-iterator-method.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/well-known-symbol.js"),r=n("./node_modules/core-js/internals/iterators.js"),i=o("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||s[i]===e)}},"./node_modules/core-js/internals/is-array.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/classof-raw.js");e.exports=Array.isArray||function(e){return"Array"==o(e)}},"./node_modules/core-js/internals/is-callable.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/document-all.js"),r=o.all;e.exports=o.IS_HTMLDDA?function(e){return"function"==typeof e||e===r}:function(e){return"function"==typeof e}},"./node_modules/core-js/internals/is-constructor.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this.js"),r=n("./node_modules/core-js/internals/fails.js"),i=n("./node_modules/core-js/internals/is-callable.js"),s=n("./node_modules/core-js/internals/classof.js"),a=n("./node_modules/core-js/internals/get-built-in.js"),l=n("./node_modules/core-js/internals/inspect-source.js"),c=function(){},d=[],u=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,m=o(h.exec),p=!h.exec(c),f=function(e){if(!i(e))return!1;try{return u(c,d,e),!0}catch(e){return!1}},g=function(e){if(!i(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!m(h,l(e))}catch(e){return!0}};g.sham=!0,e.exports=!u||r((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?g:f},"./node_modules/core-js/internals/is-forced.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/fails.js"),r=n("./node_modules/core-js/internals/is-callable.js"),i=/#|\.prototype\./,s=function(e,t){var n=l[a(e)];return n==d||n!=c&&(r(t)?o(t):!!t)},a=s.normalize=function(e){return String(e).replace(i,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",d=s.POLYFILL="P";e.exports=s},"./node_modules/core-js/internals/is-null-or-undefined.js":e=>{e.exports=function(e){return null==e}},"./node_modules/core-js/internals/is-object.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/is-callable.js"),r=n("./node_modules/core-js/internals/document-all.js"),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:o(e)||e===i}:function(e){return"object"==typeof e?null!==e:o(e)}},"./node_modules/core-js/internals/is-pure.js":e=>{e.exports=!1},"./node_modules/core-js/internals/is-regexp.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/is-object.js"),r=n("./node_modules/core-js/internals/classof-raw.js"),i=n("./node_modules/core-js/internals/well-known-symbol.js")("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==r(e))}},"./node_modules/core-js/internals/is-symbol.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/get-built-in.js"),r=n("./node_modules/core-js/internals/is-callable.js"),i=n("./node_modules/core-js/internals/object-is-prototype-of.js"),s=n("./node_modules/core-js/internals/use-symbol-as-uid.js"),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return r(t)&&i(t.prototype,a(e))}},"./node_modules/core-js/internals/iterate.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-bind-context.js"),r=n("./node_modules/core-js/internals/function-call.js"),i=n("./node_modules/core-js/internals/an-object.js"),s=n("./node_modules/core-js/internals/try-to-string.js"),a=n("./node_modules/core-js/internals/is-array-iterator-method.js"),l=n("./node_modules/core-js/internals/length-of-array-like.js"),c=n("./node_modules/core-js/internals/object-is-prototype-of.js"),d=n("./node_modules/core-js/internals/get-iterator.js"),u=n("./node_modules/core-js/internals/get-iterator-method.js"),h=n("./node_modules/core-js/internals/iterator-close.js"),m=TypeError,p=function(e,t){this.stopped=e,this.result=t},f=p.prototype;e.exports=function(e,t,n){var g,v,b,y,w,x,_,S=n&&n.that,C=!(!n||!n.AS_ENTRIES),j=!(!n||!n.IS_RECORD),k=!(!n||!n.IS_ITERATOR),E=!(!n||!n.INTERRUPTED),O=o(t,S),A=function(e){return g&&h(g,"normal",e),new p(!0,e)},T=function(e){return C?(i(e),E?O(e[0],e[1],A):O(e[0],e[1])):E?O(e,A):O(e)};if(j)g=e.iterator;else if(k)g=e;else{if(!(v=u(e)))throw m(s(e)+" is not iterable");if(a(v)){for(b=0,y=l(e);y>b;b++)if((w=T(e[b]))&&c(f,w))return w;return new p(!1)}g=d(e,v)}for(x=j?e.next:g.next;!(_=r(x,g)).done;){try{w=T(_.value)}catch(e){h(g,"throw",e)}if("object"==typeof w&&w&&c(f,w))return w}return new p(!1)}},"./node_modules/core-js/internals/iterator-close.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-call.js"),r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/get-method.js");e.exports=function(e,t,n){var s,a;r(e);try{if(!(s=i(e,"return"))){if("throw"===t)throw n;return n}s=o(s,e)}catch(e){a=!0,s=e}if("throw"===t)throw n;if(a)throw s;return r(s),n}},"./node_modules/core-js/internals/iterator-create-constructor.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,r=n("./node_modules/core-js/internals/object-create.js"),i=n("./node_modules/core-js/internals/create-property-descriptor.js"),s=n("./node_modules/core-js/internals/set-to-string-tag.js"),a=n("./node_modules/core-js/internals/iterators.js"),l=function(){return this};e.exports=function(e,t,n,c){var d=t+" Iterator";return e.prototype=r(o,{next:i(+!c,n)}),s(e,d,!1,!0),a[d]=l,e}},"./node_modules/core-js/internals/iterator-define.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/function-call.js"),i=n("./node_modules/core-js/internals/is-pure.js"),s=n("./node_modules/core-js/internals/function-name.js"),a=n("./node_modules/core-js/internals/is-callable.js"),l=n("./node_modules/core-js/internals/iterator-create-constructor.js"),c=n("./node_modules/core-js/internals/object-get-prototype-of.js"),d=n("./node_modules/core-js/internals/object-set-prototype-of.js"),u=n("./node_modules/core-js/internals/set-to-string-tag.js"),h=n("./node_modules/core-js/internals/create-non-enumerable-property.js"),m=n("./node_modules/core-js/internals/define-built-in.js"),p=n("./node_modules/core-js/internals/well-known-symbol.js"),f=n("./node_modules/core-js/internals/iterators.js"),g=n("./node_modules/core-js/internals/iterators-core.js"),v=s.PROPER,b=s.CONFIGURABLE,y=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,x=p("iterator"),_="keys",S="values",C="entries",j=function(){return this};e.exports=function(e,t,n,s,p,g,k){l(n,t,s);var E,O,A,T=function(e){if(e===p&&N)return N;if(!w&&e in P)return P[e];switch(e){case _:case S:case C:return function(){return new n(this,e)}}return function(){return new n(this)}},D=t+" Iterator",M=!1,P=e.prototype,R=P[x]||P["@@iterator"]||p&&P[p],N=!w&&R||T(p),L="Array"==t&&P.entries||R;if(L&&(E=c(L.call(new e)))!==Object.prototype&&E.next&&(i||c(E)===y||(d?d(E,y):a(E[x])||m(E,x,j)),u(E,D,!0,!0),i&&(f[D]=j)),v&&p==S&&R&&R.name!==S&&(!i&&b?h(P,"name",S):(M=!0,N=function(){return r(R,this)})),p)if(O={values:T(S),keys:g?N:T(_),entries:T(C)},k)for(A in O)(w||M||!(A in P))&&m(P,A,O[A]);else o({target:t,proto:!0,forced:w||M},O);return i&&!k||P[x]===N||m(P,x,N,{name:p}),f[t]=N,O}},"./node_modules/core-js/internals/iterators-core.js":(e,t,n)=>{"use strict";var o,r,i,s=n("./node_modules/core-js/internals/fails.js"),a=n("./node_modules/core-js/internals/is-callable.js"),l=n("./node_modules/core-js/internals/is-object.js"),c=n("./node_modules/core-js/internals/object-create.js"),d=n("./node_modules/core-js/internals/object-get-prototype-of.js"),u=n("./node_modules/core-js/internals/define-built-in.js"),h=n("./node_modules/core-js/internals/well-known-symbol.js"),m=n("./node_modules/core-js/internals/is-pure.js"),p=h("iterator"),f=!1;[].keys&&("next"in(i=[].keys())?(r=d(d(i)))!==Object.prototype&&(o=r):f=!0),!l(o)||s((function(){var e={};return o[p].call(e)!==e}))?o={}:m&&(o=c(o)),a(o[p])||u(o,p,(function(){return this})),e.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:f}},"./node_modules/core-js/internals/iterators.js":e=>{e.exports={}},"./node_modules/core-js/internals/length-of-array-like.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/to-length.js");e.exports=function(e){return o(e.length)}},"./node_modules/core-js/internals/make-built-in.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this.js"),r=n("./node_modules/core-js/internals/fails.js"),i=n("./node_modules/core-js/internals/is-callable.js"),s=n("./node_modules/core-js/internals/has-own-property.js"),a=n("./node_modules/core-js/internals/descriptors.js"),l=n("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,c=n("./node_modules/core-js/internals/inspect-source.js"),d=n("./node_modules/core-js/internals/internal-state.js"),u=d.enforce,h=d.get,m=String,p=Object.defineProperty,f=o("".slice),g=o("".replace),v=o([].join),b=a&&!r((function(){return 8!==p((function(){}),"length",{value:8}).length})),y=String(String).split("String"),w=e.exports=function(e,t,n){"Symbol("===f(m(t),0,7)&&(t="["+g(m(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||l&&e.name!==t)&&(a?p(e,"name",{value:t,configurable:!0}):e.name=t),b&&n&&s(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var o=u(e);return s(o,"source")||(o.source=v(y,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return i(this)&&h(this).source||c(this)}),"toString")},"./node_modules/core-js/internals/math-trunc.js":e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var o=+e;return(o>0?n:t)(o)}},"./node_modules/core-js/internals/microtask.js":(e,t,n)=>{var o,r,i,s,a,l=n("./node_modules/core-js/internals/global.js"),c=n("./node_modules/core-js/internals/function-bind-context.js"),d=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,u=n("./node_modules/core-js/internals/task.js").set,h=n("./node_modules/core-js/internals/queue.js"),m=n("./node_modules/core-js/internals/engine-is-ios.js"),p=n("./node_modules/core-js/internals/engine-is-ios-pebble.js"),f=n("./node_modules/core-js/internals/engine-is-webos-webkit.js"),g=n("./node_modules/core-js/internals/engine-is-node.js"),v=l.MutationObserver||l.WebKitMutationObserver,b=l.document,y=l.process,w=l.Promise,x=d(l,"queueMicrotask"),_=x&&x.value;if(!_){var S=new h,C=function(){var e,t;for(g&&(e=y.domain)&&e.exit();t=S.get();)try{t()}catch(e){throw S.head&&o(),e}e&&e.enter()};m||g||f||!v||!b?!p&&w&&w.resolve?((s=w.resolve(void 0)).constructor=w,a=c(s.then,s),o=function(){a(C)}):g?o=function(){y.nextTick(C)}:(u=c(u,l),o=function(){u(C)}):(r=!0,i=b.createTextNode(""),new v(C).observe(i,{characterData:!0}),o=function(){i.data=r=!r}),_=function(e){S.head||o(),S.add(e)}}e.exports=_},"./node_modules/core-js/internals/new-promise-capability.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/a-callable.js"),r=TypeError,i=function(e){var t,n;this.promise=new e((function(e,o){if(void 0!==t||void 0!==n)throw r("Bad Promise constructor");t=e,n=o})),this.resolve=o(t),this.reject=o(n)};e.exports.f=function(e){return new i(e)}},"./node_modules/core-js/internals/normalize-string-argument.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/to-string.js");e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:o(e)}},"./node_modules/core-js/internals/not-a-regexp.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/is-regexp.js"),r=TypeError;e.exports=function(e){if(o(e))throw r("The method doesn't accept regular expressions");return e}},"./node_modules/core-js/internals/number-parse-int.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/global.js"),r=n("./node_modules/core-js/internals/fails.js"),i=n("./node_modules/core-js/internals/function-uncurry-this.js"),s=n("./node_modules/core-js/internals/to-string.js"),a=n("./node_modules/core-js/internals/string-trim.js").trim,l=n("./node_modules/core-js/internals/whitespaces.js"),c=o.parseInt,d=o.Symbol,u=d&&d.iterator,h=/^[+-]?0x/i,m=i(h.exec),p=8!==c(l+"08")||22!==c(l+"0x16")||u&&!r((function(){c(Object(u))}));e.exports=p?function(e,t){var n=a(s(e));return c(n,t>>>0||(m(h,n)?16:10))}:c},"./node_modules/core-js/internals/object-assign.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/descriptors.js"),r=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=n("./node_modules/core-js/internals/function-call.js"),s=n("./node_modules/core-js/internals/fails.js"),a=n("./node_modules/core-js/internals/object-keys.js"),l=n("./node_modules/core-js/internals/object-get-own-property-symbols.js"),c=n("./node_modules/core-js/internals/object-property-is-enumerable.js"),d=n("./node_modules/core-js/internals/to-object.js"),u=n("./node_modules/core-js/internals/indexed-object.js"),h=Object.assign,m=Object.defineProperty,p=r([].concat);e.exports=!h||s((function(){if(o&&1!==h({b:1},h(m({},"a",{enumerable:!0,get:function(){m(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=h({},e)[n]||a(h({},t)).join("")!=r}))?function(e,t){for(var n=d(e),r=arguments.length,s=1,h=l.f,m=c.f;r>s;)for(var f,g=u(arguments[s++]),v=h?p(a(g),h(g)):a(g),b=v.length,y=0;b>y;)f=v[y++],o&&!i(m,g,f)||(n[f]=g[f]);return n}:h},"./node_modules/core-js/internals/object-create.js":(e,t,n)=>{var o,r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/object-define-properties.js"),s=n("./node_modules/core-js/internals/enum-bug-keys.js"),a=n("./node_modules/core-js/internals/hidden-keys.js"),l=n("./node_modules/core-js/internals/html.js"),c=n("./node_modules/core-js/internals/document-create-element.js"),d=n("./node_modules/core-js/internals/shared-key.js"),u="prototype",h="script",m=d("IE_PROTO"),p=function(){},f=function(e){return"<"+h+">"+e+"</"+h+">"},g=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{o=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;v="undefined"!=typeof document?document.domain&&o?g(o):(t=c("iframe"),n="java"+h+":",t.style.display="none",l.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):g(o);for(var r=s.length;r--;)delete v[u][s[r]];return v()};a[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p[u]=r(e),n=new p,p[u]=null,n[m]=e):n=v(),void 0===t?n:i.f(n,t)}},"./node_modules/core-js/internals/object-define-properties.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/descriptors.js"),r=n("./node_modules/core-js/internals/v8-prototype-define-bug.js"),i=n("./node_modules/core-js/internals/object-define-property.js"),s=n("./node_modules/core-js/internals/an-object.js"),a=n("./node_modules/core-js/internals/to-indexed-object.js"),l=n("./node_modules/core-js/internals/object-keys.js");t.f=o&&!r?Object.defineProperties:function(e,t){s(e);for(var n,o=a(t),r=l(t),c=r.length,d=0;c>d;)i.f(e,n=r[d++],o[n]);return e}},"./node_modules/core-js/internals/object-define-property.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/descriptors.js"),r=n("./node_modules/core-js/internals/ie8-dom-define.js"),i=n("./node_modules/core-js/internals/v8-prototype-define-bug.js"),s=n("./node_modules/core-js/internals/an-object.js"),a=n("./node_modules/core-js/internals/to-property-key.js"),l=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,u="enumerable",h="configurable",m="writable";t.f=o?i?function(e,t,n){if(s(e),t=a(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&m in n&&!n[m]){var o=d(e,t);o&&o[m]&&(e[t]=n.value,n={configurable:h in n?n[h]:o[h],enumerable:u in n?n[u]:o[u],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(s(e),t=a(t),s(n),r)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/descriptors.js"),r=n("./node_modules/core-js/internals/function-call.js"),i=n("./node_modules/core-js/internals/object-property-is-enumerable.js"),s=n("./node_modules/core-js/internals/create-property-descriptor.js"),a=n("./node_modules/core-js/internals/to-indexed-object.js"),l=n("./node_modules/core-js/internals/to-property-key.js"),c=n("./node_modules/core-js/internals/has-own-property.js"),d=n("./node_modules/core-js/internals/ie8-dom-define.js"),u=Object.getOwnPropertyDescriptor;t.f=o?u:function(e,t){if(e=a(e),t=l(t),d)try{return u(e,t)}catch(e){}if(c(e,t))return s(!r(i.f,e,t),e[t])}},"./node_modules/core-js/internals/object-get-own-property-names-external.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/classof-raw.js"),r=n("./node_modules/core-js/internals/to-indexed-object.js"),i=n("./node_modules/core-js/internals/object-get-own-property-names.js").f,s=n("./node_modules/core-js/internals/array-slice-simple.js"),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"Window"==o(e)?function(e){try{return i(e)}catch(e){return s(a)}}(e):i(r(e))}},"./node_modules/core-js/internals/object-get-own-property-names.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/object-keys-internal.js"),r=n("./node_modules/core-js/internals/enum-bug-keys.js").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,r)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":(e,t)=>{t.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/has-own-property.js"),r=n("./node_modules/core-js/internals/is-callable.js"),i=n("./node_modules/core-js/internals/to-object.js"),s=n("./node_modules/core-js/internals/shared-key.js"),a=n("./node_modules/core-js/internals/correct-prototype-getter.js"),l=s("IE_PROTO"),c=Object,d=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=i(e);if(o(t,l))return t[l];var n=t.constructor;return r(n)&&t instanceof n?n.prototype:t instanceof c?d:null}},"./node_modules/core-js/internals/object-is-extensible.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/fails.js"),r=n("./node_modules/core-js/internals/is-object.js"),i=n("./node_modules/core-js/internals/classof-raw.js"),s=n("./node_modules/core-js/internals/array-buffer-non-extensible.js"),a=Object.isExtensible,l=o((function(){a(1)}));e.exports=l||s?function(e){return!!r(e)&&((!s||"ArrayBuffer"!=i(e))&&(!a||a(e)))}:a},"./node_modules/core-js/internals/object-is-prototype-of.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this.js");e.exports=o({}.isPrototypeOf)},"./node_modules/core-js/internals/object-keys-internal.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this.js"),r=n("./node_modules/core-js/internals/has-own-property.js"),i=n("./node_modules/core-js/internals/to-indexed-object.js"),s=n("./node_modules/core-js/internals/array-includes.js").indexOf,a=n("./node_modules/core-js/internals/hidden-keys.js"),l=o([].push);e.exports=function(e,t){var n,o=i(e),c=0,d=[];for(n in o)!r(a,n)&&r(o,n)&&l(d,n);for(;t.length>c;)r(o,n=t[c++])&&(~s(d,n)||l(d,n));return d}},"./node_modules/core-js/internals/object-keys.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/object-keys-internal.js"),r=n("./node_modules/core-js/internals/enum-bug-keys.js");e.exports=Object.keys||function(e){return o(e,r)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":(e,t)=>{"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!n.call({1:2},1);t.f=r?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},"./node_modules/core-js/internals/object-set-prototype-of.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/a-possible-prototype.js");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=o(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,o){return r(n),i(o),t?e(n,o):n.__proto__=o,n}}():void 0)},"./node_modules/core-js/internals/object-to-array.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/descriptors.js"),r=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=n("./node_modules/core-js/internals/object-keys.js"),s=n("./node_modules/core-js/internals/to-indexed-object.js"),a=r(n("./node_modules/core-js/internals/object-property-is-enumerable.js").f),l=r([].push),c=function(e){return function(t){for(var n,r=s(t),c=i(r),d=c.length,u=0,h=[];d>u;)n=c[u++],o&&!a(r,n)||l(h,e?[n,r[n]]:r[n]);return h}};e.exports={entries:c(!0),values:c(!1)}},"./node_modules/core-js/internals/object-to-string.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/to-string-tag-support.js"),r=n("./node_modules/core-js/internals/classof.js");e.exports=o?{}.toString:function(){return"[object "+r(this)+"]"}},"./node_modules/core-js/internals/ordinary-to-primitive.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-call.js"),r=n("./node_modules/core-js/internals/is-callable.js"),i=n("./node_modules/core-js/internals/is-object.js"),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&r(n=e.toString)&&!i(a=o(n,e)))return a;if(r(n=e.valueOf)&&!i(a=o(n,e)))return a;if("string"!==t&&r(n=e.toString)&&!i(a=o(n,e)))return a;throw s("Can't convert object to primitive value")}},"./node_modules/core-js/internals/own-keys.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/get-built-in.js"),r=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=n("./node_modules/core-js/internals/object-get-own-property-names.js"),s=n("./node_modules/core-js/internals/object-get-own-property-symbols.js"),a=n("./node_modules/core-js/internals/an-object.js"),l=r([].concat);e.exports=o("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=s.f;return n?l(t,n(e)):t}},"./node_modules/core-js/internals/path.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/global.js");e.exports=o},"./node_modules/core-js/internals/perform.js":e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},"./node_modules/core-js/internals/promise-constructor-detection.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/global.js"),r=n("./node_modules/core-js/internals/promise-native-constructor.js"),i=n("./node_modules/core-js/internals/is-callable.js"),s=n("./node_modules/core-js/internals/is-forced.js"),a=n("./node_modules/core-js/internals/inspect-source.js"),l=n("./node_modules/core-js/internals/well-known-symbol.js"),c=n("./node_modules/core-js/internals/engine-is-browser.js"),d=n("./node_modules/core-js/internals/engine-is-deno.js"),u=n("./node_modules/core-js/internals/is-pure.js"),h=n("./node_modules/core-js/internals/engine-v8-version.js"),m=r&&r.prototype,p=l("species"),f=!1,g=i(o.PromiseRejectionEvent),v=s("Promise",(function(){var e=a(r),t=e!==String(r);if(!t&&66===h)return!0;if(u&&(!m.catch||!m.finally))return!0;if(!h||h<51||!/native code/.test(e)){var n=new r((function(e){e(1)})),o=function(e){e((function(){}),(function(){}))};if((n.constructor={})[p]=o,!(f=n.then((function(){}))instanceof o))return!0}return!t&&(c||d)&&!g}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:g,SUBCLASSING:f}},"./node_modules/core-js/internals/promise-native-constructor.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/global.js");e.exports=o.Promise},"./node_modules/core-js/internals/promise-resolve.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/an-object.js"),r=n("./node_modules/core-js/internals/is-object.js"),i=n("./node_modules/core-js/internals/new-promise-capability.js");e.exports=function(e,t){if(o(e),r(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/promise-native-constructor.js"),r=n("./node_modules/core-js/internals/check-correctness-of-iteration.js"),i=n("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;e.exports=i||!r((function(e){o.all(e).then(void 0,(function(){}))}))},"./node_modules/core-js/internals/proxy-accessor.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/object-define-property.js").f;e.exports=function(e,t,n){n in e||o(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},"./node_modules/core-js/internals/queue.js":e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},"./node_modules/core-js/internals/regexp-exec-abstract.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-call.js"),r=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/is-callable.js"),s=n("./node_modules/core-js/internals/classof-raw.js"),a=n("./node_modules/core-js/internals/regexp-exec.js"),l=TypeError;e.exports=function(e,t){var n=e.exec;if(i(n)){var c=o(n,e,t);return null!==c&&r(c),c}if("RegExp"===s(e))return o(a,e,t);throw l("RegExp#exec called on incompatible receiver")}},"./node_modules/core-js/internals/regexp-exec.js":(e,t,n)=>{"use strict";var o,r,i=n("./node_modules/core-js/internals/function-call.js"),s=n("./node_modules/core-js/internals/function-uncurry-this.js"),a=n("./node_modules/core-js/internals/to-string.js"),l=n("./node_modules/core-js/internals/regexp-flags.js"),c=n("./node_modules/core-js/internals/regexp-sticky-helpers.js"),d=n("./node_modules/core-js/internals/shared.js"),u=n("./node_modules/core-js/internals/object-create.js"),h=n("./node_modules/core-js/internals/internal-state.js").get,m=n("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),p=n("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),f=d("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,v=g,b=s("".charAt),y=s("".indexOf),w=s("".replace),x=s("".slice),_=(r=/b*/g,i(g,o=/a/,"a"),i(g,r,"a"),0!==o.lastIndex||0!==r.lastIndex),S=c.BROKEN_CARET,C=void 0!==/()??/.exec("")[1];(_||C||S||m||p)&&(v=function(e){var t,n,o,r,s,c,d,m=this,p=h(m),j=a(e),k=p.raw;if(k)return k.lastIndex=m.lastIndex,t=i(v,k,j),m.lastIndex=k.lastIndex,t;var E=p.groups,O=S&&m.sticky,A=i(l,m),T=m.source,D=0,M=j;if(O&&(A=w(A,"y",""),-1===y(A,"g")&&(A+="g"),M=x(j,m.lastIndex),m.lastIndex>0&&(!m.multiline||m.multiline&&"\n"!==b(j,m.lastIndex-1))&&(T="(?: "+T+")",M=" "+M,D++),n=new RegExp("^(?:"+T+")",A)),C&&(n=new RegExp("^"+T+"$(?!\\s)",A)),_&&(o=m.lastIndex),r=i(g,O?n:m,M),O?r?(r.input=x(r.input,D),r[0]=x(r[0],D),r.index=m.lastIndex,m.lastIndex+=r[0].length):m.lastIndex=0:_&&r&&(m.lastIndex=m.global?r.index+r[0].length:o),C&&r&&r.length>1&&i(f,r[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(r[s]=void 0)})),r&&E)for(r.groups=c=u(null),s=0;s<E.length;s++)c[(d=E[s])[0]]=r[d[1]];return r}),e.exports=v},"./node_modules/core-js/internals/regexp-flags.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/an-object.js");e.exports=function(){var e=o(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},"./node_modules/core-js/internals/regexp-get-flags.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-call.js"),r=n("./node_modules/core-js/internals/has-own-property.js"),i=n("./node_modules/core-js/internals/object-is-prototype-of.js"),s=n("./node_modules/core-js/internals/regexp-flags.js"),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||r(e,"flags")||!i(a,e)?t:o(s,e)}},"./node_modules/core-js/internals/regexp-sticky-helpers.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/fails.js"),r=n("./node_modules/core-js/internals/global.js").RegExp,i=o((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),s=i||o((function(){return!r("a","y").sticky})),a=i||o((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:i}},"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/fails.js"),r=n("./node_modules/core-js/internals/global.js").RegExp;e.exports=o((function(){var e=r(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/fails.js"),r=n("./node_modules/core-js/internals/global.js").RegExp;e.exports=o((function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"./node_modules/core-js/internals/require-object-coercible.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/is-null-or-undefined.js"),r=TypeError;e.exports=function(e){if(o(e))throw r("Can't call method on "+e);return e}},"./node_modules/core-js/internals/same-value.js":e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},"./node_modules/core-js/internals/schedulers-fix.js":(e,t,n)=>{"use strict";var o,r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/function-apply.js"),s=n("./node_modules/core-js/internals/is-callable.js"),a=n("./node_modules/core-js/internals/engine-is-bun.js"),l=n("./node_modules/core-js/internals/engine-user-agent.js"),c=n("./node_modules/core-js/internals/array-slice.js"),d=n("./node_modules/core-js/internals/validate-arguments-length.js"),u=r.Function,h=/MSIE .\./.test(l)||a&&((o=r.Bun.version.split(".")).length<3||0==o[0]&&(o[1]<3||3==o[1]&&0==o[2]));e.exports=function(e,t){var n=t?2:1;return h?function(o,r){var a=d(arguments.length,1)>n,l=s(o)?o:u(o),h=a?c(arguments,n):[],m=a?function(){i(l,this,h)}:l;return t?e(m,r):e(m)}:e}},"./node_modules/core-js/internals/set-species.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/get-built-in.js"),r=n("./node_modules/core-js/internals/define-built-in-accessor.js"),i=n("./node_modules/core-js/internals/well-known-symbol.js"),s=n("./node_modules/core-js/internals/descriptors.js"),a=i("species");e.exports=function(e){var t=o(e);s&&t&&!t[a]&&r(t,a,{configurable:!0,get:function(){return this}})}},"./node_modules/core-js/internals/set-to-string-tag.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/object-define-property.js").f,r=n("./node_modules/core-js/internals/has-own-property.js"),i=n("./node_modules/core-js/internals/well-known-symbol.js")("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!r(e,i)&&o(e,i,{configurable:!0,value:t})}},"./node_modules/core-js/internals/shared-key.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/shared.js"),r=n("./node_modules/core-js/internals/uid.js"),i=o("keys");e.exports=function(e){return i[e]||(i[e]=r(e))}},"./node_modules/core-js/internals/shared-store.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/global.js"),r=n("./node_modules/core-js/internals/define-global-property.js"),i="__core-js_shared__",s=o[i]||r(i,{});e.exports=s},"./node_modules/core-js/internals/shared.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/is-pure.js"),r=n("./node_modules/core-js/internals/shared-store.js");(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.30.1",mode:o?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.1/LICENSE",source:"https://github.com/zloirock/core-js"})},"./node_modules/core-js/internals/species-constructor.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/an-object.js"),r=n("./node_modules/core-js/internals/a-constructor.js"),i=n("./node_modules/core-js/internals/is-null-or-undefined.js"),s=n("./node_modules/core-js/internals/well-known-symbol.js")("species");e.exports=function(e,t){var n,a=o(e).constructor;return void 0===a||i(n=o(a)[s])?t:r(n)}},"./node_modules/core-js/internals/string-multibyte.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this.js"),r=n("./node_modules/core-js/internals/to-integer-or-infinity.js"),i=n("./node_modules/core-js/internals/to-string.js"),s=n("./node_modules/core-js/internals/require-object-coercible.js"),a=o("".charAt),l=o("".charCodeAt),c=o("".slice),d=function(e){return function(t,n){var o,d,u=i(s(t)),h=r(n),m=u.length;return h<0||h>=m?e?"":void 0:(o=l(u,h))<55296||o>56319||h+1===m||(d=l(u,h+1))<56320||d>57343?e?a(u,h):o:e?c(u,h,h+2):d-56320+(o-55296<<10)+65536}};e.exports={codeAt:d(!1),charAt:d(!0)}},"./node_modules/core-js/internals/string-punycode-to-ascii.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this.js"),r=2147483647,i=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",l=RangeError,c=o(s.exec),d=Math.floor,u=String.fromCharCode,h=o("".charCodeAt),m=o([].join),p=o([].push),f=o("".replace),g=o("".split),v=o("".toLowerCase),b=function(e){return e+22+75*(e<26)},y=function(e,t,n){var o=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;)e=d(e/35),o+=36;return d(o+36*e/(e+38))},w=function(e){var t=[];e=function(e){for(var t=[],n=0,o=e.length;n<o;){var r=h(e,n++);if(r>=55296&&r<=56319&&n<o){var i=h(e,n++);56320==(64512&i)?p(t,((1023&r)<<10)+(1023&i)+65536):(p(t,r),n--)}else p(t,r)}return t}(e);var n,o,i=e.length,s=128,c=0,f=72;for(n=0;n<e.length;n++)(o=e[n])<128&&p(t,u(o));var g=t.length,v=g;for(g&&p(t,"-");v<i;){var w=r;for(n=0;n<e.length;n++)(o=e[n])>=s&&o<w&&(w=o);var x=v+1;if(w-s>d((r-c)/x))throw l(a);for(c+=(w-s)*x,s=w,n=0;n<e.length;n++){if((o=e[n])<s&&++c>r)throw l(a);if(o==s){for(var _=c,S=36;;){var C=S<=f?1:S>=f+26?26:S-f;if(_<C)break;var j=_-C,k=36-C;p(t,u(b(C+j%k))),_=d(j/k),S+=36}p(t,u(b(_))),f=y(c,x,v==g),c=0,v++}}c++,s++}return m(t,"")};e.exports=function(e){var t,n,o=[],r=g(f(v(e),s,"."),".");for(t=0;t<r.length;t++)n=r[t],p(o,c(i,n)?"xn--"+w(n):n);return m(o,".")}},"./node_modules/core-js/internals/string-trim-forced.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-name.js").PROPER,r=n("./node_modules/core-js/internals/fails.js"),i=n("./node_modules/core-js/internals/whitespaces.js");e.exports=function(e){return r((function(){return!!i[e]()||""!==""[e]()||o&&i[e].name!==e}))}},"./node_modules/core-js/internals/string-trim.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this.js"),r=n("./node_modules/core-js/internals/require-object-coercible.js"),i=n("./node_modules/core-js/internals/to-string.js"),s=n("./node_modules/core-js/internals/whitespaces.js"),a=o("".replace),l=RegExp("^["+s+"]+"),c=RegExp("(^|[^"+s+"])["+s+"]+$"),d=function(e){return function(t){var n=i(r(t));return 1&e&&(n=a(n,l,"")),2&e&&(n=a(n,c,"$1")),n}};e.exports={start:d(1),end:d(2),trim:d(3)}},"./node_modules/core-js/internals/symbol-constructor-detection.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/engine-v8-version.js"),r=n("./node_modules/core-js/internals/fails.js");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},"./node_modules/core-js/internals/symbol-define-to-primitive.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-call.js"),r=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/well-known-symbol.js"),s=n("./node_modules/core-js/internals/define-built-in.js");e.exports=function(){var e=r("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,a=i("toPrimitive");t&&!t[a]&&s(t,a,(function(e){return o(n,this)}),{arity:1})}},"./node_modules/core-js/internals/symbol-registry-detection.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/symbol-constructor-detection.js");e.exports=o&&!!Symbol.for&&!!Symbol.keyFor},"./node_modules/core-js/internals/task.js":(e,t,n)=>{var o,r,i,s,a=n("./node_modules/core-js/internals/global.js"),l=n("./node_modules/core-js/internals/function-apply.js"),c=n("./node_modules/core-js/internals/function-bind-context.js"),d=n("./node_modules/core-js/internals/is-callable.js"),u=n("./node_modules/core-js/internals/has-own-property.js"),h=n("./node_modules/core-js/internals/fails.js"),m=n("./node_modules/core-js/internals/html.js"),p=n("./node_modules/core-js/internals/array-slice.js"),f=n("./node_modules/core-js/internals/document-create-element.js"),g=n("./node_modules/core-js/internals/validate-arguments-length.js"),v=n("./node_modules/core-js/internals/engine-is-ios.js"),b=n("./node_modules/core-js/internals/engine-is-node.js"),y=a.setImmediate,w=a.clearImmediate,x=a.process,_=a.Dispatch,S=a.Function,C=a.MessageChannel,j=a.String,k=0,E={},O="onreadystatechange";h((function(){o=a.location}));var A=function(e){if(u(E,e)){var t=E[e];delete E[e],t()}},T=function(e){return function(){A(e)}},D=function(e){A(e.data)},M=function(e){a.postMessage(j(e),o.protocol+"//"+o.host)};y&&w||(y=function(e){g(arguments.length,1);var t=d(e)?e:S(e),n=p(arguments,1);return E[++k]=function(){l(t,void 0,n)},r(k),k},w=function(e){delete E[e]},b?r=function(e){x.nextTick(T(e))}:_&&_.now?r=function(e){_.now(T(e))}:C&&!v?(s=(i=new C).port2,i.port1.onmessage=D,r=c(s.postMessage,s)):a.addEventListener&&d(a.postMessage)&&!a.importScripts&&o&&"file:"!==o.protocol&&!h(M)?(r=M,a.addEventListener("message",D,!1)):r=O in f("script")?function(e){m.appendChild(f("script"))[O]=function(){m.removeChild(this),A(e)}}:function(e){setTimeout(T(e),0)}),e.exports={set:y,clear:w}},"./node_modules/core-js/internals/this-number-value.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this.js");e.exports=o(1..valueOf)},"./node_modules/core-js/internals/to-absolute-index.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/to-integer-or-infinity.js"),r=Math.max,i=Math.min;e.exports=function(e,t){var n=o(e);return n<0?r(n+t,0):i(n,t)}},"./node_modules/core-js/internals/to-indexed-object.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/indexed-object.js"),r=n("./node_modules/core-js/internals/require-object-coercible.js");e.exports=function(e){return o(r(e))}},"./node_modules/core-js/internals/to-integer-or-infinity.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/math-trunc.js");e.exports=function(e){var t=+e;return t!=t||0===t?0:o(t)}},"./node_modules/core-js/internals/to-length.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/to-integer-or-infinity.js"),r=Math.min;e.exports=function(e){return e>0?r(o(e),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/require-object-coercible.js"),r=Object;e.exports=function(e){return r(o(e))}},"./node_modules/core-js/internals/to-primitive.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-call.js"),r=n("./node_modules/core-js/internals/is-object.js"),i=n("./node_modules/core-js/internals/is-symbol.js"),s=n("./node_modules/core-js/internals/get-method.js"),a=n("./node_modules/core-js/internals/ordinary-to-primitive.js"),l=n("./node_modules/core-js/internals/well-known-symbol.js"),c=TypeError,d=l("toPrimitive");e.exports=function(e,t){if(!r(e)||i(e))return e;var n,l=s(e,d);if(l){if(void 0===t&&(t="default"),n=o(l,e,t),!r(n)||i(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},"./node_modules/core-js/internals/to-property-key.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/to-primitive.js"),r=n("./node_modules/core-js/internals/is-symbol.js");e.exports=function(e){var t=o(e,"string");return r(t)?t:t+""}},"./node_modules/core-js/internals/to-string-tag-support.js":(e,t,n)=>{var o={};o[n("./node_modules/core-js/internals/well-known-symbol.js")("toStringTag")]="z",e.exports="[object z]"===String(o)},"./node_modules/core-js/internals/to-string.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/classof.js"),r=String;e.exports=function(e){if("Symbol"===o(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},"./node_modules/core-js/internals/try-to-string.js":e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},"./node_modules/core-js/internals/uid.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this.js"),r=0,i=Math.random(),s=o(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++r+i,36)}},"./node_modules/core-js/internals/url-constructor-detection.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/fails.js"),r=n("./node_modules/core-js/internals/well-known-symbol.js"),i=n("./node_modules/core-js/internals/descriptors.js"),s=n("./node_modules/core-js/internals/is-pure.js"),a=r("iterator");e.exports=!o((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,o){t.delete("b"),n+=o+e})),s&&!e.toJSON||!t.size&&(s||!i)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},"./node_modules/core-js/internals/use-symbol-as-uid.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/symbol-constructor-detection.js");e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},"./node_modules/core-js/internals/v8-prototype-define-bug.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/descriptors.js"),r=n("./node_modules/core-js/internals/fails.js");e.exports=o&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},"./node_modules/core-js/internals/validate-arguments-length.js":e=>{var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},"./node_modules/core-js/internals/weak-map-basic-detection.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/global.js"),r=n("./node_modules/core-js/internals/is-callable.js"),i=o.WeakMap;e.exports=r(i)&&/native code/.test(String(i))},"./node_modules/core-js/internals/well-known-symbol-define.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/path.js"),r=n("./node_modules/core-js/internals/has-own-property.js"),i=n("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),s=n("./node_modules/core-js/internals/object-define-property.js").f;e.exports=function(e){var t=o.Symbol||(o.Symbol={});r(t,e)||s(t,e,{value:i.f(e)})}},"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/well-known-symbol.js");t.f=o},"./node_modules/core-js/internals/well-known-symbol.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/global.js"),r=n("./node_modules/core-js/internals/shared.js"),i=n("./node_modules/core-js/internals/has-own-property.js"),s=n("./node_modules/core-js/internals/uid.js"),a=n("./node_modules/core-js/internals/symbol-constructor-detection.js"),l=n("./node_modules/core-js/internals/use-symbol-as-uid.js"),c=o.Symbol,d=r("wks"),u=l?c.for||c:c&&c.withoutSetter||s;e.exports=function(e){return i(d,e)||(d[e]=a&&i(c,e)?c[e]:u("Symbol."+e)),d[e]}},"./node_modules/core-js/internals/whitespaces.js":e=>{e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},"./node_modules/core-js/internals/wrap-error-constructor-with-cause.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/get-built-in.js"),r=n("./node_modules/core-js/internals/has-own-property.js"),i=n("./node_modules/core-js/internals/create-non-enumerable-property.js"),s=n("./node_modules/core-js/internals/object-is-prototype-of.js"),a=n("./node_modules/core-js/internals/object-set-prototype-of.js"),l=n("./node_modules/core-js/internals/copy-constructor-properties.js"),c=n("./node_modules/core-js/internals/proxy-accessor.js"),d=n("./node_modules/core-js/internals/inherit-if-required.js"),u=n("./node_modules/core-js/internals/normalize-string-argument.js"),h=n("./node_modules/core-js/internals/install-error-cause.js"),m=n("./node_modules/core-js/internals/error-stack-install.js"),p=n("./node_modules/core-js/internals/descriptors.js"),f=n("./node_modules/core-js/internals/is-pure.js");e.exports=function(e,t,n,g){var v="stackTraceLimit",b=g?2:1,y=e.split("."),w=y[y.length-1],x=o.apply(null,y);if(x){var _=x.prototype;if(!f&&r(_,"cause")&&delete _.cause,!n)return x;var S=o("Error"),C=t((function(e,t){var n=u(g?t:e,void 0),o=g?new x(e):new x;return void 0!==n&&i(o,"message",n),m(o,C,o.stack,2),this&&s(_,this)&&d(o,this,C),arguments.length>b&&h(o,arguments[b]),o}));if(C.prototype=_,"Error"!==w?a?a(C,S):l(C,S,{name:!0}):p&&v in x&&(c(C,x,v),c(C,x,"prepareStackTrace")),l(C,x),!f)try{_.name!==w&&i(_,"name",w),_.constructor=C}catch(e){}return C}}},"./node_modules/core-js/modules/es.array.concat.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/fails.js"),i=n("./node_modules/core-js/internals/is-array.js"),s=n("./node_modules/core-js/internals/is-object.js"),a=n("./node_modules/core-js/internals/to-object.js"),l=n("./node_modules/core-js/internals/length-of-array-like.js"),c=n("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),d=n("./node_modules/core-js/internals/create-property.js"),u=n("./node_modules/core-js/internals/array-species-create.js"),h=n("./node_modules/core-js/internals/array-method-has-species-support.js"),m=n("./node_modules/core-js/internals/well-known-symbol.js"),p=n("./node_modules/core-js/internals/engine-v8-version.js"),f=m("isConcatSpreadable"),g=p>=51||!r((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),v=function(e){if(!s(e))return!1;var t=e[f];return void 0!==t?!!t:i(e)};o({target:"Array",proto:!0,arity:1,forced:!g||!h("concat")},{concat:function(e){var t,n,o,r,i,s=a(this),h=u(s,0),m=0;for(t=-1,o=arguments.length;t<o;t++)if(v(i=-1===t?s:arguments[t]))for(r=l(i),c(m+r),n=0;n<r;n++,m++)n in i&&d(h,m,i[n]);else c(m+1),d(h,m++,i);return h.length=m,h}})},"./node_modules/core-js/modules/es.array.filter.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/array-iteration.js").filter;o({target:"Array",proto:!0,forced:!n("./node_modules/core-js/internals/array-method-has-species-support.js")("filter")},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.for-each.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/array-for-each.js");o({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"./node_modules/core-js/modules/es.array.from.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/array-from.js");o({target:"Array",stat:!0,forced:!n("./node_modules/core-js/internals/check-correctness-of-iteration.js")((function(e){Array.from(e)}))},{from:r})},"./node_modules/core-js/modules/es.array.includes.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/array-includes.js").includes,i=n("./node_modules/core-js/internals/fails.js"),s=n("./node_modules/core-js/internals/add-to-unscopables.js");o({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},"./node_modules/core-js/modules/es.array.index-of.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/function-uncurry-this-clause.js"),i=n("./node_modules/core-js/internals/array-includes.js").indexOf,s=n("./node_modules/core-js/internals/array-method-is-strict.js"),a=r([].indexOf),l=!!a&&1/a([1],1,-0)<0;o({target:"Array",proto:!0,forced:l||!s("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return l?a(this,e,t)||0:i(this,e,t)}})},"./node_modules/core-js/modules/es.array.is-array.js":(e,t,n)=>{n("./node_modules/core-js/internals/export.js")({target:"Array",stat:!0},{isArray:n("./node_modules/core-js/internals/is-array.js")})},"./node_modules/core-js/modules/es.array.iterator.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/to-indexed-object.js"),r=n("./node_modules/core-js/internals/add-to-unscopables.js"),i=n("./node_modules/core-js/internals/iterators.js"),s=n("./node_modules/core-js/internals/internal-state.js"),a=n("./node_modules/core-js/internals/object-define-property.js").f,l=n("./node_modules/core-js/internals/iterator-define.js"),c=n("./node_modules/core-js/internals/create-iter-result-object.js"),d=n("./node_modules/core-js/internals/is-pure.js"),u=n("./node_modules/core-js/internals/descriptors.js"),h="Array Iterator",m=s.set,p=s.getterFor(h);e.exports=l(Array,"Array",(function(e,t){m(this,{type:h,target:o(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,o=e.index++;return!t||o>=t.length?(e.target=void 0,c(void 0,!0)):c("keys"==n?o:"values"==n?t[o]:[o,t[o]],!1)}),"values");var f=i.Arguments=i.Array;if(r("keys"),r("values"),r("entries"),!d&&u&&"values"!==f.name)try{a(f,"name",{value:"values"})}catch(e){}},"./node_modules/core-js/modules/es.array.map.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/array-iteration.js").map;o({target:"Array",proto:!0,forced:!n("./node_modules/core-js/internals/array-method-has-species-support.js")("map")},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.slice.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/is-array.js"),i=n("./node_modules/core-js/internals/is-constructor.js"),s=n("./node_modules/core-js/internals/is-object.js"),a=n("./node_modules/core-js/internals/to-absolute-index.js"),l=n("./node_modules/core-js/internals/length-of-array-like.js"),c=n("./node_modules/core-js/internals/to-indexed-object.js"),d=n("./node_modules/core-js/internals/create-property.js"),u=n("./node_modules/core-js/internals/well-known-symbol.js"),h=n("./node_modules/core-js/internals/array-method-has-species-support.js"),m=n("./node_modules/core-js/internals/array-slice.js"),p=h("slice"),f=u("species"),g=Array,v=Math.max;o({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var n,o,u,h=c(this),p=l(h),b=a(e,p),y=a(void 0===t?p:t,p);if(r(h)&&(n=h.constructor,(i(n)&&(n===g||r(n.prototype))||s(n)&&null===(n=n[f]))&&(n=void 0),n===g||void 0===n))return m(h,b,y);for(o=new(void 0===n?g:n)(v(y-b,0)),u=0;b<y;b++,u++)b in h&&d(o,u,h[b]);return o.length=u,o}})},"./node_modules/core-js/modules/es.array.some.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/array-iteration.js").some;o({target:"Array",proto:!0,forced:!n("./node_modules/core-js/internals/array-method-is-strict.js")("some")},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.date.to-primitive.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/has-own-property.js"),r=n("./node_modules/core-js/internals/define-built-in.js"),i=n("./node_modules/core-js/internals/date-to-primitive.js"),s=n("./node_modules/core-js/internals/well-known-symbol.js")("toPrimitive"),a=Date.prototype;o(a,s)||r(a,s,i)},"./node_modules/core-js/modules/es.date.to-string.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/function-uncurry-this.js"),r=n("./node_modules/core-js/internals/define-built-in.js"),i=Date.prototype,s="Invalid Date",a="toString",l=o(i[a]),c=o(i.getTime);String(new Date(NaN))!=s&&r(i,a,(function(){var e=c(this);return e==e?l(this):s}))},"./node_modules/core-js/modules/es.error.cause.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/function-apply.js"),s=n("./node_modules/core-js/internals/wrap-error-constructor-with-cause.js"),a="WebAssembly",l=r[a],c=7!==Error("e",{cause:7}).cause,d=function(e,t){var n={};n[e]=s(e,t,c),o({global:!0,constructor:!0,arity:1,forced:c},n)},u=function(e,t){if(l&&l[e]){var n={};n[e]=s(a+"."+e,t,c),o({target:a,stat:!0,constructor:!0,arity:1,forced:c},n)}};d("Error",(function(e){return function(t){return i(e,this,arguments)}})),d("EvalError",(function(e){return function(t){return i(e,this,arguments)}})),d("RangeError",(function(e){return function(t){return i(e,this,arguments)}})),d("ReferenceError",(function(e){return function(t){return i(e,this,arguments)}})),d("SyntaxError",(function(e){return function(t){return i(e,this,arguments)}})),d("TypeError",(function(e){return function(t){return i(e,this,arguments)}})),d("URIError",(function(e){return function(t){return i(e,this,arguments)}})),u("CompileError",(function(e){return function(t){return i(e,this,arguments)}})),u("LinkError",(function(e){return function(t){return i(e,this,arguments)}})),u("RuntimeError",(function(e){return function(t){return i(e,this,arguments)}}))},"./node_modules/core-js/modules/es.error.to-string.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/define-built-in.js"),r=n("./node_modules/core-js/internals/error-to-string.js"),i=Error.prototype;i.toString!==r&&o(i,"toString",r)},"./node_modules/core-js/modules/es.function.bind.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/function-bind.js");o({target:"Function",proto:!0,forced:Function.bind!==r},{bind:r})},"./node_modules/core-js/modules/es.function.name.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/descriptors.js"),r=n("./node_modules/core-js/internals/function-name.js").EXISTS,i=n("./node_modules/core-js/internals/function-uncurry-this.js"),s=n("./node_modules/core-js/internals/define-built-in-accessor.js"),a=Function.prototype,l=i(a.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=i(c.exec);o&&!r&&s(a,"name",{configurable:!0,get:function(){try{return d(c,l(this))[1]}catch(e){return""}}})},"./node_modules/core-js/modules/es.global-this.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/global.js");o({global:!0,forced:r.globalThis!==r},{globalThis:r})},"./node_modules/core-js/modules/es.json.stringify.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/function-apply.js"),s=n("./node_modules/core-js/internals/function-call.js"),a=n("./node_modules/core-js/internals/function-uncurry-this.js"),l=n("./node_modules/core-js/internals/fails.js"),c=n("./node_modules/core-js/internals/is-callable.js"),d=n("./node_modules/core-js/internals/is-symbol.js"),u=n("./node_modules/core-js/internals/array-slice.js"),h=n("./node_modules/core-js/internals/get-json-replacer-function.js"),m=n("./node_modules/core-js/internals/symbol-constructor-detection.js"),p=String,f=r("JSON","stringify"),g=a(/./.exec),v=a("".charAt),b=a("".charCodeAt),y=a("".replace),w=a(1..toString),x=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,C=!m||l((function(){var e=r("Symbol")();return"[null]"!=f([e])||"{}"!=f({a:e})||"{}"!=f(Object(e))})),j=l((function(){return'"\\udf06\\ud834"'!==f("\udf06\ud834")||'"\\udead"'!==f("\udead")})),k=function(e,t){var n=u(arguments),o=h(t);if(c(o)||void 0!==e&&!d(e))return n[1]=function(e,t){if(c(o)&&(t=s(o,this,p(e),t)),!d(t))return t},i(f,null,n)},E=function(e,t,n){var o=v(n,t-1),r=v(n,t+1);return g(_,e)&&!g(S,r)||g(S,e)&&!g(_,o)?"\\u"+w(b(e,0),16):e};f&&o({target:"JSON",stat:!0,arity:3,forced:C||j},{stringify:function(e,t,n){var o=u(arguments),r=i(C?k:f,null,o);return j&&"string"==typeof r?y(r,x,E):r}})},"./node_modules/core-js/modules/es.map.constructor.js":(e,t,n)=>{"use strict";n("./node_modules/core-js/internals/collection.js")("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n("./node_modules/core-js/internals/collection-strong.js"))},"./node_modules/core-js/modules/es.map.js":(e,t,n)=>{n("./node_modules/core-js/modules/es.map.constructor.js")},"./node_modules/core-js/modules/es.number.constructor.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/is-pure.js"),i=n("./node_modules/core-js/internals/descriptors.js"),s=n("./node_modules/core-js/internals/global.js"),a=n("./node_modules/core-js/internals/path.js"),l=n("./node_modules/core-js/internals/function-uncurry-this.js"),c=n("./node_modules/core-js/internals/is-forced.js"),d=n("./node_modules/core-js/internals/has-own-property.js"),u=n("./node_modules/core-js/internals/inherit-if-required.js"),h=n("./node_modules/core-js/internals/object-is-prototype-of.js"),m=n("./node_modules/core-js/internals/is-symbol.js"),p=n("./node_modules/core-js/internals/to-primitive.js"),f=n("./node_modules/core-js/internals/fails.js"),g=n("./node_modules/core-js/internals/object-get-own-property-names.js").f,v=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,b=n("./node_modules/core-js/internals/object-define-property.js").f,y=n("./node_modules/core-js/internals/this-number-value.js"),w=n("./node_modules/core-js/internals/string-trim.js").trim,x="Number",_=s[x],S=a[x],C=_.prototype,j=s.TypeError,k=l("".slice),E=l("".charCodeAt),O=function(e){var t,n,o,r,i,s,a,l,c=p(e,"number");if(m(c))throw j("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=w(c),43===(t=E(c,0))||45===t){if(88===(n=E(c,2))||120===n)return NaN}else if(48===t){switch(E(c,1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+c}for(s=(i=k(c,2)).length,a=0;a<s;a++)if((l=E(i,a))<48||l>r)return NaN;return parseInt(i,o)}return+c},A=c(x,!_(" 0o1")||!_("0b1")||_("+0x1")),T=function(e){var t,n=arguments.length<1?0:_(function(e){var t=p(e,"number");return"bigint"==typeof t?t:O(t)}(e));return h(C,t=this)&&f((function(){y(t)}))?u(Object(n),this,T):n};T.prototype=C,A&&!r&&(C.constructor=T),o({global:!0,constructor:!0,wrap:!0,forced:A},{Number:T});var D=function(e,t){for(var n,o=i?g(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),r=0;o.length>r;r++)d(t,n=o[r])&&!d(e,n)&&b(e,n,v(t,n))};r&&S&&D(a[x],S),(A||r)&&D(a[x],_)},"./node_modules/core-js/modules/es.object.create.js":(e,t,n)=>{n("./node_modules/core-js/internals/export.js")({target:"Object",stat:!0,sham:!n("./node_modules/core-js/internals/descriptors.js")},{create:n("./node_modules/core-js/internals/object-create.js")})},"./node_modules/core-js/modules/es.object.define-property.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/object-define-property.js").f;o({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!r},{defineProperty:i})},"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/symbol-constructor-detection.js"),i=n("./node_modules/core-js/internals/fails.js"),s=n("./node_modules/core-js/internals/object-get-own-property-symbols.js"),a=n("./node_modules/core-js/internals/to-object.js");o({target:"Object",stat:!0,forced:!r||i((function(){s.f(1)}))},{getOwnPropertySymbols:function(e){var t=s.f;return t?t(a(e)):[]}})},"./node_modules/core-js/modules/es.object.get-prototype-of.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/fails.js"),i=n("./node_modules/core-js/internals/to-object.js"),s=n("./node_modules/core-js/internals/object-get-prototype-of.js"),a=n("./node_modules/core-js/internals/correct-prototype-getter.js");o({target:"Object",stat:!0,forced:r((function(){s(1)})),sham:!a},{getPrototypeOf:function(e){return s(i(e))}})},"./node_modules/core-js/modules/es.object.keys.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/to-object.js"),i=n("./node_modules/core-js/internals/object-keys.js");o({target:"Object",stat:!0,forced:n("./node_modules/core-js/internals/fails.js")((function(){i(1)}))},{keys:function(e){return i(r(e))}})},"./node_modules/core-js/modules/es.object.set-prototype-of.js":(e,t,n)=>{n("./node_modules/core-js/internals/export.js")({target:"Object",stat:!0},{setPrototypeOf:n("./node_modules/core-js/internals/object-set-prototype-of.js")})},"./node_modules/core-js/modules/es.object.to-string.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/to-string-tag-support.js"),r=n("./node_modules/core-js/internals/define-built-in.js"),i=n("./node_modules/core-js/internals/object-to-string.js");o||r(Object.prototype,"toString",i,{unsafe:!0})},"./node_modules/core-js/modules/es.object.values.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/object-to-array.js").values;o({target:"Object",stat:!0},{values:function(e){return r(e)}})},"./node_modules/core-js/modules/es.parse-int.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/number-parse-int.js");o({global:!0,forced:parseInt!=r},{parseInt:r})},"./node_modules/core-js/modules/es.promise.all.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/function-call.js"),i=n("./node_modules/core-js/internals/a-callable.js"),s=n("./node_modules/core-js/internals/new-promise-capability.js"),a=n("./node_modules/core-js/internals/perform.js"),l=n("./node_modules/core-js/internals/iterate.js");o({target:"Promise",stat:!0,forced:n("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js")},{all:function(e){var t=this,n=s.f(t),o=n.resolve,c=n.reject,d=a((function(){var n=i(t.resolve),s=[],a=0,d=1;l(e,(function(e){var i=a++,l=!1;d++,r(n,t,e).then((function(e){l||(l=!0,s[i]=e,--d||o(s))}),c)})),--d||o(s)}));return d.error&&c(d.value),n.promise}})},"./node_modules/core-js/modules/es.promise.catch.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/is-pure.js"),i=n("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,s=n("./node_modules/core-js/internals/promise-native-constructor.js"),a=n("./node_modules/core-js/internals/get-built-in.js"),l=n("./node_modules/core-js/internals/is-callable.js"),c=n("./node_modules/core-js/internals/define-built-in.js"),d=s&&s.prototype;if(o({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(e){return this.then(void 0,e)}}),!r&&l(s)){var u=a("Promise").prototype.catch;d.catch!==u&&c(d,"catch",u,{unsafe:!0})}},"./node_modules/core-js/modules/es.promise.constructor.js":(e,t,n)=>{"use strict";var o,r,i,s=n("./node_modules/core-js/internals/export.js"),a=n("./node_modules/core-js/internals/is-pure.js"),l=n("./node_modules/core-js/internals/engine-is-node.js"),c=n("./node_modules/core-js/internals/global.js"),d=n("./node_modules/core-js/internals/function-call.js"),u=n("./node_modules/core-js/internals/define-built-in.js"),h=n("./node_modules/core-js/internals/object-set-prototype-of.js"),m=n("./node_modules/core-js/internals/set-to-string-tag.js"),p=n("./node_modules/core-js/internals/set-species.js"),f=n("./node_modules/core-js/internals/a-callable.js"),g=n("./node_modules/core-js/internals/is-callable.js"),v=n("./node_modules/core-js/internals/is-object.js"),b=n("./node_modules/core-js/internals/an-instance.js"),y=n("./node_modules/core-js/internals/species-constructor.js"),w=n("./node_modules/core-js/internals/task.js").set,x=n("./node_modules/core-js/internals/microtask.js"),_=n("./node_modules/core-js/internals/host-report-errors.js"),S=n("./node_modules/core-js/internals/perform.js"),C=n("./node_modules/core-js/internals/queue.js"),j=n("./node_modules/core-js/internals/internal-state.js"),k=n("./node_modules/core-js/internals/promise-native-constructor.js"),E=n("./node_modules/core-js/internals/promise-constructor-detection.js"),O=n("./node_modules/core-js/internals/new-promise-capability.js"),A="Promise",T=E.CONSTRUCTOR,D=E.REJECTION_EVENT,M=E.SUBCLASSING,P=j.getterFor(A),R=j.set,N=k&&k.prototype,L=k,I=N,B=c.TypeError,F=c.document,H=c.process,V=O.f,z=V,U=!!(F&&F.createEvent&&c.dispatchEvent),W="unhandledrejection",q=function(e){var t;return!(!v(e)||!g(t=e.then))&&t},Z=function(e,t){var n,o,r,i=t.value,s=1==t.state,a=s?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{a?(s||(2===t.rejection&&X(t),t.rejection=1),!0===a?n=i:(u&&u.enter(),n=a(i),u&&(u.exit(),r=!0)),n===e.promise?c(B("Promise-chain cycle")):(o=q(n))?d(o,n,l,c):l(n)):c(i)}catch(e){u&&!r&&u.exit(),c(e)}},G=function(e,t){e.notified||(e.notified=!0,x((function(){for(var n,o=e.reactions;n=o.get();)Z(n,e);e.notified=!1,t&&!e.rejection&&Y(e)})))},$=function(e,t,n){var o,r;U?((o=F.createEvent("Event")).promise=t,o.reason=n,o.initEvent(e,!1,!0),c.dispatchEvent(o)):o={promise:t,reason:n},!D&&(r=c["on"+e])?r(o):e===W&&_("Unhandled promise rejection",n)},Y=function(e){d(w,c,(function(){var t,n=e.facade,o=e.value;if(K(e)&&(t=S((function(){l?H.emit("unhandledRejection",o,n):$(W,n,o)})),e.rejection=l||K(e)?2:1,t.error))throw t.value}))},K=function(e){return 1!==e.rejection&&!e.parent},X=function(e){d(w,c,(function(){var t=e.facade;l?H.emit("rejectionHandled",t):$("rejectionhandled",t,e.value)}))},Q=function(e,t,n){return function(o){e(t,o,n)}},J=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,G(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw B("Promise can't be resolved itself");var o=q(t);o?x((function(){var n={done:!1};try{d(o,t,Q(ee,n,e),Q(J,n,e))}catch(t){J(n,t,e)}})):(e.value=t,e.state=1,G(e,!1))}catch(t){J({done:!1},t,e)}}};if(T&&(I=(L=function(e){b(this,I),f(e),d(o,this);var t=P(this);try{e(Q(ee,t),Q(J,t))}catch(e){J(t,e)}}).prototype,(o=function(e){R(this,{type:A,done:!1,notified:!1,parent:!1,reactions:new C,rejection:!1,state:0,value:void 0})}).prototype=u(I,"then",(function(e,t){var n=P(this),o=V(y(this,L));return n.parent=!0,o.ok=!g(e)||e,o.fail=g(t)&&t,o.domain=l?H.domain:void 0,0==n.state?n.reactions.add(o):x((function(){Z(o,n)})),o.promise})),r=function(){var e=new o,t=P(e);this.promise=e,this.resolve=Q(ee,t),this.reject=Q(J,t)},O.f=V=function(e){return e===L||undefined===e?new r(e):z(e)},!a&&g(k)&&N!==Object.prototype)){i=N.then,M||u(N,"then",(function(e,t){var n=this;return new L((function(e,t){d(i,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete N.constructor}catch(e){}h&&h(N,I)}s({global:!0,constructor:!0,wrap:!0,forced:T},{Promise:L}),m(L,A,!1,!0),p(A)},"./node_modules/core-js/modules/es.promise.js":(e,t,n)=>{n("./node_modules/core-js/modules/es.promise.constructor.js"),n("./node_modules/core-js/modules/es.promise.all.js"),n("./node_modules/core-js/modules/es.promise.catch.js"),n("./node_modules/core-js/modules/es.promise.race.js"),n("./node_modules/core-js/modules/es.promise.reject.js"),n("./node_modules/core-js/modules/es.promise.resolve.js")},"./node_modules/core-js/modules/es.promise.race.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/function-call.js"),i=n("./node_modules/core-js/internals/a-callable.js"),s=n("./node_modules/core-js/internals/new-promise-capability.js"),a=n("./node_modules/core-js/internals/perform.js"),l=n("./node_modules/core-js/internals/iterate.js");o({target:"Promise",stat:!0,forced:n("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js")},{race:function(e){var t=this,n=s.f(t),o=n.reject,c=a((function(){var s=i(t.resolve);l(e,(function(e){r(s,t,e).then(n.resolve,o)}))}));return c.error&&o(c.value),n.promise}})},"./node_modules/core-js/modules/es.promise.reject.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/function-call.js"),i=n("./node_modules/core-js/internals/new-promise-capability.js");o({target:"Promise",stat:!0,forced:n("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR},{reject:function(e){var t=i.f(this);return r(t.reject,void 0,e),t.promise}})},"./node_modules/core-js/modules/es.promise.resolve.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/is-pure.js"),s=n("./node_modules/core-js/internals/promise-native-constructor.js"),a=n("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,l=n("./node_modules/core-js/internals/promise-resolve.js"),c=r("Promise"),d=i&&!a;o({target:"Promise",stat:!0,forced:i||a},{resolve:function(e){return l(d&&this===c?s:this,e)}})},"./node_modules/core-js/modules/es.reflect.construct.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/function-apply.js"),s=n("./node_modules/core-js/internals/function-bind.js"),a=n("./node_modules/core-js/internals/a-constructor.js"),l=n("./node_modules/core-js/internals/an-object.js"),c=n("./node_modules/core-js/internals/is-object.js"),d=n("./node_modules/core-js/internals/object-create.js"),u=n("./node_modules/core-js/internals/fails.js"),h=r("Reflect","construct"),m=Object.prototype,p=[].push,f=u((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),g=!u((function(){h((function(){}))})),v=f||g;o({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(e,t){a(e),l(t);var n=arguments.length<3?e:a(arguments[2]);if(g&&!f)return h(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var o=[null];return i(p,o,t),new(i(s,e,o))}var r=n.prototype,u=d(c(r)?r:m),v=i(e,u,t);return c(v)?v:u}})},"./node_modules/core-js/modules/es.reflect.to-string-tag.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/set-to-string-tag.js");o({global:!0},{Reflect:{}}),i(r.Reflect,"Reflect",!0)},"./node_modules/core-js/modules/es.regexp.constructor.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/descriptors.js"),r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/function-uncurry-this.js"),s=n("./node_modules/core-js/internals/is-forced.js"),a=n("./node_modules/core-js/internals/inherit-if-required.js"),l=n("./node_modules/core-js/internals/create-non-enumerable-property.js"),c=n("./node_modules/core-js/internals/object-get-own-property-names.js").f,d=n("./node_modules/core-js/internals/object-is-prototype-of.js"),u=n("./node_modules/core-js/internals/is-regexp.js"),h=n("./node_modules/core-js/internals/to-string.js"),m=n("./node_modules/core-js/internals/regexp-get-flags.js"),p=n("./node_modules/core-js/internals/regexp-sticky-helpers.js"),f=n("./node_modules/core-js/internals/proxy-accessor.js"),g=n("./node_modules/core-js/internals/define-built-in.js"),v=n("./node_modules/core-js/internals/fails.js"),b=n("./node_modules/core-js/internals/has-own-property.js"),y=n("./node_modules/core-js/internals/internal-state.js").enforce,w=n("./node_modules/core-js/internals/set-species.js"),x=n("./node_modules/core-js/internals/well-known-symbol.js"),_=n("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),S=n("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),C=x("match"),j=r.RegExp,k=j.prototype,E=r.SyntaxError,O=i(k.exec),A=i("".charAt),T=i("".replace),D=i("".indexOf),M=i("".slice),P=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,R=/a/g,N=/a/g,L=new j(R)!==R,I=p.MISSED_STICKY,B=p.UNSUPPORTED_Y,F=o&&(!L||I||_||S||v((function(){return N[C]=!1,j(R)!=R||j(N)==N||"/a/i"!=j(R,"i")})));if(s("RegExp",F)){for(var H=function(e,t){var n,o,r,i,s,c,p=d(k,this),f=u(e),g=void 0===t,v=[],w=e;if(!p&&f&&g&&e.constructor===H)return e;if((f||d(k,e))&&(e=e.source,g&&(t=m(w))),e=void 0===e?"":h(e),t=void 0===t?"":h(t),w=e,_&&"dotAll"in R&&(o=!!t&&D(t,"s")>-1)&&(t=T(t,/s/g,"")),n=t,I&&"sticky"in R&&(r=!!t&&D(t,"y")>-1)&&B&&(t=T(t,/y/g,"")),S&&(i=function(e){for(var t,n=e.length,o=0,r="",i=[],s={},a=!1,l=!1,c=0,d="";o<=n;o++){if("\\"===(t=A(e,o)))t+=A(e,++o);else if("]"===t)a=!1;else if(!a)switch(!0){case"["===t:a=!0;break;case"("===t:O(P,M(e,o+1))&&(o+=2,l=!0),r+=t,c++;continue;case">"===t&&l:if(""===d||b(s,d))throw new E("Invalid capture group name");s[d]=!0,i[i.length]=[d,c],l=!1,d="";continue}l?d+=t:r+=t}return[r,i]}(e),e=i[0],v=i[1]),s=a(j(e,t),p?this:k,H),(o||r||v.length)&&(c=y(s),o&&(c.dotAll=!0,c.raw=H(function(e){for(var t,n=e.length,o=0,r="",i=!1;o<=n;o++)"\\"!==(t=A(e,o))?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),r+=t):r+="[\\s\\S]":r+=t+A(e,++o);return r}(e),n)),r&&(c.sticky=!0),v.length&&(c.groups=v)),e!==w)try{l(s,"source",""===w?"(?:)":w)}catch(e){}return s},V=c(j),z=0;V.length>z;)f(H,j,V[z++]);k.constructor=H,H.prototype=k,g(r,"RegExp",H,{constructor:!0})}w("RegExp")},"./node_modules/core-js/modules/es.regexp.dot-all.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/descriptors.js"),r=n("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),i=n("./node_modules/core-js/internals/classof-raw.js"),s=n("./node_modules/core-js/internals/define-built-in-accessor.js"),a=n("./node_modules/core-js/internals/internal-state.js").get,l=RegExp.prototype,c=TypeError;o&&r&&s(l,"dotAll",{configurable:!0,get:function(){if(this!==l){if("RegExp"===i(this))return!!a(this).dotAll;throw c("Incompatible receiver, RegExp required")}}})},"./node_modules/core-js/modules/es.regexp.exec.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/regexp-exec.js");o({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},"./node_modules/core-js/modules/es.regexp.sticky.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/descriptors.js"),r=n("./node_modules/core-js/internals/regexp-sticky-helpers.js").MISSED_STICKY,i=n("./node_modules/core-js/internals/classof-raw.js"),s=n("./node_modules/core-js/internals/define-built-in-accessor.js"),a=n("./node_modules/core-js/internals/internal-state.js").get,l=RegExp.prototype,c=TypeError;o&&r&&s(l,"sticky",{configurable:!0,get:function(){if(this!==l){if("RegExp"===i(this))return!!a(this).sticky;throw c("Incompatible receiver, RegExp required")}}})},"./node_modules/core-js/modules/es.regexp.test.js":(e,t,n)=>{"use strict";n("./node_modules/core-js/modules/es.regexp.exec.js");var o,r,i=n("./node_modules/core-js/internals/export.js"),s=n("./node_modules/core-js/internals/function-call.js"),a=n("./node_modules/core-js/internals/is-callable.js"),l=n("./node_modules/core-js/internals/an-object.js"),c=n("./node_modules/core-js/internals/to-string.js"),d=(o=!1,(r=/[ac]/).exec=function(){return o=!0,/./.exec.apply(this,arguments)},!0===r.test("abc")&&o),u=/./.test;i({target:"RegExp",proto:!0,forced:!d},{test:function(e){var t=l(this),n=c(e),o=t.exec;if(!a(o))return s(u,t,n);var r=s(o,t,n);return null!==r&&(l(r),!0)}})},"./node_modules/core-js/modules/es.regexp.to-string.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/function-name.js").PROPER,r=n("./node_modules/core-js/internals/define-built-in.js"),i=n("./node_modules/core-js/internals/an-object.js"),s=n("./node_modules/core-js/internals/to-string.js"),a=n("./node_modules/core-js/internals/fails.js"),l=n("./node_modules/core-js/internals/regexp-get-flags.js"),c="toString",d=RegExp.prototype[c],u=a((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),h=o&&d.name!=c;(u||h)&&r(RegExp.prototype,c,(function(){var e=i(this);return"/"+s(e.source)+"/"+s(l(e))}),{unsafe:!0})},"./node_modules/core-js/modules/es.string.includes.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=n("./node_modules/core-js/internals/not-a-regexp.js"),s=n("./node_modules/core-js/internals/require-object-coercible.js"),a=n("./node_modules/core-js/internals/to-string.js"),l=n("./node_modules/core-js/internals/correct-is-regexp-logic.js"),c=r("".indexOf);o({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~c(a(s(this)),a(i(e)),arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.string.iterator.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/string-multibyte.js").charAt,r=n("./node_modules/core-js/internals/to-string.js"),i=n("./node_modules/core-js/internals/internal-state.js"),s=n("./node_modules/core-js/internals/iterator-define.js"),a=n("./node_modules/core-js/internals/create-iter-result-object.js"),l="String Iterator",c=i.set,d=i.getterFor(l);s(String,"String",(function(e){c(this,{type:l,string:r(e),index:0})}),(function(){var e,t=d(this),n=t.string,r=t.index;return r>=n.length?a(void 0,!0):(e=o(n,r),t.index+=e.length,a(e,!1))}))},"./node_modules/core-js/modules/es.string.match.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/function-call.js"),r=n("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),i=n("./node_modules/core-js/internals/an-object.js"),s=n("./node_modules/core-js/internals/is-null-or-undefined.js"),a=n("./node_modules/core-js/internals/to-length.js"),l=n("./node_modules/core-js/internals/to-string.js"),c=n("./node_modules/core-js/internals/require-object-coercible.js"),d=n("./node_modules/core-js/internals/get-method.js"),u=n("./node_modules/core-js/internals/advance-string-index.js"),h=n("./node_modules/core-js/internals/regexp-exec-abstract.js");r("match",(function(e,t,n){return[function(t){var n=c(this),r=s(t)?void 0:d(t,e);return r?o(r,t,n):new RegExp(t)[e](l(n))},function(e){var o=i(this),r=l(e),s=n(t,o,r);if(s.done)return s.value;if(!o.global)return h(o,r);var c=o.unicode;o.lastIndex=0;for(var d,m=[],p=0;null!==(d=h(o,r));){var f=l(d[0]);m[p]=f,""===f&&(o.lastIndex=u(r,a(o.lastIndex),c)),p++}return 0===p?null:m}]}))},"./node_modules/core-js/modules/es.string.replace.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/function-apply.js"),r=n("./node_modules/core-js/internals/function-call.js"),i=n("./node_modules/core-js/internals/function-uncurry-this.js"),s=n("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),a=n("./node_modules/core-js/internals/fails.js"),l=n("./node_modules/core-js/internals/an-object.js"),c=n("./node_modules/core-js/internals/is-callable.js"),d=n("./node_modules/core-js/internals/is-null-or-undefined.js"),u=n("./node_modules/core-js/internals/to-integer-or-infinity.js"),h=n("./node_modules/core-js/internals/to-length.js"),m=n("./node_modules/core-js/internals/to-string.js"),p=n("./node_modules/core-js/internals/require-object-coercible.js"),f=n("./node_modules/core-js/internals/advance-string-index.js"),g=n("./node_modules/core-js/internals/get-method.js"),v=n("./node_modules/core-js/internals/get-substitution.js"),b=n("./node_modules/core-js/internals/regexp-exec-abstract.js"),y=n("./node_modules/core-js/internals/well-known-symbol.js")("replace"),w=Math.max,x=Math.min,_=i([].concat),S=i([].push),C=i("".indexOf),j=i("".slice),k="$0"==="a".replace(/./,"$0"),E=!!/./[y]&&""===/./[y]("a","$0");s("replace",(function(e,t,n){var i=E?"$":"$0";return[function(e,n){var o=p(this),i=d(e)?void 0:g(e,y);return i?r(i,e,o,n):r(t,m(o),e,n)},function(e,r){var s=l(this),a=m(e);if("string"==typeof r&&-1===C(r,i)&&-1===C(r,"$<")){var d=n(t,s,a,r);if(d.done)return d.value}var p=c(r);p||(r=m(r));var g=s.global;if(g){var y=s.unicode;s.lastIndex=0}for(var k=[];;){var E=b(s,a);if(null===E)break;if(S(k,E),!g)break;""===m(E[0])&&(s.lastIndex=f(a,h(s.lastIndex),y))}for(var O,A="",T=0,D=0;D<k.length;D++){for(var M=m((E=k[D])[0]),P=w(x(u(E.index),a.length),0),R=[],N=1;N<E.length;N++)S(R,void 0===(O=E[N])?O:String(O));var L=E.groups;if(p){var I=_([M],R,P,a);void 0!==L&&S(I,L);var B=m(o(r,void 0,I))}else B=v(M,a,P,R,L,r);P>=T&&(A+=j(a,T,P)+B,T=P+M.length)}return A+j(a,T)}]}),!!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!k||E)},"./node_modules/core-js/modules/es.string.search.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/function-call.js"),r=n("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),i=n("./node_modules/core-js/internals/an-object.js"),s=n("./node_modules/core-js/internals/is-null-or-undefined.js"),a=n("./node_modules/core-js/internals/require-object-coercible.js"),l=n("./node_modules/core-js/internals/same-value.js"),c=n("./node_modules/core-js/internals/to-string.js"),d=n("./node_modules/core-js/internals/get-method.js"),u=n("./node_modules/core-js/internals/regexp-exec-abstract.js");r("search",(function(e,t,n){return[function(t){var n=a(this),r=s(t)?void 0:d(t,e);return r?o(r,t,n):new RegExp(t)[e](c(n))},function(e){var o=i(this),r=c(e),s=n(t,o,r);if(s.done)return s.value;var a=o.lastIndex;l(a,0)||(o.lastIndex=0);var d=u(o,r);return l(o.lastIndex,a)||(o.lastIndex=a),null===d?-1:d.index}]}))},"./node_modules/core-js/modules/es.string.trim.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/string-trim.js").trim;o({target:"String",proto:!0,forced:n("./node_modules/core-js/internals/string-trim-forced.js")("trim")},{trim:function(){return r(this)}})},"./node_modules/core-js/modules/es.symbol.constructor.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/function-call.js"),s=n("./node_modules/core-js/internals/function-uncurry-this.js"),a=n("./node_modules/core-js/internals/is-pure.js"),l=n("./node_modules/core-js/internals/descriptors.js"),c=n("./node_modules/core-js/internals/symbol-constructor-detection.js"),d=n("./node_modules/core-js/internals/fails.js"),u=n("./node_modules/core-js/internals/has-own-property.js"),h=n("./node_modules/core-js/internals/object-is-prototype-of.js"),m=n("./node_modules/core-js/internals/an-object.js"),p=n("./node_modules/core-js/internals/to-indexed-object.js"),f=n("./node_modules/core-js/internals/to-property-key.js"),g=n("./node_modules/core-js/internals/to-string.js"),v=n("./node_modules/core-js/internals/create-property-descriptor.js"),b=n("./node_modules/core-js/internals/object-create.js"),y=n("./node_modules/core-js/internals/object-keys.js"),w=n("./node_modules/core-js/internals/object-get-own-property-names.js"),x=n("./node_modules/core-js/internals/object-get-own-property-names-external.js"),_=n("./node_modules/core-js/internals/object-get-own-property-symbols.js"),S=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),C=n("./node_modules/core-js/internals/object-define-property.js"),j=n("./node_modules/core-js/internals/object-define-properties.js"),k=n("./node_modules/core-js/internals/object-property-is-enumerable.js"),E=n("./node_modules/core-js/internals/define-built-in.js"),O=n("./node_modules/core-js/internals/define-built-in-accessor.js"),A=n("./node_modules/core-js/internals/shared.js"),T=n("./node_modules/core-js/internals/shared-key.js"),D=n("./node_modules/core-js/internals/hidden-keys.js"),M=n("./node_modules/core-js/internals/uid.js"),P=n("./node_modules/core-js/internals/well-known-symbol.js"),R=n("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),N=n("./node_modules/core-js/internals/well-known-symbol-define.js"),L=n("./node_modules/core-js/internals/symbol-define-to-primitive.js"),I=n("./node_modules/core-js/internals/set-to-string-tag.js"),B=n("./node_modules/core-js/internals/internal-state.js"),F=n("./node_modules/core-js/internals/array-iteration.js").forEach,H=T("hidden"),V="Symbol",z="prototype",U=B.set,W=B.getterFor(V),q=Object[z],Z=r.Symbol,G=Z&&Z[z],$=r.TypeError,Y=r.QObject,K=S.f,X=C.f,Q=x.f,J=k.f,ee=s([].push),te=A("symbols"),ne=A("op-symbols"),oe=A("wks"),re=!Y||!Y[z]||!Y[z].findChild,ie=l&&d((function(){return 7!=b(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(e,t,n){var o=K(q,t);o&&delete q[t],X(e,t,n),o&&e!==q&&X(q,t,o)}:X,se=function(e,t){var n=te[e]=b(G);return U(n,{type:V,tag:e,description:t}),l||(n.description=t),n},ae=function(e,t,n){e===q&&ae(ne,t,n),m(e);var o=f(t);return m(n),u(te,o)?(n.enumerable?(u(e,H)&&e[H][o]&&(e[H][o]=!1),n=b(n,{enumerable:v(0,!1)})):(u(e,H)||X(e,H,v(1,{})),e[H][o]=!0),ie(e,o,n)):X(e,o,n)},le=function(e,t){m(e);var n=p(t),o=y(n).concat(he(n));return F(o,(function(t){l&&!i(ce,n,t)||ae(e,t,n[t])})),e},ce=function(e){var t=f(e),n=i(J,this,t);return!(this===q&&u(te,t)&&!u(ne,t))&&(!(n||!u(this,t)||!u(te,t)||u(this,H)&&this[H][t])||n)},de=function(e,t){var n=p(e),o=f(t);if(n!==q||!u(te,o)||u(ne,o)){var r=K(n,o);return!r||!u(te,o)||u(n,H)&&n[H][o]||(r.enumerable=!0),r}},ue=function(e){var t=Q(p(e)),n=[];return F(t,(function(e){u(te,e)||u(D,e)||ee(n,e)})),n},he=function(e){var t=e===q,n=Q(t?ne:p(e)),o=[];return F(n,(function(e){!u(te,e)||t&&!u(q,e)||ee(o,te[e])})),o};c||(E(G=(Z=function(){if(h(G,this))throw $("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=M(e),n=function(e){this===q&&i(n,ne,e),u(this,H)&&u(this[H],t)&&(this[H][t]=!1),ie(this,t,v(1,e))};return l&&re&&ie(q,t,{configurable:!0,set:n}),se(t,e)})[z],"toString",(function(){return W(this).tag})),E(Z,"withoutSetter",(function(e){return se(M(e),e)})),k.f=ce,C.f=ae,j.f=le,S.f=de,w.f=x.f=ue,_.f=he,R.f=function(e){return se(P(e),e)},l&&(O(G,"description",{configurable:!0,get:function(){return W(this).description}}),a||E(q,"propertyIsEnumerable",ce,{unsafe:!0}))),o({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Z}),F(y(oe),(function(e){N(e)})),o({target:V,stat:!0,forced:!c},{useSetter:function(){re=!0},useSimple:function(){re=!1}}),o({target:"Object",stat:!0,forced:!c,sham:!l},{create:function(e,t){return void 0===t?b(e):le(b(e),t)},defineProperty:ae,defineProperties:le,getOwnPropertyDescriptor:de}),o({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ue}),L(),I(Z,V),D[H]=!0},"./node_modules/core-js/modules/es.symbol.description.js":(e,t,n)=>{"use strict";var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/global.js"),s=n("./node_modules/core-js/internals/function-uncurry-this.js"),a=n("./node_modules/core-js/internals/has-own-property.js"),l=n("./node_modules/core-js/internals/is-callable.js"),c=n("./node_modules/core-js/internals/object-is-prototype-of.js"),d=n("./node_modules/core-js/internals/to-string.js"),u=n("./node_modules/core-js/internals/define-built-in-accessor.js"),h=n("./node_modules/core-js/internals/copy-constructor-properties.js"),m=i.Symbol,p=m&&m.prototype;if(r&&l(m)&&(!("description"in p)||void 0!==m().description)){var f={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:d(arguments[0]),t=c(p,this)?new m(e):void 0===e?m():m(e);return""===e&&(f[t]=!0),t};h(g,m),g.prototype=p,p.constructor=g;var v="Symbol(test)"==String(m("test")),b=s(p.valueOf),y=s(p.toString),w=/^Symbol\((.*)\)[^)]+$/,x=s("".replace),_=s("".slice);u(p,"description",{configurable:!0,get:function(){var e=b(this);if(a(f,e))return"";var t=y(e),n=v?_(t,7,-1):x(t,w,"$1");return""===n?void 0:n}}),o({global:!0,constructor:!0,forced:!0},{Symbol:g})}},"./node_modules/core-js/modules/es.symbol.for.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/has-own-property.js"),s=n("./node_modules/core-js/internals/to-string.js"),a=n("./node_modules/core-js/internals/shared.js"),l=n("./node_modules/core-js/internals/symbol-registry-detection.js"),c=a("string-to-symbol-registry"),d=a("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=s(e);if(i(c,t))return c[t];var n=r("Symbol")(t);return c[t]=n,d[n]=t,n}})},"./node_modules/core-js/modules/es.symbol.iterator.js":(e,t,n)=>{n("./node_modules/core-js/internals/well-known-symbol-define.js")("iterator")},"./node_modules/core-js/modules/es.symbol.js":(e,t,n)=>{n("./node_modules/core-js/modules/es.symbol.constructor.js"),n("./node_modules/core-js/modules/es.symbol.for.js"),n("./node_modules/core-js/modules/es.symbol.key-for.js"),n("./node_modules/core-js/modules/es.json.stringify.js"),n("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")},"./node_modules/core-js/modules/es.symbol.key-for.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/has-own-property.js"),i=n("./node_modules/core-js/internals/is-symbol.js"),s=n("./node_modules/core-js/internals/try-to-string.js"),a=n("./node_modules/core-js/internals/shared.js"),l=n("./node_modules/core-js/internals/symbol-registry-detection.js"),c=a("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!l},{keyFor:function(e){if(!i(e))throw TypeError(s(e)+" is not a symbol");if(r(c,e))return c[e]}})},"./node_modules/core-js/modules/es.symbol.to-primitive.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/well-known-symbol-define.js"),r=n("./node_modules/core-js/internals/symbol-define-to-primitive.js");o("toPrimitive"),r()},"./node_modules/core-js/modules/web.dom-collections.for-each.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/global.js"),r=n("./node_modules/core-js/internals/dom-iterables.js"),i=n("./node_modules/core-js/internals/dom-token-list-prototype.js"),s=n("./node_modules/core-js/internals/array-for-each.js"),a=n("./node_modules/core-js/internals/create-non-enumerable-property.js"),l=function(e){if(e&&e.forEach!==s)try{a(e,"forEach",s)}catch(t){e.forEach=s}};for(var c in r)r[c]&&l(o[c]&&o[c].prototype);l(i)},"./node_modules/core-js/modules/web.dom-collections.iterator.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/global.js"),r=n("./node_modules/core-js/internals/dom-iterables.js"),i=n("./node_modules/core-js/internals/dom-token-list-prototype.js"),s=n("./node_modules/core-js/modules/es.array.iterator.js"),a=n("./node_modules/core-js/internals/create-non-enumerable-property.js"),l=n("./node_modules/core-js/internals/well-known-symbol.js"),c=l("iterator"),d=l("toStringTag"),u=s.values,h=function(e,t){if(e){if(e[c]!==u)try{a(e,c,u)}catch(t){e[c]=u}if(e[d]||a(e,d,t),r[t])for(var n in s)if(e[n]!==s[n])try{a(e,n,s[n])}catch(t){e[n]=s[n]}}};for(var m in r)h(o[m]&&o[m].prototype,m);h(i,"DOMTokenList")},"./node_modules/core-js/modules/web.set-interval.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/schedulers-fix.js")(r.setInterval,!0);o({global:!0,bind:!0,forced:r.setInterval!==i},{setInterval:i})},"./node_modules/core-js/modules/web.set-timeout.js":(e,t,n)=>{var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/schedulers-fix.js")(r.setTimeout,!0);o({global:!0,bind:!0,forced:r.setTimeout!==i},{setTimeout:i})},"./node_modules/core-js/modules/web.timers.js":(e,t,n)=>{n("./node_modules/core-js/modules/web.set-interval.js"),n("./node_modules/core-js/modules/web.set-timeout.js")},"./node_modules/core-js/modules/web.url-search-params.constructor.js":(e,t,n)=>{"use strict";n("./node_modules/core-js/modules/es.array.iterator.js");var o=n("./node_modules/core-js/internals/export.js"),r=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/function-call.js"),s=n("./node_modules/core-js/internals/function-uncurry-this.js"),a=n("./node_modules/core-js/internals/descriptors.js"),l=n("./node_modules/core-js/internals/url-constructor-detection.js"),c=n("./node_modules/core-js/internals/define-built-in.js"),d=n("./node_modules/core-js/internals/define-built-in-accessor.js"),u=n("./node_modules/core-js/internals/define-built-ins.js"),h=n("./node_modules/core-js/internals/set-to-string-tag.js"),m=n("./node_modules/core-js/internals/iterator-create-constructor.js"),p=n("./node_modules/core-js/internals/internal-state.js"),f=n("./node_modules/core-js/internals/an-instance.js"),g=n("./node_modules/core-js/internals/is-callable.js"),v=n("./node_modules/core-js/internals/has-own-property.js"),b=n("./node_modules/core-js/internals/function-bind-context.js"),y=n("./node_modules/core-js/internals/classof.js"),w=n("./node_modules/core-js/internals/an-object.js"),x=n("./node_modules/core-js/internals/is-object.js"),_=n("./node_modules/core-js/internals/to-string.js"),S=n("./node_modules/core-js/internals/object-create.js"),C=n("./node_modules/core-js/internals/create-property-descriptor.js"),j=n("./node_modules/core-js/internals/get-iterator.js"),k=n("./node_modules/core-js/internals/get-iterator-method.js"),E=n("./node_modules/core-js/internals/validate-arguments-length.js"),O=n("./node_modules/core-js/internals/well-known-symbol.js"),A=n("./node_modules/core-js/internals/array-sort.js"),T=O("iterator"),D="URLSearchParams",M=D+"Iterator",P=p.set,R=p.getterFor(D),N=p.getterFor(M),L=Object.getOwnPropertyDescriptor,I=function(e){if(!a)return r[e];var t=L(r,e);return t&&t.value},B=I("fetch"),F=I("Request"),H=I("Headers"),V=F&&F.prototype,z=H&&H.prototype,U=r.RegExp,W=r.TypeError,q=r.decodeURIComponent,Z=r.encodeURIComponent,G=s("".charAt),$=s([].join),Y=s([].push),K=s("".replace),X=s([].shift),Q=s([].splice),J=s("".split),ee=s("".slice),te=/\+/g,ne=Array(4),oe=function(e){return ne[e-1]||(ne[e-1]=U("((?:%[\\da-f]{2}){"+e+"})","gi"))},re=function(e){try{return q(e)}catch(t){return e}},ie=function(e){var t=K(e,te," "),n=4;try{return q(t)}catch(e){for(;n;)t=K(t,oe(n--),re);return t}},se=/[!'()~]|%20/g,ae={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},le=function(e){return ae[e]},ce=function(e){return K(Z(e),se,le)},de=m((function(e,t){P(this,{type:M,iterator:j(R(e).entries),kind:t})}),"Iterator",(function(){var e=N(this),t=e.kind,n=e.iterator.next(),o=n.value;return n.done||(n.value="keys"===t?o.key:"values"===t?o.value:[o.key,o.value]),n}),!0),ue=function(e){this.entries=[],this.url=null,void 0!==e&&(x(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===G(e,0)?ee(e,1):e:_(e)))};ue.prototype={type:D,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,o,r,s,a,l,c=k(e);if(c)for(n=(t=j(e,c)).next;!(o=i(n,t)).done;){if(s=(r=j(w(o.value))).next,(a=i(s,r)).done||(l=i(s,r)).done||!i(s,r).done)throw W("Expected sequence with length 2");Y(this.entries,{key:_(a.value),value:_(l.value)})}else for(var d in e)v(e,d)&&Y(this.entries,{key:d,value:_(e[d])})},parseQuery:function(e){if(e)for(var t,n,o=J(e,"&"),r=0;r<o.length;)(t=o[r++]).length&&(n=J(t,"="),Y(this.entries,{key:ie(X(n)),value:ie($(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],o=0;o<t.length;)e=t[o++],Y(n,ce(e.key)+"="+ce(e.value));return $(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var he=function(){f(this,me);var e=P(this,new ue(arguments.length>0?arguments[0]:void 0));a||(this.length=e.entries.length)},me=he.prototype;if(u(me,{append:function(e,t){E(arguments.length,2);var n=R(this);Y(n.entries,{key:_(e),value:_(t)}),a||this.length++,n.updateURL()},delete:function(e){E(arguments.length,1);for(var t=R(this),n=t.entries,o=_(e),r=0;r<n.length;)n[r].key===o?Q(n,r,1):r++;a||(this.length=n.length),t.updateURL()},get:function(e){E(arguments.length,1);for(var t=R(this).entries,n=_(e),o=0;o<t.length;o++)if(t[o].key===n)return t[o].value;return null},getAll:function(e){E(arguments.length,1);for(var t=R(this).entries,n=_(e),o=[],r=0;r<t.length;r++)t[r].key===n&&Y(o,t[r].value);return o},has:function(e){E(arguments.length,1);for(var t=R(this).entries,n=_(e),o=0;o<t.length;)if(t[o++].key===n)return!0;return!1},set:function(e,t){E(arguments.length,1);for(var n,o=R(this),r=o.entries,i=!1,s=_(e),l=_(t),c=0;c<r.length;c++)(n=r[c]).key===s&&(i?Q(r,c--,1):(i=!0,n.value=l));i||Y(r,{key:s,value:l}),a||(this.length=r.length),o.updateURL()},sort:function(){var e=R(this);A(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=R(this).entries,o=b(e,arguments.length>1?arguments[1]:void 0),r=0;r<n.length;)o((t=n[r++]).value,t.key,this)},keys:function(){return new de(this,"keys")},values:function(){return new de(this,"values")},entries:function(){return new de(this,"entries")}},{enumerable:!0}),c(me,T,me.entries,{name:"entries"}),c(me,"toString",(function(){return R(this).serialize()}),{enumerable:!0}),a&&d(me,"size",{get:function(){return R(this).entries.length},configurable:!0,enumerable:!0}),h(he,D),o({global:!0,constructor:!0,forced:!l},{URLSearchParams:he}),!l&&g(H)){var pe=s(z.has),fe=s(z.set),ge=function(e){if(x(e)){var t,n=e.body;if(y(n)===D)return t=e.headers?new H(e.headers):new H,pe(t,"content-type")||fe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),S(e,{body:C(0,_(n)),headers:C(0,t)})}return e};if(g(B)&&o({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return B(e,arguments.length>1?ge(arguments[1]):{})}}),g(F)){var ve=function(e){return f(this,V),new F(e,arguments.length>1?ge(arguments[1]):{})};V.constructor=ve,ve.prototype=V,o({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ve})}}e.exports={URLSearchParams:he,getState:R}},"./node_modules/core-js/modules/web.url-search-params.js":(e,t,n)=>{n("./node_modules/core-js/modules/web.url-search-params.constructor.js")},"./node_modules/core-js/modules/web.url.constructor.js":(e,t,n)=>{"use strict";n("./node_modules/core-js/modules/es.string.iterator.js");var o,r=n("./node_modules/core-js/internals/export.js"),i=n("./node_modules/core-js/internals/descriptors.js"),s=n("./node_modules/core-js/internals/url-constructor-detection.js"),a=n("./node_modules/core-js/internals/global.js"),l=n("./node_modules/core-js/internals/function-bind-context.js"),c=n("./node_modules/core-js/internals/function-uncurry-this.js"),d=n("./node_modules/core-js/internals/define-built-in.js"),u=n("./node_modules/core-js/internals/define-built-in-accessor.js"),h=n("./node_modules/core-js/internals/an-instance.js"),m=n("./node_modules/core-js/internals/has-own-property.js"),p=n("./node_modules/core-js/internals/object-assign.js"),f=n("./node_modules/core-js/internals/array-from.js"),g=n("./node_modules/core-js/internals/array-slice-simple.js"),v=n("./node_modules/core-js/internals/string-multibyte.js").codeAt,b=n("./node_modules/core-js/internals/string-punycode-to-ascii.js"),y=n("./node_modules/core-js/internals/to-string.js"),w=n("./node_modules/core-js/internals/set-to-string-tag.js"),x=n("./node_modules/core-js/internals/validate-arguments-length.js"),_=n("./node_modules/core-js/modules/web.url-search-params.constructor.js"),S=n("./node_modules/core-js/internals/internal-state.js"),C=S.set,j=S.getterFor("URL"),k=_.URLSearchParams,E=_.getState,O=a.URL,A=a.TypeError,T=a.parseInt,D=Math.floor,M=Math.pow,P=c("".charAt),R=c(/./.exec),N=c([].join),L=c(1..toString),I=c([].pop),B=c([].push),F=c("".replace),H=c([].shift),V=c("".split),z=c("".slice),U=c("".toLowerCase),W=c([].unshift),q="Invalid scheme",Z="Invalid host",G="Invalid port",$=/[a-z]/i,Y=/[\d+-.a-z]/i,K=/\d/,X=/^0x/i,Q=/^[0-7]+$/,J=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,oe=/^[\u0000-\u0020]+/,re=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ie=/[\t\n\r]/g,se=function(e){var t,n,o,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)W(t,e%256),e=D(e/256);return N(t,".")}if("object"==typeof e){for(t="",o=function(e){for(var t=null,n=1,o=null,r=0,i=0;i<8;i++)0!==e[i]?(r>n&&(t=o,n=r),o=null,r=0):(null===o&&(o=i),++r);return r>n&&(t=o,n=r),t}(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),o===n?(t+=n?":":"::",r=!0):(t+=L(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ae={},le=p({},ae,{" ":1,'"':1,"<":1,">":1,"`":1}),ce=p({},le,{"#":1,"?":1,"{":1,"}":1}),de=p({},ce,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ue=function(e,t){var n=v(e,0);return n>32&&n<127&&!m(t,e)?e:encodeURIComponent(e)},he={ftp:21,file:null,http:80,https:443,ws:80,wss:443},me=function(e,t){var n;return 2==e.length&&R($,P(e,0))&&(":"==(n=P(e,1))||!t&&"|"==n)},pe=function(e){var t;return e.length>1&&me(z(e,0,2))&&(2==e.length||"/"===(t=P(e,2))||"\\"===t||"?"===t||"#"===t)},fe=function(e){return"."===e||"%2e"===U(e)},ge={},ve={},be={},ye={},we={},xe={},_e={},Se={},Ce={},je={},ke={},Ee={},Oe={},Ae={},Te={},De={},Me={},Pe={},Re={},Ne={},Le={},Ie=function(e,t,n){var o,r,i,s=y(e);if(t){if(r=this.parse(s))throw A(r);this.searchParams=null}else{if(void 0!==n&&(o=new Ie(n,!0)),r=this.parse(s,null,o))throw A(r);(i=E(new k)).bindURL(this),this.searchParams=i}};Ie.prototype={type:"URL",parse:function(e,t,n){var r,i,s,a,l,c=this,d=t||ge,u=0,h="",p=!1,v=!1,b=!1;for(e=y(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=F(e,oe,""),e=F(e,re,"$1")),e=F(e,ie,""),r=f(e);u<=r.length;){switch(i=r[u],d){case ge:if(!i||!R($,i)){if(t)return q;d=be;continue}h+=U(i),d=ve;break;case ve:if(i&&(R(Y,i)||"+"==i||"-"==i||"."==i))h+=U(i);else{if(":"!=i){if(t)return q;h="",d=be,u=0;continue}if(t&&(c.isSpecial()!=m(he,h)||"file"==h&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=h,t)return void(c.isSpecial()&&he[c.scheme]==c.port&&(c.port=null));h="","file"==c.scheme?d=Ae:c.isSpecial()&&n&&n.scheme==c.scheme?d=ye:c.isSpecial()?d=Se:"/"==r[u+1]?(d=we,u++):(c.cannotBeABaseURL=!0,B(c.path,""),d=Re)}break;case be:if(!n||n.cannotBeABaseURL&&"#"!=i)return q;if(n.cannotBeABaseURL&&"#"==i){c.scheme=n.scheme,c.path=g(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,d=Le;break}d="file"==n.scheme?Ae:xe;continue;case ye:if("/"!=i||"/"!=r[u+1]){d=xe;continue}d=Ce,u++;break;case we:if("/"==i){d=je;break}d=Pe;continue;case xe:if(c.scheme=n.scheme,i==o)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.query=n.query;else if("/"==i||"\\"==i&&c.isSpecial())d=_e;else if("?"==i)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.query="",d=Ne;else{if("#"!=i){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.path.length--,d=Pe;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.query=n.query,c.fragment="",d=Le}break;case _e:if(!c.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,d=Pe;continue}d=je}else d=Ce;break;case Se:if(d=Ce,"/"!=i||"/"!=P(h,u+1))continue;u++;break;case Ce:if("/"!=i&&"\\"!=i){d=je;continue}break;case je:if("@"==i){p&&(h="%40"+h),p=!0,s=f(h);for(var w=0;w<s.length;w++){var x=s[w];if(":"!=x||b){var _=ue(x,de);b?c.password+=_:c.username+=_}else b=!0}h=""}else if(i==o||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(p&&""==h)return"Invalid authority";u-=f(h).length+1,h="",d=ke}else h+=i;break;case ke:case Ee:if(t&&"file"==c.scheme){d=De;continue}if(":"!=i||v){if(i==o||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(c.isSpecial()&&""==h)return Z;if(t&&""==h&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(h))return a;if(h="",d=Me,t)return;continue}"["==i?v=!0:"]"==i&&(v=!1),h+=i}else{if(""==h)return Z;if(a=c.parseHost(h))return a;if(h="",d=Oe,t==Ee)return}break;case Oe:if(!R(K,i)){if(i==o||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()||t){if(""!=h){var S=T(h,10);if(S>65535)return G;c.port=c.isSpecial()&&S===he[c.scheme]?null:S,h=""}if(t)return;d=Me;continue}return G}h+=i;break;case Ae:if(c.scheme="file","/"==i||"\\"==i)d=Te;else{if(!n||"file"!=n.scheme){d=Pe;continue}if(i==o)c.host=n.host,c.path=g(n.path),c.query=n.query;else if("?"==i)c.host=n.host,c.path=g(n.path),c.query="",d=Ne;else{if("#"!=i){pe(N(g(r,u),""))||(c.host=n.host,c.path=g(n.path),c.shortenPath()),d=Pe;continue}c.host=n.host,c.path=g(n.path),c.query=n.query,c.fragment="",d=Le}}break;case Te:if("/"==i||"\\"==i){d=De;break}n&&"file"==n.scheme&&!pe(N(g(r,u),""))&&(me(n.path[0],!0)?B(c.path,n.path[0]):c.host=n.host),d=Pe;continue;case De:if(i==o||"/"==i||"\\"==i||"?"==i||"#"==i){if(!t&&me(h))d=Pe;else if(""==h){if(c.host="",t)return;d=Me}else{if(a=c.parseHost(h))return a;if("localhost"==c.host&&(c.host=""),t)return;h="",d=Me}continue}h+=i;break;case Me:if(c.isSpecial()){if(d=Pe,"/"!=i&&"\\"!=i)continue}else if(t||"?"!=i)if(t||"#"!=i){if(i!=o&&(d=Pe,"/"!=i))continue}else c.fragment="",d=Le;else c.query="",d=Ne;break;case Pe:if(i==o||"/"==i||"\\"==i&&c.isSpecial()||!t&&("?"==i||"#"==i)){if(".."===(l=U(l=h))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(c.shortenPath(),"/"==i||"\\"==i&&c.isSpecial()||B(c.path,"")):fe(h)?"/"==i||"\\"==i&&c.isSpecial()||B(c.path,""):("file"==c.scheme&&!c.path.length&&me(h)&&(c.host&&(c.host=""),h=P(h,0)+":"),B(c.path,h)),h="","file"==c.scheme&&(i==o||"?"==i||"#"==i))for(;c.path.length>1&&""===c.path[0];)H(c.path);"?"==i?(c.query="",d=Ne):"#"==i&&(c.fragment="",d=Le)}else h+=ue(i,ce);break;case Re:"?"==i?(c.query="",d=Ne):"#"==i?(c.fragment="",d=Le):i!=o&&(c.path[0]+=ue(i,ae));break;case Ne:t||"#"!=i?i!=o&&("'"==i&&c.isSpecial()?c.query+="%27":c.query+="#"==i?"%23":ue(i,ae)):(c.fragment="",d=Le);break;case Le:i!=o&&(c.fragment+=ue(i,le))}u++}},parseHost:function(e){var t,n,o;if("["==P(e,0)){if("]"!=P(e,e.length-1))return Z;if(t=function(e){var t,n,o,r,i,s,a,l=[0,0,0,0,0,0,0,0],c=0,d=null,u=0,h=function(){return P(e,u)};if(":"==h()){if(":"!=P(e,1))return;u+=2,d=++c}for(;h();){if(8==c)return;if(":"!=h()){for(t=n=0;n<4&&R(ee,h());)t=16*t+T(h(),16),u++,n++;if("."==h()){if(0==n)return;if(u-=n,c>6)return;for(o=0;h();){if(r=null,o>0){if(!("."==h()&&o<4))return;u++}if(!R(K,h()))return;for(;R(K,h());){if(i=T(h(),10),null===r)r=i;else{if(0==r)return;r=10*r+i}if(r>255)return;u++}l[c]=256*l[c]+r,2!=++o&&4!=o||c++}if(4!=o)return;break}if(":"==h()){if(u++,!h())return}else if(h())return;l[c++]=t}else{if(null!==d)return;u++,d=++c}}if(null!==d)for(s=c-d,c=7;0!=c&&s>0;)a=l[c],l[c--]=l[d+s-1],l[d+--s]=a;else if(8!=c)return;return l}(z(e,1,-1)),!t)return Z;this.host=t}else if(this.isSpecial()){if(e=b(e),R(te,e))return Z;if(t=function(e){var t,n,o,r,i,s,a,l=V(e,".");if(l.length&&""==l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(n=[],o=0;o<t;o++){if(""==(r=l[o]))return e;if(i=10,r.length>1&&"0"==P(r,0)&&(i=R(X,r)?16:8,r=z(r,8==i?1:2)),""===r)s=0;else{if(!R(10==i?J:8==i?Q:ee,r))return e;s=T(r,i)}B(n,s)}for(o=0;o<t;o++)if(s=n[o],o==t-1){if(s>=M(256,5-t))return null}else if(s>255)return null;for(a=I(n),o=0;o<n.length;o++)a+=n[o]*M(256,3-o);return a}(e),null===t)return Z;this.host=t}else{if(R(ne,e))return Z;for(t="",n=f(e),o=0;o<n.length;o++)t+=ue(n[o],ae);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return m(he,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&me(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,o=e.password,r=e.host,i=e.port,s=e.path,a=e.query,l=e.fragment,c=t+":";return null!==r?(c+="//",e.includesCredentials()&&(c+=n+(o?":"+o:"")+"@"),c+=se(r),null!==i&&(c+=":"+i)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?s[0]:s.length?"/"+N(s,"/"):"",null!==a&&(c+="?"+a),null!==l&&(c+="#"+l),c},setHref:function(e){var t=this.parse(e);if(t)throw A(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Be(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+se(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(y(e)+":",ge)},getUsername:function(){return this.username},setUsername:function(e){var t=f(y(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=ue(t[n],de)}},getPassword:function(){return this.password},setPassword:function(e){var t=f(y(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=ue(t[n],de)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?se(e):se(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,ke)},getHostname:function(){var e=this.host;return null===e?"":se(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Ee)},getPort:function(){var e=this.port;return null===e?"":y(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=y(e))?this.port=null:this.parse(e,Oe))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+N(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Me))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=y(e))?this.query=null:("?"==P(e,0)&&(e=z(e,1)),this.query="",this.parse(e,Ne)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=y(e))?("#"==P(e,0)&&(e=z(e,1)),this.fragment="",this.parse(e,Le)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Be=function(e){var t=h(this,Fe),n=x(arguments.length,1)>1?arguments[1]:void 0,o=C(t,new Ie(e,!1,n));i||(t.href=o.serialize(),t.origin=o.getOrigin(),t.protocol=o.getProtocol(),t.username=o.getUsername(),t.password=o.getPassword(),t.host=o.getHost(),t.hostname=o.getHostname(),t.port=o.getPort(),t.pathname=o.getPathname(),t.search=o.getSearch(),t.searchParams=o.getSearchParams(),t.hash=o.getHash())},Fe=Be.prototype,He=function(e,t){return{get:function(){return j(this)[e]()},set:t&&function(e){return j(this)[t](e)},configurable:!0,enumerable:!0}};if(i&&(u(Fe,"href",He("serialize","setHref")),u(Fe,"origin",He("getOrigin")),u(Fe,"protocol",He("getProtocol","setProtocol")),u(Fe,"username",He("getUsername","setUsername")),u(Fe,"password",He("getPassword","setPassword")),u(Fe,"host",He("getHost","setHost")),u(Fe,"hostname",He("getHostname","setHostname")),u(Fe,"port",He("getPort","setPort")),u(Fe,"pathname",He("getPathname","setPathname")),u(Fe,"search",He("getSearch","setSearch")),u(Fe,"searchParams",He("getSearchParams")),u(Fe,"hash",He("getHash","setHash"))),d(Fe,"toJSON",(function(){return j(this).serialize()}),{enumerable:!0}),d(Fe,"toString",(function(){return j(this).serialize()}),{enumerable:!0}),O){var Ve=O.createObjectURL,ze=O.revokeObjectURL;Ve&&d(Be,"createObjectURL",l(Ve,O)),ze&&d(Be,"revokeObjectURL",l(ze,O))}w(Be,"URL"),r({global:!0,constructor:!0,forced:!s,sham:!i},{URL:Be})},"./node_modules/core-js/modules/web.url.js":(e,t,n)=>{n("./node_modules/core-js/modules/web.url.constructor.js")},"./node_modules/flatpickr/dist/esm/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var o=n("./node_modules/flatpickr/dist/esm/types/options.js"),r=n("./node_modules/flatpickr/dist/esm/l10n/default.js"),i=n("./node_modules/flatpickr/dist/esm/utils/index.js"),s=n("./node_modules/flatpickr/dist/esm/utils/dom.js"),a=n("./node_modules/flatpickr/dist/esm/utils/dates.js"),l=n("./node_modules/flatpickr/dist/esm/utils/formatting.js"),c=(n("./node_modules/flatpickr/dist/esm/utils/polyfills.js"),function(){return c=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c.apply(this,arguments)}),d=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,r++)o[r]=i[s];return o},u=300;function h(e,t){var n={config:c(c({},o.defaults),p.defaultConfig),l10n:r.default};function h(){var e;return(null===(e=n.calendarContainer)||void 0===e?void 0:e.getRootNode()).activeElement||document.activeElement}function m(e){return e.bind(n)}function f(){var e=n.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==n.calendarContainer&&(n.calendarContainer.style.visibility="hidden",n.calendarContainer.style.display="block"),void 0!==n.daysContainer){var t=(n.days.offsetWidth+1)*e.showMonths;n.daysContainer.style.width=t+"px",n.calendarContainer.style.width=t+(void 0!==n.weekWrapper?n.weekWrapper.offsetWidth:0)+"px",n.calendarContainer.style.removeProperty("visibility"),n.calendarContainer.style.removeProperty("display")}}))}function g(e){if(0===n.selectedDates.length){var t=void 0===n.config.minDate||(0,a.compareDates)(new Date,n.config.minDate)>=0?new Date:new Date(n.config.minDate.getTime()),o=(0,a.getDefaultHours)(n.config);t.setHours(o.hours,o.minutes,o.seconds,t.getMilliseconds()),n.selectedDates=[t],n.latestSelectedDateObj=t}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,o=(0,s.getEventTarget)(e),r=o;void 0!==n.amPM&&o===n.amPM&&(n.amPM.textContent=n.l10n.amPM[(0,i.int)(n.amPM.textContent===n.l10n.amPM[0])]);var a=parseFloat(r.getAttribute("min")),l=parseFloat(r.getAttribute("max")),c=parseFloat(r.getAttribute("step")),d=parseInt(r.value,10),u=e.delta||(t?38===e.which?1:-1:0),h=d+c*u;if(void 0!==r.value&&2===r.value.length){var m=r===n.hourElement,p=r===n.minuteElement;h<a?(h=l+h+(0,i.int)(!m)+((0,i.int)(m)&&(0,i.int)(!n.amPM)),p&&j(void 0,-1,n.hourElement)):h>l&&(h=r===n.hourElement?h-l-(0,i.int)(!n.amPM):a,p&&j(void 0,1,n.hourElement)),n.amPM&&m&&(1===c?h+d===23:Math.abs(h-d)>c)&&(n.amPM.textContent=n.l10n.amPM[(0,i.int)(n.amPM.textContent===n.l10n.amPM[0])]),r.value=(0,i.pad)(h)}}(e);var r=n._input.value;v(),ce(),n._input.value!==r&&n._debouncedChange()}function v(){if(void 0!==n.hourElement&&void 0!==n.minuteElement){var e,t,o=(parseInt(n.hourElement.value.slice(-2),10)||0)%24,r=(parseInt(n.minuteElement.value,10)||0)%60,s=void 0!==n.secondElement?(parseInt(n.secondElement.value,10)||0)%60:0;void 0!==n.amPM&&(e=o,t=n.amPM.textContent,o=e%12+12*(0,i.int)(t===n.l10n.amPM[1]));var l=void 0!==n.config.minTime||n.config.minDate&&n.minDateHasTime&&n.latestSelectedDateObj&&0===(0,a.compareDates)(n.latestSelectedDateObj,n.config.minDate,!0),c=void 0!==n.config.maxTime||n.config.maxDate&&n.maxDateHasTime&&n.latestSelectedDateObj&&0===(0,a.compareDates)(n.latestSelectedDateObj,n.config.maxDate,!0);if(void 0!==n.config.maxTime&&void 0!==n.config.minTime&&n.config.minTime>n.config.maxTime){var d=(0,a.calculateSecondsSinceMidnight)(n.config.minTime.getHours(),n.config.minTime.getMinutes(),n.config.minTime.getSeconds()),u=(0,a.calculateSecondsSinceMidnight)(n.config.maxTime.getHours(),n.config.maxTime.getMinutes(),n.config.maxTime.getSeconds()),h=(0,a.calculateSecondsSinceMidnight)(o,r,s);if(h>u&&h<d){var m=(0,a.parseSeconds)(d);o=m[0],r=m[1],s=m[2]}}else{if(c){var p=void 0!==n.config.maxTime?n.config.maxTime:n.config.maxDate;(o=Math.min(o,p.getHours()))===p.getHours()&&(r=Math.min(r,p.getMinutes())),r===p.getMinutes()&&(s=Math.min(s,p.getSeconds()))}if(l){var f=void 0!==n.config.minTime?n.config.minTime:n.config.minDate;(o=Math.max(o,f.getHours()))===f.getHours()&&r<f.getMinutes()&&(r=f.getMinutes()),r===f.getMinutes()&&(s=Math.max(s,f.getSeconds()))}}y(o,r,s)}}function b(e){var t=e||n.latestSelectedDateObj;t&&t instanceof Date&&y(t.getHours(),t.getMinutes(),t.getSeconds())}function y(e,t,o){void 0!==n.latestSelectedDateObj&&n.latestSelectedDateObj.setHours(e%24,t,o||0,0),n.hourElement&&n.minuteElement&&!n.isMobile&&(n.hourElement.value=(0,i.pad)(n.config.time_24hr?e:(12+e)%12+12*(0,i.int)(e%12==0)),n.minuteElement.value=(0,i.pad)(t),void 0!==n.amPM&&(n.amPM.textContent=n.l10n.amPM[(0,i.int)(e>=12)]),void 0!==n.secondElement&&(n.secondElement.value=(0,i.pad)(o)))}function w(e){var t=(0,s.getEventTarget)(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&H(n)}function x(e,t,o,r){return t instanceof Array?t.forEach((function(t){return x(e,t,o,r)})):e instanceof Array?e.forEach((function(e){return x(e,t,o,r)})):(e.addEventListener(t,o,r),void n._handlers.push({remove:function(){return e.removeEventListener(t,o,r)}}))}function _(){re("onChange")}function S(e,t){var o=void 0!==e?n.parseDate(e):n.latestSelectedDateObj||(n.config.minDate&&n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now),r=n.currentYear,i=n.currentMonth;try{void 0!==o&&(n.currentYear=o.getFullYear(),n.currentMonth=o.getMonth())}catch(e){e.message="Invalid date supplied: "+o,n.config.errorHandler(e)}t&&n.currentYear!==r&&(re("onYearChange"),M()),!t||n.currentYear===r&&n.currentMonth===i||re("onMonthChange"),n.redraw()}function C(e){var t=(0,s.getEventTarget)(e);~t.className.indexOf("arrow")&&j(e,t.classList.contains("arrowUp")?1:-1)}function j(e,t,n){var o=e&&(0,s.getEventTarget)(e),r=n||o&&o.parentNode&&o.parentNode.firstChild,i=ie("increment");i.delta=t,r&&r.dispatchEvent(i)}function k(e,t,o,r){var i=V(t,!0),l=(0,s.createElement)("span",e,t.getDate().toString());return l.dateObj=t,l.$i=r,l.setAttribute("aria-label",n.formatDate(t,n.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===(0,a.compareDates)(t,n.now)&&(n.todayDateElem=l,l.classList.add("today"),l.setAttribute("aria-current","date")),i?(l.tabIndex=-1,se(t)&&(l.classList.add("selected"),n.selectedDateElem=l,"range"===n.config.mode&&((0,s.toggleClass)(l,"startRange",n.selectedDates[0]&&0===(0,a.compareDates)(t,n.selectedDates[0],!0)),(0,s.toggleClass)(l,"endRange",n.selectedDates[1]&&0===(0,a.compareDates)(t,n.selectedDates[1],!0)),"nextMonthDay"===e&&l.classList.add("inRange")))):l.classList.add("flatpickr-disabled"),"range"===n.config.mode&&function(e){return!("range"!==n.config.mode||n.selectedDates.length<2)&&((0,a.compareDates)(e,n.selectedDates[0])>=0&&(0,a.compareDates)(e,n.selectedDates[1])<=0)}(t)&&!se(t)&&l.classList.add("inRange"),n.weekNumbers&&1===n.config.showMonths&&"prevMonthDay"!==e&&r%7==6&&n.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+n.config.getWeek(t)+"</span>"),re("onDayCreate",l),l}function E(e){e.focus(),"range"===n.config.mode&&q(e)}function O(e){for(var t=e>0?0:n.config.showMonths-1,o=e>0?n.config.showMonths:-1,r=t;r!=o;r+=e)for(var i=n.daysContainer.children[r],s=e>0?0:i.children.length-1,a=e>0?i.children.length:-1,l=s;l!=a;l+=e){var c=i.children[l];if(-1===c.className.indexOf("hidden")&&V(c.dateObj))return c}}function A(e,t){var o=h(),r=z(o||document.body),i=void 0!==e?e:r?o:void 0!==n.selectedDateElem&&z(n.selectedDateElem)?n.selectedDateElem:void 0!==n.todayDateElem&&z(n.todayDateElem)?n.todayDateElem:O(t>0?1:-1);void 0===i?n._input.focus():r?function(e,t){for(var o=-1===e.className.indexOf("Month")?e.dateObj.getMonth():n.currentMonth,r=t>0?n.config.showMonths:-1,i=t>0?1:-1,s=o-n.currentMonth;s!=r;s+=i)for(var a=n.daysContainer.children[s],l=o-n.currentMonth===s?e.$i+t:t<0?a.children.length-1:0,c=a.children.length,d=l;d>=0&&d<c&&d!=(t>0?c:-1);d+=i){var u=a.children[d];if(-1===u.className.indexOf("hidden")&&V(u.dateObj)&&Math.abs(e.$i-d)>=Math.abs(t))return E(u)}n.changeMonth(i),A(O(i),0)}(i,t):E(i)}function T(e,t){for(var o=(new Date(e,t,1).getDay()-n.l10n.firstDayOfWeek+7)%7,r=n.utils.getDaysInMonth((t-1+12)%12,e),i=n.utils.getDaysInMonth(t,e),a=window.document.createDocumentFragment(),l=n.config.showMonths>1,c=l?"prevMonthDay hidden":"prevMonthDay",d=l?"nextMonthDay hidden":"nextMonthDay",u=r+1-o,h=0;u<=r;u++,h++)a.appendChild(k("flatpickr-day "+c,new Date(e,t-1,u),0,h));for(u=1;u<=i;u++,h++)a.appendChild(k("flatpickr-day",new Date(e,t,u),0,h));for(var m=i+1;m<=42-o&&(1===n.config.showMonths||h%7!=0);m++,h++)a.appendChild(k("flatpickr-day "+d,new Date(e,t+1,m%i),0,h));var p=(0,s.createElement)("div","dayContainer");return p.appendChild(a),p}function D(){if(void 0!==n.daysContainer){(0,s.clearNode)(n.daysContainer),n.weekNumbers&&(0,s.clearNode)(n.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<n.config.showMonths;t++){var o=new Date(n.currentYear,n.currentMonth,1);o.setMonth(n.currentMonth+t),e.appendChild(T(o.getFullYear(),o.getMonth()))}n.daysContainer.appendChild(e),n.days=n.daysContainer.firstChild,"range"===n.config.mode&&1===n.selectedDates.length&&q()}}function M(){if(!(n.config.showMonths>1||"dropdown"!==n.config.monthSelectorType)){var e=function(e){return!(void 0!==n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&e<n.config.minDate.getMonth())&&!(void 0!==n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()&&e>n.config.maxDate.getMonth())};n.monthsDropdownContainer.tabIndex=-1,n.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var o=(0,s.createElement)("option","flatpickr-monthDropdown-month");o.value=new Date(n.currentYear,t).getMonth().toString(),o.textContent=(0,l.monthToStr)(t,n.config.shorthandCurrentMonth,n.l10n),o.tabIndex=-1,n.currentMonth===t&&(o.selected=!0),n.monthsDropdownContainer.appendChild(o)}}}function P(){var e,t=(0,s.createElement)("div","flatpickr-month"),o=window.document.createDocumentFragment();n.config.showMonths>1||"static"===n.config.monthSelectorType?e=(0,s.createElement)("span","cur-month"):(n.monthsDropdownContainer=(0,s.createElement)("select","flatpickr-monthDropdown-months"),n.monthsDropdownContainer.setAttribute("aria-label",n.l10n.monthAriaLabel),x(n.monthsDropdownContainer,"change",(function(e){var t=(0,s.getEventTarget)(e),o=parseInt(t.value,10);n.changeMonth(o-n.currentMonth),re("onMonthChange")})),M(),e=n.monthsDropdownContainer);var r=(0,s.createNumberInput)("cur-year",{tabindex:"-1"}),i=r.getElementsByTagName("input")[0];i.setAttribute("aria-label",n.l10n.yearAriaLabel),n.config.minDate&&i.setAttribute("min",n.config.minDate.getFullYear().toString()),n.config.maxDate&&(i.setAttribute("max",n.config.maxDate.getFullYear().toString()),i.disabled=!!n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear());var a=(0,s.createElement)("div","flatpickr-current-month");return a.appendChild(e),a.appendChild(r),o.appendChild(a),t.appendChild(o),{container:t,yearElement:i,monthElement:e}}function R(){(0,s.clearNode)(n.monthNav),n.monthNav.appendChild(n.prevMonthNav),n.config.showMonths&&(n.yearElements=[],n.monthElements=[]);for(var e=n.config.showMonths;e--;){var t=P();n.yearElements.push(t.yearElement),n.monthElements.push(t.monthElement),n.monthNav.appendChild(t.container)}n.monthNav.appendChild(n.nextMonthNav)}function N(){n.weekdayContainer?(0,s.clearNode)(n.weekdayContainer):n.weekdayContainer=(0,s.createElement)("div","flatpickr-weekdays");for(var e=n.config.showMonths;e--;){var t=(0,s.createElement)("div","flatpickr-weekdaycontainer");n.weekdayContainer.appendChild(t)}return L(),n.weekdayContainer}function L(){if(n.weekdayContainer){var e=n.l10n.firstDayOfWeek,t=d(n.l10n.weekdays.shorthand);e>0&&e<t.length&&(t=d(t.splice(e,t.length),t.splice(0,e)));for(var o=n.config.showMonths;o--;)n.weekdayContainer.children[o].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function I(e,t){void 0===t&&(t=!0);var o=t?e:e-n.currentMonth;o<0&&!0===n._hidePrevMonthArrow||o>0&&!0===n._hideNextMonthArrow||(n.currentMonth+=o,(n.currentMonth<0||n.currentMonth>11)&&(n.currentYear+=n.currentMonth>11?1:-1,n.currentMonth=(n.currentMonth+12)%12,re("onYearChange"),M()),D(),re("onMonthChange"),ae())}function B(e){return n.calendarContainer.contains(e)}function F(e){if(n.isOpen&&!n.config.inline){var t=(0,s.getEventTarget)(e),o=B(t),r=!(t===n.input||t===n.altInput||n.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(n.input)||~e.path.indexOf(n.altInput)))&&!o&&!B(e.relatedTarget),i=!n.config.ignoredFocusElements.some((function(e){return e.contains(t)}));r&&i&&(n.config.allowInput&&n.setDate(n._input.value,!1,n.config.altInput?n.config.altFormat:n.config.dateFormat),void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement&&""!==n.input.value&&void 0!==n.input.value&&g(),n.close(),n.config&&"range"===n.config.mode&&1===n.selectedDates.length&&n.clear(!1))}}function H(e){if(!(!e||n.config.minDate&&e<n.config.minDate.getFullYear()||n.config.maxDate&&e>n.config.maxDate.getFullYear())){var t=e,o=n.currentYear!==t;n.currentYear=t||n.currentYear,n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth):n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&(n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)),o&&(n.redraw(),re("onYearChange"),M())}}function V(e,t){var o;void 0===t&&(t=!0);var r=n.parseDate(e,void 0,t);if(n.config.minDate&&r&&(0,a.compareDates)(r,n.config.minDate,void 0!==t?t:!n.minDateHasTime)<0||n.config.maxDate&&r&&(0,a.compareDates)(r,n.config.maxDate,void 0!==t?t:!n.maxDateHasTime)>0)return!1;if(!n.config.enable&&0===n.config.disable.length)return!0;if(void 0===r)return!1;for(var i=!!n.config.enable,s=null!==(o=n.config.enable)&&void 0!==o?o:n.config.disable,l=0,c=void 0;l<s.length;l++){if("function"==typeof(c=s[l])&&c(r))return i;if(c instanceof Date&&void 0!==r&&c.getTime()===r.getTime())return i;if("string"==typeof c){var d=n.parseDate(c,void 0,!0);return d&&d.getTime()===r.getTime()?i:!i}if("object"==typeof c&&void 0!==r&&c.from&&c.to&&r.getTime()>=c.from.getTime()&&r.getTime()<=c.to.getTime())return i}return!i}function z(e){return void 0!==n.daysContainer&&(-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&n.daysContainer.contains(e))}function U(e){var t=e.target===n._input,o=n._input.value.trimEnd()!==le();!t||!o||e.relatedTarget&&B(e.relatedTarget)||n.setDate(n._input.value,!0,e.target===n.altInput?n.config.altFormat:n.config.dateFormat)}function W(t){var o=(0,s.getEventTarget)(t),r=n.config.wrap?e.contains(o):o===n._input,i=n.config.allowInput,a=n.isOpen&&(!i||!r),l=n.config.inline&&r&&!i;if(13===t.keyCode&&r){if(i)return n.setDate(n._input.value,!0,o===n.altInput?n.config.altFormat:n.config.dateFormat),n.close(),o.blur();n.open()}else if(B(o)||a||l){var c=!!n.timeContainer&&n.timeContainer.contains(o);switch(t.keyCode){case 13:c?(t.preventDefault(),g(),Q()):J(t);break;case 27:t.preventDefault(),Q();break;case 8:case 46:r&&!n.config.allowInput&&(t.preventDefault(),n.clear());break;case 37:case 39:if(c||r)n.hourElement&&n.hourElement.focus();else{t.preventDefault();var d=h();if(void 0!==n.daysContainer&&(!1===i||d&&z(d))){var u=39===t.keyCode?1:-1;t.ctrlKey?(t.stopPropagation(),I(u),A(O(1),0)):A(void 0,u)}}break;case 38:case 40:t.preventDefault();var m=40===t.keyCode?1:-1;n.daysContainer&&void 0!==o.$i||o===n.input||o===n.altInput?t.ctrlKey?(t.stopPropagation(),H(n.currentYear-m),A(O(1),0)):c||A(void 0,7*m):o===n.currentYearElement?H(n.currentYear-m):n.config.enableTime&&(!c&&n.hourElement&&n.hourElement.focus(),g(t),n._debouncedChange());break;case 9:if(c){var p=[n.hourElement,n.minuteElement,n.secondElement,n.amPM].concat(n.pluginElements).filter((function(e){return e})),f=p.indexOf(o);if(-1!==f){var b=p[f+(t.shiftKey?-1:1)];t.preventDefault(),(b||n._input).focus()}}else!n.config.noCalendar&&n.daysContainer&&n.daysContainer.contains(o)&&t.shiftKey&&(t.preventDefault(),n._input.focus())}}if(void 0!==n.amPM&&o===n.amPM)switch(t.key){case n.l10n.amPM[0].charAt(0):case n.l10n.amPM[0].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[0],v(),ce();break;case n.l10n.amPM[1].charAt(0):case n.l10n.amPM[1].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[1],v(),ce()}(r||B(o))&&re("onKeyDown",t)}function q(e,t){if(void 0===t&&(t="flatpickr-day"),1===n.selectedDates.length&&(!e||e.classList.contains(t)&&!e.classList.contains("flatpickr-disabled"))){for(var o=e?e.dateObj.getTime():n.days.firstElementChild.dateObj.getTime(),r=n.parseDate(n.selectedDates[0],void 0,!0).getTime(),i=Math.min(o,n.selectedDates[0].getTime()),s=Math.max(o,n.selectedDates[0].getTime()),l=!1,c=0,d=0,u=i;u<s;u+=a.duration.DAY)V(new Date(u),!0)||(l=l||u>i&&u<s,u<r&&(!c||u>c)?c=u:u>r&&(!d||u<d)&&(d=u));Array.from(n.rContainer.querySelectorAll("*:nth-child(-n+"+n.config.showMonths+") > ."+t)).forEach((function(t){var i=t.dateObj.getTime(),s=c>0&&i<c||d>0&&i>d;if(s)return t.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach((function(e){t.classList.remove(e)}));l&&!s||(["startRange","inRange","endRange","notAllowed"].forEach((function(e){t.classList.remove(e)})),void 0!==e&&(e.classList.add(o<=n.selectedDates[0].getTime()?"startRange":"endRange"),r<o&&i===r?t.classList.add("startRange"):r>o&&i===r&&t.classList.add("endRange"),i>=c&&(0===d||i<=d)&&(0,a.isBetween)(i,r,o)&&t.classList.add("inRange")))}))}}function Z(){!n.isOpen||n.config.static||n.config.inline||K()}function G(e){return function(t){var o=n.config["_"+e+"Date"]=n.parseDate(t,n.config.dateFormat),r=n.config["_"+("min"===e?"max":"min")+"Date"];void 0!==o&&(n["min"===e?"minDateHasTime":"maxDateHasTime"]=o.getHours()>0||o.getMinutes()>0||o.getSeconds()>0),n.selectedDates&&(n.selectedDates=n.selectedDates.filter((function(e){return V(e)})),n.selectedDates.length||"min"!==e||b(o),ce()),n.daysContainer&&(X(),void 0!==o?n.currentYearElement[e]=o.getFullYear().toString():n.currentYearElement.removeAttribute(e),n.currentYearElement.disabled=!!r&&void 0!==o&&r.getFullYear()===o.getFullYear())}}function $(){return n.config.wrap?e.querySelector("[data-input]"):e}function Y(){"object"!=typeof n.config.locale&&void 0===p.l10ns[n.config.locale]&&n.config.errorHandler(new Error("flatpickr: invalid locale "+n.config.locale)),n.l10n=c(c({},p.l10ns.default),"object"==typeof n.config.locale?n.config.locale:"default"!==n.config.locale?p.l10ns[n.config.locale]:void 0),l.tokenRegex.D="("+n.l10n.weekdays.shorthand.join("|")+")",l.tokenRegex.l="("+n.l10n.weekdays.longhand.join("|")+")",l.tokenRegex.M="("+n.l10n.months.shorthand.join("|")+")",l.tokenRegex.F="("+n.l10n.months.longhand.join("|")+")",l.tokenRegex.K="("+n.l10n.amPM[0]+"|"+n.l10n.amPM[1]+"|"+n.l10n.amPM[0].toLowerCase()+"|"+n.l10n.amPM[1].toLowerCase()+")",void 0===c(c({},t),JSON.parse(JSON.stringify(e.dataset||{}))).time_24hr&&void 0===p.defaultConfig.time_24hr&&(n.config.time_24hr=n.l10n.time_24hr),n.formatDate=(0,a.createDateFormatter)(n),n.parseDate=(0,a.createDateParser)({config:n.config,l10n:n.l10n})}function K(e){if("function"!=typeof n.config.position){if(void 0!==n.calendarContainer){re("onPreCalendarPosition");var t=e||n._positionElement,o=Array.prototype.reduce.call(n.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),r=n.calendarContainer.offsetWidth,i=n.config.position.split(" "),a=i[0],l=i.length>1?i[1]:null,c=t.getBoundingClientRect(),d=window.innerHeight-c.bottom,u="above"===a||"below"!==a&&d<o&&c.top>o,h=window.pageYOffset+c.top+(u?-o-2:t.offsetHeight+2);if((0,s.toggleClass)(n.calendarContainer,"arrowTop",!u),(0,s.toggleClass)(n.calendarContainer,"arrowBottom",u),!n.config.inline){var m=window.pageXOffset+c.left,p=!1,f=!1;"center"===l?(m-=(r-c.width)/2,p=!0):"right"===l&&(m-=r-c.width,f=!0),(0,s.toggleClass)(n.calendarContainer,"arrowLeft",!p&&!f),(0,s.toggleClass)(n.calendarContainer,"arrowCenter",p),(0,s.toggleClass)(n.calendarContainer,"arrowRight",f);var g=window.document.body.offsetWidth-(window.pageXOffset+c.right),v=m+r>window.document.body.offsetWidth,b=g+r>window.document.body.offsetWidth;if((0,s.toggleClass)(n.calendarContainer,"rightMost",v),!n.config.static)if(n.calendarContainer.style.top=h+"px",v)if(b){var y=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];if(n.cssRules){try{n.cssRules}catch(e){continue}e=n;break}}return null!=e?e:(o=document.createElement("style"),document.head.appendChild(o),o.sheet);var o}();if(void 0===y)return;var w=window.document.body.offsetWidth,x=Math.max(0,w/2-r/2),_=y.cssRules.length,S="{left:"+c.left+"px;right:auto;}";(0,s.toggleClass)(n.calendarContainer,"rightMost",!1),(0,s.toggleClass)(n.calendarContainer,"centerMost",!0),y.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+S,_),n.calendarContainer.style.left=x+"px",n.calendarContainer.style.right="auto"}else n.calendarContainer.style.left="auto",n.calendarContainer.style.right=g+"px";else n.calendarContainer.style.left=m+"px",n.calendarContainer.style.right="auto"}}}else n.config.position(n,e)}function X(){n.config.noCalendar||n.isMobile||(M(),ae(),D())}function Q(){n._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(n.close,0):n.close()}function J(e){e.preventDefault(),e.stopPropagation();var t=(0,s.findParent)((0,s.getEventTarget)(e),(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var o=t,r=n.latestSelectedDateObj=new Date(o.dateObj.getTime()),i=(r.getMonth()<n.currentMonth||r.getMonth()>n.currentMonth+n.config.showMonths-1)&&"range"!==n.config.mode;if(n.selectedDateElem=o,"single"===n.config.mode)n.selectedDates=[r];else if("multiple"===n.config.mode){var l=se(r);l?n.selectedDates.splice(parseInt(l),1):n.selectedDates.push(r)}else"range"===n.config.mode&&(2===n.selectedDates.length&&n.clear(!1,!1),n.latestSelectedDateObj=r,n.selectedDates.push(r),0!==(0,a.compareDates)(r,n.selectedDates[0],!0)&&n.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(v(),i){var c=n.currentYear!==r.getFullYear();n.currentYear=r.getFullYear(),n.currentMonth=r.getMonth(),c&&(re("onYearChange"),M()),re("onMonthChange")}if(ae(),D(),ce(),i||"range"===n.config.mode||1!==n.config.showMonths?void 0!==n.selectedDateElem&&void 0===n.hourElement&&n.selectedDateElem&&n.selectedDateElem.focus():E(o),void 0!==n.hourElement&&void 0!==n.hourElement&&n.hourElement.focus(),n.config.closeOnSelect){var d="single"===n.config.mode&&!n.config.enableTime,u="range"===n.config.mode&&2===n.selectedDates.length&&!n.config.enableTime;(d||u)&&Q()}_()}}n.parseDate=(0,a.createDateParser)({config:n.config,l10n:n.l10n}),n._handlers=[],n.pluginElements=[],n.loadedPlugins=[],n._bind=x,n._setHoursFromDate=b,n._positionCalendar=K,n.changeMonth=I,n.changeYear=H,n.clear=function(e,t){void 0===e&&(e=!0);void 0===t&&(t=!0);n.input.value="",void 0!==n.altInput&&(n.altInput.value="");void 0!==n.mobileInput&&(n.mobileInput.value="");n.selectedDates=[],n.latestSelectedDateObj=void 0,!0===t&&(n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth());if(!0===n.config.enableTime){var o=(0,a.getDefaultHours)(n.config);y(o.hours,o.minutes,o.seconds)}n.redraw(),e&&re("onChange")},n.close=function(){n.isOpen=!1,n.isMobile||(void 0!==n.calendarContainer&&n.calendarContainer.classList.remove("open"),void 0!==n._input&&n._input.classList.remove("active"));re("onClose")},n.onMouseOver=q,n._createElement=s.createElement,n.createDay=k,n.destroy=function(){void 0!==n.config&&re("onDestroy");for(var e=n._handlers.length;e--;)n._handlers[e].remove();if(n._handlers=[],n.mobileInput)n.mobileInput.parentNode&&n.mobileInput.parentNode.removeChild(n.mobileInput),n.mobileInput=void 0;else if(n.calendarContainer&&n.calendarContainer.parentNode)if(n.config.static&&n.calendarContainer.parentNode){var t=n.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else n.calendarContainer.parentNode.removeChild(n.calendarContainer);n.altInput&&(n.input.type="text",n.altInput.parentNode&&n.altInput.parentNode.removeChild(n.altInput),delete n.altInput);n.input&&(n.input.type=n.input._type,n.input.classList.remove("flatpickr-input"),n.input.removeAttribute("readonly"));["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete n[e]}catch(e){}}))},n.isEnabled=V,n.jumpToDate=S,n.updateValue=ce,n.open=function(e,t){void 0===t&&(t=n._positionElement);if(!0===n.isMobile){if(e){e.preventDefault();var o=(0,s.getEventTarget)(e);o&&o.blur()}return void 0!==n.mobileInput&&(n.mobileInput.focus(),n.mobileInput.click()),void re("onOpen")}if(n._input.disabled||n.config.inline)return;var r=n.isOpen;n.isOpen=!0,r||(n.calendarContainer.classList.add("open"),n._input.classList.add("active"),re("onOpen"),K(t));!0===n.config.enableTime&&!0===n.config.noCalendar&&(!1!==n.config.allowInput||void 0!==e&&n.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return n.hourElement.select()}),50))},n.redraw=X,n.set=function(e,t){if(null!==e&&"object"==typeof e)for(var r in Object.assign(n.config,e),e)void 0!==ee[r]&&ee[r].forEach((function(e){return e()}));else n.config[e]=t,void 0!==ee[e]?ee[e].forEach((function(e){return e()})):o.HOOKS.indexOf(e)>-1&&(n.config[e]=(0,i.arrayify)(t));n.redraw(),ce(!0)},n.setDate=function(e,t,o){void 0===t&&(t=!1);void 0===o&&(o=n.config.dateFormat);if(0!==e&&!e||e instanceof Array&&0===e.length)return n.clear(t);te(e,o),n.latestSelectedDateObj=n.selectedDates[n.selectedDates.length-1],n.redraw(),S(void 0,t),b(),0===n.selectedDates.length&&n.clear(!1);ce(t),t&&re("onChange")},n.toggle=function(e){if(!0===n.isOpen)return n.close();n.open(e)};var ee={locale:[Y,L],showMonths:[R,f,N],minDate:[S],maxDate:[S],positionElement:[oe],clickOpens:[function(){!0===n.config.clickOpens?(x(n._input,"focus",n.open),x(n._input,"click",n.open)):(n._input.removeEventListener("focus",n.open),n._input.removeEventListener("click",n.open))}]};function te(e,t){var o=[];if(e instanceof Array)o=e.map((function(e){return n.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)o=[n.parseDate(e,t)];else if("string"==typeof e)switch(n.config.mode){case"single":case"time":o=[n.parseDate(e,t)];break;case"multiple":o=e.split(n.config.conjunction).map((function(e){return n.parseDate(e,t)}));break;case"range":o=e.split(n.l10n.rangeSeparator).map((function(e){return n.parseDate(e,t)}))}else n.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));n.selectedDates=n.config.allowInvalidPreload?o:o.filter((function(e){return e instanceof Date&&V(e,!1)})),"range"===n.config.mode&&n.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function ne(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?n.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:n.parseDate(e.from,void 0),to:n.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function oe(){n._positionElement=n.config.positionElement||n._input}function re(e,t){if(void 0!==n.config){var o=n.config[e];if(void 0!==o&&o.length>0)for(var r=0;o[r]&&r<o.length;r++)o[r](n.selectedDates,n.input.value,n,t);"onChange"===e&&(n.input.dispatchEvent(ie("change")),n.input.dispatchEvent(ie("input")))}}function ie(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function se(e){for(var t=0;t<n.selectedDates.length;t++){var o=n.selectedDates[t];if(o instanceof Date&&0===(0,a.compareDates)(o,e))return""+t}return!1}function ae(){n.config.noCalendar||n.isMobile||!n.monthNav||(n.yearElements.forEach((function(e,t){var o=new Date(n.currentYear,n.currentMonth,1);o.setMonth(n.currentMonth+t),n.config.showMonths>1||"static"===n.config.monthSelectorType?n.monthElements[t].textContent=(0,l.monthToStr)(o.getMonth(),n.config.shorthandCurrentMonth,n.l10n)+" ":n.monthsDropdownContainer.value=o.getMonth().toString(),e.value=o.getFullYear().toString()})),n._hidePrevMonthArrow=void 0!==n.config.minDate&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear()),n._hideNextMonthArrow=void 0!==n.config.maxDate&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear()))}function le(e){var t=e||(n.config.altInput?n.config.altFormat:n.config.dateFormat);return n.selectedDates.map((function(e){return n.formatDate(e,t)})).filter((function(e,t,o){return"range"!==n.config.mode||n.config.enableTime||o.indexOf(e)===t})).join("range"!==n.config.mode?n.config.conjunction:n.l10n.rangeSeparator)}function ce(e){void 0===e&&(e=!0),void 0!==n.mobileInput&&n.mobileFormatStr&&(n.mobileInput.value=void 0!==n.latestSelectedDateObj?n.formatDate(n.latestSelectedDateObj,n.mobileFormatStr):""),n.input.value=le(n.config.dateFormat),void 0!==n.altInput&&(n.altInput.value=le(n.config.altFormat)),!1!==e&&re("onValueUpdate")}function de(e){var t=(0,s.getEventTarget)(e),o=n.prevMonthNav.contains(t),r=n.nextMonthNav.contains(t);o||r?I(o?-1:1):n.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?n.changeYear(n.currentYear+1):t.classList.contains("arrowDown")&&n.changeYear(n.currentYear-1)}return function(){n.element=n.input=e,n.isOpen=!1,function(){var r=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],s=c(c({},JSON.parse(JSON.stringify(e.dataset||{}))),t),a={};n.config.parseDate=s.parseDate,n.config.formatDate=s.formatDate,Object.defineProperty(n.config,"enable",{get:function(){return n.config._enable},set:function(e){n.config._enable=ne(e)}}),Object.defineProperty(n.config,"disable",{get:function(){return n.config._disable},set:function(e){n.config._disable=ne(e)}});var l="time"===s.mode;if(!s.dateFormat&&(s.enableTime||l)){var d=p.defaultConfig.dateFormat||o.defaults.dateFormat;a.dateFormat=s.noCalendar||l?"H:i"+(s.enableSeconds?":S":""):d+" H:i"+(s.enableSeconds?":S":"")}if(s.altInput&&(s.enableTime||l)&&!s.altFormat){var u=p.defaultConfig.altFormat||o.defaults.altFormat;a.altFormat=s.noCalendar||l?"h:i"+(s.enableSeconds?":S K":" K"):u+" h:i"+(s.enableSeconds?":S":"")+" K"}Object.defineProperty(n.config,"minDate",{get:function(){return n.config._minDate},set:G("min")}),Object.defineProperty(n.config,"maxDate",{get:function(){return n.config._maxDate},set:G("max")});var h=function(e){return function(t){n.config["min"===e?"_minTime":"_maxTime"]=n.parseDate(t,"H:i:S")}};Object.defineProperty(n.config,"minTime",{get:function(){return n.config._minTime},set:h("min")}),Object.defineProperty(n.config,"maxTime",{get:function(){return n.config._maxTime},set:h("max")}),"time"===s.mode&&(n.config.noCalendar=!0,n.config.enableTime=!0);Object.assign(n.config,a,s);for(var f=0;f<r.length;f++)n.config[r[f]]=!0===n.config[r[f]]||"true"===n.config[r[f]];o.HOOKS.filter((function(e){return void 0!==n.config[e]})).forEach((function(e){n.config[e]=(0,i.arrayify)(n.config[e]||[]).map(m)})),n.isMobile=!n.config.disableMobile&&!n.config.inline&&"single"===n.config.mode&&!n.config.disable.length&&!n.config.enable&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(f=0;f<n.config.plugins.length;f++){var g=n.config.plugins[f](n)||{};for(var v in g)o.HOOKS.indexOf(v)>-1?n.config[v]=(0,i.arrayify)(g[v]).map(m).concat(n.config[v]):void 0===s[v]&&(n.config[v]=g[v])}s.altInputClass||(n.config.altInputClass=$().className+" "+n.config.altInputClass);re("onParseConfig")}(),Y(),function(){if(n.input=$(),!n.input)return void n.config.errorHandler(new Error("Invalid input element specified"));n.input._type=n.input.type,n.input.type="text",n.input.classList.add("flatpickr-input"),n._input=n.input,n.config.altInput&&(n.altInput=(0,s.createElement)(n.input.nodeName,n.config.altInputClass),n._input=n.altInput,n.altInput.placeholder=n.input.placeholder,n.altInput.disabled=n.input.disabled,n.altInput.required=n.input.required,n.altInput.tabIndex=n.input.tabIndex,n.altInput.type="text",n.input.setAttribute("type","hidden"),!n.config.static&&n.input.parentNode&&n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling));n.config.allowInput||n._input.setAttribute("readonly","readonly");oe()}(),function(){n.selectedDates=[],n.now=n.parseDate(n.config.now)||new Date;var e=n.config.defaultDate||("INPUT"!==n.input.nodeName&&"TEXTAREA"!==n.input.nodeName||!n.input.placeholder||n.input.value!==n.input.placeholder?n.input.value:null);e&&te(e,n.config.dateFormat);n._initialDate=n.selectedDates.length>0?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now.getTime()?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now.getTime()?n.config.maxDate:n.now,n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth(),n.selectedDates.length>0&&(n.latestSelectedDateObj=n.selectedDates[0]);void 0!==n.config.minTime&&(n.config.minTime=n.parseDate(n.config.minTime,"H:i"));void 0!==n.config.maxTime&&(n.config.maxTime=n.parseDate(n.config.maxTime,"H:i"));n.minDateHasTime=!!n.config.minDate&&(n.config.minDate.getHours()>0||n.config.minDate.getMinutes()>0||n.config.minDate.getSeconds()>0),n.maxDateHasTime=!!n.config.maxDate&&(n.config.maxDate.getHours()>0||n.config.maxDate.getMinutes()>0||n.config.maxDate.getSeconds()>0)}(),n.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=n.currentMonth),void 0===t&&(t=n.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:n.l10n.daysInMonth[e]}},n.isMobile||function(){var e=window.document.createDocumentFragment();if(n.calendarContainer=(0,s.createElement)("div","flatpickr-calendar"),n.calendarContainer.tabIndex=-1,!n.config.noCalendar){if(e.appendChild((n.monthNav=(0,s.createElement)("div","flatpickr-months"),n.yearElements=[],n.monthElements=[],n.prevMonthNav=(0,s.createElement)("span","flatpickr-prev-month"),n.prevMonthNav.innerHTML=n.config.prevArrow,n.nextMonthNav=(0,s.createElement)("span","flatpickr-next-month"),n.nextMonthNav.innerHTML=n.config.nextArrow,R(),Object.defineProperty(n,"_hidePrevMonthArrow",{get:function(){return n.__hidePrevMonthArrow},set:function(e){n.__hidePrevMonthArrow!==e&&((0,s.toggleClass)(n.prevMonthNav,"flatpickr-disabled",e),n.__hidePrevMonthArrow=e)}}),Object.defineProperty(n,"_hideNextMonthArrow",{get:function(){return n.__hideNextMonthArrow},set:function(e){n.__hideNextMonthArrow!==e&&((0,s.toggleClass)(n.nextMonthNav,"flatpickr-disabled",e),n.__hideNextMonthArrow=e)}}),n.currentYearElement=n.yearElements[0],ae(),n.monthNav)),n.innerContainer=(0,s.createElement)("div","flatpickr-innerContainer"),n.config.weekNumbers){var t=function(){n.calendarContainer.classList.add("hasWeeks");var e=(0,s.createElement)("div","flatpickr-weekwrapper");e.appendChild((0,s.createElement)("span","flatpickr-weekday",n.l10n.weekAbbreviation));var t=(0,s.createElement)("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),o=t.weekWrapper,r=t.weekNumbers;n.innerContainer.appendChild(o),n.weekNumbers=r,n.weekWrapper=o}n.rContainer=(0,s.createElement)("div","flatpickr-rContainer"),n.rContainer.appendChild(N()),n.daysContainer||(n.daysContainer=(0,s.createElement)("div","flatpickr-days"),n.daysContainer.tabIndex=-1),D(),n.rContainer.appendChild(n.daysContainer),n.innerContainer.appendChild(n.rContainer),e.appendChild(n.innerContainer)}n.config.enableTime&&e.appendChild(function(){n.calendarContainer.classList.add("hasTime"),n.config.noCalendar&&n.calendarContainer.classList.add("noCalendar");var e=(0,a.getDefaultHours)(n.config);n.timeContainer=(0,s.createElement)("div","flatpickr-time"),n.timeContainer.tabIndex=-1;var t=(0,s.createElement)("span","flatpickr-time-separator",":"),o=(0,s.createNumberInput)("flatpickr-hour",{"aria-label":n.l10n.hourAriaLabel});n.hourElement=o.getElementsByTagName("input")[0];var r=(0,s.createNumberInput)("flatpickr-minute",{"aria-label":n.l10n.minuteAriaLabel});n.minuteElement=r.getElementsByTagName("input")[0],n.hourElement.tabIndex=n.minuteElement.tabIndex=-1,n.hourElement.value=(0,i.pad)(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),n.minuteElement.value=(0,i.pad)(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():e.minutes),n.hourElement.setAttribute("step",n.config.hourIncrement.toString()),n.minuteElement.setAttribute("step",n.config.minuteIncrement.toString()),n.hourElement.setAttribute("min",n.config.time_24hr?"0":"1"),n.hourElement.setAttribute("max",n.config.time_24hr?"23":"12"),n.hourElement.setAttribute("maxlength","2"),n.minuteElement.setAttribute("min","0"),n.minuteElement.setAttribute("max","59"),n.minuteElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(o),n.timeContainer.appendChild(t),n.timeContainer.appendChild(r),n.config.time_24hr&&n.timeContainer.classList.add("time24hr");if(n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");var l=(0,s.createNumberInput)("flatpickr-second");n.secondElement=l.getElementsByTagName("input")[0],n.secondElement.value=(0,i.pad)(n.latestSelectedDateObj?n.latestSelectedDateObj.getSeconds():e.seconds),n.secondElement.setAttribute("step",n.minuteElement.getAttribute("step")),n.secondElement.setAttribute("min","0"),n.secondElement.setAttribute("max","59"),n.secondElement.setAttribute("maxlength","2"),n.timeContainer.appendChild((0,s.createElement)("span","flatpickr-time-separator",":")),n.timeContainer.appendChild(l)}n.config.time_24hr||(n.amPM=(0,s.createElement)("span","flatpickr-am-pm",n.l10n.amPM[(0,i.int)((n.latestSelectedDateObj?n.hourElement.value:n.config.defaultHour)>11)]),n.amPM.title=n.l10n.toggleTitle,n.amPM.tabIndex=-1,n.timeContainer.appendChild(n.amPM));return n.timeContainer}());(0,s.toggleClass)(n.calendarContainer,"rangeMode","range"===n.config.mode),(0,s.toggleClass)(n.calendarContainer,"animate",!0===n.config.animate),(0,s.toggleClass)(n.calendarContainer,"multiMonth",n.config.showMonths>1),n.calendarContainer.appendChild(e);var l=void 0!==n.config.appendTo&&void 0!==n.config.appendTo.nodeType;if((n.config.inline||n.config.static)&&(n.calendarContainer.classList.add(n.config.inline?"inline":"static"),n.config.inline&&(!l&&n.element.parentNode?n.element.parentNode.insertBefore(n.calendarContainer,n._input.nextSibling):void 0!==n.config.appendTo&&n.config.appendTo.appendChild(n.calendarContainer)),n.config.static)){var c=(0,s.createElement)("div","flatpickr-wrapper");n.element.parentNode&&n.element.parentNode.insertBefore(c,n.element),c.appendChild(n.element),n.altInput&&c.appendChild(n.altInput),c.appendChild(n.calendarContainer)}n.config.static||n.config.inline||(void 0!==n.config.appendTo?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}(),function(){n.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(n.element.querySelectorAll("[data-"+e+"]"),(function(t){return x(t,"click",n[e])}))}));if(n.isMobile)return void function(){var e=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=(0,s.createElement)("input",n.input.className+" flatpickr-mobile"),n.mobileInput.tabIndex=1,n.mobileInput.type=e,n.mobileInput.disabled=n.input.disabled,n.mobileInput.required=n.input.required,n.mobileInput.placeholder=n.input.placeholder,n.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",n.selectedDates.length>0&&(n.mobileInput.defaultValue=n.mobileInput.value=n.formatDate(n.selectedDates[0],n.mobileFormatStr));n.config.minDate&&(n.mobileInput.min=n.formatDate(n.config.minDate,"Y-m-d"));n.config.maxDate&&(n.mobileInput.max=n.formatDate(n.config.maxDate,"Y-m-d"));n.input.getAttribute("step")&&(n.mobileInput.step=String(n.input.getAttribute("step")));n.input.type="hidden",void 0!==n.altInput&&(n.altInput.type="hidden");try{n.input.parentNode&&n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch(e){}x(n.mobileInput,"change",(function(e){n.setDate((0,s.getEventTarget)(e).value,!1,n.mobileFormatStr),re("onChange"),re("onClose")}))}();var e=(0,i.debounce)(Z,50);n._debouncedChange=(0,i.debounce)(_,u),n.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&x(n.daysContainer,"mouseover",(function(e){"range"===n.config.mode&&q((0,s.getEventTarget)(e))}));x(n._input,"keydown",W),void 0!==n.calendarContainer&&x(n.calendarContainer,"keydown",W);n.config.inline||n.config.static||x(window,"resize",e);void 0!==window.ontouchstart?x(window.document,"touchstart",F):x(window.document,"mousedown",F);x(window.document,"focus",F,{capture:!0}),!0===n.config.clickOpens&&(x(n._input,"focus",n.open),x(n._input,"click",n.open));void 0!==n.daysContainer&&(x(n.monthNav,"click",de),x(n.monthNav,["keyup","increment"],w),x(n.daysContainer,"click",J));if(void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement){var t=function(e){return(0,s.getEventTarget)(e).select()};x(n.timeContainer,["increment"],g),x(n.timeContainer,"blur",g,{capture:!0}),x(n.timeContainer,"click",C),x([n.hourElement,n.minuteElement],["focus","click"],t),void 0!==n.secondElement&&x(n.secondElement,"focus",(function(){return n.secondElement&&n.secondElement.select()})),void 0!==n.amPM&&x(n.amPM,"click",(function(e){g(e)}))}n.config.allowInput&&x(n._input,"blur",U)}(),(n.selectedDates.length||n.config.noCalendar)&&(n.config.enableTime&&b(n.config.noCalendar?n.latestSelectedDateObj:void 0),ce(!1)),f();var r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!n.isMobile&&r&&K(),re("onReady")}(),n}function m(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),o=[],r=0;r<n.length;r++){var i=n[r];try{if(null!==i.getAttribute("data-fp-omit"))continue;void 0!==i._flatpickr&&(i._flatpickr.destroy(),i._flatpickr=void 0),i._flatpickr=h(i,t||{}),o.push(i._flatpickr)}catch(e){console.error(e)}}return 1===o.length?o[0]:o}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return m(this,e)},HTMLElement.prototype.flatpickr=function(e){return m([this],e)});var p=function(e,t){return"string"==typeof e?m(window.document.querySelectorAll(e),t):e instanceof Node?m([e],t):m(e,t)};p.defaultConfig={},p.l10ns={en:c({},r.default),default:c({},r.default)},p.localize=function(e){p.l10ns.default=c(c({},p.l10ns.default),e)},p.setDefaults=function(e){p.defaultConfig=c(c({},p.defaultConfig),e)},p.parseDate=(0,a.createDateParser)({}),p.formatDate=(0,a.createDateFormatter)({}),p.compareDates=a.compareDates,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return m(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=p);const f=p},"./node_modules/flatpickr/dist/esm/l10n/default.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r,english:()=>o});var o={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1};const r=o},"./node_modules/flatpickr/dist/esm/types/options.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{HOOKS:()=>o,defaults:()=>r});var o=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],r={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1}},"./node_modules/flatpickr/dist/esm/utils/dates.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{calculateSecondsSinceMidnight:()=>u,compareDates:()=>l,compareTimes:()=>c,createDateFormatter:()=>s,createDateParser:()=>a,duration:()=>m,getDefaultHours:()=>p,isBetween:()=>d,parseSeconds:()=>h});var o=n("./node_modules/flatpickr/dist/esm/utils/formatting.js"),r=n("./node_modules/flatpickr/dist/esm/types/options.js"),i=n("./node_modules/flatpickr/dist/esm/l10n/default.js"),s=function(e){var t=e.config,n=void 0===t?r.defaults:t,s=e.l10n,a=void 0===s?i.english:s,l=e.isMobile,c=void 0!==l&&l;return function(e,t,r){var i=r||a;return void 0===n.formatDate||c?t.split("").map((function(t,r,s){return o.formats[t]&&"\\"!==s[r-1]?o.formats[t](e,i,n):"\\"!==t?t:""})).join(""):n.formatDate(e,t,i)}},a=function(e){var t=e.config,n=void 0===t?r.defaults:t,s=e.l10n,a=void 0===s?i.english:s;return function(e,t,i,s){if(0===e||e){var l,c=s||a,d=e;if(e instanceof Date)l=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)l=new Date(e);else if("string"==typeof e){var u=t||(n||r.defaults).dateFormat,h=String(e).trim();if("today"===h)l=new Date,i=!0;else if(n&&n.parseDate)l=n.parseDate(e,u);else if(/Z$/.test(h)||/GMT$/.test(h))l=new Date(e);else{for(var m=void 0,p=[],f=0,g=0,v="";f<u.length;f++){var b=u[f],y="\\"===b,w="\\"===u[f-1]||y;if(o.tokenRegex[b]&&!w){v+=o.tokenRegex[b];var x=new RegExp(v).exec(e);x&&(m=!0)&&p["Y"!==b?"push":"unshift"]({fn:o.revFormat[b],val:x[++g]})}else y||(v+=".")}l=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),p.forEach((function(e){var t=e.fn,n=e.val;return l=t(l,n,c)||l})),l=m?l:void 0}}if(l instanceof Date&&!isNaN(l.getTime()))return!0===i&&l.setHours(0,0,0,0),l;n.errorHandler(new Error("Invalid date provided: "+d))}}};function l(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}function c(e,t){return 3600*(e.getHours()-t.getHours())+60*(e.getMinutes()-t.getMinutes())+e.getSeconds()-t.getSeconds()}var d=function(e,t,n){return e>Math.min(t,n)&&e<Math.max(t,n)},u=function(e,t,n){return 3600*e+60*t+n},h=function(e){var t=Math.floor(e/3600),n=(e-3600*t)/60;return[t,n,e-3600*t-60*n]},m={DAY:864e5};function p(e){var t=e.defaultHour,n=e.defaultMinute,o=e.defaultSeconds;if(void 0!==e.minDate){var r=e.minDate.getHours(),i=e.minDate.getMinutes(),s=e.minDate.getSeconds();t<r&&(t=r),t===r&&n<i&&(n=i),t===r&&n===i&&o<s&&(o=e.minDate.getSeconds())}if(void 0!==e.maxDate){var a=e.maxDate.getHours(),l=e.maxDate.getMinutes();(t=Math.min(t,a))===a&&(n=Math.min(l,n)),t===a&&n===l&&(o=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:o}}},"./node_modules/flatpickr/dist/esm/utils/dom.js":(e,t,n)=>{"use strict";function o(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function r(e,t,n){var o=window.document.createElement(e);return t=t||"",n=n||"",o.className=t,void 0!==n&&(o.textContent=n),o}function i(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function s(e,t){return t(e)?e:e.parentNode?s(e.parentNode,t):void 0}function a(e,t){var n=r("div","numInputWrapper"),o=r("input","numInput "+e),i=r("span","arrowUp"),s=r("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?o.type="number":(o.type="text",o.pattern="\\d*"),void 0!==t)for(var a in t)o.setAttribute(a,t[a]);return n.appendChild(o),n.appendChild(i),n.appendChild(s),n}function l(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}n.r(t),n.d(t,{clearNode:()=>i,createElement:()=>r,createNumberInput:()=>a,findParent:()=>s,getEventTarget:()=>l,toggleClass:()=>o})},"./node_modules/flatpickr/dist/esm/utils/formatting.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{formats:()=>l,monthToStr:()=>i,revFormat:()=>s,tokenRegex:()=>a});var o=n("./node_modules/flatpickr/dist/esm/utils/index.js"),r=function(){},i=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},s={D:r,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*(0,o.int)(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var o=parseInt(t),r=new Date(e.getFullYear(),0,2+7*(o-1),0,0,0,0);return r.setDate(r.getDate()-r.getDay()+n.firstDayOfWeek),r},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:r,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:r,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},a={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},l={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[l.w(e,t,n)]},F:function(e,t,n){return i(l.n(e,t,n)-1,!1,t)},G:function(e,t,n){return(0,o.pad)(l.h(e,t,n))},H:function(e){return(0,o.pad)(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[(0,o.int)(e.getHours()>11)]},M:function(e,t){return i(e.getMonth(),!0,t)},S:function(e){return(0,o.pad)(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return(0,o.pad)(e.getFullYear(),4)},d:function(e){return(0,o.pad)(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return(0,o.pad)(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return(0,o.pad)(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}}},"./node_modules/flatpickr/dist/esm/utils/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{arrayify:()=>s,debounce:()=>i,int:()=>r,pad:()=>o});var o=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},r=function(e){return!0===e?1:0};function i(e,t){var n;return function(){var o=this,r=arguments;clearTimeout(n),n=setTimeout((function(){return e.apply(o,r)}),t)}}var s=function(e){return e instanceof Array?e:[e]}},"./node_modules/flatpickr/dist/esm/utils/polyfills.js":()=>{"use strict";"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var o=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},r=0,i=t;r<i.length;r++){o(i[r])}return e})},"./node_modules/flatpickr/dist/l10n/fr.js":function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={firstDayOfWeek:1,weekdays:{shorthand:["dim","lun","mar","mer","jeu","ven","sam"],longhand:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},months:{shorthand:["janv","fvr","mars","avr","mai","juin","juil","aot","sept","oct","nov","dc"],longhand:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},ordinal:function(e){return e>1?"":"er"},rangeSeparator:" au ",weekAbbreviation:"Sem",scrollTitle:"Dfiler pour augmenter la valeur",toggleTitle:"Cliquer pour basculer",time_24hr:!0};t.l10ns.fr=n;var o=t.l10ns;e.French=n,e.default=o,Object.defineProperty(e,"__esModule",{value:!0})}(t)},"./node_modules/jquery-confirm/dist/jquery-confirm.min.js":(e,t,n)=>{var o,r,i;r=[n("./node_modules/jquery/dist/jquery.js")],void 0===(i="function"==typeof(o=function(e){var t=window;e.fn.confirm=function(n,o){return void 0===n&&(n={}),"string"==typeof n&&(n={content:n,title:o||!1}),e(this).each((function(){var o=e(this);o.attr("jc-attached")?console.warn("jConfirm has already been attached to this element ",o[0]):(o.on("click",(function(r){r.preventDefault();var i=e.extend({},n);if(o.attr("data-title")&&(i.title=o.attr("data-title")),o.attr("data-content")&&(i.content=o.attr("data-content")),void 0===i.buttons&&(i.buttons={}),i.$target=o,o.attr("href")&&0===Object.keys(i.buttons).length){var s=e.extend(!0,{},t.jconfirm.pluginDefaults.defaultButtons,(t.jconfirm.defaults||{}).defaultButtons||{}),a=Object.keys(s)[0];i.buttons=s,i.buttons[a].action=function(){location.href=o.attr("href")}}i.closeIcon=!1,e.confirm(i)})),o.attr("jc-attached",!0))})),e(this)},e.confirm=function(n,o){void 0===n&&(n={}),"string"==typeof n&&(n={content:n,title:o||!1});var r=!(!1===n.buttons);if("object"!=typeof n.buttons&&(n.buttons={}),0===Object.keys(n.buttons).length&&r){var i=e.extend(!0,{},t.jconfirm.pluginDefaults.defaultButtons,(t.jconfirm.defaults||{}).defaultButtons||{});n.buttons=i}return t.jconfirm(n)},e.alert=function(n,o){void 0===n&&(n={}),"string"==typeof n&&(n={content:n,title:o||!1});var r=!(!1===n.buttons);if("object"!=typeof n.buttons&&(n.buttons={}),0===Object.keys(n.buttons).length&&r){var i=e.extend(!0,{},t.jconfirm.pluginDefaults.defaultButtons,(t.jconfirm.defaults||{}).defaultButtons||{}),s=Object.keys(i)[0];n.buttons[s]=i[s]}return t.jconfirm(n)},e.dialog=function(e,n){return void 0===e&&(e={}),"string"==typeof e&&(e={content:e,title:n||!1,closeIcon:function(){}}),e.buttons={},void 0===e.closeIcon&&(e.closeIcon=function(){}),e.confirmKeys=[13],t.jconfirm(e)},t.jconfirm=function(n){void 0===n&&(n={});var o=e.extend(!0,{},t.jconfirm.pluginDefaults);t.jconfirm.defaults&&(o=e.extend(!0,o,t.jconfirm.defaults)),o=e.extend(!0,{},o,n);var r=new t.Jconfirm(o);return t.jconfirm.instances.push(r),r},t.Jconfirm=function(t){e.extend(this,t),this._init()},t.Jconfirm.prototype={_init:function(){var n=this;t.jconfirm.instances.length||(t.jconfirm.lastFocused=e("body").find(":focus")),this._id=Math.round(99999*Math.random()),this.contentParsed=e(document.createElement("div")),this.lazyOpen||setTimeout((function(){n.open()}),0)},_buildHTML:function(){var t=this;this._parseAnimation(this.animation,"o"),this._parseAnimation(this.closeAnimation,"c"),this._parseBgDismissAnimation(this.backgroundDismissAnimation),this._parseColumnClass(this.columnClass),this._parseTheme(this.theme),this._parseType(this.type);var n=e(this.template);n.find(".jconfirm-box").addClass(this.animationParsed).addClass(this.backgroundDismissAnimationParsed).addClass(this.typeParsed),this.typeAnimated&&n.find(".jconfirm-box").addClass("jconfirm-type-animated"),this.useBootstrap?(n.find(".jc-bs3-row").addClass(this.bootstrapClasses.row),n.find(".jc-bs3-row").addClass("justify-content-md-center justify-content-sm-center justify-content-xs-center justify-content-lg-center"),n.find(".jconfirm-box-container").addClass(this.columnClassParsed),this.containerFluid?n.find(".jc-bs3-container").addClass(this.bootstrapClasses.containerFluid):n.find(".jc-bs3-container").addClass(this.bootstrapClasses.container)):n.find(".jconfirm-box").css("width",this.boxWidth),this.titleClass&&n.find(".jconfirm-title-c").addClass(this.titleClass),n.addClass(this.themeParsed);var o="jconfirm-box"+this._id;n.find(".jconfirm-box").attr("aria-labelledby",o).attr("tabindex",-1),n.find(".jconfirm-content").attr("id",o),null!==this.bgOpacity&&n.find(".jconfirm-bg").css("opacity",this.bgOpacity),this.rtl&&n.addClass("jconfirm-rtl"),this.$el=n.appendTo(this.container),this.$jconfirmBoxContainer=this.$el.find(".jconfirm-box-container"),this.$jconfirmBox=this.$body=this.$el.find(".jconfirm-box"),this.$jconfirmBg=this.$el.find(".jconfirm-bg"),this.$title=this.$el.find(".jconfirm-title"),this.$titleContainer=this.$el.find(".jconfirm-title-c"),this.$content=this.$el.find("div.jconfirm-content"),this.$contentPane=this.$el.find(".jconfirm-content-pane"),this.$icon=this.$el.find(".jconfirm-icon-c"),this.$closeIcon=this.$el.find(".jconfirm-closeIcon"),this.$holder=this.$el.find(".jconfirm-holder"),this.$btnc=this.$el.find(".jconfirm-buttons"),this.$scrollPane=this.$el.find(".jconfirm-scrollpane"),t.setStartingPoint(),this._contentReady=e.Deferred(),this._modalReady=e.Deferred(),this.$holder.css({"padding-top":this.offsetTop,"padding-bottom":this.offsetBottom}),this.setTitle(),this.setIcon(),this._setButtons(),this._parseContent(),this.initDraggable(),this.isAjax&&this.showLoading(!1),e.when(this._contentReady,this._modalReady).then((function(){t.isAjaxLoading?setTimeout((function(){t.isAjaxLoading=!1,t.setContent(),t.setTitle(),t.setIcon(),setTimeout((function(){t.hideLoading(!1),t._updateContentMaxHeight()}),100),"function"==typeof t.onContentReady&&t.onContentReady()}),50):(t._updateContentMaxHeight(),t.setTitle(),t.setIcon(),"function"==typeof t.onContentReady&&t.onContentReady()),t.autoClose&&t._startCountDown()})).then((function(){t._watchContent()})),"none"===this.animation&&(this.animationSpeed=1,this.animationBounce=1),this.$body.css(this._getCSS(this.animationSpeed,this.animationBounce)),this.$contentPane.css(this._getCSS(this.animationSpeed,1)),this.$jconfirmBg.css(this._getCSS(this.animationSpeed,1)),this.$jconfirmBoxContainer.css(this._getCSS(this.animationSpeed,1))},_typePrefix:"jconfirm-type-",typeParsed:"",_parseType:function(e){this.typeParsed=this._typePrefix+e},setType:function(e){var t=this.typeParsed;this._parseType(e),this.$jconfirmBox.removeClass(t).addClass(this.typeParsed)},themeParsed:"",_themePrefix:"jconfirm-",setTheme:function(e){var t=this.theme;this.theme=e||this.theme,this._parseTheme(this.theme),t&&this.$el.removeClass(t),this.$el.addClass(this.themeParsed),this.theme=e},_parseTheme:function(t){var n=this;t=t.split(","),e.each(t,(function(o,r){-1===r.indexOf(n._themePrefix)&&(t[o]=n._themePrefix+e.trim(r))})),this.themeParsed=t.join(" ").toLowerCase()},backgroundDismissAnimationParsed:"",_bgDismissPrefix:"jconfirm-hilight-",_parseBgDismissAnimation:function(t){var n=t.split(","),o=this;e.each(n,(function(t,r){-1===r.indexOf(o._bgDismissPrefix)&&(n[t]=o._bgDismissPrefix+e.trim(r))})),this.backgroundDismissAnimationParsed=n.join(" ").toLowerCase()},animationParsed:"",closeAnimationParsed:"",_animationPrefix:"jconfirm-animation-",setAnimation:function(e){this.animation=e||this.animation,this._parseAnimation(this.animation,"o")},_parseAnimation:function(t,n){n=n||"o";var o=t.split(","),r=this;e.each(o,(function(t,n){-1===n.indexOf(r._animationPrefix)&&(o[t]=r._animationPrefix+e.trim(n))}));var i=o.join(" ").toLowerCase();return"o"===n?this.animationParsed=i:this.closeAnimationParsed=i,i},setCloseAnimation:function(e){this.closeAnimation=e||this.closeAnimation,this._parseAnimation(this.closeAnimation,"c")},setAnimationSpeed:function(e){this.animationSpeed=e||this.animationSpeed},columnClassParsed:"",setColumnClass:function(e){this.useBootstrap?(this.columnClass=e||this.columnClass,this._parseColumnClass(this.columnClass),this.$jconfirmBoxContainer.addClass(this.columnClassParsed)):console.warn("cannot set columnClass, useBootstrap is set to false")},_updateContentMaxHeight:function(){var t=e(window).height()-(this.$jconfirmBox.outerHeight()-this.$contentPane.outerHeight())-(this.offsetTop+this.offsetBottom);this.$contentPane.css({"max-height":t+"px"})},setBoxWidth:function(e){this.useBootstrap?console.warn("cannot set boxWidth, useBootstrap is set to true"):(this.boxWidth=e,this.$jconfirmBox.css("width",e))},_parseColumnClass:function(e){var t;switch(e=e.toLowerCase()){case"xl":case"xlarge":t="col-md-12";break;case"l":case"large":t="col-md-8 col-md-offset-2";break;case"m":case"medium":t="col-md-6 col-md-offset-3";break;case"s":case"small":t="col-md-4 col-md-offset-4";break;case"xs":case"xsmall":t="col-md-2 col-md-offset-5";break;default:t=e}this.columnClassParsed=t},initDraggable:function(){var t=this,n=this.$titleContainer;this.resetDrag(),this.draggable&&(n.on("mousedown",(function(e){n.addClass("jconfirm-hand"),t.mouseX=e.clientX,t.mouseY=e.clientY,t.isDrag=!0})),e(window).on("mousemove."+this._id,(function(e){t.isDrag&&(t.movingX=e.clientX-t.mouseX+t.initialX,t.movingY=e.clientY-t.mouseY+t.initialY,t.setDrag())})),e(window).on("mouseup."+this._id,(function(){n.removeClass("jconfirm-hand"),t.isDrag&&(t.isDrag=!1,t.initialX=t.movingX,t.initialY=t.movingY)})))},resetDrag:function(){this.isDrag=!1,this.initialX=0,this.initialY=0,this.movingX=0,this.movingY=0,this.mouseX=0,this.mouseY=0,this.$jconfirmBoxContainer.css("transform","translate(0px, 0px)")},setDrag:function(){if(this.draggable){this.alignMiddle=!1;var t=this.$jconfirmBox.outerWidth(),n=this.$jconfirmBox.outerHeight(),o=e(window).width(),r=e(window).height(),i=this,s=1;if(i.movingX%s==0||i.movingY%s==0){if(i.dragWindowBorder){var a=o/2-t/2,l=r/2-n/2;l-=i.dragWindowGap,(a-=i.dragWindowGap)+i.movingX<0?i.movingX=-a:a-i.movingX<0&&(i.movingX=a),l+i.movingY<0?i.movingY=-l:l-i.movingY<0&&(i.movingY=l)}i.$jconfirmBoxContainer.css("transform","translate("+i.movingX+"px, "+i.movingY+"px)")}}},_scrollTop:function(){if("undefined"!=typeof pageYOffset)return pageYOffset;var e=document.body,t=document.documentElement;return(t=t.clientHeight?t:e).scrollTop},_watchContent:function(){var t=this;this._timer&&clearInterval(this._timer);var n=0;this._timer=setInterval((function(){if(t.smoothContent){var o=t.$content.outerHeight()||0;o!==n&&(n=o);var r=e(window).height();t.offsetTop+t.offsetBottom+t.$jconfirmBox.height()-t.$contentPane.height()+t.$content.height()<r?t.$contentPane.addClass("no-scroll"):t.$contentPane.removeClass("no-scroll")}}),this.watchInterval)},_overflowClass:"jconfirm-overflow",_hilightAnimating:!1,highlight:function(){this.hiLightModal()},hiLightModal:function(){var e=this;if(!this._hilightAnimating){e.$body.addClass("hilight");var t=parseFloat(e.$body.css("animation-duration"))||2;this._hilightAnimating=!0,setTimeout((function(){e._hilightAnimating=!1,e.$body.removeClass("hilight")}),1e3*t)}},_bindEvents:function(){var t=this;this.boxClicked=!1,this.$scrollPane.click((function(e){if(!t.boxClicked){var n,o=!1,r=!1;if("string"==typeof(n="function"==typeof t.backgroundDismiss?t.backgroundDismiss():t.backgroundDismiss)&&void 0!==t.buttons[n]?(o=n,r=!1):r=void 0===n||1==!!n,o){var i=t.buttons[o].action.apply(t);r=void 0===i||!!i}r?t.close():t.hiLightModal()}t.boxClicked=!1})),this.$jconfirmBox.click((function(e){t.boxClicked=!0}));var n=!1;e(window).on("jcKeyDown."+t._id,(function(e){n||(n=!0)})),e(window).on("keyup."+t._id,(function(e){n&&(t.reactOnKey(e),n=!1)})),e(window).on("resize."+this._id,(function(){t._updateContentMaxHeight(),setTimeout((function(){t.resetDrag()}),100)}))},_cubic_bezier:"0.36, 0.55, 0.19",_getCSS:function(e,t){return{"-webkit-transition-duration":e/1e3+"s","transition-duration":e/1e3+"s","-webkit-transition-timing-function":"cubic-bezier("+this._cubic_bezier+", "+t+")","transition-timing-function":"cubic-bezier("+this._cubic_bezier+", "+t+")"}},_setButtons:function(){var t=this,n=0;if("object"!=typeof this.buttons&&(this.buttons={}),e.each(this.buttons,(function(o,r){n+=1,"function"==typeof r&&(t.buttons[o]=r={action:r}),t.buttons[o].text=r.text||o,t.buttons[o].btnClass=r.btnClass||"btn-default",t.buttons[o].action=r.action||function(){},t.buttons[o].keys=r.keys||[],t.buttons[o].isHidden=r.isHidden||!1,t.buttons[o].isDisabled=r.isDisabled||!1,e.each(t.buttons[o].keys,(function(e,n){t.buttons[o].keys[e]=n.toLowerCase()}));var i=e('<button type="button" class="btn"></button>').html(t.buttons[o].text).addClass(t.buttons[o].btnClass).prop("disabled",t.buttons[o].isDisabled).css("display",t.buttons[o].isHidden?"none":"").click((function(e){e.preventDefault();var n=t.buttons[o].action.apply(t,[t.buttons[o]]);t.onAction.apply(t,[o,t.buttons[o]]),t._stopCountDown(),(void 0===n||n)&&t.close()}));t.buttons[o].el=i,t.buttons[o].setText=function(e){i.html(e)},t.buttons[o].addClass=function(e){i.addClass(e)},t.buttons[o].removeClass=function(e){i.removeClass(e)},t.buttons[o].disable=function(){t.buttons[o].isDisabled=!0,i.prop("disabled",!0)},t.buttons[o].enable=function(){t.buttons[o].isDisabled=!1,i.prop("disabled",!1)},t.buttons[o].show=function(){t.buttons[o].isHidden=!1,i.css("display","")},t.buttons[o].hide=function(){t.buttons[o].isHidden=!0,i.css("display","none")},t["$_"+o]=t["$$"+o]=i,t.$btnc.append(i)})),0===n&&this.$btnc.hide(),null===this.closeIcon&&0===n&&(this.closeIcon=!0),this.closeIcon){if(this.closeIconClass){var o='<i class="'+this.closeIconClass+'"></i>';this.$closeIcon.html(o)}this.$closeIcon.click((function(e){e.preventDefault();var n,o=!1,r=!1;if("string"==typeof(n="function"==typeof t.closeIcon?t.closeIcon():t.closeIcon)&&void 0!==t.buttons[n]?(o=n,r=!1):r=void 0===n||1==!!n,o){var i=t.buttons[o].action.apply(t);r=void 0===i||!!i}r&&t.close()})),this.$closeIcon.show()}else this.$closeIcon.hide()},setTitle:function(e,t){if(t=t||!1,void 0!==e)if("string"==typeof e)this.title=e;else if("function"==typeof e){"function"==typeof e.promise&&console.error("Promise was returned from title function, this is not supported.");var n=e();this.title="string"==typeof n&&n}else this.title=!1;this.isAjaxLoading&&!t||(this.$title.html(this.title||""),this.updateTitleContainer())},setIcon:function(e,t){if(t=t||!1,void 0!==e)if("string"==typeof e)this.icon=e;else if("function"==typeof e){var n=e();this.icon="string"==typeof n&&n}else this.icon=!1;this.isAjaxLoading&&!t||(this.$icon.html(this.icon?'<i class="'+this.icon+'"></i>':""),this.updateTitleContainer())},updateTitleContainer:function(){this.title||this.icon?this.$titleContainer.show():this.$titleContainer.hide()},setContentPrepend:function(e,t){e&&this.contentParsed.prepend(e)},setContentAppend:function(e){e&&this.contentParsed.append(e)},setContent:function(e,t){t=!!t;var n=this;e&&this.contentParsed.html("").append(e),this.isAjaxLoading&&!t||(this.$content.html(""),this.$content.append(this.contentParsed),setTimeout((function(){n.$body.find("input[autofocus]:visible:first").focus()}),100))},loadingSpinner:!1,showLoading:function(e){this.loadingSpinner=!0,this.$jconfirmBox.addClass("loading"),e&&this.$btnc.find("button").prop("disabled",!0)},hideLoading:function(e){this.loadingSpinner=!1,this.$jconfirmBox.removeClass("loading"),e&&this.$btnc.find("button").prop("disabled",!1)},ajaxResponse:!1,contentParsed:"",isAjax:!1,isAjaxLoading:!1,_parseContent:function(){var t=this,n="&nbsp;";if("function"==typeof this.content){var o=this.content.apply(this);"string"==typeof o?this.content=o:"object"==typeof o&&"function"==typeof o.always?(this.isAjax=!0,this.isAjaxLoading=!0,o.always((function(e,n,o){t.ajaxResponse={data:e,status:n,xhr:o},t._contentReady.resolve(e,n,o),"function"==typeof t.contentLoaded&&t.contentLoaded(e,n,o)})),this.content=n):this.content=n}if("string"==typeof this.content&&"url:"===this.content.substr(0,4).toLowerCase()){this.isAjax=!0,this.isAjaxLoading=!0;var r=this.content.substring(4,this.content.length);e.get(r).done((function(e){t.contentParsed.html(e)})).always((function(e,n,o){t.ajaxResponse={data:e,status:n,xhr:o},t._contentReady.resolve(e,n,o),"function"==typeof t.contentLoaded&&t.contentLoaded(e,n,o)}))}this.content||(this.content=n),this.isAjax||(this.contentParsed.html(this.content),this.setContent(),t._contentReady.resolve())},_stopCountDown:function(){clearInterval(this.autoCloseInterval),this.$cd&&this.$cd.remove()},_startCountDown:function(){var t=this,n=this.autoClose.split("|");if(2!==n.length)return console.error("Invalid option for autoClose. example 'close|10000'"),!1;var o=n[0],r=parseInt(n[1]);if(void 0===this.buttons[o])return console.error("Invalid button key '"+o+"' for autoClose"),!1;var i=Math.ceil(r/1e3);this.$cd=e('<span class="countdown"> ('+i+")</span>").appendTo(this["$_"+o]),this.autoCloseInterval=setInterval((function(){t.$cd.html(" ("+(i-=1)+") "),i<=0&&(t["$$"+o].trigger("click"),t._stopCountDown())}),1e3)},_getKey:function(e){switch(e){case 192:return"tilde";case 13:return"enter";case 16:return"shift";case 9:return"tab";case 20:return"capslock";case 17:return"ctrl";case 91:return"win";case 18:return"alt";case 27:return"esc";case 32:return"space"}var t=String.fromCharCode(e);return!!/^[A-z0-9]+$/.test(t)&&t.toLowerCase()},reactOnKey:function(t){var n=this,o=e(".jconfirm");if(o.eq(o.length-1)[0]!==this.$el[0])return!1;var r=t.which;if(this.$content.find(":input").is(":focus")&&/13|32/.test(r))return!1;var i,s=this._getKey(r);"esc"===s&&this.escapeKey&&(!0===this.escapeKey?this.$scrollPane.trigger("click"):"string"!=typeof this.escapeKey&&"function"!=typeof this.escapeKey||(i="function"==typeof this.escapeKey?this.escapeKey():this.escapeKey)&&(void 0===this.buttons[i]?console.warn("Invalid escapeKey, no buttons found with key "+i):this["$_"+i].trigger("click"))),e.each(this.buttons,(function(e,t){-1!==t.keys.indexOf(s)&&n["$_"+e].trigger("click")}))},setDialogCenter:function(){console.info("setDialogCenter is deprecated, dialogs are centered with CSS3 tables")},_unwatchContent:function(){clearInterval(this._timer)},close:function(n){var o=this;return"function"==typeof this.onClose&&this.onClose(n),this._unwatchContent(),e(window).unbind("resize."+this._id),e(window).unbind("keyup."+this._id),e(window).unbind("jcKeyDown."+this._id),this.draggable&&(e(window).unbind("mousemove."+this._id),e(window).unbind("mouseup."+this._id),this.$titleContainer.unbind("mousedown")),o.$el.removeClass(o.loadedClass),e("body").removeClass("jconfirm-no-scroll-"+o._id),o.$jconfirmBoxContainer.removeClass("jconfirm-no-transition"),setTimeout((function(){o.$body.addClass(o.closeAnimationParsed),o.$jconfirmBg.addClass("jconfirm-bg-h");var n="none"===o.closeAnimation?1:o.animationSpeed;setTimeout((function(){o.$el.remove(),t.jconfirm.instances;for(var n=t.jconfirm.instances.length-1;n>=0;n--)t.jconfirm.instances[n]._id===o._id&&t.jconfirm.instances.splice(n,1);if(!t.jconfirm.instances.length&&o.scrollToPreviousElement&&t.jconfirm.lastFocused&&t.jconfirm.lastFocused.length&&e.contains(document,t.jconfirm.lastFocused[0])){var r=t.jconfirm.lastFocused;if(o.scrollToPreviousElementAnimate){var i=e(window).scrollTop(),s=t.jconfirm.lastFocused.offset().top,a=e(window).height();if(s>i&&s<i+a)r.focus();else{var l=s-Math.round(a/3);e("html, body").animate({scrollTop:l},o.animationSpeed,"swing",(function(){r.focus()}))}}else r.focus();t.jconfirm.lastFocused=!1}"function"==typeof o.onDestroy&&o.onDestroy()}),.4*n)}),50),!0},open:function(){return!this.isOpen()&&(this._buildHTML(),this._bindEvents(),this._open(),!0)},setStartingPoint:function(){var n=!1;if(!0!==this.animateFromElement&&this.animateFromElement)n=this.animateFromElement,t.jconfirm.lastClicked=!1;else{if(!t.jconfirm.lastClicked||!0!==this.animateFromElement)return!1;n=t.jconfirm.lastClicked,t.jconfirm.lastClicked=!1}if(!n)return!1;var o=n.offset(),r=n.outerHeight()/2,i=n.outerWidth()/2;r-=this.$jconfirmBox.outerHeight()/2,i-=this.$jconfirmBox.outerWidth()/2;var s=o.top+r;s-=this._scrollTop();var a=o.left+i,l=e(window).height()/2,c=e(window).width()/2;if(s-=l-this.$jconfirmBox.outerHeight()/2,a-=c-this.$jconfirmBox.outerWidth()/2,Math.abs(s)>l||Math.abs(a)>c)return!1;this.$jconfirmBoxContainer.css("transform","translate("+a+"px, "+s+"px)")},_open:function(){var e=this;"function"==typeof e.onOpenBefore&&e.onOpenBefore(),this.$body.removeClass(this.animationParsed),this.$jconfirmBg.removeClass("jconfirm-bg-h"),this.$body.focus(),e.$jconfirmBoxContainer.css("transform","translate(0px, 0px)"),setTimeout((function(){e.$body.css(e._getCSS(e.animationSpeed,1)),e.$body.css({"transition-property":e.$body.css("transition-property")+", margin"}),e.$jconfirmBoxContainer.addClass("jconfirm-no-transition"),e._modalReady.resolve(),"function"==typeof e.onOpen&&e.onOpen(),e.$el.addClass(e.loadedClass)}),this.animationSpeed)},loadedClass:"jconfirm-open",isClosed:function(){return!this.$el||0===this.$el.parent().length},isOpen:function(){return!this.isClosed()},toggle:function(){this.isOpen()?this.close():this.open()}},t.jconfirm.instances=[],t.jconfirm.lastFocused=!1,t.jconfirm.pluginDefaults={template:'<div class="jconfirm"><div class="jconfirm-bg jconfirm-bg-h"></div><div class="jconfirm-scrollpane"><div class="jconfirm-row"><div class="jconfirm-cell"><div class="jconfirm-holder"><div class="jc-bs3-container"><div class="jc-bs3-row"><div class="jconfirm-box-container jconfirm-animated"><div class="jconfirm-box" role="dialog" aria-labelledby="labelled" tabindex="-1"><div class="jconfirm-closeIcon">&times;</div><div class="jconfirm-title-c"><span class="jconfirm-icon-c"></span><span class="jconfirm-title"></span></div><div class="jconfirm-content-pane"><div class="jconfirm-content"></div></div><div class="jconfirm-buttons"></div><div class="jconfirm-clear"></div></div></div></div></div></div></div></div></div></div>',title:"Hello",titleClass:"",type:"default",typeAnimated:!0,draggable:!0,dragWindowGap:15,dragWindowBorder:!0,animateFromElement:!0,alignMiddle:!0,smoothContent:!0,content:"Are you sure to continue?",buttons:{},defaultButtons:{ok:{action:function(){}},close:{action:function(){}}},contentLoaded:function(){},icon:"",lazyOpen:!1,bgOpacity:null,theme:"light",animation:"scale",closeAnimation:"scale",animationSpeed:400,animationBounce:1,escapeKey:!0,rtl:!1,container:"body",containerFluid:!1,backgroundDismiss:!1,backgroundDismissAnimation:"shake",autoClose:!1,closeIcon:null,closeIconClass:!1,watchInterval:100,columnClass:"col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1",boxWidth:"50%",scrollToPreviousElement:!0,scrollToPreviousElementAnimate:!0,useBootstrap:!0,offsetTop:40,offsetBottom:40,bootstrapClasses:{container:"container",containerFluid:"container-fluid",row:"row"},onContentReady:function(){},onOpenBefore:function(){},onOpen:function(){},onClose:function(){},onDestroy:function(){},onAction:function(){}};var n=!1;e(window).on("keydown",(function(t){if(!n){var o=!1;e(t.target).closest(".jconfirm-box").length&&(o=!0),o&&e(window).trigger("jcKeyDown"),n=!0}})),e(window).on("keyup",(function(){n=!1})),t.jconfirm.lastClicked=!1,e(document).on("mousedown","button, a, [jc-source]",(function(){t.jconfirm.lastClicked=e(this)}))})?o.apply(t,r):o)||(e.exports=i)},"./node_modules/jquery/dist/jquery.js":function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(o,r){"use strict";var i=[],s=Object.getPrototypeOf,a=i.slice,l=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},c=i.push,d=i.indexOf,u={},h=u.toString,m=u.hasOwnProperty,p=m.toString,f=p.call(Object),g={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},b=function(e){return null!=e&&e===e.window},y=o.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function x(e,t,n){var o,r,i=(n=n||y).createElement("script");if(i.text=e,t)for(o in w)(r=t[o]||t.getAttribute&&t.getAttribute(o))&&i.setAttribute(o,r);n.head.appendChild(i).parentNode.removeChild(i)}function _(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[h.call(e)]||"object":typeof e}var S="3.6.4",C=function(e,t){return new C.fn.init(e,t)};function j(e){var t=!!e&&"length"in e&&e.length,n=_(e);return!v(e)&&!b(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}C.fn=C.prototype={jquery:S,constructor:C,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return C.each(this,e)},map:function(e){return this.pushStack(C.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(C.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:i.sort,splice:i.splice},C.extend=C.fn.extend=function(){var e,t,n,o,r,i,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||v(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)o=e[t],"__proto__"!==t&&s!==o&&(c&&o&&(C.isPlainObject(o)||(r=Array.isArray(o)))?(n=s[t],i=r&&!Array.isArray(n)?[]:r||C.isPlainObject(n)?n:{},r=!1,s[t]=C.extend(c,i,o)):void 0!==o&&(s[t]=o));return s},C.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==h.call(e))&&(!(t=s(e))||"function"==typeof(n=m.call(t,"constructor")&&t.constructor)&&p.call(n)===f)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){x(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,o=0;if(j(e))for(n=e.length;o<n&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(j(Object(e))?C.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:d.call(t,e,n)},merge:function(e,t){for(var n=+t.length,o=0,r=e.length;o<n;o++)e[r++]=t[o];return e.length=r,e},grep:function(e,t,n){for(var o=[],r=0,i=e.length,s=!n;r<i;r++)!t(e[r],r)!==s&&o.push(e[r]);return o},map:function(e,t,n){var o,r,i=0,s=[];if(j(e))for(o=e.length;i<o;i++)null!=(r=t(e[i],i,n))&&s.push(r);else for(i in e)null!=(r=t(e[i],i,n))&&s.push(r);return l(s)},guid:1,support:g}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=i[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){u["[object "+t+"]"]=t.toLowerCase()}));var k=function(e){var t,n,o,r,i,s,a,l,c,d,u,h,m,p,f,g,v,b,y,w="sizzle"+1*new Date,x=e.document,_=0,S=0,C=le(),j=le(),k=le(),E=le(),O=function(e,t){return e===t&&(u=!0),0},A={}.hasOwnProperty,T=[],D=T.pop,M=T.push,P=T.push,R=T.slice,N=function(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",B="(?:\\\\[\\da-fA-F]{1,6}"+I+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+I+"*("+B+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+I+"*\\]",H=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",V=new RegExp(I+"+","g"),z=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),U=new RegExp("^"+I+"*,"+I+"*"),W=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),q=new RegExp(I+"|>"),Z=new RegExp(H),G=new RegExp("^"+B+"$"),$={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+I+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},oe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){h()},se=we((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{P.apply(T=R.call(x.childNodes),x.childNodes),T[x.childNodes.length].nodeType}catch(e){P={apply:T.length?function(e,t){M.apply(e,R.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}function ae(e,t,o,r){var i,a,c,d,u,p,v,b=t&&t.ownerDocument,x=t?t.nodeType:9;if(o=o||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return o;if(!r&&(h(t),t=t||m,f)){if(11!==x&&(u=J.exec(e)))if(i=u[1]){if(9===x){if(!(c=t.getElementById(i)))return o;if(c.id===i)return o.push(c),o}else if(b&&(c=b.getElementById(i))&&y(t,c)&&c.id===i)return o.push(c),o}else{if(u[2])return P.apply(o,t.getElementsByTagName(e)),o;if((i=u[3])&&n.getElementsByClassName&&t.getElementsByClassName)return P.apply(o,t.getElementsByClassName(i)),o}if(n.qsa&&!E[e+" "]&&(!g||!g.test(e))&&(1!==x||"object"!==t.nodeName.toLowerCase())){if(v=e,b=t,1===x&&(q.test(e)||W.test(e))){for((b=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((d=t.getAttribute("id"))?d=d.replace(oe,re):t.setAttribute("id",d=w)),a=(p=s(e)).length;a--;)p[a]=(d?"#"+d:":scope")+" "+ye(p[a]);v=p.join(",")}try{return P.apply(o,b.querySelectorAll(v)),o}catch(t){E(e,!0)}finally{d===w&&t.removeAttribute("id")}}}return l(e.replace(z,"$1"),t,o,r)}function le(){var e=[];return function t(n,r){return e.push(n+" ")>o.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ce(e){return e[w]=!0,e}function de(e){var t=m.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),r=n.length;r--;)o.attrHandle[n[r]]=t}function he(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(o)return o;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function me(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function fe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce((function(t){return t=+t,ce((function(n,o){for(var r,i=e([],n.length,t),s=i.length;s--;)n[r=i[s]]&&(n[r]=!(o[r]=n[r]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},i=ae.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},h=ae.setDocument=function(e){var t,r,s=e?e.ownerDocument||e:x;return s!=m&&9===s.nodeType&&s.documentElement?(p=(m=s).documentElement,f=!i(m),x!=m&&(r=m.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ie,!1):r.attachEvent&&r.attachEvent("onunload",ie)),n.scope=de((function(e){return p.appendChild(e).appendChild(m.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.cssHas=de((function(){try{return m.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),n.attributes=de((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=de((function(e){return e.appendChild(m.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Q.test(m.getElementsByClassName),n.getById=de((function(e){return p.appendChild(e).id=w,!m.getElementsByName||!m.getElementsByName(w).length})),n.getById?(o.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},o.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var n=t.getElementById(e);return n?[n]:[]}}):(o.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},o.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var n,o,r,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(r=t.getElementsByName(e),o=0;i=r[o++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),o.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,o=[],r=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[r++];)1===n.nodeType&&o.push(n);return o}return i},o.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&f)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=Q.test(m.querySelectorAll))&&(de((function(e){var t;p.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+I+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+I+"*(?:value|"+L+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),(t=m.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+I+"*name"+I+"*="+I+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),de((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=m.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+I+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=Q.test(b=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&de((function(e){n.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),v.push("!=",H)})),n.cssHas||g.push(":has"),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(p.compareDocumentPosition),y=t||Q.test(p.contains)?function(e,t){var n=9===e.nodeType&&e.documentElement||e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},O=t?function(e,t){if(e===t)return u=!0,0;var o=!e.compareDocumentPosition-!t.compareDocumentPosition;return o||(1&(o=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===o?e==m||e.ownerDocument==x&&y(x,e)?-1:t==m||t.ownerDocument==x&&y(x,t)?1:d?N(d,e)-N(d,t):0:4&o?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,o=0,r=e.parentNode,i=t.parentNode,s=[e],a=[t];if(!r||!i)return e==m?-1:t==m?1:r?-1:i?1:d?N(d,e)-N(d,t):0;if(r===i)return he(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[o]===a[o];)o++;return o?he(s[o],a[o]):s[o]==x?-1:a[o]==x?1:0},m):m},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(h(e),n.matchesSelector&&f&&!E[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var o=b.call(e,t);if(o||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(e){E(t,!0)}return ae(t,m,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!=m&&h(e),y(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=m&&h(e);var r=o.attrHandle[t.toLowerCase()],i=r&&A.call(o.attrHandle,t.toLowerCase())?r(e,t,!f):void 0;return void 0!==i?i:n.attributes||!f?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ae.escape=function(e){return(e+"").replace(oe,re)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,o=[],r=0,i=0;if(u=!n.detectDuplicates,d=!n.sortStable&&e.slice(0),e.sort(O),u){for(;t=e[i++];)t===e[i]&&(r=o.push(i));for(;r--;)e.splice(o[r],1)}return d=null,e},r=ae.getText=function(e){var t,n="",o=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[o++];)n+=r(t);return n},o=ae.selectors={cacheLength:50,createPseudo:ce,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Z.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=new RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&C(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(o){var r=ae.attr(o,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(V," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,o,r){var i="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===o&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,h,m,p,f=i!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a,y=!1;if(g){if(i){for(;f;){for(h=t;h=h[f];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=f="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&b){for(y=(m=(c=(d=(u=(h=g)[w]||(h[w]={}))[h.uniqueID]||(u[h.uniqueID]={}))[e]||[])[0]===_&&c[1])&&c[2],h=m&&g.childNodes[m];h=++m&&h&&h[f]||(y=m=0)||p.pop();)if(1===h.nodeType&&++y&&h===t){d[e]=[_,m,y];break}}else if(b&&(y=m=(c=(d=(u=(h=t)[w]||(h[w]={}))[h.uniqueID]||(u[h.uniqueID]={}))[e]||[])[0]===_&&c[1]),!1===y)for(;(h=++m&&h&&h[f]||(y=m=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++y||(b&&((d=(u=h[w]||(h[w]={}))[h.uniqueID]||(u[h.uniqueID]={}))[e]=[_,y]),h!==t)););return(y-=r)===o||y%o==0&&y/o>=0}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return r[w]?r(t):r.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var o,i=r(e,t),s=i.length;s--;)e[o=N(e,i[s])]=!(n[o]=i[s])})):function(e){return r(e,0,n)}):r}},pseudos:{not:ce((function(e){var t=[],n=[],o=a(e.replace(z,"$1"));return o[w]?ce((function(e,t,n,r){for(var i,s=o(e,null,r,[]),a=e.length;a--;)(i=s[a])&&(e[a]=!(t[a]=i))})):function(e,r,i){return t[0]=e,o(t,null,i,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return ae(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||r(t)).indexOf(e)>-1}})),lang:ce((function(e){return G.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=f?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===m.activeElement&&(!m.hasFocus||m.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var o=n<0?n+t:n>t?t:n;--o>=0;)e.push(o);return e})),gt:ge((function(e,t,n){for(var o=n<0?n+t:n;++o<t;)e.push(o);return e}))}},o.pseudos.nth=o.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[t]=me(t);for(t in{submit:!0,reset:!0})o.pseudos[t]=pe(t);function be(){}function ye(e){for(var t=0,n=e.length,o="";t<n;t++)o+=e[t].value;return o}function we(e,t,n){var o=t.dir,r=t.next,i=r||o,s=n&&"parentNode"===i,a=S++;return t.first?function(t,n,r){for(;t=t[o];)if(1===t.nodeType||s)return e(t,n,r);return!1}:function(t,n,l){var c,d,u,h=[_,a];if(l){for(;t=t[o];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[o];)if(1===t.nodeType||s)if(d=(u=t[w]||(t[w]={}))[t.uniqueID]||(u[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[o]||t;else{if((c=d[i])&&c[0]===_&&c[1]===a)return h[2]=c[2];if(d[i]=h,h[2]=e(t,n,l))return!0}return!1}}function xe(e){return e.length>1?function(t,n,o){for(var r=e.length;r--;)if(!e[r](t,n,o))return!1;return!0}:e[0]}function _e(e,t,n,o,r){for(var i,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(i=e[a])&&(n&&!n(i,o,r)||(s.push(i),c&&t.push(a)));return s}function Se(e,t,n,o,r,i){return o&&!o[w]&&(o=Se(o)),r&&!r[w]&&(r=Se(r,i)),ce((function(i,s,a,l){var c,d,u,h=[],m=[],p=s.length,f=i||function(e,t,n){for(var o=0,r=t.length;o<r;o++)ae(e,t[o],n);return n}(t||"*",a.nodeType?[a]:a,[]),g=!e||!i&&t?f:_e(f,h,e,a,l),v=n?r||(i?e:p||o)?[]:s:g;if(n&&n(g,v,a,l),o)for(c=_e(v,m),o(c,[],a,l),d=c.length;d--;)(u=c[d])&&(v[m[d]]=!(g[m[d]]=u));if(i){if(r||e){if(r){for(c=[],d=v.length;d--;)(u=v[d])&&c.push(g[d]=u);r(null,v=[],c,l)}for(d=v.length;d--;)(u=v[d])&&(c=r?N(i,u):h[d])>-1&&(i[c]=!(s[c]=u))}}else v=_e(v===s?v.splice(p,v.length):v),r?r(null,s,v,l):P.apply(s,v)}))}function Ce(e){for(var t,n,r,i=e.length,s=o.relative[e[0].type],a=s||o.relative[" "],l=s?1:0,d=we((function(e){return e===t}),a,!0),u=we((function(e){return N(t,e)>-1}),a,!0),h=[function(e,n,o){var r=!s&&(o||n!==c)||((t=n).nodeType?d(e,n,o):u(e,n,o));return t=null,r}];l<i;l++)if(n=o.relative[e[l].type])h=[we(xe(h),n)];else{if((n=o.filter[e[l].type].apply(null,e[l].matches))[w]){for(r=++l;r<i&&!o.relative[e[r].type];r++);return Se(l>1&&xe(h),l>1&&ye(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,l<r&&Ce(e.slice(l,r)),r<i&&Ce(e=e.slice(r)),r<i&&ye(e))}h.push(n)}return xe(h)}return be.prototype=o.filters=o.pseudos,o.setFilters=new be,s=ae.tokenize=function(e,t){var n,r,i,s,a,l,c,d=j[e+" "];if(d)return t?0:d.slice(0);for(a=e,l=[],c=o.preFilter;a;){for(s in n&&!(r=U.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(i=[])),n=!1,(r=W.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(z," ")}),a=a.slice(n.length)),o.filter)!(r=$[s].exec(a))||c[s]&&!(r=c[s](r))||(n=r.shift(),i.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ae.error(e):j(e,l).slice(0)},a=ae.compile=function(e,t){var n,r=[],i=[],a=k[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=Ce(t[n]))[w]?r.push(a):i.push(a);a=k(e,function(e,t){var n=t.length>0,r=e.length>0,i=function(i,s,a,l,d){var u,p,g,v=0,b="0",y=i&&[],w=[],x=c,S=i||r&&o.find.TAG("*",d),C=_+=null==x?1:Math.random()||.1,j=S.length;for(d&&(c=s==m||s||d);b!==j&&null!=(u=S[b]);b++){if(r&&u){for(p=0,s||u.ownerDocument==m||(h(u),a=!f);g=e[p++];)if(g(u,s||m,a)){l.push(u);break}d&&(_=C)}n&&((u=!g&&u)&&v--,i&&y.push(u))}if(v+=b,n&&b!==v){for(p=0;g=t[p++];)g(y,w,s,a);if(i){if(v>0)for(;b--;)y[b]||w[b]||(w[b]=D.call(l));w=_e(w)}P.apply(l,w),d&&!i&&w.length>0&&v+t.length>1&&ae.uniqueSort(l)}return d&&(_=C,c=x),y};return n?ce(i):i}(i,r)),a.selector=e}return a},l=ae.select=function(e,t,n,r){var i,l,c,d,u,h="function"==typeof e&&e,m=!r&&s(e=h.selector||e);if(n=n||[],1===m.length){if((l=m[0]=m[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&f&&o.relative[l[1].type]){if(!(t=(o.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;h&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(i=$.needsContext.test(e)?0:l.length;i--&&(c=l[i],!o.relative[d=c.type]);)if((u=o.find[d])&&(r=u(c.matches[0].replace(te,ne),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(i,1),!(e=r.length&&ye(l)))return P.apply(n,r),n;break}}return(h||a(e,m))(r,t,!f,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=w.split("").sort(O).join("")===w,n.detectDuplicates=!!u,h(),n.sortDetached=de((function(e){return 1&e.compareDocumentPosition(m.createElement("fieldset"))})),de((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ue("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&de((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ue("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),de((function(e){return null==e.getAttribute("disabled")}))||ue(L,(function(e,t,n){var o;if(!n)return!0===e[t]?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null})),ae}(o);C.find=k,C.expr=k.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=k.uniqueSort,C.text=k.getText,C.isXMLDoc=k.isXML,C.contains=k.contains,C.escapeSelector=k.escape;var E=function(e,t,n){for(var o=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&C(e).is(n))break;o.push(e)}return o},O=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},A=C.expr.match.needsContext;function T(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function M(e,t,n){return v(t)?C.grep(e,(function(e,o){return!!t.call(e,o,e)!==n})):t.nodeType?C.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?C.grep(e,(function(e){return d.call(t,e)>-1!==n})):C.filter(t,e,n)}C.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?C.find.matchesSelector(o,e)?[o]:[]:C.find.matches(e,C.grep(t,(function(e){return 1===e.nodeType})))},C.fn.extend({find:function(e){var t,n,o=this.length,r=this;if("string"!=typeof e)return this.pushStack(C(e).filter((function(){for(t=0;t<o;t++)if(C.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<o;t++)C.find(e,r[t],n);return o>1?C.uniqueSort(n):n},filter:function(e){return this.pushStack(M(this,e||[],!1))},not:function(e){return this.pushStack(M(this,e||[],!0))},is:function(e){return!!M(this,"string"==typeof e&&A.test(e)?C(e):e||[],!1).length}});var P,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(e,t,n){var o,r;if(!e)return this;if(n=n||P,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:R.exec(e))||!o[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),D.test(o[1])&&C.isPlainObject(t))for(o in t)v(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(r=y.getElementById(o[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(C):C.makeArray(e,this)}).prototype=C.fn,P=C(y);var N=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function I(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(C.contains(this,t[e]))return!0}))},closest:function(e,t){var n,o=0,r=this.length,i=[],s="string"!=typeof e&&C(e);if(!A.test(e))for(;o<r;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&C.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?C.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?d.call(C(e),this[0]):d.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return E(e,"parentNode")},parentsUntil:function(e,t,n){return E(e,"parentNode",n)},next:function(e){return I(e,"nextSibling")},prev:function(e){return I(e,"previousSibling")},nextAll:function(e){return E(e,"nextSibling")},prevAll:function(e){return E(e,"previousSibling")},nextUntil:function(e,t,n){return E(e,"nextSibling",n)},prevUntil:function(e,t,n){return E(e,"previousSibling",n)},siblings:function(e){return O((e.parentNode||{}).firstChild,e)},children:function(e){return O(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(T(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},(function(e,t){C.fn[e]=function(n,o){var r=C.map(this,t,n);return"Until"!==e.slice(-5)&&(o=n),o&&"string"==typeof o&&(r=C.filter(o,r)),this.length>1&&(L[e]||C.uniqueSort(r),N.test(e)&&r.reverse()),this.pushStack(r)}}));var B=/[^\x20\t\r\n\f]+/g;function F(e){return e}function H(e){throw e}function V(e,t,n,o){var r;try{e&&v(r=e.promise)?r.call(e).done(t).fail(n):e&&v(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(o))}catch(e){n.apply(void 0,[e])}}C.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return C.each(e.match(B)||[],(function(e,n){t[n]=!0})),t}(e):C.extend({},e);var t,n,o,r,i=[],s=[],a=-1,l=function(){for(r=r||e.once,o=t=!0;s.length;a=-1)for(n=s.shift();++a<i.length;)!1===i[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=i.length,n=!1);e.memory||(n=!1),t=!1,r&&(i=n?[]:"")},c={add:function(){return i&&(n&&!t&&(a=i.length-1,s.push(n)),function t(n){C.each(n,(function(n,o){v(o)?e.unique&&c.has(o)||i.push(o):o&&o.length&&"string"!==_(o)&&t(o)}))}(arguments),n&&!t&&l()),this},remove:function(){return C.each(arguments,(function(e,t){for(var n;(n=C.inArray(t,i,n))>-1;)i.splice(n,1),n<=a&&a--})),this},has:function(e){return e?C.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return r=s=[],i=n="",this},disabled:function(){return!i},lock:function(){return r=s=[],n||t||(i=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!o}};return c},C.extend({Deferred:function(e){var t=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return C.Deferred((function(n){C.each(t,(function(t,o){var r=v(e[o[4]])&&e[o[4]];i[o[1]]((function(){var e=r&&r.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,r){var i=0;function s(e,t,n,r){return function(){var a=this,l=arguments,c=function(){var o,c;if(!(e<i)){if((o=n.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");c=o&&("object"==typeof o||"function"==typeof o)&&o.then,v(c)?r?c.call(o,s(i,t,F,r),s(i,t,H,r)):(i++,c.call(o,s(i,t,F,r),s(i,t,H,r),s(i,t,F,t.notifyWith))):(n!==F&&(a=void 0,l=[o]),(r||t.resolveWith)(a,l))}},d=r?c:function(){try{c()}catch(o){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(o,d.stackTrace),e+1>=i&&(n!==H&&(a=void 0,l=[o]),t.rejectWith(a,l))}};e?d():(C.Deferred.getStackHook&&(d.stackTrace=C.Deferred.getStackHook()),o.setTimeout(d))}}return C.Deferred((function(o){t[0][3].add(s(0,o,v(r)?r:F,o.notifyWith)),t[1][3].add(s(0,o,v(e)?e:F)),t[2][3].add(s(0,o,v(n)?n:H))})).promise()},promise:function(e){return null!=e?C.extend(e,r):r}},i={};return C.each(t,(function(e,o){var s=o[2],a=o[5];r[o[1]]=s.add,a&&s.add((function(){n=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(o[3].fire),i[o[0]]=function(){return i[o[0]+"With"](this===i?void 0:this,arguments),this},i[o[0]+"With"]=s.fireWith})),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,o=Array(n),r=a.call(arguments),i=C.Deferred(),s=function(e){return function(n){o[e]=this,r[e]=arguments.length>1?a.call(arguments):n,--t||i.resolveWith(o,r)}};if(t<=1&&(V(e,i.done(s(n)).resolve,i.reject,!t),"pending"===i.state()||v(r[n]&&r[n].then)))return i.then();for(;n--;)V(r[n],s(n),i.reject);return i.promise()}});var z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,t){o.console&&o.console.warn&&e&&z.test(e.name)&&o.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},C.readyException=function(e){o.setTimeout((function(){throw e}))};var U=C.Deferred();function W(){y.removeEventListener("DOMContentLoaded",W),o.removeEventListener("load",W),C.ready()}C.fn.ready=function(e){return U.then(e).catch((function(e){C.readyException(e)})),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==e&&--C.readyWait>0||U.resolveWith(y,[C]))}}),C.ready.then=U.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?o.setTimeout(C.ready):(y.addEventListener("DOMContentLoaded",W),o.addEventListener("load",W));var q=function(e,t,n,o,r,i,s){var a=0,l=e.length,c=null==n;if("object"===_(n))for(a in r=!0,n)q(e,t,a,n[a],!0,i,s);else if(void 0!==o&&(r=!0,v(o)||(s=!0),c&&(s?(t.call(e,o),t=null):(c=t,t=function(e,t,n){return c.call(C(e),n)})),t))for(;a<l;a++)t(e[a],n,s?o:o.call(e[a],a,t(e[a],n)));return r?e:c?t.call(e):l?t(e[0],n):i},Z=/^-ms-/,G=/-([a-z])/g;function $(e,t){return t.toUpperCase()}function Y(e){return e.replace(Z,"ms-").replace(G,$)}var K=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function X(){this.expando=C.expando+X.uid++}X.uid=1,X.prototype={cache:function(e){var t=e[this.expando];return t||(t={},K(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var o,r=this.cache(e);if("string"==typeof t)r[Y(t)]=n;else for(o in t)r[Y(o)]=t[o];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Y(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,o=e[this.expando];if(void 0!==o){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Y):(t=Y(t))in o?[t]:t.match(B)||[]).length;for(;n--;)delete o[t[n]]}(void 0===t||C.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!C.isEmptyObject(t)}};var Q=new X,J=new X,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var o;if(void 0===n&&1===e.nodeType)if(o="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(o))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}J.set(e,t,n)}else n=void 0;return n}C.extend({hasData:function(e){return J.hasData(e)||Q.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),C.fn.extend({data:function(e,t){var n,o,r,i=this[0],s=i&&i.attributes;if(void 0===e){if(this.length&&(r=J.get(i),1===i.nodeType&&!Q.get(i,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(o=s[n].name).indexOf("data-")&&(o=Y(o.slice(5)),ne(i,o,r[o]));Q.set(i,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){J.set(this,e)})):q(this,(function(t){var n;if(i&&void 0===t)return void 0!==(n=J.get(i,e))||void 0!==(n=ne(i,e))?n:void 0;this.each((function(){J.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){J.remove(this,e)}))}}),C.extend({queue:function(e,t,n){var o;if(e)return t=(t||"fx")+"queue",o=Q.get(e,t),n&&(!o||Array.isArray(n)?o=Q.access(e,t,C.makeArray(n)):o.push(n)),o||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),o=n.length,r=n.shift(),i=C._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),o--),r&&("fx"===t&&n.unshift("inprogress"),delete i.stop,r.call(e,(function(){C.dequeue(e,t)}),i)),!o&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:C.Callbacks("once memory").add((function(){Q.remove(e,[t+"queue",n])}))})}}),C.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?C.queue(this[0],e):void 0===t?this:this.each((function(){var n=C.queue(this,e,t);C._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&C.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){C.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,o=1,r=C.Deferred(),i=this,s=this.length,a=function(){--o||r.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=Q.get(i[s],e+"queueHooks"))&&n.empty&&(o++,n.empty.add(a));return a(),r.promise(t)}});var oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+oe+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],se=y.documentElement,ae=function(e){return C.contains(e.ownerDocument,e)},le={composed:!0};se.getRootNode&&(ae=function(e){return C.contains(e.ownerDocument,e)||e.getRootNode(le)===e.ownerDocument});var ce=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ae(e)&&"none"===C.css(e,"display")};function de(e,t,n,o){var r,i,s=20,a=o?function(){return o.cur()}:function(){return C.css(e,t,"")},l=a(),c=n&&n[3]||(C.cssNumber[t]?"":"px"),d=e.nodeType&&(C.cssNumber[t]||"px"!==c&&+l)&&re.exec(C.css(e,t));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;s--;)C.style(e,t,d+c),(1-i)*(1-(i=a()/l||.5))<=0&&(s=0),d/=i;d*=2,C.style(e,t,d+c),n=n||[]}return n&&(d=+d||+l||0,r=n[1]?d+(n[1]+1)*n[2]:+n[2],o&&(o.unit=c,o.start=d,o.end=r)),r}var ue={};function he(e){var t,n=e.ownerDocument,o=e.nodeName,r=ue[o];return r||(t=n.body.appendChild(n.createElement(o)),r=C.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),ue[o]=r,r)}function me(e,t){for(var n,o,r=[],i=0,s=e.length;i<s;i++)(o=e[i]).style&&(n=o.style.display,t?("none"===n&&(r[i]=Q.get(o,"display")||null,r[i]||(o.style.display="")),""===o.style.display&&ce(o)&&(r[i]=he(o))):"none"!==n&&(r[i]="none",Q.set(o,"display",n)));for(i=0;i<s;i++)null!=r[i]&&(e[i].style.display=r[i]);return e}C.fn.extend({show:function(){return me(this,!0)},hide:function(){return me(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ce(this)?C(this).show():C(this).hide()}))}});var pe,fe,ge=/^(?:checkbox|radio)$/i,ve=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,be=/^$|^module$|\/(?:java|ecma)script/i;pe=y.createDocumentFragment().appendChild(y.createElement("div")),(fe=y.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),pe.appendChild(fe),g.checkClone=pe.cloneNode(!0).cloneNode(!0).lastChild.checked,pe.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!pe.cloneNode(!0).lastChild.defaultValue,pe.innerHTML="<option></option>",g.option=!!pe.lastChild;var ye={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function we(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&T(e,t)?C.merge([e],n):n}function xe(e,t){for(var n=0,o=e.length;n<o;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td,g.option||(ye.optgroup=ye.option=[1,"<select multiple='multiple'>","</select>"]);var _e=/<|&#?\w+;/;function Se(e,t,n,o,r){for(var i,s,a,l,c,d,u=t.createDocumentFragment(),h=[],m=0,p=e.length;m<p;m++)if((i=e[m])||0===i)if("object"===_(i))C.merge(h,i.nodeType?[i]:i);else if(_e.test(i)){for(s=s||u.appendChild(t.createElement("div")),a=(ve.exec(i)||["",""])[1].toLowerCase(),l=ye[a]||ye._default,s.innerHTML=l[1]+C.htmlPrefilter(i)+l[2],d=l[0];d--;)s=s.lastChild;C.merge(h,s.childNodes),(s=u.firstChild).textContent=""}else h.push(t.createTextNode(i));for(u.textContent="",m=0;i=h[m++];)if(o&&C.inArray(i,o)>-1)r&&r.push(i);else if(c=ae(i),s=we(u.appendChild(i),"script"),c&&xe(s),n)for(d=0;i=s[d++];)be.test(i.type||"")&&n.push(i);return u}var Ce=/^([^.]*)(?:\.(.+)|)/;function je(){return!0}function ke(){return!1}function Ee(e,t){return e===function(){try{return y.activeElement}catch(e){}}()==("focus"===t)}function Oe(e,t,n,o,r,i){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(o=o||n,n=void 0),t)Oe(e,a,n,o,t[a],i);return e}if(null==o&&null==r?(r=n,o=n=void 0):null==r&&("string"==typeof n?(r=o,o=void 0):(r=o,o=n,n=void 0)),!1===r)r=ke;else if(!r)return e;return 1===i&&(s=r,r=function(e){return C().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=C.guid++)),e.each((function(){C.event.add(this,t,r,o,n)}))}function Ae(e,t,n){n?(Q.set(e,t,!1),C.event.add(e,t,{namespace:!1,handler:function(e){var o,r,i=Q.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(C.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=a.call(arguments),Q.set(this,t,i),o=n(this,t),this[t](),i!==(r=Q.get(this,t))||o?Q.set(this,t,!1):r={},i!==r)return e.stopImmediatePropagation(),e.preventDefault(),r&&r.value}else i.length&&(Q.set(this,t,{value:C.event.trigger(C.extend(i[0],C.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,t)&&C.event.add(e,t,je)}C.event={global:{},add:function(e,t,n,o,r){var i,s,a,l,c,d,u,h,m,p,f,g=Q.get(e);if(K(e))for(n.handler&&(n=(i=n).handler,r=i.selector),r&&C.find.matchesSelector(se,r),n.guid||(n.guid=C.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return void 0!==C&&C.event.triggered!==t.type?C.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(B)||[""]).length;c--;)m=f=(a=Ce.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),m&&(u=C.event.special[m]||{},m=(r?u.delegateType:u.bindType)||m,u=C.event.special[m]||{},d=C.extend({type:m,origType:f,data:o,handler:n,guid:n.guid,selector:r,needsContext:r&&C.expr.match.needsContext.test(r),namespace:p.join(".")},i),(h=l[m])||((h=l[m]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,o,p,s)||e.addEventListener&&e.addEventListener(m,s)),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,d):h.push(d),C.event.global[m]=!0)},remove:function(e,t,n,o,r){var i,s,a,l,c,d,u,h,m,p,f,g=Q.hasData(e)&&Q.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(B)||[""]).length;c--;)if(m=f=(a=Ce.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),m){for(u=C.event.special[m]||{},h=l[m=(o?u.delegateType:u.bindType)||m]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=i=h.length;i--;)d=h[i],!r&&f!==d.origType||n&&n.guid!==d.guid||a&&!a.test(d.namespace)||o&&o!==d.selector&&("**"!==o||!d.selector)||(h.splice(i,1),d.selector&&h.delegateCount--,u.remove&&u.remove.call(e,d));s&&!h.length&&(u.teardown&&!1!==u.teardown.call(e,p,g.handle)||C.removeEvent(e,m,g.handle),delete l[m])}else for(m in l)C.event.remove(e,m+t[c],n,o,!0);C.isEmptyObject(l)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,o,r,i,s,a=new Array(arguments.length),l=C.event.fix(e),c=(Q.get(this,"events")||Object.create(null))[l.type]||[],d=C.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,l)){for(s=C.event.handlers.call(this,l,c),t=0;(r=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(i=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==i.namespace&&!l.rnamespace.test(i.namespace)||(l.handleObj=i,l.data=i.data,void 0!==(o=((C.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,a))&&!1===(l.result=o)&&(l.preventDefault(),l.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,o,r,i,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],s={},n=0;n<l;n++)void 0===s[r=(o=t[n]).selector+" "]&&(s[r]=o.needsContext?C(r,this).index(c)>-1:C.find(r,this,null,[c]).length),s[r]&&i.push(o);i.length&&a.push({elem:c,handlers:i})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(C.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ge.test(t.type)&&t.click&&T(t,"input")&&Ae(t,"click",je),!1},trigger:function(e){var t=this||e;return ge.test(t.type)&&t.click&&T(t,"input")&&Ae(t,"click"),!0},_default:function(e){var t=e.target;return ge.test(t.type)&&t.click&&T(t,"input")&&Q.get(t,"click")||T(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?je:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=je,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=je,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=je,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},(function(e,t){C.event.special[e]={setup:function(){return Ae(this,e,Ee),!1},trigger:function(){return Ae(this,e),!0},_default:function(t){return Q.get(t.target,e)},delegateType:t}})),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){C.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,o=e.relatedTarget,r=e.handleObj;return o&&(o===this||C.contains(this,o))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}})),C.fn.extend({on:function(e,t,n,o){return Oe(this,e,t,n,o)},one:function(e,t,n,o){return Oe(this,e,t,n,o,1)},off:function(e,t,n){var o,r;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,C(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each((function(){C.event.remove(this,e,n,t)}))}});var Te=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Pe(e,t){return T(e,"table")&&T(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function Re(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ne(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,o,r,i,s,a;if(1===t.nodeType){if(Q.hasData(e)&&(a=Q.get(e).events))for(r in Q.remove(t,"handle events"),a)for(n=0,o=a[r].length;n<o;n++)C.event.add(t,r,a[r][n]);J.hasData(e)&&(i=J.access(e),s=C.extend({},i),J.set(t,s))}}function Ie(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ge.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Be(e,t,n,o){t=l(t);var r,i,s,a,c,d,u=0,h=e.length,m=h-1,p=t[0],f=v(p);if(f||h>1&&"string"==typeof p&&!g.checkClone&&De.test(p))return e.each((function(r){var i=e.eq(r);f&&(t[0]=p.call(this,r,i.html())),Be(i,t,n,o)}));if(h&&(i=(r=Se(t,e[0].ownerDocument,!1,e,o)).firstChild,1===r.childNodes.length&&(r=i),i||o)){for(a=(s=C.map(we(r,"script"),Re)).length;u<h;u++)c=r,u!==m&&(c=C.clone(c,!0,!0),a&&C.merge(s,we(c,"script"))),n.call(e[u],c,u);if(a)for(d=s[s.length-1].ownerDocument,C.map(s,Ne),u=0;u<a;u++)c=s[u],be.test(c.type||"")&&!Q.access(c,"globalEval")&&C.contains(d,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?C._evalUrl&&!c.noModule&&C._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},d):x(c.textContent.replace(Me,""),c,d))}return e}function Fe(e,t,n){for(var o,r=t?C.filter(t,e):e,i=0;null!=(o=r[i]);i++)n||1!==o.nodeType||C.cleanData(we(o)),o.parentNode&&(n&&ae(o)&&xe(we(o,"script")),o.parentNode.removeChild(o));return e}C.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var o,r,i,s,a=e.cloneNode(!0),l=ae(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(s=we(a),o=0,r=(i=we(e)).length;o<r;o++)Ie(i[o],s[o]);if(t)if(n)for(i=i||we(e),s=s||we(a),o=0,r=i.length;o<r;o++)Le(i[o],s[o]);else Le(e,a);return(s=we(a,"script")).length>0&&xe(s,!l&&we(e,"script")),a},cleanData:function(e){for(var t,n,o,r=C.event.special,i=0;void 0!==(n=e[i]);i++)if(K(n)){if(t=n[Q.expando]){if(t.events)for(o in t.events)r[o]?C.event.remove(n,o):C.removeEvent(n,o,t.handle);n[Q.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),C.fn.extend({detach:function(e){return Fe(this,e,!0)},remove:function(e){return Fe(this,e)},text:function(e){return q(this,(function(e){return void 0===e?C.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Be(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pe(this,e).appendChild(e)}))},prepend:function(){return Be(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Pe(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Be(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Be(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(we(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return C.clone(this,e,t)}))},html:function(e){return q(this,(function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Te.test(e)&&!ye[(ve.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;n<o;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(we(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Be(this,arguments,(function(t){var n=this.parentNode;C.inArray(this,e)<0&&(C.cleanData(we(this)),n&&n.replaceChild(t,this))}),e)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){C.fn[e]=function(e){for(var n,o=[],r=C(e),i=r.length-1,s=0;s<=i;s++)n=s===i?this:this.clone(!0),C(r[s])[t](n),c.apply(o,n.get());return this.pushStack(o)}}));var He=new RegExp("^("+oe+")(?!px)[a-z%]+$","i"),Ve=/^--/,ze=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=o),t.getComputedStyle(e)},Ue=function(e,t,n){var o,r,i={};for(r in t)i[r]=e.style[r],e.style[r]=t[r];for(r in o=n.call(e),t)e.style[r]=i[r];return o},We=new RegExp(ie.join("|"),"i"),qe="[\\x20\\t\\r\\n\\f]",Ze=new RegExp("^"+qe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+qe+"+$","g");function Ge(e,t,n){var o,r,i,s,a=Ve.test(t),l=e.style;return(n=n||ze(e))&&(s=n.getPropertyValue(t)||n[t],a&&s&&(s=s.replace(Ze,"$1")||void 0),""!==s||ae(e)||(s=C.style(e,t)),!g.pixelBoxStyles()&&He.test(s)&&We.test(t)&&(o=l.width,r=l.minWidth,i=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=n.width,l.width=o,l.minWidth=r,l.maxWidth=i)),void 0!==s?s+"":s}function $e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",se.appendChild(c).appendChild(d);var e=o.getComputedStyle(d);n="1%"!==e.top,l=12===t(e.marginLeft),d.style.right="60%",s=36===t(e.right),r=36===t(e.width),d.style.position="absolute",i=12===t(d.offsetWidth/3),se.removeChild(c),d=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,s,a,l,c=y.createElement("div"),d=y.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===d.style.backgroundClip,C.extend(g,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=y.createElement("table"),t=y.createElement("tr"),n=y.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",se.appendChild(e).appendChild(t).appendChild(n),r=o.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,se.removeChild(e)),a}}))}();var Ye=["Webkit","Moz","ms"],Ke=y.createElement("div").style,Xe={};function Qe(e){var t=C.cssProps[e]||Xe[e];return t||(e in Ke?e:Xe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ye.length;n--;)if((e=Ye[n]+t)in Ke)return e}(e)||e)}var Je=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"};function nt(e,t,n){var o=re.exec(t);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):t}function ot(e,t,n,o,r,i){var s="width"===t?1:0,a=0,l=0;if(n===(o?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=C.css(e,n+ie[s],!0,r)),o?("content"===n&&(l-=C.css(e,"padding"+ie[s],!0,r)),"margin"!==n&&(l-=C.css(e,"border"+ie[s]+"Width",!0,r))):(l+=C.css(e,"padding"+ie[s],!0,r),"padding"!==n?l+=C.css(e,"border"+ie[s]+"Width",!0,r):a+=C.css(e,"border"+ie[s]+"Width",!0,r));return!o&&i>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-a-.5))||0),l}function rt(e,t,n){var o=ze(e),r=(!g.boxSizingReliable()||n)&&"border-box"===C.css(e,"boxSizing",!1,o),i=r,s=Ge(e,t,o),a="offset"+t[0].toUpperCase()+t.slice(1);if(He.test(s)){if(!n)return s;s="auto"}return(!g.boxSizingReliable()&&r||!g.reliableTrDimensions()&&T(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===C.css(e,"display",!1,o))&&e.getClientRects().length&&(r="border-box"===C.css(e,"boxSizing",!1,o),(i=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+ot(e,t,n||(r?"border":"content"),i,o,s)+"px"}function it(e,t,n,o,r){return new it.prototype.init(e,t,n,o,r)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,i,s,a=Y(t),l=Ve.test(t),c=e.style;if(l||(t=Qe(a)),s=C.cssHooks[t]||C.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,o))?r:c[t];"string"===(i=typeof n)&&(r=re.exec(n))&&r[1]&&(n=de(e,t,r),i="number"),null!=n&&n==n&&("number"!==i||l||(n+=r&&r[3]||(C.cssNumber[a]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,o))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,o){var r,i,s,a=Y(t);return Ve.test(t)||(t=Qe(a)),(s=C.cssHooks[t]||C.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=Ge(e,t,o)),"normal"===r&&t in tt&&(r=tt[t]),""===n||n?(i=parseFloat(r),!0===n||isFinite(i)?i||0:r):r}}),C.each(["height","width"],(function(e,t){C.cssHooks[t]={get:function(e,n,o){if(n)return!Je.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?rt(e,t,o):Ue(e,et,(function(){return rt(e,t,o)}))},set:function(e,n,o){var r,i=ze(e),s=!g.scrollboxSize()&&"absolute"===i.position,a=(s||o)&&"border-box"===C.css(e,"boxSizing",!1,i),l=o?ot(e,t,o,a,i):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-ot(e,t,"border",!1,i)-.5)),l&&(r=re.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=C.css(e,t)),nt(0,n,l)}}})),C.cssHooks.marginLeft=$e(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-Ue(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),C.each({margin:"",padding:"",border:"Width"},(function(e,t){C.cssHooks[e+t]={expand:function(n){for(var o=0,r={},i="string"==typeof n?n.split(" "):[n];o<4;o++)r[e+ie[o]+t]=i[o]||i[o-2]||i[0];return r}},"margin"!==e&&(C.cssHooks[e+t].set=nt)})),C.fn.extend({css:function(e,t){return q(this,(function(e,t,n){var o,r,i={},s=0;if(Array.isArray(t)){for(o=ze(e),r=t.length;s<r;s++)i[t[s]]=C.css(e,t[s],!1,o);return i}return void 0!==n?C.style(e,t,n):C.css(e,t)}),e,t,arguments.length>1)}}),C.Tween=it,it.prototype={constructor:it,init:function(e,t,n,o,r,i){this.elem=e,this.prop=n,this.easing=r||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=i||(C.cssNumber[n]?"":"px")},cur:function(){var e=it.propHooks[this.prop];return e&&e.get?e.get(this):it.propHooks._default.get(this)},run:function(e){var t,n=it.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):it.propHooks._default.set(this),this}},it.prototype.init.prototype=it.prototype,it.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||!C.cssHooks[e.prop]&&null==e.elem.style[Qe(e.prop)]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}},it.propHooks.scrollTop=it.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=it.prototype.init,C.fx.step={};var st,at,lt=/^(?:toggle|show|hide)$/,ct=/queueHooks$/;function dt(){at&&(!1===y.hidden&&o.requestAnimationFrame?o.requestAnimationFrame(dt):o.setTimeout(dt,C.fx.interval),C.fx.tick())}function ut(){return o.setTimeout((function(){st=void 0})),st=Date.now()}function ht(e,t){var n,o=0,r={height:e};for(t=t?1:0;o<4;o+=2-t)r["margin"+(n=ie[o])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function mt(e,t,n){for(var o,r=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),i=0,s=r.length;i<s;i++)if(o=r[i].call(n,t,e))return o}function pt(e,t,n){var o,r,i=0,s=pt.prefilters.length,a=C.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var t=st||ut(),n=Math.max(0,c.startTime+c.duration-t),o=1-(n/c.duration||0),i=0,s=c.tweens.length;i<s;i++)c.tweens[i].run(o);return a.notifyWith(e,[c,o,n]),o<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},n),originalProperties:t,originalOptions:n,startTime:st||ut(),duration:n.duration,tweens:[],createTween:function(t,n){var o=C.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(o),o},stop:function(t){var n=0,o=t?c.tweens.length:0;if(r)return this;for(r=!0;n<o;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),d=c.props;for(!function(e,t){var n,o,r,i,s;for(n in e)if(r=t[o=Y(n)],i=e[n],Array.isArray(i)&&(r=i[1],i=e[n]=i[0]),n!==o&&(e[o]=i,delete e[n]),(s=C.cssHooks[o])&&"expand"in s)for(n in i=s.expand(i),delete e[o],i)n in e||(e[n]=i[n],t[n]=r);else t[o]=r}(d,c.opts.specialEasing);i<s;i++)if(o=pt.prefilters[i].call(c,e,d,c.opts))return v(o.stop)&&(C._queueHooks(c.elem,c.opts.queue).stop=o.stop.bind(o)),o;return C.map(d,mt,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),C.fx.timer(C.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}C.Animation=C.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return de(n.elem,e,re.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(B);for(var n,o=0,r=e.length;o<r;o++)n=e[o],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var o,r,i,s,a,l,c,d,u="width"in t||"height"in t,h=this,m={},p=e.style,f=e.nodeType&&ce(e),g=Q.get(e,"fxshow");for(o in n.queue||(null==(s=C._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always((function(){h.always((function(){s.unqueued--,C.queue(e,"fx").length||s.empty.fire()}))}))),t)if(r=t[o],lt.test(r)){if(delete t[o],i=i||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!g||void 0===g[o])continue;f=!0}m[o]=g&&g[o]||C.style(e,o)}if((l=!C.isEmptyObject(t))||!C.isEmptyObject(m))for(o in u&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=Q.get(e,"display")),"none"===(d=C.css(e,"display"))&&(c?d=c:(me([e],!0),c=e.style.display||c,d=C.css(e,"display"),me([e]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===C.css(e,"float")&&(l||(h.done((function(){p.display=c})),null==c&&(d=p.display,c="none"===d?"":d)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,m)l||(g?"hidden"in g&&(f=g.hidden):g=Q.access(e,"fxshow",{display:c}),i&&(g.hidden=!f),f&&me([e],!0),h.done((function(){for(o in f||me([e]),Q.remove(e,"fxshow"),m)C.style(e,o,m[o])}))),l=mt(f?g[o]:0,o,h),o in g||(g[o]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),C.speed=function(e,t,n){var o=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return C.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration in C.fx.speeds?o.duration=C.fx.speeds[o.duration]:o.duration=C.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){v(o.old)&&o.old.call(this),o.queue&&C.dequeue(this,o.queue)},o},C.fn.extend({fadeTo:function(e,t,n,o){return this.filter(ce).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(e,t,n,o){var r=C.isEmptyObject(e),i=C.speed(t,n,o),s=function(){var t=pt(this,C.extend({},e),i);(r||Q.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===i.queue?this.each(s):this.queue(i.queue,s)},stop:function(e,t,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",i=C.timers,s=Q.get(this);if(r)s[r]&&s[r].stop&&o(s[r]);else for(r in s)s[r]&&s[r].stop&&ct.test(r)&&o(s[r]);for(r=i.length;r--;)i[r].elem!==this||null!=e&&i[r].queue!==e||(i[r].anim.stop(n),t=!1,i.splice(r,1));!t&&n||C.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Q.get(this),o=n[e+"queue"],r=n[e+"queueHooks"],i=C.timers,s=o?o.length:0;for(n.finish=!0,C.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<s;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete n.finish}))}}),C.each(["toggle","show","hide"],(function(e,t){var n=C.fn[t];C.fn[t]=function(e,o,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ht(t,!0),e,o,r)}})),C.each({slideDown:ht("show"),slideUp:ht("hide"),slideToggle:ht("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){C.fn[e]=function(e,n,o){return this.animate(t,e,n,o)}})),C.timers=[],C.fx.tick=function(){var e,t=0,n=C.timers;for(st=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||C.fx.stop(),st=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){at||(at=!0,dt())},C.fx.stop=function(){at=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(e,t){return e=C.fx&&C.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=o.setTimeout(t,e);n.stop=function(){o.clearTimeout(r)}}))},function(){var e=y.createElement("input"),t=y.createElement("select").appendChild(y.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=y.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var ft,gt=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return q(this,C.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){C.removeAttr(this,e)}))}}),C.extend({attr:function(e,t,n){var o,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?C.prop(e,t,n):(1===i&&C.isXMLDoc(e)||(r=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?ft:void 0)),void 0!==n?null===n?void C.removeAttr(e,t):r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(o=r.get(e,t))?o:null==(o=C.find.attr(e,t))?void 0:o)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&T(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,o=0,r=t&&t.match(B);if(r&&1===e.nodeType)for(;n=r[o++];)e.removeAttribute(n)}}),ft={set:function(e,t,n){return!1===t?C.removeAttr(e,n):e.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=gt[t]||C.find.attr;gt[t]=function(e,t,o){var r,i,s=t.toLowerCase();return o||(i=gt[s],gt[s]=r,r=null!=n(e,t,o)?s:null,gt[s]=i),r}}));var vt=/^(?:input|select|textarea|button)$/i,bt=/^(?:a|area)$/i;function yt(e){return(e.match(B)||[]).join(" ")}function wt(e){return e.getAttribute&&e.getAttribute("class")||""}function xt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(B)||[]}C.fn.extend({prop:function(e,t){return q(this,C.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[C.propFix[e]||e]}))}}),C.extend({prop:function(e,t,n){var o,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&C.isXMLDoc(e)||(t=C.propFix[t]||t,r=C.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:e[t]=n:r&&"get"in r&&null!==(o=r.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(C.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){C.propFix[this.toLowerCase()]=this})),C.fn.extend({addClass:function(e){var t,n,o,r,i,s;return v(e)?this.each((function(t){C(this).addClass(e.call(this,t,wt(this)))})):(t=xt(e)).length?this.each((function(){if(o=wt(this),n=1===this.nodeType&&" "+yt(o)+" "){for(i=0;i<t.length;i++)r=t[i],n.indexOf(" "+r+" ")<0&&(n+=r+" ");s=yt(n),o!==s&&this.setAttribute("class",s)}})):this},removeClass:function(e){var t,n,o,r,i,s;return v(e)?this.each((function(t){C(this).removeClass(e.call(this,t,wt(this)))})):arguments.length?(t=xt(e)).length?this.each((function(){if(o=wt(this),n=1===this.nodeType&&" "+yt(o)+" "){for(i=0;i<t.length;i++)for(r=t[i];n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");s=yt(n),o!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,o,r,i,s=typeof e,a="string"===s||Array.isArray(e);return v(e)?this.each((function(n){C(this).toggleClass(e.call(this,n,wt(this),t),t)})):"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):(n=xt(e),this.each((function(){if(a)for(i=C(this),r=0;r<n.length;r++)o=n[r],i.hasClass(o)?i.removeClass(o):i.addClass(o);else void 0!==e&&"boolean"!==s||((o=wt(this))&&Q.set(this,"__className__",o),this.setAttribute&&this.setAttribute("class",o||!1===e?"":Q.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,o=0;for(t=" "+e+" ";n=this[o++];)if(1===n.nodeType&&(" "+yt(wt(n))+" ").indexOf(t)>-1)return!0;return!1}});var _t=/\r/g;C.fn.extend({val:function(e){var t,n,o,r=this[0];return arguments.length?(o=v(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=o?e.call(this,n,C(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=C.map(r,(function(e){return null==e?"":e+""}))),(t=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=C.valHooks[r.type]||C.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(_t,""):null==n?"":n:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:yt(C.text(e))}},select:{get:function(e){var t,n,o,r=e.options,i=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?i+1:r.length;for(o=i<0?l:s?i:0;o<l;o++)if(((n=r[o]).selected||o===i)&&!n.disabled&&(!n.parentNode.disabled||!T(n.parentNode,"optgroup"))){if(t=C(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,o,r=e.options,i=C.makeArray(t),s=r.length;s--;)((o=r[s]).selected=C.inArray(C.valHooks.option.get(o),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),C.each(["radio","checkbox"],(function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=C.inArray(C(e).val(),t)>-1}},g.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),g.focusin="onfocusin"in o;var St=/^(?:focusinfocus|focusoutblur)$/,Ct=function(e){e.stopPropagation()};C.extend(C.event,{trigger:function(e,t,n,r){var i,s,a,l,c,d,u,h,p=[n||y],f=m.call(e,"type")?e.type:e,g=m.call(e,"namespace")?e.namespace.split("."):[];if(s=h=a=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!St.test(f+C.event.triggered)&&(f.indexOf(".")>-1&&(g=f.split("."),f=g.shift(),g.sort()),c=f.indexOf(":")<0&&"on"+f,(e=e[C.expando]?e:new C.Event(f,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:C.makeArray(t,[e]),u=C.event.special[f]||{},r||!u.trigger||!1!==u.trigger.apply(n,t))){if(!r&&!u.noBubble&&!b(n)){for(l=u.delegateType||f,St.test(l+f)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(n.ownerDocument||y)&&p.push(a.defaultView||a.parentWindow||o)}for(i=0;(s=p[i++])&&!e.isPropagationStopped();)h=s,e.type=i>1?l:u.bindType||f,(d=(Q.get(s,"events")||Object.create(null))[e.type]&&Q.get(s,"handle"))&&d.apply(s,t),(d=c&&s[c])&&d.apply&&K(s)&&(e.result=d.apply(s,t),!1===e.result&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(p.pop(),t)||!K(n)||c&&v(n[f])&&!b(n)&&((a=n[c])&&(n[c]=null),C.event.triggered=f,e.isPropagationStopped()&&h.addEventListener(f,Ct),n[f](),e.isPropagationStopped()&&h.removeEventListener(f,Ct),C.event.triggered=void 0,a&&(n[c]=a)),e.result}},simulate:function(e,t,n){var o=C.extend(new C.Event,n,{type:e,isSimulated:!0});C.event.trigger(o,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each((function(){C.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}}),g.focusin||C.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){C.event.simulate(t,e.target,C.event.fix(e))};C.event.special[t]={setup:function(){var o=this.ownerDocument||this.document||this,r=Q.access(o,t);r||o.addEventListener(e,n,!0),Q.access(o,t,(r||0)+1)},teardown:function(){var o=this.ownerDocument||this.document||this,r=Q.access(o,t)-1;r?Q.access(o,t,r):(o.removeEventListener(e,n,!0),Q.remove(o,t))}}}));var jt=o.location,kt={guid:Date.now()},Et=/\?/;C.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new o.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||C.error("Invalid XML: "+(n?C.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Ot=/\[\]$/,At=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;function Mt(e,t,n,o){var r;if(Array.isArray(t))C.each(t,(function(t,r){n||Ot.test(e)?o(e,r):Mt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,o)}));else if(n||"object"!==_(t))o(e,t);else for(r in t)Mt(e+"["+r+"]",t[r],n,o)}C.param=function(e,t){var n,o=[],r=function(e,t){var n=v(t)?t():t;o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,(function(){r(this.name,this.value)}));else for(n in e)Mt(n,e[n],t,r);return o.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&Dt.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!ge.test(e))})).map((function(e,t){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,(function(e){return{name:t.name,value:e.replace(At,"\r\n")}})):{name:t.name,value:n.replace(At,"\r\n")}})).get()}});var Pt=/%20/g,Rt=/#.*$/,Nt=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)$/gm,It=/^(?:GET|HEAD)$/,Bt=/^\/\//,Ft={},Ht={},Vt="*/".concat("*"),zt=y.createElement("a");function Ut(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var o,r=0,i=t.toLowerCase().match(B)||[];if(v(n))for(;o=i[r++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(n)):(e[o]=e[o]||[]).push(n)}}function Wt(e,t,n,o){var r={},i=e===Ht;function s(a){var l;return r[a]=!0,C.each(e[a]||[],(function(e,a){var c=a(t,n,o);return"string"!=typeof c||i||r[c]?i?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),l}return s(t.dataTypes[0])||!r["*"]&&s("*")}function qt(e,t){var n,o,r=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:o||(o={}))[n]=t[n]);return o&&C.extend(!0,e,o),e}zt.href=jt.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(jt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?qt(qt(e,C.ajaxSettings),t):qt(C.ajaxSettings,e)},ajaxPrefilter:Ut(Ft),ajaxTransport:Ut(Ht),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,i,s,a,l,c,d,u,h,m=C.ajaxSetup({},t),p=m.context||m,f=m.context&&(p.nodeType||p.jquery)?C(p):C.event,g=C.Deferred(),v=C.Callbacks("once memory"),b=m.statusCode||{},w={},x={},_="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Lt.exec(i);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?i:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)S.always(e[S.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||_;return n&&n.abort(t),j(0,t),this}};if(g.promise(S),m.url=((e||m.url||jt.href)+"").replace(Bt,jt.protocol+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(B)||[""],null==m.crossDomain){l=y.createElement("a");try{l.href=m.url,l.href=l.href,m.crossDomain=zt.protocol+"//"+zt.host!=l.protocol+"//"+l.host}catch(e){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=C.param(m.data,m.traditional)),Wt(Ft,m,t,S),c)return S;for(u in(d=C.event&&m.global)&&0==C.active++&&C.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!It.test(m.type),r=m.url.replace(Rt,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(Pt,"+")):(h=m.url.slice(r.length),m.data&&(m.processData||"string"==typeof m.data)&&(r+=(Et.test(r)?"&":"?")+m.data,delete m.data),!1===m.cache&&(r=r.replace(Nt,"$1"),h=(Et.test(r)?"&":"?")+"_="+kt.guid+++h),m.url=r+h),m.ifModified&&(C.lastModified[r]&&S.setRequestHeader("If-Modified-Since",C.lastModified[r]),C.etag[r]&&S.setRequestHeader("If-None-Match",C.etag[r])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&S.setRequestHeader("Content-Type",m.contentType),S.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Vt+"; q=0.01":""):m.accepts["*"]),m.headers)S.setRequestHeader(u,m.headers[u]);if(m.beforeSend&&(!1===m.beforeSend.call(p,S,m)||c))return S.abort();if(_="abort",v.add(m.complete),S.done(m.success),S.fail(m.error),n=Wt(Ht,m,t,S)){if(S.readyState=1,d&&f.trigger("ajaxSend",[S,m]),c)return S;m.async&&m.timeout>0&&(a=o.setTimeout((function(){S.abort("timeout")}),m.timeout));try{c=!1,n.send(w,j)}catch(e){if(c)throw e;j(-1,e)}}else j(-1,"No Transport");function j(e,t,s,l){var u,h,y,w,x,_=t;c||(c=!0,a&&o.clearTimeout(a),n=void 0,i=l||"",S.readyState=e>0?4:0,u=e>=200&&e<300||304===e,s&&(w=function(e,t,n){for(var o,r,i,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(r in a)if(a[r]&&a[r].test(o)){l.unshift(r);break}if(l[0]in n)i=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){i=r;break}s||(s=r)}i=i||s}if(i)return i!==l[0]&&l.unshift(i),n[i]}(m,S,s)),!u&&C.inArray("script",m.dataTypes)>-1&&C.inArray("json",m.dataTypes)<0&&(m.converters["text script"]=function(){}),w=function(e,t,n,o){var r,i,s,a,l,c={},d=e.dataTypes.slice();if(d[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(i=d.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=d.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(s=c[l+" "+i]||c["* "+i]))for(r in c)if((a=r.split(" "))[1]===i&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(i=a[0],d.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}(m,w,S,u),u?(m.ifModified&&((x=S.getResponseHeader("Last-Modified"))&&(C.lastModified[r]=x),(x=S.getResponseHeader("etag"))&&(C.etag[r]=x)),204===e||"HEAD"===m.type?_="nocontent":304===e?_="notmodified":(_=w.state,h=w.data,u=!(y=w.error))):(y=_,!e&&_||(_="error",e<0&&(e=0))),S.status=e,S.statusText=(t||_)+"",u?g.resolveWith(p,[h,_,S]):g.rejectWith(p,[S,_,y]),S.statusCode(b),b=void 0,d&&f.trigger(u?"ajaxSuccess":"ajaxError",[S,m,u?h:y]),v.fireWith(p,[S,_]),d&&(f.trigger("ajaxComplete",[S,m]),--C.active||C.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],(function(e,t){C[t]=function(e,n,o,r){return v(n)&&(r=r||o,o=n,n=void 0),C.ajax(C.extend({url:e,type:t,dataType:r,data:n,success:o},C.isPlainObject(e)&&e))}})),C.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),C._evalUrl=function(e,t,n){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){C.globalEval(e,t,n)}})},C.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){C(this).wrapInner(e.call(this,t))})):this.each((function(){var t=C(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){C(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){C(this).replaceWith(this.childNodes)})),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new o.XMLHttpRequest}catch(e){}};var Zt={0:200,1223:204},Gt=C.ajaxSettings.xhr();g.cors=!!Gt&&"withCredentials"in Gt,g.ajax=Gt=!!Gt,C.ajaxTransport((function(e){var t,n;if(g.cors||Gt&&!e.crossDomain)return{send:function(r,i){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?i(0,"error"):i(a.status,a.statusText):i(Zt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&o.setTimeout((function(){t&&n()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),C.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),C.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(o,r){t=C("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){n&&n()}}}));var $t,Yt=[],Kt=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||C.expando+"_"+kt.guid++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",(function(e,t,n){var r,i,s,a=!1!==e.jsonp&&(Kt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Kt,"$1"+r):!1!==e.jsonp&&(e.url+=(Et.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||C.error(r+" was not called"),s[0]},e.dataTypes[0]="json",i=o[r],o[r]=function(){s=arguments},n.always((function(){void 0===i?C(o).removeProp(r):o[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Yt.push(r)),s&&v(i)&&i(s[0]),s=i=void 0})),"script"})),g.createHTMLDocument=(($t=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===$t.childNodes.length),C.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((o=(t=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,t.head.appendChild(o)):t=y),i=!n&&[],(r=D.exec(e))?[t.createElement(r[1])]:(r=Se([e],t,i),i&&i.length&&C(i).remove(),C.merge([],r.childNodes)));var o,r,i},C.fn.load=function(e,t,n){var o,r,i,s=this,a=e.indexOf(" ");return a>-1&&(o=yt(e.slice(a)),e=e.slice(0,a)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&C.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){i=arguments,s.html(o?C("<div>").append(C.parseHTML(e)).find(o):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,i||[e.responseText,t,e])}))}),this},C.expr.pseudos.animated=function(e){return C.grep(C.timers,(function(t){return e===t.elem})).length},C.offset={setOffset:function(e,t,n){var o,r,i,s,a,l,c=C.css(e,"position"),d=C(e),u={};"static"===c&&(e.style.position="relative"),a=d.offset(),i=C.css(e,"top"),l=C.css(e,"left"),("absolute"===c||"fixed"===c)&&(i+l).indexOf("auto")>-1?(s=(o=d.position()).top,r=o.left):(s=parseFloat(i)||0,r=parseFloat(l)||0),v(t)&&(t=t.call(e,n,C.extend({},a))),null!=t.top&&(u.top=t.top-a.top+s),null!=t.left&&(u.left=t.left-a.left+r),"using"in t?t.using.call(e,u):d.css(u)}},C.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){C.offset.setOffset(this,e,t)}));var t,n,o=this[0];return o?o.getClientRects().length?(t=o.getBoundingClientRect(),n=o.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,o=this[0],r={top:0,left:0};if("fixed"===C.css(o,"position"))t=o.getBoundingClientRect();else{for(t=this.offset(),n=o.ownerDocument,e=o.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===C.css(e,"position");)e=e.parentNode;e&&e!==o&&1===e.nodeType&&((r=C(e).offset()).top+=C.css(e,"borderTopWidth",!0),r.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-C.css(o,"marginTop",!0),left:t.left-r.left-C.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||se}))}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;C.fn[e]=function(o){return q(this,(function(e,o,r){var i;if(b(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===r)return i?i[t]:e[o];i?i.scrollTo(n?i.pageXOffset:r,n?r:i.pageYOffset):e[o]=r}),e,o,arguments.length)}})),C.each(["top","left"],(function(e,t){C.cssHooks[t]=$e(g.pixelPosition,(function(e,n){if(n)return n=Ge(e,t),He.test(n)?C(e).position()[t]+"px":n}))})),C.each({Height:"height",Width:"width"},(function(e,t){C.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,o){C.fn[o]=function(r,i){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return q(this,(function(t,n,r){var i;return b(t)?0===o.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?C.css(t,n,a):C.style(t,n,r,a)}),t,s?r:void 0,s)}}))})),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){C.fn[t]=function(e){return this.on(t,e)}})),C.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){C.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Xt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;C.proxy=function(e,t){var n,o,r;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return o=a.call(arguments,2),r=function(){return e.apply(t||this,o.concat(a.call(arguments)))},r.guid=e.guid=e.guid||C.guid++,r},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=T,C.isFunction=v,C.isWindow=b,C.camelCase=Y,C.type=_,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},C.trim=function(e){return null==e?"":(e+"").replace(Xt,"$1")},void 0===(n=function(){return C}.apply(t,[]))||(e.exports=n);var Qt=o.jQuery,Jt=o.$;return C.noConflict=function(e){return o.$===C&&(o.$=Jt),e&&o.jQuery===C&&(o.jQuery=Qt),C},void 0===r&&(o.jQuery=o.$=C),C}))},"./node_modules/flatpickr/dist/flatpickr.min.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/jquery-confirm/css/jquery-confirm.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/simple-notify/dist/simple-notify.min.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/tippy.js/animations/shift-away-extreme.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/tippy.js/animations/shift-away-subtle.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/tippy.js/animations/shift-away.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/tippy.js/dist/tippy.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/tippy.js/themes/translucent.css":(e,t,n)=>{"use strict";n.r(t)},"./resources/js/libs/SlimSelect/slimselect.min.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/preact/compat/dist/compat.module.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{Children:()=>p,Component:()=>o.Component,Fragment:()=>o.Fragment,PureComponent:()=>l,StrictMode:()=>K,Suspense:()=>y,SuspenseList:()=>_,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>V,cloneElement:()=>q,createContext:()=>o.createContext,createElement:()=>o.createElement,createFactory:()=>U,createPortal:()=>k,createRef:()=>o.createRef,default:()=>ne,findDOMNode:()=>G,flushSync:()=>Y,forwardRef:()=>h,hydrate:()=>M,isValidElement:()=>W,lazy:()=>x,memo:()=>c,render:()=>D,startTransition:()=>X,unmountComponentAtNode:()=>Z,unstable_batchedUpdates:()=>$,useCallback:()=>r.useCallback,useContext:()=>r.useContext,useDebugValue:()=>r.useDebugValue,useDeferredValue:()=>Q,useEffect:()=>r.useEffect,useErrorBoundary:()=>r.useErrorBoundary,useId:()=>r.useId,useImperativeHandle:()=>r.useImperativeHandle,useInsertionEffect:()=>ee,useLayoutEffect:()=>r.useLayoutEffect,useMemo:()=>r.useMemo,useReducer:()=>r.useReducer,useRef:()=>r.useRef,useState:()=>r.useState,useSyncExternalStore:()=>te,useTransition:()=>J,version:()=>z});var o=n("./node_modules/preact/dist/preact.module.js"),r=n("./node_modules/preact/hooks/dist/hooks.module.js");function i(e,t){for(var n in t)e[n]=t[n];return e}function s(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var o in t)if("__source"!==o&&e[o]!==t[o])return!0;return!1}function a(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}function l(e){this.props=e}function c(e,t){function n(e){var n=this.props.ref,o=n==e.ref;return!o&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!o:s(this.props,e)}function r(t){return this.shouldComponentUpdate=n,(0,o.createElement)(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(l.prototype=new o.Component).isPureReactComponent=!0,l.prototype.shouldComponentUpdate=function(e,t){return s(this.props,e)||s(this.state,t)};var d=o.options.__b;o.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),d&&d(e)};var u="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function h(e){function t(t){var n=i({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=u,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var m=function(e,t){return null==e?null:(0,o.toChildArray)((0,o.toChildArray)(e).map(t))},p={map:m,forEach:m,count:function(e){return e?(0,o.toChildArray)(e).length:0},only:function(e){var t=(0,o.toChildArray)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:o.toChildArray},f=o.options.__e;o.options.__e=function(e,t,n,o){if(e.then)for(var r,i=t;i=i.__;)if((r=i.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);f(e,t,n,o)};var g=o.options.unmount;function v(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=i({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return v(e,t,n)}))),e}function b(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return b(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function y(){this.__u=0,this.t=null,this.__b=null}function w(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function x(e){var t,n,r;function i(i){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){r=e})),r)throw r;if(!n)throw t;return(0,o.createElement)(n,i)}return i.displayName="Lazy",i.__f=!0,i}function _(){this.u=null,this.o=null}o.options.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),g&&g(e)},(y.prototype=new o.Component).__c=function(e,t){var n=t.__c,o=this;null==o.t&&(o.t=[]),o.t.push(n);var r=w(o.__v),i=!1,s=function(){i||(i=!0,n.__R=null,r?r(a):a())};n.__R=s;var a=function(){if(!--o.__u){if(o.state.__a){var e=o.state.__a;o.__v.__k[0]=b(e,e.__c.__P,e.__c.__O)}var t;for(o.setState({__a:o.__b=null});t=o.t.pop();)t.forceUpdate()}},l=!0===t.__h;o.__u++||l||o.setState({__a:o.__b=o.__v.__k[0]}),e.then(s,s)},y.prototype.componentWillUnmount=function(){this.t=[]},y.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=v(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__a&&(0,o.createElement)(o.Fragment,null,e.fallback);return i&&(i.__h=null),[(0,o.createElement)(o.Fragment,null,t.__a?null:e.children),i]};var S=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function C(e){return this.getChildContext=function(){return e.context},e.children}function j(e){var t=this,n=e.i;t.componentWillUnmount=function(){(0,o.render)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),(0,o.render)((0,o.createElement)(C,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function k(e,t){var n=(0,o.createElement)(j,{__v:e,i:t});return n.containerInfo=t,n}(_.prototype=new o.Component).__a=function(e){var t=this,n=w(t.__v),o=t.o.get(e);return o[0]++,function(r){var i=function(){t.props.revealOrder?(o.push(r),S(t,e,o)):r()};n?n(i):i()}},_.prototype.render=function(e){this.u=null,this.o=new Map;var t=(0,o.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},_.prototype.componentDidUpdate=_.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){S(e,n,t)}))};var E="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,O=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,A="undefined"!=typeof document,T=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};function D(e,t,n){return null==t.__k&&(t.textContent=""),(0,o.render)(e,t),"function"==typeof n&&n(),e?e.__c:null}function M(e,t,n){return(0,o.hydrate)(e,t),"function"==typeof n&&n(),e?e.__c:null}o.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(o.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var P=o.options.event;function R(){}function N(){return this.cancelBubble}function L(){return this.defaultPrevented}o.options.event=function(e){return P&&(e=P(e)),e.persist=R,e.isPropagationStopped=N,e.isDefaultPrevented=L,e.nativeEvent=e};var I,B={configurable:!0,get:function(){return this.class}},F=o.options.vnode;o.options.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){var i=-1===t.indexOf("-");for(var s in r={},n){var a=n[s];A&&"children"===s&&"noscript"===t||"value"===s&&"defaultValue"in n&&null==a||("defaultValue"===s&&"value"in n&&null==n.value?s="value":"download"===s&&!0===a?a="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+t)&&!T(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():i&&O.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===a&&(a=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),r[s]&&(s="oninputCapture")),r[s]=a)}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=(0,o.toChildArray)(n.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==t&&null!=r.defaultValue&&(r.value=(0,o.toChildArray)(n.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),e.props=r,n.class!=n.className&&(B.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",B))}e.$$typeof=E,F&&F(e)};var H=o.options.__r;o.options.__r=function(e){H&&H(e),I=e.__c};var V={ReactCurrentDispatcher:{current:{readContext:function(e){return I.__n[e.__c].props.value}}}},z="17.0.2";function U(e){return o.createElement.bind(null,e)}function W(e){return!!e&&e.$$typeof===E}function q(e){return W(e)?o.cloneElement.apply(null,arguments):e}function Z(e){return!!e.__k&&((0,o.render)(null,e),!0)}function G(e){return e&&(e.base||1===e.nodeType&&e)||null}var $=function(e,t){return e(t)},Y=function(e,t){return e(t)},K=o.Fragment;function X(e){e()}function Q(e){return e}function J(){return[!1,X]}var ee=r.useLayoutEffect;function te(e,t){var n=t(),o=(0,r.useState)({h:{__:n,v:t}}),i=o[0].h,s=o[1];return(0,r.useLayoutEffect)((function(){i.__=n,i.v=t,a(i.__,t())||s({h:i})}),[e,n,t]),(0,r.useEffect)((function(){return a(i.__,i.v())||s({h:i}),e((function(){a(i.__,i.v())||s({h:i})}))}),[e]),n}var ne={useState:r.useState,useId:r.useId,useReducer:r.useReducer,useEffect:r.useEffect,useLayoutEffect:r.useLayoutEffect,useInsertionEffect:ee,useTransition:J,useDeferredValue:Q,useSyncExternalStore:te,startTransition:X,useRef:r.useRef,useImperativeHandle:r.useImperativeHandle,useMemo:r.useMemo,useCallback:r.useCallback,useContext:r.useContext,useDebugValue:r.useDebugValue,version:"17.0.2",Children:p,render:D,hydrate:M,unmountComponentAtNode:Z,createPortal:k,createElement:o.createElement,createContext:o.createContext,createFactory:U,cloneElement:q,createRef:o.createRef,Fragment:o.Fragment,isValidElement:W,findDOMNode:G,Component:o.Component,PureComponent:l,memo:c,forwardRef:h,flushSync:Y,unstable_batchedUpdates:$,StrictMode:K,Suspense:y,SuspenseList:_,lazy:x,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:V}},"./node_modules/preact/dist/preact.module.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{Component:()=>j,Fragment:()=>w,cloneElement:()=>W,createContext:()=>q,createElement:()=>v,createRef:()=>y,h:()=>v,hydrate:()=>U,isValidElement:()=>s,options:()=>r,render:()=>z,toChildArray:()=>P});var o,r,i,s,a,l,c,d,u,h={},m=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function f(e,t){for(var n in t)e[n]=t[n];return e}function g(e){var t=e.parentNode;t&&t.removeChild(e)}function v(e,t,n){var r,i,s,a={};for(s in t)"key"==s?r=t[s]:"ref"==s?i=t[s]:a[s]=t[s];if(arguments.length>2&&(a.children=arguments.length>3?o.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===a[s]&&(a[s]=e.defaultProps[s]);return b(e,a,r,i,null)}function b(e,t,n,o,s){var a={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==s?++i:s};return null==s&&null!=r.vnode&&r.vnode(a),a}function y(){return{current:null}}function w(e){return e.children}function x(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||p.test(t)?n:n+"px"}function _(e,t,n,o,r){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||x(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||x(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?o||e.addEventListener(t,i?C:S,i):e.removeEventListener(t,i?C:S,i);else if("dangerouslySetInnerHTML"!==t){if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,n))}}function S(e){a=!0;try{return this.l[e.type+!1](r.event?r.event(e):e)}finally{a=!1}}function C(e){a=!0;try{return this.l[e.type+!0](r.event?r.event(e):e)}finally{a=!1}}function j(e,t){this.props=e,this.context=t}function k(e,t){if(null==t)return e.__?k(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?k(e):null}function E(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return E(e)}}function O(e){a?setTimeout(e):d(e)}function A(e){(!e.__d&&(e.__d=!0)&&l.push(e)&&!T.__r++||c!==r.debounceRendering)&&((c=r.debounceRendering)||O)(T)}function T(){var e,t,n,o,r,i,s,a;for(l.sort((function(e,t){return e.__v.__b-t.__v.__b}));e=l.shift();)e.__d&&(t=l.length,o=void 0,r=void 0,s=(i=(n=e).__v).__e,(a=n.__P)&&(o=[],(r=f({},i)).__v=i.__v+1,L(a,i,r,n.__n,void 0!==a.ownerSVGElement,null!=i.__h?[s]:null,o,null==s?k(i):s,i.__h),I(o,i),i.__e!=s&&E(i)),l.length>t&&l.sort((function(e,t){return e.__v.__b-t.__v.__b})));T.__r=0}function D(e,t,n,o,r,i,s,a,l,c){var d,u,p,f,g,v,y,x=o&&o.__k||m,_=x.length;for(n.__k=[],d=0;d<t.length;d++)if(null!=(f=n.__k[d]=null==(f=t[d])||"boolean"==typeof f?null:"string"==typeof f||"number"==typeof f||"bigint"==typeof f?b(null,f,null,null,f):Array.isArray(f)?b(w,{children:f},null,null,null):f.__b>0?b(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)){if(f.__=n,f.__b=n.__b+1,null===(p=x[d])||p&&f.key==p.key&&f.type===p.type)x[d]=void 0;else for(u=0;u<_;u++){if((p=x[u])&&f.key==p.key&&f.type===p.type){x[u]=void 0;break}p=null}L(e,f,p=p||h,r,i,s,a,l,c),g=f.__e,(u=f.ref)&&p.ref!=u&&(y||(y=[]),p.ref&&y.push(p.ref,null,f),y.push(u,f.__c||g,f)),null!=g?(null==v&&(v=g),"function"==typeof f.type&&f.__k===p.__k?f.__d=l=M(f,l,e):l=R(e,f,p,x,g,l),"function"==typeof n.type&&(n.__d=l)):l&&p.__e==l&&l.parentNode!=e&&(l=k(p))}for(n.__e=v,d=_;d--;)null!=x[d]&&("function"==typeof n.type&&null!=x[d].__e&&x[d].__e==n.__d&&(n.__d=N(o).nextSibling),H(x[d],x[d]));if(y)for(d=0;d<y.length;d++)F(y[d],y[++d],y[++d])}function M(e,t,n){for(var o,r=e.__k,i=0;r&&i<r.length;i++)(o=r[i])&&(o.__=e,t="function"==typeof o.type?M(o,t,n):R(n,o,o,r,o.__e,t));return t}function P(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){P(e,t)})):t.push(e)),t}function R(e,t,n,o,r,i){var s,a,l;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==n||r!=i||null==r.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(r),s=null;else{for(a=i,l=0;(a=a.nextSibling)&&l<o.length;l+=1)if(a==r)break e;e.insertBefore(r,i),s=i}return void 0!==s?s:r.nextSibling}function N(e){var t,n,o;if(null==e.type||"string"==typeof e.type)return e.__e;if(e.__k)for(t=e.__k.length-1;t>=0;t--)if((n=e.__k[t])&&(o=N(n)))return o;return null}function L(e,t,n,o,i,s,a,l,c){var d,u,h,m,p,g,v,b,y,x,_,S,C,k,E,O=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(c=n.__h,l=t.__e=n.__e,t.__h=null,s=[l]),(d=r.__b)&&d(t);try{e:if("function"==typeof O){if(b=t.props,y=(d=O.contextType)&&o[d.__c],x=d?y?y.props.value:d.__:o,n.__c?v=(u=t.__c=n.__c).__=u.__E:("prototype"in O&&O.prototype.render?t.__c=u=new O(b,x):(t.__c=u=new j(b,x),u.constructor=O,u.render=V),y&&y.sub(u),u.props=b,u.state||(u.state={}),u.context=x,u.__n=o,h=u.__d=!0,u.__h=[],u._sb=[]),null==u.__s&&(u.__s=u.state),null!=O.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=f({},u.__s)),f(u.__s,O.getDerivedStateFromProps(b,u.__s))),m=u.props,p=u.state,u.__v=t,h)null==O.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==O.getDerivedStateFromProps&&b!==m&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(b,x),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(b,u.__s,x)||t.__v===n.__v){for(t.__v!==n.__v&&(u.props=b,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),_=0;_<u._sb.length;_++)u.__h.push(u._sb[_]);u._sb=[],u.__h.length&&a.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(b,u.__s,x),null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(m,p,g)}))}if(u.context=x,u.props=b,u.__P=e,S=r.__r,C=0,"prototype"in O&&O.prototype.render){for(u.state=u.__s,u.__d=!1,S&&S(t),d=u.render(u.props,u.state,u.context),k=0;k<u._sb.length;k++)u.__h.push(u._sb[k]);u._sb=[]}else do{u.__d=!1,S&&S(t),d=u.render(u.props,u.state,u.context),u.state=u.__s}while(u.__d&&++C<25);u.state=u.__s,null!=u.getChildContext&&(o=f(f({},o),u.getChildContext())),h||null==u.getSnapshotBeforeUpdate||(g=u.getSnapshotBeforeUpdate(m,p)),E=null!=d&&d.type===w&&null==d.key?d.props.children:d,D(e,Array.isArray(E)?E:[E],t,n,o,i,s,a,l,c),u.base=t.__e,t.__h=null,u.__h.length&&a.push(u),v&&(u.__E=u.__=null),u.__e=!1}else null==s&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=B(n.__e,t,n,o,i,s,a,c);(d=r.diffed)&&d(t)}catch(e){t.__v=null,(c||null!=s)&&(t.__e=l,t.__h=!!c,s[s.indexOf(l)]=null),r.__e(e,t,n)}}function I(e,t){r.__c&&r.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){r.__e(e,t.__v)}}))}function B(e,t,n,r,i,s,a,l){var c,d,u,m=n.props,p=t.props,f=t.type,v=0;if("svg"===f&&(i=!0),null!=s)for(;v<s.length;v++)if((c=s[v])&&"setAttribute"in c==!!f&&(f?c.localName===f:3===c.nodeType)){e=c,s[v]=null;break}if(null==e){if(null===f)return document.createTextNode(p);e=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,p.is&&p),s=null,l=!1}if(null===f)m===p||l&&e.data===p||(e.data=p);else{if(s=s&&o.call(e.childNodes),d=(m=n.props||h).dangerouslySetInnerHTML,u=p.dangerouslySetInnerHTML,!l){if(null!=s)for(m={},v=0;v<e.attributes.length;v++)m[e.attributes[v].name]=e.attributes[v].value;(u||d)&&(u&&(d&&u.__html==d.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(function(e,t,n,o,r){var i;for(i in n)"children"===i||"key"===i||i in t||_(e,i,null,n[i],o);for(i in t)r&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||_(e,i,t[i],n[i],o)}(e,p,m,i,l),u)t.__k=[];else if(v=t.props.children,D(e,Array.isArray(v)?v:[v],t,n,r,i&&"foreignObject"!==f,s,a,s?s[0]:n.__k&&k(n,0),l),null!=s)for(v=s.length;v--;)null!=s[v]&&g(s[v]);l||("value"in p&&void 0!==(v=p.value)&&(v!==e.value||"progress"===f&&!v||"option"===f&&v!==m.value)&&_(e,"value",v,m.value,!1),"checked"in p&&void 0!==(v=p.checked)&&v!==e.checked&&_(e,"checked",v,m.checked,!1))}return e}function F(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){r.__e(e,n)}}function H(e,t,n){var o,i;if(r.unmount&&r.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||F(o,null,t)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){r.__e(e,t)}o.base=o.__P=null,e.__c=void 0}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&H(o[i],t,n||"function"!=typeof e.type);n||null==e.__e||g(e.__e),e.__=e.__e=e.__d=void 0}function V(e,t,n){return this.constructor(e,n)}function z(e,t,n){var i,s,a;r.__&&r.__(e,t),s=(i="function"==typeof n)?null:n&&n.__k||t.__k,a=[],L(t,e=(!i&&n||t).__k=v(w,null,[e]),s||h,h,void 0!==t.ownerSVGElement,!i&&n?[n]:s?null:t.firstChild?o.call(t.childNodes):null,a,!i&&n?n:s?s.__e:t.firstChild,i),I(a,e)}function U(e,t){z(e,t,U)}function W(e,t,n){var r,i,s,a=f({},e.props);for(s in t)"key"==s?r=t[s]:"ref"==s?i=t[s]:a[s]=t[s];return arguments.length>2&&(a.children=arguments.length>3?o.call(arguments,2):n),b(e.type,a,r||e.key,i||e.ref,null)}function q(e,t){var n={__c:t="__cC"+u++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,o;return this.getChildContext||(n=[],(o={})[t]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,A(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}o=m.slice,r={__e:function(e,t,n,o){for(var r,i,s;t=t.__;)if((r=t.__c)&&!r.__)try{if((i=r.constructor)&&null!=i.getDerivedStateFromError&&(r.setState(i.getDerivedStateFromError(e)),s=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,o||{}),s=r.__d),s)return r.__E=r}catch(t){e=t}throw e}},i=0,s=function(e){return null!=e&&void 0===e.constructor},a=!1,j.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=f({},this.state),"function"==typeof e&&(e=e(f({},n),this.props)),e&&f(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),A(this))},j.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),A(this))},j.prototype.render=w,l=[],d="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,T.__r=0,u=0},"./node_modules/preact/hooks/dist/hooks.module.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{useCallback:()=>C,useContext:()=>j,useDebugValue:()=>k,useEffect:()=>y,useErrorBoundary:()=>E,useId:()=>O,useImperativeHandle:()=>_,useLayoutEffect:()=>w,useMemo:()=>S,useReducer:()=>b,useRef:()=>x,useState:()=>v});var o,r,i,s,a=n("./node_modules/preact/dist/preact.module.js"),l=0,c=[],d=[],u=a.options.__b,h=a.options.__r,m=a.options.diffed,p=a.options.__c,f=a.options.unmount;function g(e,t){a.options.__h&&a.options.__h(r,e,l||t),l=0;var n=r.__H||(r.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:d}),n.__[e]}function v(e){return l=1,b(N,e)}function b(e,t,n){var i=g(o++,2);if(i.t=e,!i.__c&&(i.__=[n?n(t):N(void 0,t),function(e){var t=i.__N?i.__N[0]:i.__[0],n=i.t(t,e);t!==n&&(i.__N=[n,i.__[1]],i.__c.setState({}))}],i.__c=r,!r.u)){r.u=!0;var s=r.shouldComponentUpdate;r.shouldComponentUpdate=function(e,t,n){if(!i.__c.__H)return!0;var o=i.__c.__H.__.filter((function(e){return e.__c}));if(o.every((function(e){return!e.__N})))return!s||s.call(this,e,t,n);var r=!1;return o.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(r=!0)}})),!(!r&&i.__c.props===e)&&(!s||s.call(this,e,t,n))}}return i.__N||i.__}function y(e,t){var n=g(o++,3);!a.options.__s&&R(n.__H,t)&&(n.__=e,n.i=t,r.__H.__h.push(n))}function w(e,t){var n=g(o++,4);!a.options.__s&&R(n.__H,t)&&(n.__=e,n.i=t,r.__h.push(n))}function x(e){return l=5,S((function(){return{current:e}}),[])}function _(e,t,n){l=6,w((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))}function S(e,t){var n=g(o++,7);return R(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function C(e,t){return l=8,S((function(){return e}),t)}function j(e){var t=r.context[e.__c],n=g(o++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(r)),t.props.value):e.__}function k(e,t){a.options.useDebugValue&&a.options.useDebugValue(t?t(e):e)}function E(e){var t=g(o++,10),n=v();return t.__=e,r.componentDidCatch||(r.componentDidCatch=function(e,o){t.__&&t.__(e,o),n[1](e)}),[n[0],function(){n[1](void 0)}]}function O(){var e=g(o++,11);if(!e.__){for(var t=r.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function A(){for(var e;e=c.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(M),e.__H.__h.forEach(P),e.__H.__h=[]}catch(t){e.__H.__h=[],a.options.__e(t,e.__v)}}a.options.__b=function(e){r=null,u&&u(e)},a.options.__r=function(e){h&&h(e),o=0;var t=(r=e.__c).__H;t&&(i===r?(t.__h=[],r.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=d,e.__N=e.i=void 0}))):(t.__h.forEach(M),t.__h.forEach(P),t.__h=[])),i=r},a.options.diffed=function(e){m&&m(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==c.push(t)&&s===a.options.requestAnimationFrame||((s=a.options.requestAnimationFrame)||D)(A)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==d&&(e.__=e.__V),e.i=void 0,e.__V=d}))),i=r=null},a.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(M),e.__h=e.__h.filter((function(e){return!e.__||P(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],a.options.__e(n,e.__v)}})),p&&p(e,t)},a.options.unmount=function(e){f&&f(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{M(e)}catch(e){t=e}})),n.__H=void 0,t&&a.options.__e(t,n.__v))};var T="function"==typeof requestAnimationFrame;function D(e){var t,n=function(){clearTimeout(o),T&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);T&&(t=requestAnimationFrame(n))}function M(e){var t=r,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),r=t}function P(e){var t=r;e.__c=e.__(),r=t}function R(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function N(e,t){return"function"==typeof t?t(e):t}},"./node_modules/simple-notify/dist/simple-notify.es.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var o=function(e){e.wrapper.classList.add("notify--fade"),setTimeout((function(){e.wrapper.classList.add("notify--fadeIn")}),100)},r=function(e){e.wrapper.classList.remove("notify--fadeIn"),setTimeout((function(){e.wrapper.remove()}),e.speed)},i=function(e){e.wrapper.classList.add("notify--slide"),setTimeout((function(){e.wrapper.classList.add("notify--slideIn")}),100)},s=function(e){e.wrapper.classList.remove("notify--slideIn"),setTimeout((function(){e.wrapper.remove()}),e.speed)},a=function(){function e(e){var t=this;this.notifyOut=function(e){e(t)};var n=e.status,o=e.type,r=void 0===o?1:o,i=e.title,s=e.text,a=e.showIcon,l=void 0===a||a,c=e.customIcon,d=void 0===c?"":c,u=e.customClass,h=void 0===u?"":u,m=e.speed,p=void 0===m?500:m,f=e.effect,g=void 0===f?"fade":f,v=e.showCloseButton,b=void 0===v||v,y=e.autoclose,w=void 0!==y&&y,x=e.autotimeout,_=void 0===x?3e3:x,S=e.gap,C=void 0===S?20:S,j=e.distance,k=void 0===j?20:j,E=e.position,O=void 0===E?"right top":E,A=e.customWrapper,T=void 0===A?"":A;this.customWrapper=T,this.status=n,this.title=i,this.text=s,this.showIcon=l,this.customIcon=d,this.customClass=h,this.speed=p,this.effect=g,this.showCloseButton=b,this.autoclose=w,this.autotimeout=_,this.gap=C,this.distance=k,this.type=r,this.position=O,this.checkRequirements()?(this.setContainer(),this.setWrapper(),this.setPosition(),this.showIcon&&this.setIcon(),this.showCloseButton&&this.setCloseButton(),this.setContent(),this.container.prepend(this.wrapper),this.setEffect(),this.notifyIn(this.selectedNotifyInEffect),this.autoclose&&this.autoClose(),this.setObserver()):console.error("You must specify 'title' or 'text' at least.")}return e.prototype.checkRequirements=function(){return!(!this.title&&!this.text)},e.prototype.setContainer=function(){var e=document.querySelector(".notifications-container");e?this.container=e:(this.container=document.createElement("div"),this.container.classList.add("notifications-container"),document.body.appendChild(this.container)),this.container.style.setProperty("--distance",this.distance+"px")},e.prototype.setPosition=function(){var e="notify-is-";"center"===this.position?this.container.classList.add(e+"center"):this.container.classList.remove(e+"center"),this.position.includes("left")?this.container.classList.add(e+"left"):this.container.classList.remove(e+"left"),this.position.includes("right")?this.container.classList.add(e+"right"):this.container.classList.remove(e+"right"),this.position.includes("x-center")?this.container.classList.add(e+"x-center"):this.container.classList.remove(e+"x-center"),this.position.includes("top")?this.container.classList.add(e+"top"):this.container.classList.remove(e+"top"),this.position.includes("bottom")?this.container.classList.add(e+"bottom"):this.container.classList.remove(e+"bottom"),this.position.includes("y-center")?this.container.classList.add(e+"y-center"):this.container.classList.remove(e+"y-center")},e.prototype.setCloseButton=function(){var e=this,t=document.createElement("div");t.classList.add("notify__close"),t.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m8.94 8 4.2-4.193a.67.67 0 0 0-.947-.947L8 7.06l-4.193-4.2a.67.67 0 1 0-.947.947L7.06 8l-4.2 4.193a.667.667 0 0 0 .217 1.093.666.666 0 0 0 .73-.146L8 8.94l4.193 4.2a.665.665 0 0 0 .947 0 .665.665 0 0 0 0-.947L8.94 8Z" fill="currentColor"/></svg>',this.wrapper.appendChild(t),t.addEventListener("click",(function(){e.close()}))},e.prototype.setWrapper=function(){var e;this.customWrapper?this.wrapper=(e=this.customWrapper,(new DOMParser).parseFromString(e,"text/html").body.childNodes[0]):this.wrapper=document.createElement("div"),this.wrapper.style.setProperty("--gap",this.gap+"px"),this.wrapper.style.transitionDuration=this.speed+"ms",this.wrapper.classList.add("notify"),this.wrapper.classList.add("notify--type-"+this.type),this.wrapper.classList.add("notify--"+this.status),this.autoclose&&this.wrapper.style.setProperty("--timeout",""+(this.autotimeout+this.speed)),this.autoclose&&this.wrapper.classList.add("notify-autoclose"),this.customClass&&this.wrapper.classList.add(this.customClass)},e.prototype.setContent=function(){var e,t,n=document.createElement("div");n.classList.add("notify-content"),this.title&&((e=document.createElement("div")).classList.add("notify__title"),e.textContent=this.title,this.showCloseButton||(e.style.paddingRight="0")),this.text&&((t=document.createElement("div")).classList.add("notify__text"),t.innerHTML=this.text.trim(),this.title||(t.style.marginTop="0")),this.wrapper.appendChild(n),this.title&&n.appendChild(e),this.text&&n.appendChild(t)},e.prototype.setIcon=function(){var e=document.createElement("div");e.classList.add("notify__icon"),e.innerHTML=this.customIcon||function(e){switch(e){case"success":return'<svg height="32" width="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="m19.627 11.72-5.72 5.733-2.2-2.2a1.335 1.335 0 0 0-2.255.381 1.334 1.334 0 0 0 .375 1.5l3.133 3.146a1.333 1.333 0 0 0 1.88 0l6.667-6.667a1.334 1.334 0 1 0-1.88-1.893ZM16 2.667a13.333 13.333 0 1 0 0 26.666 13.333 13.333 0 0 0 0-26.666Zm0 24a10.666 10.666 0 1 1 0-21.333 10.666 10.666 0 0 1 0 21.333Z"/></svg>';case"warning":return'<svg height="32" width="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M13.666 15A1.333 1.333 0 0 0 15 13.667V8.334a1.333 1.333 0 0 0-2.665 0v5.333A1.333 1.333 0 0 0 13.666 15Zm-.507 5.227c.325.134.69.134 1.014 0 .164-.064.314-.159.44-.28a1.56 1.56 0 0 0 .28-.44c.075-.158.111-.332.106-.507a1.333 1.333 0 0 0-.386-.946 1.53 1.53 0 0 0-.44-.28A1.333 1.333 0 0 0 12.334 19a1.4 1.4 0 0 0 .386.947c.127.121.277.216.44.28ZM13.666 27a13.333 13.333 0 1 0 0-26.667 13.333 13.333 0 0 0 0 26.667Zm0-24a10.667 10.667 0 1 1 0 21.333 10.667 10.667 0 0 1 0-21.333Z"/></svg>';case"error":return'<svg height="32" width="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M16 2.667a13.333 13.333 0 1 0 0 26.666 13.333 13.333 0 0 0 0-26.666Zm0 24A10.667 10.667 0 0 1 5.333 16a10.56 10.56 0 0 1 2.254-6.533l14.946 14.946A10.56 10.56 0 0 1 16 26.667Zm8.413-4.134L9.467 7.587A10.56 10.56 0 0 1 16 5.333 10.667 10.667 0 0 1 26.667 16a10.56 10.56 0 0 1-2.254 6.533Z"/></svg>';case"info":return'<svg height="32" width="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M16 14.667A1.333 1.333 0 0 0 14.667 16v5.333a1.333 1.333 0 1 0 2.666 0V16A1.333 1.333 0 0 0 16 14.667Zm.507-5.227a1.333 1.333 0 0 0-1.014 0 1.334 1.334 0 0 0-.44.28c-.117.13-.212.278-.28.44a1.12 1.12 0 0 0-.106.507 1.333 1.333 0 0 0 .386.946c.13.118.279.213.44.28a1.333 1.333 0 0 0 1.84-1.226 1.4 1.4 0 0 0-.386-.947 1.334 1.334 0 0 0-.44-.28ZM16 2.667a13.333 13.333 0 1 0 0 26.666 13.333 13.333 0 0 0 0-26.666Zm0 24a10.666 10.666 0 1 1 0-21.333 10.666 10.666 0 0 1 0 21.333Z"/></svg>'}}(this.status),(this.status||this.customIcon)&&this.wrapper.appendChild(e)},e.prototype.setObserver=function(){var e=this,t=new IntersectionObserver((function(t){t[0].intersectionRatio<=0&&e.close()}),{threshold:0});setTimeout((function(){t.observe(e.wrapper)}),this.speed)},e.prototype.notifyIn=function(e){e(this)},e.prototype.autoClose=function(){var e=this;setTimeout((function(){e.close()}),this.autotimeout+this.speed)},e.prototype.close=function(){this.notifyOut(this.selectedNotifyOutEffect)},e.prototype.setEffect=function(){switch(this.effect){case"fade":default:this.selectedNotifyInEffect=o,this.selectedNotifyOutEffect=r;break;case"slide":this.selectedNotifyInEffect=i,this.selectedNotifyOutEffect=s}},e}()},"./node_modules/tinymce/icons/default/icons.min.js":()=>{tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})},"./node_modules/tinymce/models/dom/model.min.js":()=>{!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.ModelManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(i=o.constructor)||void 0===i?void 0:i.name)===r.name)?"string":t;var n,o,r,i})(t)===e,n=e=>t=>typeof t===e,o=e=>t=>e===t,r=t("string"),i=t("object"),s=t("array"),a=o(null),l=n("boolean"),c=o(void 0),d=e=>!(e=>null==e)(e),u=n("function"),h=n("number"),m=()=>{},p=e=>()=>e,f=e=>e,g=(e,t)=>e===t;function v(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const b=e=>t=>!e(t),y=e=>e(),w=p(!1),x=p(!0);class _{constructor(e,t){this.tag=e,this.value=t}static some(e){return new _(!0,e)}static none(){return _.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?_.some(e(this.value)):_.none()}bind(e){return this.tag?e(this.value):_.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:_.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return d(e)?_.some(e):_.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}_.singletonNone=new _(!1);const S=Array.prototype.slice,C=Array.prototype.indexOf,j=Array.prototype.push,k=(e,t)=>{return n=e,o=t,C.call(n,o)>-1;var n,o},E=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return!0;return!1},O=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},A=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},T=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},D=(e,t)=>{const n=[],o=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];(t(i,r)?n:o).push(i)}return{pass:n,fail:o}},M=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},P=(e,t,n)=>(((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(e,((e,o)=>{n=t(n,e,o)})),n),R=(e,t,n)=>(T(e,((e,o)=>{n=t(n,e,o)})),n),N=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return _.some(r);if(n(r,o))break}return _.none()})(e,t,w),L=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return _.some(n);return _.none()},I=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!s(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);j.apply(t,e[n])}return t},B=(e,t)=>I(A(e,t)),F=(e,t)=>{for(let n=0,o=e.length;n<o;++n)if(!0!==t(e[n],n))return!1;return!0},H=(e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n},V=(e,t)=>t>=0&&t<e.length?_.some(e[t]):_.none(),z=e=>V(e,0),U=e=>V(e,e.length-1),W=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return _.none()},q=Object.keys,Z=Object.hasOwnProperty,G=(e,t)=>{const n=q(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},$=(e,t)=>Y(e,((e,n)=>({k:n,v:t(e,n)}))),Y=(e,t)=>{const n={};return G(e,((e,o)=>{const r=t(e,o);n[r.k]=r.v})),n},K=(e,t)=>{const n=[];return G(e,((e,o)=>{n.push(t(e,o))})),n},X=e=>K(e,f),Q=(e,t)=>Z.call(e,t),J="undefined"!=typeof window?window:Function("return this;")(),ee=(e,t)=>((e,t)=>{let n=null!=t?t:J;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),te=Object.getPrototypeOf,ne=e=>e.dom.nodeName.toLowerCase(),oe=e=>e.dom.nodeType,re=e=>t=>oe(t)===e,ie=e=>8===oe(e)||"#comment"===ne(e),se=e=>ae(e)&&(e=>{const t=ee("ownerDocument.defaultView",e);return i(e)&&((e=>((e,t)=>{const n=((e,t)=>ee(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(te(e).constructor.name))})(e.dom),ae=re(1),le=re(3),ce=re(9),de=re(11),ue=e=>t=>ae(t)&&ne(t)===e,he=(e,t,n)=>{if(!(r(n)||l(n)||h(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},me=(e,t,n)=>{he(e.dom,t,n)},pe=(e,t)=>{const n=e.dom;G(t,((e,t)=>{he(n,t,e)}))},fe=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},ge=(e,t)=>_.from(fe(e,t)),ve=(e,t)=>{e.dom.removeAttribute(t)},be=e=>R(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),ye=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},we={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return ye(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return ye(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return ye(n)},fromDom:ye,fromPoint:(e,t,n)=>_.from(e.dom.elementFromPoint(t,n)).map(ye)},xe=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},_e=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Se=(e,t)=>{const n=void 0===t?document:t.dom;return _e(n)?_.none():_.from(n.querySelector(e)).map(we.fromDom)},Ce=(e,t)=>e.dom===t.dom,je=(e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)},ke=xe,Ee=e=>we.fromDom(e.dom.ownerDocument),Oe=e=>ce(e)?e:Ee(e),Ae=e=>_.from(e.dom.parentNode).map(we.fromDom),Te=e=>_.from(e.dom.parentElement).map(we.fromDom),De=(e,t)=>{const n=u(t)?t:w;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=we.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r},Me=e=>_.from(e.dom.previousSibling).map(we.fromDom),Pe=e=>_.from(e.dom.nextSibling).map(we.fromDom),Re=e=>A(e.dom.childNodes,we.fromDom),Ne=(e,t)=>{const n=e.dom.childNodes;return _.from(n[t]).map(we.fromDom)},Le=(e,t)=>{Ae(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},Ie=(e,t)=>{Pe(e).fold((()=>{Ae(e).each((e=>{Fe(e,t)}))}),(e=>{Le(e,t)}))},Be=(e,t)=>{const n=(e=>Ne(e,0))(e);n.fold((()=>{Fe(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},Fe=(e,t)=>{e.dom.appendChild(t.dom)},He=(e,t)=>{Le(e,t),Fe(t,e)},Ve=(e,t)=>{T(t,((n,o)=>{const r=0===o?e:t[o-1];Ie(r,n)}))},ze=(e,t)=>{T(t,(t=>{Fe(e,t)}))},Ue=e=>{e.dom.textContent="",T(Re(e),(e=>{We(e)}))},We=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},qe=e=>{const t=Re(e);t.length>0&&Ve(e,t),We(e)},Ze=(e,t)=>we.fromDom(e.dom.cloneNode(t)),Ge=e=>Ze(e,!1),$e=e=>Ze(e,!0),Ye=(e,t)=>{const n=we.fromTag(t),o=be(e);return pe(n,o),n},Ke=["tfoot","thead","tbody","colgroup"],Xe=(e,t,n)=>({element:e,rowspan:t,colspan:n}),Qe=(e,t,n)=>({element:e,cells:t,section:n}),Je=(e,t,n)=>({element:e,isNew:t,isLocked:n}),et=(e,t,n,o)=>({element:e,cells:t,section:n,isNew:o}),tt=u(Element.prototype.attachShadow)&&u(Node.prototype.getRootNode),nt=p(tt),ot=tt?e=>we.fromDom(e.dom.getRootNode()):Oe,rt=e=>we.fromDom(e.dom.host),it=e=>{const t=le(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=ot(e);return de(n=t)&&d(n.dom.host)?_.some(t):_.none();var n})(we.fromDom(t)).fold((()=>n.body.contains(t)),(o=it,r=rt,e=>o(r(e))));var o,r},st=e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return we.fromDom(t)},at=(e,t)=>{let n=[];return T(Re(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(at(e,t))})),n},lt=(e,t,n)=>((e,n,o)=>M(De(e,o),(e=>xe(e,t))))(e,0,n),ct=(e,t)=>((e,n)=>M(Re(e),(e=>xe(e,t))))(e),dt=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return _e(n)?[]:A(n.querySelectorAll(e),we.fromDom)})(t,e);var ut=(e,t,n,o,r)=>e(n,o)?_.some(n):u(r)&&r(n)?_.none():t(n,o,r);const ht=(e,t,n)=>{let o=e.dom;const r=u(n)?n:w;for(;o.parentNode;){o=o.parentNode;const e=we.fromDom(o);if(t(e))return _.some(e);if(r(e))break}return _.none()},mt=(e,t,n)=>ut(((e,t)=>t(e)),ht,e,t,n),pt=(e,t,n)=>ht(e,(e=>xe(e,t)),n),ft=(e,t)=>((e,n)=>N(e.dom.childNodes,(e=>{return n=we.fromDom(e),xe(n,t);var n})).map(we.fromDom))(e),gt=(e,t)=>Se(t,e),vt=(e,t,n)=>ut(((e,t)=>xe(e,t)),pt,e,t,n),bt=(e,t,n=g)=>e.exists((e=>n(e,t))),yt=e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},wt=(e,t)=>e?_.some(t):_.none(),xt=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,_t=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!c(o)||r+t.length<=o)},St=(e,t)=>xt(e,t,0),Ct=(e,t)=>xt(e,t,e.length-t.length),jt=(e=>t=>t.replace(e,""))(/^\s+|\s+$/g),kt=e=>e.length>0,Et=e=>void 0!==e.style&&u(e.style.getPropertyValue),Ot=(e,t,n)=>{if(!r(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Et(e)&&e.style.setProperty(t,n)},At=(e,t,n)=>{const o=e.dom;Ot(o,t,n)},Tt=(e,t)=>{const n=e.dom;G(t,((e,t)=>{Ot(n,t,e)}))},Dt=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||it(e)?o:Mt(n,t)},Mt=(e,t)=>Et(e)?e.style.getPropertyValue(t):"",Pt=(e,t)=>{const n=e.dom,o=Mt(n,t);return _.from(o).filter((e=>e.length>0))},Rt=(e,t)=>{((e,t)=>{Et(e)&&e.style.removeProperty(t)})(e.dom,t),bt(ge(e,"style").map(jt),"")&&ve(e,"style")},Nt=(e,t,n=0)=>ge(e,t).map((e=>parseInt(e,10))).getOr(n),Lt=(e,t)=>Nt(e,t,1),It=e=>ue("col")(e)?Nt(e,"span",1)>1:Lt(e,"colspan")>1,Bt=e=>Lt(e,"rowspan")>1,Ft=(e,t)=>parseInt(Dt(e,t),10),Ht=p(10),Vt=p(10),zt=(e,t)=>Ut(e,t,x),Ut=(e,t,n)=>B(Re(e),(e=>xe(e,t)?n(e)?[e]:[]:Ut(e,t,n))),Wt=(e,t)=>((e,t,n=w)=>n(t)?_.none():k(e,ne(t))?_.some(t):pt(t,e.join(","),(e=>xe(e,"table")||n(e))))(["td","th"],e,t),qt=e=>zt(e,"th,td"),Zt=e=>xe(e,"colgroup")?ct(e,"col"):B(Yt(e),(e=>ct(e,"col"))),Gt=(e,t)=>vt(e,"table",t),$t=e=>zt(e,"tr"),Yt=e=>Gt(e).fold(p([]),(e=>ct(e,"colgroup"))),Kt=(e,t)=>A(e,(e=>{if("colgroup"===ne(e)){const t=A(Zt(e),(e=>{const t=Nt(e,"span",1);return Xe(e,1,t)}));return Qe(e,t,"colgroup")}{const n=A(qt(e),(e=>{const t=Nt(e,"rowspan",1),n=Nt(e,"colspan",1);return Xe(e,t,n)}));return Qe(e,n,t(e))}})),Xt=e=>Ae(e).map((e=>{const t=ne(e);return(e=>k(Ke,e))(t)?t:"tbody"})).getOr("tbody"),Qt=e=>{const t=$t(e),n=[...Yt(e),...t];return Kt(n,Xt)},Jt=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},en=()=>tn(0,0),tn=(e,t)=>({major:e,minor:t}),nn={nu:tn,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?en():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return tn(o(1),o(2))})(e,n)},unknown:en},on=(e,t)=>{const n=String(t).toLowerCase();return N(e,(e=>e.search(n)))},rn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,sn=e=>t=>_t(t,e),an=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>_t(e,"edge/")&&_t(e,"chrome")&&_t(e,"safari")&&_t(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,rn],search:e=>_t(e,"chrome")&&!_t(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>_t(e,"msie")||_t(e,"trident")},{name:"Opera",versionRegexes:[rn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:sn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:sn("firefox")},{name:"Safari",versionRegexes:[rn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(_t(e,"safari")||_t(e,"mobile/"))&&_t(e,"applewebkit")}],ln=[{name:"Windows",search:sn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>_t(e,"iphone")||_t(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:sn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:sn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:sn("linux"),versionRegexes:[]},{name:"Solaris",search:sn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:sn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:sn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],cn={browsers:p(an),oses:p(ln)},dn="Edge",un="Chromium",hn="Opera",mn="Firefox",pn="Safari",fn=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(dn),isChromium:o(un),isIE:o("IE"),isOpera:o(hn),isFirefox:o(mn),isSafari:o(pn)}},gn=()=>fn({current:void 0,version:nn.unknown()}),vn=fn,bn=(p(dn),p(un),p("IE"),p(hn),p(mn),p(pn),"Windows"),yn="Android",wn="Linux",xn="macOS",_n="Solaris",Sn="FreeBSD",Cn="ChromeOS",jn=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(bn),isiOS:o("iOS"),isAndroid:o(yn),isMacOS:o(xn),isLinux:o(wn),isSolaris:o(_n),isFreeBSD:o(Sn),isChromeOS:o(Cn)}},kn=()=>jn({current:void 0,version:nn.unknown()}),En=jn,On=(p(bn),p("iOS"),p(yn),p(wn),p(xn),p(_n),p(Sn),p(Cn),e=>window.matchMedia(e).matches);let An=Jt((()=>((e,t,n)=>{const o=cn.browsers(),r=cn.oses(),i=t.bind((e=>((e,t)=>W(t.brands,(t=>{const n=t.brand.toLowerCase();return N(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:nn.nu(parseInt(t.version,10),0)})))})))(o,e))).orThunk((()=>((e,t)=>on(e,t).map((e=>{const n=nn.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e))).fold(gn,vn),s=((e,t)=>on(e,t).map((e=>{const n=nn.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e).fold(kn,En),a=((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!r,s=e.isiOS()||e.isAndroid(),a=s||o("(pointer:coarse)"),l=r||!i&&s&&o("(min-device-width:768px)"),c=i||s&&!l,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),u=!c&&!l&&!d;return{isiPad:p(r),isiPhone:p(i),isTablet:p(l),isPhone:p(c),isTouch:p(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:p(d),isDesktop:p(u)}})(s,i,e,n);return{browser:i,os:s,deviceType:a}})(navigator.userAgent,_.from(navigator.userAgentData),On)));const Tn=()=>An(),Dn=(e,t)=>{const n=n=>{const o=t(n);if(o<=0||null===o){const t=Dt(n,e);return parseFloat(t)||0}return o},o=(e,t)=>R(t,((t,n)=>{const o=Dt(e,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?t:t+r}),0);return{set:(t,n)=>{if(!h(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const o=t.dom;Et(o)&&(o.style[e]=n+"px")},get:n,getOuter:n,aggregate:o,max:(e,t,n)=>{const r=o(e,n);return t>r?t-r:0}}},Mn=(e,t,n)=>((e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?_.none():_.some(t)})(e).getOr(t))(Dt(e,t),n),Pn=Dn("width",(e=>e.dom.offsetWidth)),Rn=e=>Pn.get(e),Nn=e=>Pn.getOuter(e),Ln=e=>((e,t)=>{const n=e.dom,o=n.getBoundingClientRect().width||n.offsetWidth;return((e,t,n,o)=>t-Mn(e,"padding-left",0)-Mn(e,"padding-right",0)-Mn(e,"border-left-width",0)-Mn(e,"border-right-width",0))(e,o)})(e),In=(e,t,n)=>{const o=e.cells,r=o.slice(0,t),i=o.slice(t),s=r.concat(n).concat(i);return Hn(e,s)},Bn=(e,t,n)=>In(e,t,[n]),Fn=(e,t,n)=>{e.cells[t]=n},Hn=(e,t)=>et(e.element,t,e.section,e.isNew),Vn=(e,t)=>e.cells[t],zn=(e,t)=>Vn(e,t).element,Un=e=>e.cells.length,Wn=e=>{const t=D(e,(e=>"colgroup"===e.section));return{rows:t.fail,cols:t.pass}},qn=(e,t,n)=>{const o=A(e.cells,n);return et(t(e.element),o,e.section,!0)},Zn="data-snooker-locked-cols",Gn=e=>ge(e,Zn).bind((e=>_.from(e.match(/\d+/g)))).map((e=>H(e,x))),$n=e=>{const t=R(Wn(e).rows,((e,t)=>(T(t.cells,((t,n)=>{t.isLocked&&(e[n]=!0)})),e)),{}),n=K(t,((e,t)=>parseInt(t,10)));return((e,t)=>{const n=S.call(e,0);return n.sort(void 0),n})(n)},Yn=(e,t)=>e+","+t,Kn=(e,t)=>{const n=B(e.all,(e=>e.cells));return M(n,t)},Xn=e=>{const t={},n=[],o=z(e).map((e=>e.element)).bind(Gt).bind(Gn).getOr({});let r=0,i=0,s=0;const{pass:a,fail:l}=D(e,(e=>"colgroup"===e.section));T(l,(e=>{const a=[];T(e.cells,(e=>{let n=0;for(;void 0!==t[Yn(s,n)];)n++;const r=((e,t)=>Q(e,t)&&void 0!==e[t]&&null!==e[t])(o,n.toString()),l=((e,t,n,o,r,i)=>({element:e,rowspan:t,colspan:n,row:o,column:r,isLocked:i}))(e.element,e.rowspan,e.colspan,s,n,r);for(let o=0;o<e.colspan;o++)for(let r=0;r<e.rowspan;r++){const e=n+o,a=Yn(s+r,e);t[a]=l,i=Math.max(i,e+1)}a.push(l)})),r++,n.push(Qe(e.element,a,e.section)),s++}));const{columns:c,colgroups:d}=U(a).map((e=>{const t=(e=>{const t={};let n=0;return T(e.cells,(e=>{const o=e.colspan;O(o,(r=>{const i=n+r;t[i]=((e,t,n)=>({element:e,colspan:t,column:n}))(e.element,o,i)})),n+=o})),t})(e),n=((e,t)=>({element:e,columns:t}))(e.element,X(t));return{colgroups:[n],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),u=((e,t)=>({rows:e,columns:t}))(r,i);return{grid:u,access:t,all:n,columns:c,colgroups:d}},Qn=e=>{const t=Qt(e);return Xn(t)},Jn=Xn,eo=(e,t,n)=>_.from(e.access[Yn(t,n)]),to=(e,t,n)=>{const o=Kn(e,(e=>n(t,e.element)));return o.length>0?_.some(o[0]):_.none()},no=Kn,oo=e=>B(e.all,(e=>e.cells)),ro=e=>X(e.columns),io=e=>q(e.columns).length>0,so=(e,t)=>_.from(e.columns[t]),ao=(e,t=x)=>{const n=e.grid,o=O(n.columns,f),r=O(n.rows,f);return A(o,(n=>lo((()=>B(r,(t=>eo(e,t,n).filter((e=>e.column===n)).toArray()))),(e=>1===e.colspan&&t(e.element)),(()=>eo(e,0,n)))))},lo=(e,t,n)=>{const o=e();return N(o,t).orThunk((()=>_.from(o[0]).orThunk(n))).map((e=>e.element))},co=e=>{const t=e.grid,n=O(t.rows,f),o=O(t.columns,f);return A(n,(t=>lo((()=>B(o,(n=>eo(e,t,n).filter((e=>e.row===t)).fold(p([]),(e=>[e]))))),(e=>1===e.rowspan),(()=>eo(e,t,0)))))},uo=(e,t)=>n=>"rtl"===ho(n)?t:e,ho=e=>"rtl"===Dt(e,"direction")?"rtl":"ltr",mo=Dn("height",(e=>{const t=e.dom;return it(e)?t.getBoundingClientRect().height:t.offsetHeight})),po=e=>mo.get(e),fo=e=>mo.getOuter(e),go=(e,t)=>({left:e,top:t,translate:(n,o)=>go(e+n,t+o)}),vo=go,bo=(e,t)=>void 0!==e?e:void 0!==t?t:0,yo=e=>{const t=e.dom.ownerDocument,n=t.body,o=t.defaultView,r=t.documentElement;if(n===e.dom)return vo(n.offsetLeft,n.offsetTop);const i=bo(null==o?void 0:o.pageYOffset,r.scrollTop),s=bo(null==o?void 0:o.pageXOffset,r.scrollLeft),a=bo(r.clientTop,n.clientTop),l=bo(r.clientLeft,n.clientLeft);return wo(e).translate(s-l,i-a)},wo=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?vo(n.offsetLeft,n.offsetTop):it(e)?(e=>{const t=e.getBoundingClientRect();return vo(t.left,t.top)})(t):vo(0,0)},xo=(e,t)=>({row:e,y:t}),_o=(e,t)=>({col:e,x:t}),So=e=>yo(e).left+Nn(e),Co=e=>yo(e).left,jo=(e,t)=>_o(e,Co(t)),ko=(e,t)=>_o(e,So(t)),Eo=e=>yo(e).top,Oo=(e,t)=>xo(e,Eo(t)),Ao=(e,t)=>xo(e,Eo(t)+fo(t)),To=(e,t,n)=>{if(0===n.length)return[];const o=A(n.slice(1),((t,n)=>t.map((t=>e(n,t))))),r=n[n.length-1].map((e=>t(n.length-1,e)));return o.concat([r])},Do={delta:f,positions:e=>To(Oo,Ao,e),edge:Eo},Mo=uo({delta:f,edge:Co,positions:e=>To(jo,ko,e)},{delta:e=>-e,edge:So,positions:e=>To(ko,jo,e)}),Po={delta:(e,t)=>Mo(t).delta(e,t),positions:(e,t)=>Mo(t).positions(e,t),edge:e=>Mo(e).edge(e)},Ro={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},No=(()=>{const e="[0-9]+",t="[eE][+-]?[0-9]+",n=e=>`(?:${e})?`,o=["Infinity","[0-9]+\\."+n(e)+n(t),"\\.[0-9]+"+n(t),e+n(t)].join("|");return new RegExp(`^([+-]?(?:${o}))(.*)$`)})(),Lo=/(\d+(\.\d+)?)%/,Io=/(\d+(\.\d+)?)px|em/,Bo=ue("col"),Fo=(e,t,n)=>{const o=Te(e).getOrThunk((()=>st(Ee(e))));return t(e)/n(o)*100},Ho=(e,t)=>{At(e,"width",t+"px")},Vo=(e,t)=>{At(e,"width",t+"%")},zo=(e,t)=>{At(e,"height",t+"px")},Uo=e=>{const t=(e=>{return Mn(t=e,"height",t.dom.offsetHeight)+"px";var t})(e);return t?((e,t,n,o)=>{const r=parseFloat(e);return Ct(e,"%")&&"table"!==ne(t)?((e,t,n,o)=>{const r=Gt(e).map((e=>{const o=n(e);return Math.floor(t/100*o)})).getOr(t);return o(e,r),r})(t,r,n,o):r})(t,e,po,zo):po(e)},Wo=(e,t)=>Pt(e,t).orThunk((()=>ge(e,t).map((e=>e+"px")))),qo=e=>Wo(e,"width"),Zo=e=>Fo(e,Rn,Ln),Go=e=>{return Bo(e)?Rn(e):Mn(t=e,"width",t.dom.offsetWidth);var t},$o=e=>((e,t,n)=>n(e)/Lt(e,"rowspan"))(e,0,Uo),Yo=(e,t,n)=>{At(e,"width",t+n)},Ko=e=>Fo(e,Rn,Ln)+"%",Xo=p(Lo),Qo=ue("col"),Jo=e=>qo(e).getOrThunk((()=>Go(e)+"px")),er=e=>{return(t=e,Wo(t,"height")).getOrThunk((()=>$o(e)+"px"));var t},tr=(e,t,n,o,r,i)=>e.filter(o).fold((()=>i(((e,t)=>{if(t<0||t>=e.length-1)return _.none();const n=e[t].fold((()=>{const n=(e=>{const t=S.call(e,0);return t.reverse(),t})(e.slice(0,t));return W(n,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>_.some({value:e,delta:0}))),o=e[t+1].fold((()=>{const n=e.slice(t+1);return W(n,((e,t)=>e.map((e=>({value:e,delta:t+1})))))}),(e=>_.some({value:e,delta:1})));return n.bind((e=>o.map((t=>{const n=t.delta+e.delta;return Math.abs(t.value-e.value)/n}))))})(n,t))),(e=>r(e))),nr=(e,t,n,o)=>{const r=ao(e),i=io(e)?(e=>A(ro(e),(e=>_.from(e.element))))(e):r,s=[_.some(Po.edge(t))].concat(A(Po.positions(r,t),(e=>e.map((e=>e.x))))),a=b(It);return A(i,((e,t)=>tr(e,t,s,a,(e=>{if((e=>{const t=Tn().browser,n=t.isChromium()||t.isFirefox();return!Qo(e)||n})(e))return n(e);{const e=null!=(i=r[t])?i:_.none();return tr(e,t,s,a,(e=>o(_.some(Rn(e)))),o)}var i}),o)))},or=e=>e.map((e=>e+"px")).getOr(""),rr=(e,t,n)=>nr(e,t,Go,(e=>e.getOrThunk(n.minCellWidth))),ir=(e,t,n,o,r)=>{const i=co(e),s=[_.some(n.edge(t))].concat(A(n.positions(i,t),(e=>e.map((e=>e.y)))));return A(i,((e,t)=>tr(e,t,s,b(Bt),o,r)))},sr=(e,t)=>()=>it(e)?t(e):parseFloat(Pt(e,"width").getOr("0")),ar=e=>{const t=sr(e,(e=>parseFloat(Ko(e)))),n=sr(e,Rn);return{width:t,pixelWidth:n,getWidths:(t,n)=>((e,t,n)=>nr(e,t,Zo,(e=>e.fold((()=>n.minCellWidth()),(e=>e/n.pixelWidth()*100)))))(t,e,n),getCellDelta:e=>e/n()*100,singleColumnWidth:(e,t)=>[100-e],minCellWidth:()=>Ht()/n()*100,setElementWidth:Vo,adjustTableWidth:n=>{const o=t();Vo(e,o+n/100*o)},isRelative:!0,label:"percent"}},lr=e=>{const t=sr(e,Rn);return{width:t,pixelWidth:t,getWidths:(t,n)=>rr(t,e,n),getCellDelta:f,singleColumnWidth:(e,t)=>[Math.max(Ht(),e+t)-e],minCellWidth:Ht,setElementWidth:Ho,adjustTableWidth:n=>{const o=t()+n;Ho(e,o)},isRelative:!1,label:"pixel"}},cr=e=>qo(e).fold((()=>(e=>{const t=sr(e,Rn),n=p(0);return{width:t,pixelWidth:t,getWidths:(t,n)=>rr(t,e,n),getCellDelta:n,singleColumnWidth:p([0]),minCellWidth:n,setElementWidth:m,adjustTableWidth:m,isRelative:!0,label:"none"}})(e)),(t=>((e,t)=>null!==Xo().exec(t)?ar(e):lr(e))(e,t))),dr=lr,ur=ar,hr=(e,t,n)=>{const o=e[n].element,r=we.fromTag("td");Fe(r,we.fromTag("br")),(t?Fe:Be)(o,r)},mr=((e,t)=>{const n=t=>e(t)?_.from(t.dom.nodeValue):_.none();return{get:t=>{if(!e(t))throw new Error("Can only get text value of a text node");return n(t).getOr("")},getOption:n,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})(le),pr=e=>mr.get(e),fr=e=>mr.getOption(e),gr=(e,t)=>mr.set(e,t),vr=e=>"img"===ne(e)?1:fr(e).fold((()=>Re(e).length),(e=>e.length)),br=["img","br"],yr=e=>fr(e).filter((e=>0!==e.trim().length||e.indexOf("")>-1)).isSome()||k(br,ne(e))||(e=>se(e)&&"false"===fe(e,"contenteditable"))(e),wr=e=>((e,t)=>{const n=e=>{for(let o=0;o<e.childNodes.length;o++){const r=we.fromDom(e.childNodes[o]);if(t(r))return _.some(r);const i=n(e.childNodes[o]);if(i.isSome())return i}return _.none()};return n(e.dom)})(e,yr),xr=e=>_r(e,yr),_r=(e,t)=>{const n=e=>{const o=Re(e);for(let e=o.length-1;e>=0;e--){const r=o[e];if(t(r))return _.some(r);const i=n(r);if(i.isSome())return i}return _.none()};return n(e)},Sr={scope:["row","col"]},Cr=e=>()=>{const t=we.fromTag("td",e.dom);return Fe(t,we.fromTag("br",e.dom)),t},jr=e=>()=>we.fromTag("col",e.dom),kr=e=>()=>we.fromTag("colgroup",e.dom),Er=e=>()=>we.fromTag("tr",e.dom),Or=(e,t,n)=>{const o=((e,t)=>{const n=Ye(e,t),o=Re($e(e));return ze(n,o),n})(e,t);return G(n,((e,t)=>{null===e?ve(o,t):me(o,t,e)})),o},Ar=e=>e,Tr=(e,t,n)=>{const o=(e,t)=>{((e,t)=>{const n=e.dom,o=t.dom;Et(n)&&Et(o)&&(o.style.cssText=n.style.cssText)})(e.element,t),Rt(t,"height"),1!==e.colspan&&Rt(t,"width")};return{col:n=>{const r=we.fromTag(ne(n.element),t.dom);return o(n,r),e(n.element,r),r},colgroup:kr(t),row:Er(t),cell:r=>{const i=we.fromTag(ne(r.element),t.dom),s=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),a=s.length>0?((e,t,n)=>wr(e).map((o=>{const r=n.join(","),i=lt(o,r,(t=>Ce(t,e)));return P(i,((e,t)=>{const n=Ge(t);return Fe(e,n),n}),t)})).getOr(t))(r.element,i,s):i;return Fe(a,we.fromTag("br")),o(r,i),((e,t)=>{G(Sr,((n,o)=>ge(e,o).filter((e=>k(n,e))).each((e=>me(t,o,e)))))})(r.element,i),e(r.element,i),i},replace:Or,colGap:jr(t),gap:Cr(t)}},Dr=e=>({col:jr(e),colgroup:kr(e),row:Er(e),cell:Cr(e),replace:Ar,colGap:jr(e),gap:Cr(e)}),Mr=e=>vt(e,"[contenteditable]"),Pr=(e,t=!1)=>it(e)?e.dom.isContentEditable:Mr(e).fold(p(t),(e=>"true"===Rr(e))),Rr=e=>e.dom.contentEditable,Nr=e=>we.fromDom(e.getBody()),Lr=e=>t=>Ce(t,Nr(e)),Ir=e=>{ve(e,"data-mce-style");const t=e=>ve(e,"data-mce-style");T(qt(e),t),T(Zt(e),t),T($t(e),t)},Br=e=>we.fromDom(e.selection.getStart()),Fr=e=>e.getBoundingClientRect().width,Hr=e=>e.getBoundingClientRect().height,Vr=e=>mt(e,ue("table")).exists(Pr),zr=(e,t)=>{const n=t.column,o=t.column+t.colspan-1,r=t.row,i=t.row+t.rowspan-1;return n<=e.finishCol&&o>=e.startCol&&r<=e.finishRow&&i>=e.startRow},Ur=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,Wr=(e,t,n)=>{const o=to(e,t,Ce),r=to(e,n,Ce);return o.bind((e=>r.map((t=>{return n=e,o=t,{startRow:Math.min(n.row,o.row),startCol:Math.min(n.column,o.column),finishRow:Math.max(n.row+n.rowspan-1,o.row+o.rowspan-1),finishCol:Math.max(n.column+n.colspan-1,o.column+o.colspan-1)};var n,o}))))},qr=(e,t,n)=>Wr(e,t,n).map((t=>{const n=no(e,v(zr,t));return A(n,(e=>e.element))})),Zr=(e,t)=>to(e,t,((e,t)=>je(t,e))).map((e=>e.element)),Gr=(e,t,n)=>{const o=Yr(e);return qr(o,t,n)},$r=(e,t,n,o,r)=>{const i=Yr(e),s=Ce(e,n)?_.some(t):Zr(i,t),a=Ce(e,r)?_.some(o):Zr(i,o);return s.bind((e=>a.bind((t=>qr(i,e,t)))))},Yr=Qn;var Kr=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Xr=()=>({up:p({selector:pt,closest:vt,predicate:ht,all:De}),down:p({selector:dt,predicate:at}),styles:p({get:Dt,getRaw:Pt,set:At,remove:Rt}),attrs:p({get:fe,set:me,remove:ve,copyTo:(e,t)=>{const n=be(e);pe(t,n)}}),insert:p({before:Le,after:Ie,afterAll:Ve,append:Fe,appendAll:ze,prepend:Be,wrap:He}),remove:p({unwrap:qe,remove:We}),create:p({nu:we.fromTag,clone:e=>we.fromDom(e.dom.cloneNode(!1)),text:we.fromText}),query:p({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:Me,nextSibling:Pe}),property:p({children:Re,name:ne,parent:Ae,document:e=>Oe(e).dom,isText:le,isComment:ie,isElement:ae,isSpecial:e=>{const t=ne(e);return k(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:e=>ae(e)?ge(e,"lang"):_.none(),getText:pr,setText:gr,isBoundary:e=>!!ae(e)&&("body"===ne(e)||k(Kr,ne(e))),isEmptyTag:e=>!!ae(e)&&k(["br","img","hr","input"],ne(e)),isNonEditable:e=>ae(e)&&"false"===fe(e,"contenteditable")}),eq:Ce,is:ke});const Qr=(e,t,n,o)=>{const r=t(e,n);return P(o,((n,o)=>{const r=t(e,o);return Jr(e,n,r)}),r)},Jr=(e,t,n)=>t.bind((t=>n.filter(v(e.eq,t)))),ei=Xr(),ti=(e,t)=>((e,t,n)=>n.length>0?((e,t,n,o)=>o(e,t,n[0],n.slice(1)))(e,t,n,Qr):_.none())(ei,((t,n)=>e(n)),t),ni=e=>pt(e,"table"),oi=(e,t,n)=>{const o=e=>t=>void 0!==n&&n(t)||Ce(t,e);return Ce(e,t)?_.some({boxes:_.some([e]),start:e,finish:t}):ni(e).bind((r=>ni(t).bind((i=>{if(Ce(r,i))return _.some({boxes:Gr(r,e,t),start:e,finish:t});if(je(r,i)){const n=lt(t,"td,th",o(r)),s=n.length>0?n[n.length-1]:t;return _.some({boxes:$r(r,e,r,t,i),start:e,finish:s})}if(je(i,r)){const n=lt(e,"td,th",o(i)),s=n.length>0?n[n.length-1]:e;return _.some({boxes:$r(i,e,r,t,i),start:e,finish:s})}return((e,t,n)=>((e,t,n,o=w)=>{const r=[t].concat(e.up().all(t)),i=[n].concat(e.up().all(n)),s=e=>L(e,o).fold((()=>e),(t=>e.slice(0,t+1))),a=s(r),l=s(i),c=N(a,(t=>E(l,((e,t)=>v(e.eq,t))(e,t))));return{firstpath:a,secondpath:l,shared:c}})(ei,e,t,void 0))(e,t).shared.bind((s=>vt(s,"table",n).bind((n=>{const s=lt(t,"td,th",o(n)),a=s.length>0?s[s.length-1]:t,l=lt(e,"td,th",o(n)),c=l.length>0?l[l.length-1]:e;return _.some({boxes:$r(n,e,r,t,i),start:c,finish:a})}))))}))))},ri=(e,t)=>{const n=dt(e,t);return n.length>0?_.some(n):_.none()},ii=(e,t,n)=>gt(e,t).bind((t=>gt(e,n).bind((e=>ti(ni,[t,e]).map((n=>({first:t,last:e,table:n}))))))),si=(e,t)=>ri(e,t),ai=f,li=e=>{const t=(e,t)=>ge(e,t).exists((e=>parseInt(e,10)>1));return e.length>0&&F(e,(e=>t(e,"rowspan")||t(e,"colspan")))?_.some(e):_.none()},ci=(e,t,n)=>t.length<=1?_.none():((e,t,n)=>ii(e,t,n).bind((t=>{const n=t=>Ce(e,t),o="thead,tfoot,tbody,table",r=pt(t.first,o,n),i=pt(t.last,o,n);return r.bind((e=>i.bind((n=>Ce(e,n)?((e,t,n)=>((e,t,n)=>Wr(e,t,n).bind((t=>((e,t)=>{let n=!0;const o=v(Ur,t);for(let r=t.startRow;r<=t.finishRow;r++)for(let i=t.startCol;i<=t.finishCol;i++)n=n&&eo(e,r,i).exists(o);return n?_.some(t):_.none()})(e,t))))(Yr(e),t,n))(t.table,t.first,t.last):_.none()))))})))(e,n.firstSelectedSelector,n.lastSelectedSelector).map((e=>({bounds:e,cells:t}))),di={selected:"data-mce-selected",selectedSelector:"td[data-mce-selected],th[data-mce-selected]",firstSelected:"data-mce-first-selected",firstSelectedSelector:"td[data-mce-first-selected],th[data-mce-first-selected]",lastSelected:"data-mce-last-selected",lastSelectedSelector:"td[data-mce-last-selected],th[data-mce-last-selected]"},ui=(e,t,n)=>({element:n,mergable:ci(t,e,di),unmergable:li(e),selection:ai(e)}),hi=e=>(t,n)=>{const o=ne(t),r="col"===o||"colgroup"===o?Gt(i=t).bind((e=>si(e,di.firstSelectedSelector))).fold(p(i),(e=>e[0])):t;var i;return vt(r,e,n)},mi=hi("th,td,caption"),pi=hi("th,td"),fi=e=>{return t=e.model.table.getSelectedCells(),A(t,we.fromDom);var t},gi=(e,t)=>({element:e,offset:t}),vi=(e,t,n)=>e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?n(t).bind((t=>vi(e,t,n).orThunk((()=>_.some(t))))):_.none(),bi=(e,t)=>e.property().isText(t)?e.property().getText(t).length:e.property().children(t).length,yi=(e,t)=>{const n=vi(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(n))return gi(n,bi(e,n));const o=e.property().children(n);return o.length>0?yi(e,o[o.length-1]):gi(n,bi(e,n))},wi=yi,xi=Xr(),_i=(e,t)=>{if(!It(e)){const n=(e=>qo(e).bind((e=>{return t=e,n=["fixed","relative","empty"],_.from(No.exec(t)).bind((e=>{const t=Number(e[1]),o=e[2];return((e,t)=>E(t,(t=>E(Ro[t],(t=>e===t)))))(o,n)?_.some({value:t,unit:o}):_.none()}));var t,n})))(e);n.each((n=>{const o=n.value/2;Yo(e,o,n.unit),Yo(t,o,n.unit)}))}},Si=e=>A(e,p(0)),Ci=(e,t,n,o,r)=>r(e.slice(0,t)).concat(o).concat(r(e.slice(n))),ji=e=>(t,n,o,r)=>{if(e(o)){const e=Math.max(r,t[n]-Math.abs(o)),i=Math.abs(e-t[n]);return o>=0?i:-i}return o},ki=ji((e=>e<0)),Ei=ji(x),Oi=()=>{const e=(e,t,n,o)=>{const r=(100+n)/100,i=Math.max(o,(e[t]+n)/r);return A(e,((e,n)=>(n===t?i:e/r)-e))},t=(t,n,o,r,i,s)=>s?e(t,n,r,i):((e,t,n,o,r)=>{const i=ki(e,t,o,r);return Ci(e,t,n+1,[i,0],Si)})(t,n,o,r,i);return{resizeTable:(e,t)=>e(t),clampTableDelta:ki,calcLeftEdgeDeltas:t,calcMiddleDeltas:(e,n,o,r,i,s,a)=>t(e,o,r,i,s,a),calcRightEdgeDeltas:(t,n,o,r,i,s)=>{if(s)return e(t,o,r,i);{const e=ki(t,o,r,i);return Si(t.slice(0,o)).concat([e])}},calcRedestributedWidths:(e,t,n,o)=>{if(o){const o=(t+n)/t,r=A(e,(e=>e/o));return{delta:100*o-100,newSizes:r}}return{delta:n,newSizes:e}}}},Ai=()=>{const e=(e,t,n,o,r)=>{const i=Ei(e,o>=0?n:t,o,r);return Ci(e,t,n+1,[i,-i],Si)};return{resizeTable:(e,t,n)=>{n&&e(t)},clampTableDelta:(e,t,n,o,r)=>{if(r){if(n>=0)return n;{const t=R(e,((e,t)=>e+t-o),0);return Math.max(-t,n)}}return ki(e,t,n,o)},calcLeftEdgeDeltas:e,calcMiddleDeltas:(t,n,o,r,i,s)=>e(t,o,r,i,s),calcRightEdgeDeltas:(e,t,n,o,r,i)=>{if(i)return Si(e);{const t=o/e.length;return A(e,p(t))}},calcRedestributedWidths:(e,t,n,o)=>({delta:0,newSizes:e})}},Ti=e=>Qn(e).grid,Di=ue("th"),Mi=e=>F(e,(e=>Di(e.element))),Pi=(e,t)=>e&&t?"sectionCells":e?"section":"cells",Ri=e=>{const t="thead"===e.section,n=bt(Ni(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:Pi(t,n)}:{type:"body"}},Ni=e=>{const t=M(e,(e=>Di(e.element)));return 0===t.length?_.some("td"):t.length===e.length?_.some("th"):_.none()},Li=(e,t,n)=>Je(n(e.element,t),!0,e.isLocked),Ii=(e,t)=>e.section!==t?et(e.element,e.cells,t,e.isNew):e,Bi=()=>({transformRow:Ii,transformCell:(e,t,n)=>{const o=n(e.element,t),r="td"!==ne(o)?((e,t)=>{const n=Ye(e,"td");Ie(e,n);const o=Re(e);return ze(n,o),We(e),n})(o):o;return Je(r,e.isNew,e.isLocked)}}),Fi=()=>({transformRow:Ii,transformCell:Li}),Hi=()=>({transformRow:(e,t)=>Ii(e,"thead"===t?"tbody":t),transformCell:Li}),Vi=Bi,zi=Fi,Ui=Hi,Wi=()=>({transformRow:f,transformCell:Li}),qi=(e,t,n,o)=>{n===o?ve(e,t):me(e,t,n)},Zi=(e,t,n)=>{U(ct(e,t)).fold((()=>Be(e,n)),(e=>Ie(e,n)))},Gi=(e,t)=>{const n=[],o=[],r=e=>A(e,(e=>{e.isNew&&n.push(e.element);const t=e.element;return Ue(t),T(e.cells,(e=>{e.isNew&&o.push(e.element),qi(e.element,"colspan",e.colspan,1),qi(e.element,"rowspan",e.rowspan,1),Fe(t,e.element)})),t})),i=e=>B(e,(e=>A(e.cells,(e=>(qi(e.element,"span",e.colspan,1),e.element))))),s=(t,n)=>{const o=((e,t)=>{const n=ft(e,t).getOrThunk((()=>{const n=we.fromTag(t,Ee(e).dom);return"thead"===t?Zi(e,"caption,colgroup",n):"colgroup"===t?Zi(e,"caption",n):Fe(e,n),n}));return Ue(n),n})(e,n),s=("colgroup"===n?i:r)(t);ze(o,s)},a=(t,n)=>{t.length>0?s(t,n):(t=>{ft(e,t).each(We)})(n)},l=[],c=[],d=[],u=[];return T(t,(e=>{switch(e.section){case"thead":l.push(e);break;case"tbody":c.push(e);break;case"tfoot":d.push(e);break;case"colgroup":u.push(e)}})),a(u,"colgroup"),a(l,"thead"),a(c,"tbody"),a(d,"tfoot"),{newRows:n,newCells:o}},$i=(e,t)=>{if(0===e.length)return 0;const n=e[0];return L(e,(e=>!t(n.element,e.element))).getOr(e.length)},Yi=(e,t,n)=>{const o=[];T(e.colgroups,(r=>{const i=[];for(let o=0;o<e.grid.columns;o++){const r=so(e,o).map((e=>Je(e.element,n,!1))).getOrThunk((()=>Je(t.colGap(),!0,!1)));i.push(r)}o.push(et(r.element,i,"colgroup",n))}));for(let r=0;r<e.grid.rows;r++){const i=[];for(let o=0;o<e.grid.columns;o++){const s=eo(e,r,o).map((e=>Je(e.element,n,e.isLocked))).getOrThunk((()=>Je(t.gap(),!0,!1)));i.push(s)}const s=e.all[r],a=et(s.element,i,s.section,n);o.push(a)}return o},Ki=e=>((e,t)=>{const n=A(e,(e=>A(e.cells,w)));return A(e,((o,r)=>{const i=B(o.cells,((o,i)=>{if(!1===n[r][i]){const d=((e,t,n,o)=>{const r=((e,t)=>e[t])(e,t),i="colgroup"===r.section,s=$i(r.cells.slice(n),o),a=i?1:$i(((e,t)=>A(e,(e=>Vn(e,t))))(e.slice(t),n),o);return{colspan:s,rowspan:a}})(e,r,i,t);return((e,t,o,r)=>{for(let i=e;i<e+o;i++)for(let e=t;e<t+r;e++)n[i][e]=!0})(r,i,d.rowspan,d.colspan),[(s=o.element,a=d.rowspan,l=d.colspan,c=o.isNew,{element:s,rowspan:a,colspan:l,isNew:c})]}return[];var s,a,l,c}));return((e,t,n,o)=>({element:e,cells:t,section:n,isNew:o}))(o.element,i,o.section,o.isNew)}))})(e,Ce),Xi=(e,t)=>W(e.all,(e=>N(e.cells,(e=>Ce(t,e.element))))),Qi=(e,t,n)=>{const o=A(t.selection,(t=>Wt(t).bind((t=>Xi(e,t))).filter(n))),r=yt(o);return wt(r.length>0,r)},Ji=(e,t,n,o,r)=>(i,s,a,l)=>{const c=Qn(i),d=_.from(null==l?void 0:l.section).getOrThunk(Wi);return t(c,s).map((t=>{const n=((e,t)=>Yi(e,t,!1))(c,a),o=e(n,t,Ce,r(a),d),i=$n(o.grid);return{info:t,grid:Ki(o.grid),cursor:o.cursor,lockedColumns:i}})).bind((e=>{const t=Gi(i,e.grid),r=_.from(null==l?void 0:l.sizing).getOrThunk((()=>cr(i))),s=_.from(null==l?void 0:l.resize).getOrThunk(Ai);return n(i,e.grid,e.info,{sizing:r,resize:s,section:d}),o(i),ve(i,Zn),e.lockedColumns.length>0&&me(i,Zn,e.lockedColumns.join(",")),_.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))},es=(e,t)=>Qi(e,t,x).map((e=>({cells:e,generators:t.generators,clipboard:t.clipboard}))),ts=(e,t)=>Qi(e,t,x),ns=(e,t)=>Qi(e,t,(e=>!e.isLocked)),os=(e,t)=>F(t,(t=>((e,t)=>Xi(e,t).exists((e=>!e.isLocked)))(e,t))),rs=(e,t,n,o)=>{const r=Wn(e).rows;let i=!0;for(let e=0;e<r.length;e++)for(let s=0;s<Un(r[0]);s++){const a=r[e],l=Vn(a,s),c=n(l.element,t);c&&!i?Fn(a,s,Je(o(),!0,l.isLocked)):c&&(i=!1)}return e},is=e=>{const t=t=>t(e),n=p(e),o=()=>r,r={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:x,isError:w,map:t=>as.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:t=>{t(e)},toOptional:()=>_.some(e)};return r},ss=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:w,isError:x,map:t,mapError:t=>as.error(t(e)),bind:t,exists:w,forall:x,getOr:f,or:f,getOrThunk:y,orThunk:y,getOrDie:(o=String(e),()=>{throw new Error(o)}),each:m,toOptional:_.none};var o;return n},as={value:is,error:ss,fromOption:(e,t)=>e.fold((()=>ss(t)),is)},ls=(e,t)=>({rowDelta:0,colDelta:Un(e[0])-Un(t[0])}),cs=(e,t)=>({rowDelta:e.length-t.length,colDelta:0}),ds=(e,t,n,o)=>{const r="colgroup"===t.section?n.col:n.cell;return O(e,(e=>Je(r(),!0,o(e))))},us=(e,t,n,o)=>{const r=e[e.length-1];return e.concat(O(t,(()=>{const e="colgroup"===r.section?n.colgroup:n.row,t=qn(r,e,f),i=ds(t.cells.length,t,n,(e=>Q(o,e.toString())));return Hn(t,i)})))},hs=(e,t,n,o)=>A(e,(e=>{const r=ds(t,e,n,w);return In(e,o,r)})),ms=(e,t,n)=>{const o=t.colDelta<0?hs:f,r=t.rowDelta<0?us:f,i=$n(e),s=Un(e[0]),a=E(i,(e=>e===s-1)),l=o(e,Math.abs(t.colDelta),n,a?s-1:s),c=$n(l);return r(l,Math.abs(t.rowDelta),n,H(c,x))},ps=(e,t,n,o)=>{const r=v(o,Vn(e[t],n).element),i=e[t];return e.length>1&&Un(i)>1&&(n>0&&r(zn(i,n-1))||n<i.cells.length-1&&r(zn(i,n+1))||t>0&&r(zn(e[t-1],n))||t<e.length-1&&r(zn(e[t+1],n)))},fs=(e,t,n)=>M(n,(n=>n>=e.column&&n<=Un(t[0])+e.column)),gs=(e,t,n,o,r)=>{((e,t,n,o)=>{t>0&&t<e[0].cells.length&&T(e,(e=>{const r=e.cells[t-1];let i=0;const s=o();for(;e.cells.length>t+i&&n(r.element,e.cells[t+i].element);)Fn(e,t+i,Je(s,!0,e.cells[t+i].isLocked)),i++}))})(t,e,r,o.cell);const i=cs(n,t),s=ms(n,i,o),a=cs(t,s),l=ms(t,a,o);return A(l,((t,n)=>In(t,e,s[n].cells)))},vs=(e,t,n,o,r)=>{((e,t,n,o)=>{const r=Wn(e).rows;if(t>0&&t<r.length){const e=((e,t)=>R(e,((e,n)=>E(e,(e=>t(e.element,n.element)))?e:e.concat([n])),[]))(r[t-1].cells,n);T(e,(e=>{let i=_.none();for(let s=t;s<r.length;s++)for(let t=0;t<Un(r[0]);t++){const a=r[s],l=Vn(a,t);n(l.element,e.element)&&(i.isNone()&&(i=_.some(o())),i.each((e=>{Fn(a,t,Je(e,!0,l.isLocked))})))}}))}})(t,e,r,o.cell);const i=$n(t),s=ls(t,n),a={...s,colDelta:s.colDelta-i.length},l=ms(t,a,o),{cols:c,rows:d}=Wn(l),u=$n(l),h=ls(n,t),m={...h,colDelta:h.colDelta+u.length},p=(g=o,v=u,A(n,(e=>R(v,((t,n)=>{const o=ds(1,e,g,x)[0];return Bn(t,n,o)}),e)))),f=ms(p,m,o);var g,v;return[...c,...d.slice(0,e),...f,...d.slice(e,d.length)]},bs=(e,t,n,o,r)=>{const{rows:i,cols:s}=Wn(e),a=i.slice(0,t),l=i.slice(t);return[...s,...a,((e,t,n,o)=>qn(e,(e=>o(e,n)),t))(i[n],((e,n)=>t>0&&t<i.length&&o(zn(i[t-1],n),zn(i[t],n))?Vn(i[t],n):Je(r(e.element,o),!0,e.isLocked)),o,r),...l]},ys=(e,t,n,o,r)=>A(e,(e=>{const i=t>0&&t<Un(e)&&o(zn(e,t-1),zn(e,t)),s=((e,t,n,o,r,i,s)=>{if("colgroup"!==n&&o)return Vn(e,t);{const t=Vn(e,r);return Je(s(t.element,i),!0,!1)}})(e,t,e.section,i,n,o,r);return Bn(e,t,s)})),ws=(e,t,n,o)=>((e,t,n,o)=>void 0!==zn(e[t],n)&&t>0&&o(zn(e[t-1],n),zn(e[t],n)))(e,t,n,o)||((e,t,n)=>t>0&&n(zn(e,t-1),zn(e,t)))(e[t],n,o),xs=(e,t,n,o)=>{const r=e=>(e=>"row"===e?Bt(t):It(t))(e)?`${e}group`:e;return e?Di(t)?r(n):null:o&&Di(t)?r("row"===n?"col":"row"):null},_s=(e,t,n)=>Je(n(e.element,t),!0,e.isLocked),Ss=(e,t,n,o,r,i,s)=>A(e,((e,a)=>((e,l)=>{const c=e.cells,d=A(c,((e,l)=>{if((e=>E(t,(t=>n(e.element,t.element))))(e)){const t=s(e,a,l)?r(e,n,o):e;return i(t,a,l).each((e=>{var n,o;n=t.element,o={scope:_.from(e)},G(o,((e,t)=>{e.fold((()=>{ve(n,t)}),(e=>{he(n.dom,t,e)}))}))})),t}return e}));return et(e.element,d,e.section,e.isNew)})(e))),Cs=(e,t,n)=>B(e,((o,r)=>ws(e,r,t,n)?[]:[Vn(o,t)])),js=(e,t,n,o,r)=>{const i=Wn(e).rows,s=B(t,(e=>Cs(i,e,o))),a=A(i,(e=>Mi(e.cells))),l=((e,t)=>F(t,f)&&Mi(e)?x:(e,n,o)=>!("th"===ne(e.element)&&t[n]))(s,a),c=((e,t)=>(n,o)=>_.some(xs(e,n.element,"row",t[o])))(n,a);return Ss(e,s,o,r,_s,c,l)},ks=(e,t,n,o)=>{const r=Wn(e).rows,i=A(t,(e=>Vn(r[e.row],e.column)));return Ss(e,i,n,o,_s,_.none,x)},Es=e=>{if(!s(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return T(e,((o,r)=>{const i=q(o);if(1!==i.length)throw new Error("one and only one name per case");const a=i[0],l=o[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!s(l))throw new Error("case arguments must be an array");t.push(a),n[a]=(...n)=>{const o=n.length;if(o!==l.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+l.length+" ("+l+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[r].apply(null,n)},match:e=>{const o=q(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!F(t,(e=>k(o,e))))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:a,params:n})}}}})),n},Os={...Es([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},As=(e,t,n)=>{let o=0;for(let r=e;r<t;r++)o+=void 0!==n[r]?n[r]:0;return o},Ts=(e,t,n)=>{const o=((e,t)=>io(e)?((e,t)=>{const n=ro(e);return A(n,((e,n)=>({element:e.element,width:t[n],colspan:e.colspan})))})(e,t):((e,t)=>{const n=oo(e);return A(n,(e=>{const n=As(e.column,e.column+e.colspan,t);return{element:e.element,width:n,colspan:e.colspan}}))})(e,t))(e,t);T(o,(e=>{n.setElementWidth(e.element,e.width)}))},Ds=(e,t,n,o,r)=>{const i=Qn(e),s=r.getCellDelta(t),a=r.getWidths(i,r),l=n===i.grid.columns-1,c=o.clampTableDelta(a,n,s,r.minCellWidth(),l),d=((e,t,n,o,r)=>{const i=e.slice(0),s=((e,t)=>0===e.length?Os.none():1===e.length?Os.only(0):0===t?Os.left(0,1):t===e.length-1?Os.right(t-1,t):t>0&&t<e.length-1?Os.middle(t-1,t,t+1):Os.none())(e,t),a=p(A(i,p(0)));return s.fold(a,(e=>o.singleColumnWidth(i[e],n)),((e,t)=>r.calcLeftEdgeDeltas(i,e,t,n,o.minCellWidth(),o.isRelative)),((e,t,s)=>r.calcMiddleDeltas(i,e,t,s,n,o.minCellWidth(),o.isRelative)),((e,t)=>r.calcRightEdgeDeltas(i,e,t,n,o.minCellWidth(),o.isRelative)))})(a,n,c,r,o),u=A(d,((e,t)=>e+a[t]));Ts(i,u,r),o.resizeTable(r.adjustTableWidth,c,l)},Ms=e=>R(e,((e,t)=>E(e,(e=>e.column===t.column))?e:e.concat([t])),[]).sort(((e,t)=>e.column-t.column)),Ps=ue("col"),Rs=ue("colgroup"),Ns=e=>"tr"===ne(e)||Rs(e),Ls=e=>({element:e,colspan:Nt(e,"colspan",1),rowspan:Nt(e,"rowspan",1)}),Is=e=>ge(e,"scope").map((e=>e.substr(0,3))),Bs=(e,t=Ls)=>{const n=n=>{if(Ns(n))return Rs((r={element:n}).element)?e.colgroup(r):e.row(r);{const r=n,i=(t=>Ps(t.element)?e.col(t):e.cell(t))(t(r));return o=_.some({item:r,replacement:i}),i}var r};let o=_.none();return{getOrInit:(e,t)=>o.fold((()=>n(e)),(o=>t(e,o.item)?o.replacement:n(e)))}},Fs=e=>t=>{const n=[],o=o=>{const r="td"===e?{scope:null}:{},i=t.replace(o,e,r);return n.push({item:o,sub:i}),i};return{replaceOrInit:(e,t)=>{if(Ns(e)||Ps(e))return e;{const r=e;return((e,t)=>N(n,(n=>t(n.item,e))))(r,t).fold((()=>o(r)),(n=>t(e,n.item)?n.sub:o(r)))}}}},Hs=e=>({unmerge:t=>{const n=Is(t);return n.each((e=>me(t,"scope",e))),()=>{const o=e.cell({element:t,colspan:1,rowspan:1});return Rt(o,"width"),Rt(t,"width"),n.each((e=>me(o,"scope",e))),o}},merge:e=>(Rt(e[0],"width"),(()=>{const t=yt(A(e,Is));if(0===t.length)return _.none();{const e=t[0],n=["row","col"];return E(t,(t=>t!==e&&k(n,t)))?_.none():_.from(e)}})().fold((()=>ve(e[0],"scope")),(t=>me(e[0],"scope",t+"group"))),p(e[0]))}),Vs=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],zs=Xr(),Us=e=>((e,t)=>{const n=e.property().name(t);return k(Vs,n)})(zs,e),Ws=e=>((e,t)=>{const n=e.property().name(t);return k(["ol","ul"],n)})(zs,e),qs=e=>{const t=ue("br"),n=(()=>{const n=B(e,(e=>{const n=Re(e);return(e=>F(e,(e=>t(e)||le(e)&&0===pr(e).trim().length)))(n)?[]:n.concat((e=>xr(e).bind((n=>{const o=Pe(n).map((e=>!!Us(e)||!!((e,t)=>k(["br","img","hr","input"],e.property().name(t)))(zs,e)&&"img"!==ne(e))).getOr(!1);return Ae(n).map((r=>{return!0===o||"li"===ne(i=r)||ht(i,Ws).isSome()||t(n)||Us(r)&&!Ce(e,r)?[]:[we.fromTag("br")];var i}))})).getOr([]))(e))}));return 0===n.length?[we.fromTag("br")]:n})();Ue(e[0]),ze(e[0],n)},Zs=e=>Pr(e,!0),Gs=e=>{0===qt(e).length&&We(e)},$s=(e,t)=>({grid:e,cursor:t}),Ys=(e,t,n)=>{const o=((e,t,n)=>{var o,r;const i=Wn(e).rows;return _.from(null===(r=null===(o=i[t])||void 0===o?void 0:o.cells[n])||void 0===r?void 0:r.element).filter(Zs).orThunk((()=>(e=>W(e,(e=>W(e.cells,(e=>{const t=e.element;return wt(Zs(t),t)})))))(i)))})(e,t,n);return $s(e,o)},Ks=e=>R(e,((e,t)=>E(e,(e=>e.row===t.row))?e:e.concat([t])),[]).sort(((e,t)=>e.row-t.row)),Xs=(e,t)=>(n,o,r,i,s)=>{const a=Ks(o),l=A(a,(e=>e.row)),c=((e,t,n,o,r,i,s)=>{const{cols:a,rows:l}=Wn(e),c=l[t[0]],d=B(t,(e=>((e,t,n)=>{const o=e[t];return B(o.cells,((o,r)=>ws(e,t,r,n)?[]:[o]))})(l,e,r))),u=A(c.cells,((e,t)=>Mi(Cs(l,t,r)))),h=[...l];T(t,(e=>{h[e]=s.transformRow(l[e],n)}));const m=[...a,...h],p=((e,t)=>F(t,f)&&Mi(e.cells)?x:(e,n,o)=>!("th"===ne(e.element)&&t[o]))(c,u),g=((e,t)=>(n,o,r)=>_.some(xs(e,n.element,"col",t[r])))(o,u);return Ss(m,d,r,i,s.transformCell,g,p)})(n,l,e,t,r,i.replaceOrInit,s);return Ys(c,o[0].row,o[0].column)},Qs=Xs("thead",!0),Js=Xs("tbody",!1),ea=Xs("tfoot",!1),ta=(e,t,n)=>{const o=((e,t)=>Kt(e,(()=>t)))(e,n.section),r=Jn(o);return Yi(r,t,!0)},na=(e,t,n,o)=>((e,t,n,o)=>{const r=Jn(t),i=o.getWidths(r,o);Ts(r,i,o)})(0,t,0,o.sizing),oa=(e,t,n,o)=>((e,t,n,o,r)=>{const i=Jn(t),s=o.getWidths(i,o),a=o.pixelWidth(),{newSizes:l,delta:c}=r.calcRedestributedWidths(s,a,n.pixelDelta,o.isRelative);Ts(i,l,o),o.adjustTableWidth(c)})(0,t,n,o.sizing,o.resize),ra=(e,t)=>E(t,(e=>0===e.column&&e.isLocked)),ia=(e,t)=>E(t,(t=>t.column+t.colspan>=e.grid.columns&&t.isLocked)),sa=(e,t)=>{const n=ao(e),o=Ms(t);return R(o,((e,t)=>e+n[t.column].map(Nn).getOr(0)),0)},aa=e=>(t,n)=>ts(t,n).filter((n=>!(e?ra:ia)(t,n))).map((e=>({details:e,pixelDelta:sa(t,e)}))),la=e=>(t,n)=>es(t,n).filter((n=>!(e?ra:ia)(t,n.cells))),ca=Fs("th"),da=Fs("td"),ua=Ji(((e,t,n,o)=>{const r=t[0].row,i=Ks(t),s=P(i,((e,t)=>({grid:bs(e.grid,r,t.row+e.delta,n,o.getOrInit),delta:e.delta+1})),{grid:e,delta:0}).grid;return Ys(s,r,t[0].column)}),ts,m,m,Bs),ha=Ji(((e,t,n,o)=>{const r=Ks(t),i=r[r.length-1],s=i.row+i.rowspan,a=P(r,((e,t)=>bs(e,s,t.row,n,o.getOrInit)),e);return Ys(a,s,t[0].column)}),ts,m,m,Bs),ma=Ji(((e,t,n,o)=>{const r=t.details,i=Ms(r),s=i[0].column,a=P(i,((e,t)=>({grid:ys(e.grid,s,t.column+e.delta,n,o.getOrInit),delta:e.delta+1})),{grid:e,delta:0}).grid;return Ys(a,r[0].row,s)}),aa(!0),oa,m,Bs),pa=Ji(((e,t,n,o)=>{const r=t.details,i=r[r.length-1],s=i.column+i.colspan,a=Ms(r),l=P(a,((e,t)=>ys(e,s,t.column,n,o.getOrInit)),e);return Ys(l,r[0].row,s)}),aa(!1),oa,m,Bs),fa=Ji(((e,t,n,o)=>{const r=Ms(t.details),i=((e,t)=>B(e,(e=>{const n=e.cells,o=P(t,((e,t)=>t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e),n);return o.length>0?[et(e.element,o,e.section,e.isNew)]:[]})))(e,A(r,(e=>e.column))),s=i.length>0?i[0].cells.length-1:0;return Ys(i,r[0].row,Math.min(r[0].column,s))}),((e,t)=>ns(e,t).map((t=>({details:t,pixelDelta:-sa(e,t)})))),oa,Gs,Bs),ga=Ji(((e,t,n,o)=>{const r=Ks(t),i=((e,t,n)=>{const{rows:o,cols:r}=Wn(e);return[...r,...o.slice(0,t),...o.slice(n+1)]})(e,r[0].row,r[r.length-1].row),s=i.length>0?i.length-1:0;return Ys(i,Math.min(t[0].row,s),t[0].column)}),ts,m,Gs,Bs),va=Ji(((e,t,n,o)=>{const r=Ms(t),i=A(r,(e=>e.column)),s=js(e,i,!0,n,o.replaceOrInit);return Ys(s,t[0].row,t[0].column)}),ns,m,m,ca),ba=Ji(((e,t,n,o)=>{const r=Ms(t),i=A(r,(e=>e.column)),s=js(e,i,!1,n,o.replaceOrInit);return Ys(s,t[0].row,t[0].column)}),ns,m,m,da),ya=Ji(Qs,ns,m,m,ca),wa=Ji(Js,ns,m,m,da),xa=Ji(ea,ns,m,m,da),_a=Ji(((e,t,n,o)=>{const r=ks(e,t,n,o.replaceOrInit);return Ys(r,t[0].row,t[0].column)}),ns,m,m,ca),Sa=Ji(((e,t,n,o)=>{const r=ks(e,t,n,o.replaceOrInit);return Ys(r,t[0].row,t[0].column)}),ns,m,m,da),Ca=Ji(((e,t,n,o)=>{const r=t.cells;qs(r);const i=((e,t,n,o)=>{const r=Wn(e).rows;if(0===r.length)return e;for(let e=t.startRow;e<=t.finishRow;e++)for(let n=t.startCol;n<=t.finishCol;n++){const t=r[e],i=Vn(t,n).isLocked;Fn(t,n,Je(o(),!1,i))}return e})(e,t.bounds,0,o.merge(r));return $s(i,_.from(r[0]))}),((e,t)=>((e,t)=>t.mergable)(0,t).filter((t=>os(e,t.cells)))),na,m,Hs),ja=Ji(((e,t,n,o)=>{const r=P(t,((e,t)=>rs(e,t,n,o.unmerge(t))),e);return $s(r,_.from(t[0]))}),((e,t)=>((e,t)=>t.unmergable)(0,t).filter((t=>os(e,t)))),na,m,Hs),ka=Ji(((e,t,n,o)=>{const r=((e,t)=>{const n=Qn(e);return Yi(n,t,!0)})(t.clipboard,t.generators);var i,s;return((e,t,n,o,r)=>{const i=$n(t),s=((e,t,n)=>{const o=Un(t[0]),r=Wn(t).cols.length+e.row,i=O(o-e.column,(t=>t+e.column));return{row:r,column:N(i,(e=>F(n,(t=>t!==e)))).getOr(o-1)}})(e,t,i),a=Wn(n).rows,l=fs(s,a,i),c=((e,t,n)=>{if(e.row>=t.length||e.column>Un(t[0]))return as.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column);const o=t.slice(e.row),r=o[0].cells.slice(e.column),i=Un(n[0]),s=n.length;return as.value({rowDelta:o.length-s,colDelta:r.length-i})})(s,t,a);return c.map((e=>{const n={...e,colDelta:e.colDelta-l.length},i=ms(t,n,o),c=$n(i),d=fs(s,a,c);return((e,t,n,o,r,i)=>{const s=e.row,a=e.column,l=s+n.length,c=a+Un(n[0])+i.length,d=H(i,x);for(let e=s;e<l;e++){let i=0;for(let l=a;l<c;l++){if(d[l]){i++;continue}ps(t,e,l,r)&&rs(t,zn(t[e],l),r,o.cell);const c=l-a-i,u=Vn(n[e-s],c),h=u.element,m=o.replace(h);Fn(t[e],l,Je(m,!0,u.isLocked))}}return t})(s,i,a,o,r,d)}))})((i=t.row,s=t.column,{row:i,column:s}),e,r,t.generators,n).fold((()=>$s(e,_.some(t.element))),(e=>Ys(e,t.row,t.column)))}),((e,t)=>Wt(t.element).bind((n=>Xi(e,n).map((e=>({...e,generators:t.generators,clipboard:t.clipboard})))))),na,m,Bs),Ea=Ji(((e,t,n,o)=>{const r=Wn(e).rows,i=t.cells[0].column,s=r[t.cells[0].row],a=ta(t.clipboard,t.generators,s),l=gs(i,e,a,t.generators,n);return Ys(l,t.cells[0].row,t.cells[0].column)}),la(!0),m,m,Bs),Oa=Ji(((e,t,n,o)=>{const r=Wn(e).rows,i=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,s=r[t.cells[0].row],a=ta(t.clipboard,t.generators,s),l=gs(i,e,a,t.generators,n);return Ys(l,t.cells[0].row,t.cells[0].column)}),la(!1),m,m,Bs),Aa=Ji(((e,t,n,o)=>{const r=Wn(e).rows,i=t.cells[0].row,s=r[i],a=ta(t.clipboard,t.generators,s),l=vs(i,e,a,t.generators,n);return Ys(l,t.cells[0].row,t.cells[0].column)}),es,m,m,Bs),Ta=Ji(((e,t,n,o)=>{const r=Wn(e).rows,i=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,s=r[t.cells[0].row],a=ta(t.clipboard,t.generators,s),l=vs(i,e,a,t.generators,n);return Ys(l,t.cells[0].row,t.cells[0].column)}),es,m,m,Bs),Da=(e,t)=>{const n=Qn(e);return ts(n,t).bind((e=>{const t=e[e.length-1],o=e[0].column,r=t.column+t.colspan,i=I(A(n.all,(e=>M(e.cells,(e=>e.column>=o&&e.column<r)))));return Ni(i)})).getOr("")},Ma=(e,t)=>{const n=Qn(e);return ts(n,t).bind(Ni).getOr("")},Pa=(e,t)=>{const n=Qn(e);return ts(n,t).bind((e=>{const t=e[e.length-1],o=e[0].row,r=t.row+t.rowspan;return(e=>{const t=A(e,(e=>Ri(e).type)),n=k(t,"header"),o=k(t,"footer");if(n||o){const e=k(t,"body");return!n||e||o?n||e||!o?_.none():_.some("footer"):_.some("header")}return _.some("body")})(n.all.slice(o,r))})).getOr("")},Ra=(e,t)=>e.dispatch("NewRow",{node:t}),Na=(e,t)=>e.dispatch("NewCell",{node:t}),La=(e,t,n)=>{e.dispatch("TableModified",{...n,table:t})},Ia={structure:!1,style:!0},Ba={structure:!0,style:!1},Fa={structure:!0,style:!0},Ha=e=>t=>t.options.get(e),Va="100%",za=e=>{var t;const n=e.dom,o=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody();return Ln(we.fromDom(o))+"px"},Ua=e=>_.from(e.options.get("table_clone_elements")),Wa=Ha("table_header_type"),qa=Ha("table_column_resizing"),Za=e=>"preservetable"===qa(e),Ga=e=>"resizetable"===qa(e),$a=Ha("table_sizing_mode"),Ya=e=>"relative"===$a(e),Ka=e=>"fixed"===$a(e),Xa=e=>"responsive"===$a(e),Qa=Ha("table_resize_bars"),Ja=Ha("table_style_by_css"),el=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:((e,t)=>Xa(e)||Ja(e)?t:Ka(e)?{...t,width:za(e)}:{...t,width:Va})(e,n)},tl=Ha("table_use_colgroups"),nl=(e,t)=>Ya(e)?ur(t):Ka(e)?dr(t):cr(t),ol=(e,t,n)=>{const o=Nt(e,t,1);1===n||o<=1?ve(e,t):me(e,t,Math.min(n,o))},rl=(e,t)=>n=>{const o=n.column+n.colspan-1,r=n.column;return o>=e&&r<t},il=Es([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),sl=(e,t,n)=>{const o=n.substring(0,n.length-e.length),r=parseFloat(o);return o===r.toString()?t(r):il.invalid(n)},al={...il,from:e=>Ct(e,"%")?sl("%",il.percent,e):Ct(e,"px")?sl("px",il.pixels,e):il.invalid(e)},ll=(e,t,n)=>{const o=al.from(n),r=F(e,(e=>"0px"===e))?((e,t)=>{const n=e.fold((()=>p("")),(e=>p(e/t+"px")),(()=>p(100/t+"%")));return O(t,n)})(o,e.length):((e,t,n)=>e.fold((()=>t),(e=>((e,t,n)=>{const o=n/t;return A(e,(e=>al.from(e).fold((()=>e),(e=>e*o+"px"),(e=>e/100*n+"px"))))})(t,n,e)),(e=>((e,t)=>A(e,(e=>al.from(e).fold((()=>e),(e=>e/t*100+"%"),(e=>e+"%")))))(t,n))))(o,e,t);return ul(r)},cl=(e,t)=>0===e.length?t:P(e,((e,t)=>al.from(t).fold(p(0),f,f)+e),0),dl=(e,t)=>al.from(e).fold(p(e),(e=>e+t+"px"),(e=>e+t+"%")),ul=e=>{if(0===e.length)return e;const t=P(e,((e,t)=>{const n=al.from(t).fold((()=>({value:t,remainder:0})),(e=>((e,t)=>{const n=Math.floor(e);return{value:n+"px",remainder:e-n}})(e)),(e=>({value:e+"%",remainder:0})));return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}}),{output:[],remainder:0}),n=t.output;return n.slice(0,n.length-1).concat([dl(n[n.length-1],Math.round(t.remainder))])},hl=al.from,ml=e=>hl(e).fold(p("px"),p("px"),p("%")),pl=(e,t,n)=>{const o=Qn(e),r=o.all,i=oo(o),s=ro(o);t.each((t=>{const n=ml(t),r=Rn(e),a=((e,t)=>nr(e,t,Jo,or))(o,e),l=ll(a,r,t);io(o)?((e,t,n)=>{T(t,((t,o)=>{const r=cl([e[o]],Ht());At(t.element,"width",r+n)}))})(l,s,n):((e,t,n)=>{T(t,(t=>{const o=e.slice(t.column,t.colspan+t.column),r=cl(o,Ht());At(t.element,"width",r+n)}))})(l,i,n),At(e,"width",t)})),n.each((t=>{const n=ml(t),s=po(e),a=((e,t,n)=>ir(e,t,n,er,or))(o,e,Do);((e,t,n,o)=>{T(n,(t=>{const n=e.slice(t.row,t.rowspan+t.row),r=cl(n,Vt());At(t.element,"height",r+o)})),T(t,((t,n)=>{At(t.element,"height",e[n])}))})(ll(a,s,t),r,i,n),At(e,"height",t)}))},fl=e=>qo(e).exists((e=>Lo.test(e))),gl=e=>qo(e).exists((e=>Io.test(e))),vl=e=>qo(e).isNone(),bl=e=>{ve(e,"width")},yl=e=>{const t=Ko(e);pl(e,_.some(t),_.none()),bl(e)},wl=e=>{const t=(e=>Rn(e)+"px")(e);pl(e,_.some(t),_.none()),bl(e)},xl=e=>{Rt(e,"width");const t=Zt(e),n=t.length>0?t:qt(e);T(n,(e=>{Rt(e,"width"),bl(e)})),bl(e)},_l={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Sl=(e,t,n,o)=>O(e,(e=>((e,t,n,o)=>{const r=we.fromTag("tr");for(let i=0;i<e;i++){const e=we.fromTag(o<t||i<n?"th":"td");i<n&&me(e,"scope","row"),o<t&&me(e,"scope","col"),Fe(e,we.fromTag("br")),Fe(r,e)}return r})(t,n,o,e))),Cl=(e,t)=>{e.selection.select(t.dom,!0),e.selection.collapse(!0)},jl=(e,t,n,o,i)=>{const s=(e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:((e,t)=>Xa(e)||!Ja(e)?t:Ka(e)?{...t,width:za(e)}:{...t,width:Va})(e,n)})(e),a={styles:s,attributes:el(e),colGroups:tl(e)};return e.undoManager.ignore((()=>{const r=((e,t,n,o,r,i=_l)=>{const s=we.fromTag("table"),a="cells"!==r;Tt(s,i.styles),pe(s,i.attributes),i.colGroups&&Fe(s,(e=>{const t=we.fromTag("colgroup");return O(e,(()=>Fe(t,we.fromTag("col")))),t})(t));const l=Math.min(e,n);if(a&&n>0){const e=we.fromTag("thead");Fe(s,e);const i=Sl(n,t,"sectionCells"===r?l:0,o);ze(e,i)}const c=we.fromTag("tbody");Fe(s,c);const d=Sl(a?e-l:e,t,a?0:n,o);return ze(c,d),s})(n,t,i,o,Wa(e),a);me(r,"data-mce-id","__mce");const s=(e=>{const t=we.fromTag("div"),n=we.fromDom(e.dom.cloneNode(!0));return Fe(t,n),(e=>e.dom.innerHTML)(t)})(r);e.insertContent(s),e.addVisual()})),gt(Nr(e),'table[data-mce-id="__mce"]').map((t=>(Ka(e)?wl(t):Xa(e)?xl(t):(Ya(e)||(e=>r(e)&&-1!==e.indexOf("%"))(s.width))&&yl(t),Ir(t),ve(t,"data-mce-id"),((e,t)=>{T(dt(t,"tr"),(t=>{Ra(e,t.dom),T(dt(t,"th,td"),(t=>{Na(e,t.dom)}))}))})(e,t),((e,t)=>{gt(t,"td,th").each(v(Cl,e))})(e,t),t.dom))).getOrNull()};var kl=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const El="x-tinymce/dom-table-",Ol=El+"rows",Al=El+"columns",Tl=e=>{const t=kl.FakeClipboardItem(e);kl.write([t])},Dl=e=>{var t;const n=null!==(t=kl.read())&&void 0!==t?t:[];return W(n,(t=>_.from(t.getType(e))))},Ml=e=>{Dl(e).isSome()&&kl.clear()},Pl=e=>{e.fold(Nl,(e=>Tl({[Ol]:e})))},Rl=()=>Dl(Ol),Nl=()=>Ml(Ol),Ll=e=>{e.fold(Bl,(e=>Tl({[Al]:e})))},Il=()=>Dl(Al),Bl=()=>Ml(Al),Fl=e=>mi(Br(e),Lr(e)).filter(Vr),Hl=Es([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Vl={before:Hl.before,on:Hl.on,after:Hl.after,cata:(e,t,n,o)=>e.fold(t,n,o),getStart:e=>e.fold(f,f,f)},zl=(e,t)=>({selection:e,kill:t}),Ul=(e,t)=>{const n=e.document.createRange();return n.selectNode(t.dom),n},Wl=(e,t)=>{const n=e.document.createRange();return ql(n,t),n},ql=(e,t)=>e.selectNodeContents(t.dom),Zl=(e,t,n)=>{const o=e.document.createRange();var r;return r=o,t.fold((e=>{r.setStartBefore(e.dom)}),((e,t)=>{r.setStart(e.dom,t)}),(e=>{r.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))})(o,n),o},Gl=(e,t,n,o,r)=>{const i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(o.dom,r),i},$l=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Yl=Es([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Kl=(e,t,n)=>t(we.fromDom(n.startContainer),n.startOffset,we.fromDom(n.endContainer),n.endOffset),Xl=(e,t)=>{const n=((e,t)=>t.match({domRange:e=>({ltr:p(e),rtl:_.none}),relative:(t,n)=>({ltr:Jt((()=>Zl(e,t,n))),rtl:Jt((()=>_.some(Zl(e,n,t))))}),exact:(t,n,o,r)=>({ltr:Jt((()=>Gl(e,t,n,o,r))),rtl:Jt((()=>_.some(Gl(e,o,r,t,n))))})}))(e,t);return((e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>Yl.rtl(we.fromDom(e.endContainer),e.endOffset,we.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>Kl(0,Yl.ltr,n))):Kl(0,Yl.ltr,n)})(0,n)},Ql=(e,t)=>Xl(e,t).match({ltr:(t,n,o,r)=>{const i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(o.dom,r),i},rtl:(t,n,o,r)=>{const i=e.document.createRange();return i.setStart(o.dom,r),i.setEnd(t.dom,n),i}});Yl.ltr,Yl.rtl;const Jl=(e,t,n,o)=>({start:e,soffset:t,finish:n,foffset:o}),ec=(e,t,n,o)=>({start:Vl.on(e,t),finish:Vl.on(n,o)}),tc=(e,t)=>{const n=Ql(e,t);return Jl(we.fromDom(n.startContainer),n.startOffset,we.fromDom(n.endContainer),n.endOffset)},nc=ec,oc=(e,t,n,o,r)=>Ce(n,o)?_.none():oi(n,o,t).bind((t=>{const o=t.boxes.getOr([]);return o.length>1?(r(e,o,t.start,t.finish),_.some(zl(_.some(nc(n,0,n,vr(n))),!0))):_.none()})),rc=(e,t)=>({item:e,mode:t}),ic=(e,t,n,o=sc)=>e.property().parent(t).map((e=>rc(e,o))),sc=(e,t,n,o=ac)=>n.sibling(e,t).map((e=>rc(e,o))),ac=(e,t,n,o=ac)=>{const r=e.property().children(t);return n.first(r).map((e=>rc(e,o)))},lc=[{current:ic,next:sc,fallback:_.none()},{current:sc,next:ac,fallback:_.some(ic)},{current:ac,next:ac,fallback:_.some(sc)}],cc=(e,t,n,o,r=lc)=>N(r,(e=>e.current===n)).bind((n=>n.current(e,t,o,n.next).orThunk((()=>n.fallback.bind((n=>cc(e,t,n,o))))))),dc=(e,t,n,o,r,i)=>cc(e,t,o,r).bind((t=>i(t.item)?_.none():n(t.item)?_.some(t.item):dc(e,t.item,n,t.mode,r,i))),uc=e=>t=>0===e.property().children(t).length,hc=(e,t,n,o)=>dc(e,t,n,sc,{sibling:(e,t)=>e.query().prevSibling(t),first:e=>e.length>0?_.some(e[e.length-1]):_.none()},o),mc=(e,t,n,o)=>dc(e,t,n,sc,{sibling:(e,t)=>e.query().nextSibling(t),first:e=>e.length>0?_.some(e[0]):_.none()},o),pc=Xr(),fc=(e,t)=>((e,t,n)=>hc(e,t,uc(e),n))(pc,e,t),gc=(e,t)=>((e,t,n)=>mc(e,t,uc(e),n))(pc,e,t),vc=Es([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),bc=e=>vt(e,"tr"),yc={...vc,verify:(e,t,n,o,r,i,s)=>vt(o,"td,th",s).bind((n=>vt(t,"td,th",s).map((t=>Ce(n,t)?Ce(o,n)&&vr(n)===r?i(t):vc.none("in same cell"):ti(bc,[n,t]).fold((()=>((e,t,n)=>{const o=e.getRect(t),r=e.getRect(n);return r.right>o.left&&r.left<o.right})(e,t,n)?vc.success():i(t)),(e=>i(t))))))).getOr(vc.none("default")),cata:(e,t,n,o,r)=>e.fold(t,n,o,r)},wc=ue("br"),xc=(e,t,n)=>t(e,n).bind((e=>le(e)&&0===pr(e).trim().length?xc(e,t,n):_.some(e))),_c=(e,t)=>({left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}),Sc=(e,t)=>({left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}),Cc=(e,t,n)=>({left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}),jc=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom}),kc=(e,t)=>_.some(e.getRect(t)),Ec=(e,t,n)=>ae(t)?kc(e,t).map(jc):le(t)?((e,t,n)=>n>=0&&n<vr(t)?e.getRangedRect(t,n,t,n+1):n>0?e.getRangedRect(t,n-1,t,n):_.none())(e,t,n).map(jc):_.none(),Oc=(e,t)=>ae(t)?kc(e,t).map(jc):le(t)?e.getRangedRect(t,0,t,vr(t)).map(jc):_.none(),Ac=Es([{none:[]},{retry:["caret"]}]),Tc=(e,t,n)=>mt(t,Us).fold(w,(t=>Oc(e,t).exists((e=>((e,t)=>e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right)(n,e))))),Dc={point:e=>e.bottom,adjuster:(e,t,n,o,r)=>{const i=_c(r,5);return Math.abs(n.bottom-o.bottom)<1||n.top>r.bottom?Ac.retry(i):n.top===r.bottom?Ac.retry(_c(r,1)):Tc(e,t,r)?Ac.retry(Cc(i,5,0)):Ac.none()},move:_c,gather:gc},Mc=(e,t,n,o,r)=>0===r?_.some(o):((e,t,n)=>e.elementFromPoint(t,n).filter((e=>"table"===ne(e))).isSome())(e,o.left,t.point(o))?((e,t,n,o,r)=>Mc(e,t,n,t.move(o,5),r))(e,t,n,o,r-1):e.situsFromPoint(o.left,t.point(o)).bind((i=>i.start.fold(_.none,(i=>Oc(e,i).bind((s=>t.adjuster(e,i,s,n,o).fold(_.none,(o=>Mc(e,t,n,o,r-1))))).orThunk((()=>_.some(o)))),_.none))),Pc=(e,t,n)=>{const o=e.move(n,5),r=Mc(t,e,n,o,100).getOr(o);return((e,t,n)=>e.point(t)>n.getInnerHeight()?_.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?_.some(-e.point(t)):_.none())(e,r,t).fold((()=>t.situsFromPoint(r.left,e.point(r))),(n=>(t.scrollBy(0,n),t.situsFromPoint(r.left,e.point(r)-n))))},Rc={tryUp:v(Pc,{point:e=>e.top,adjuster:(e,t,n,o,r)=>{const i=Sc(r,5);return Math.abs(n.top-o.top)<1||n.bottom<r.top?Ac.retry(i):n.bottom===r.top?Ac.retry(Sc(r,1)):Tc(e,t,r)?Ac.retry(Cc(i,5,0)):Ac.none()},move:Sc,gather:fc}),tryDown:v(Pc,Dc),getJumpSize:p(5)},Nc=(e,t,n)=>e.getSelection().bind((o=>((e,t,n,o)=>{const r=wc(t)?((e,t,n)=>n.traverse(t).orThunk((()=>xc(t,n.gather,e))).map(n.relative))(e,t,o):((e,t,n,o)=>((e,t)=>Ne(e,t).filter(wc).orThunk((()=>Ne(e,t-1).filter(wc))))(t,n).bind((t=>o.traverse(t).fold((()=>xc(t,o.gather,e).map(o.relative)),(e=>(e=>Ae(e).bind((t=>{const n=Re(t);return((e,t)=>L(e,v(Ce,t)))(n,e).map((o=>((e,t,n,o)=>({parent:e,children:t,element:n,index:o}))(t,n,e,o)))})))(e).map((e=>Vl.on(e.parent,e.index))))))))(e,t,n,o);return r.map((e=>({start:e,finish:e})))})(t,o.finish,o.foffset,n).fold((()=>_.some(gi(o.finish,o.foffset))),(r=>{const i=e.fromSitus(r);return s=yc.verify(e,o.finish,o.foffset,i.finish,i.foffset,n.failure,t),yc.cata(s,(e=>_.none()),(()=>_.none()),(e=>_.some(gi(e,0))),(e=>_.some(gi(e,vr(e)))));var s})))),Lc=(e,t,n,o,r,i)=>0===i?_.none():Fc(e,t,n,o,r).bind((s=>{const a=e.fromSitus(s),l=yc.verify(e,n,o,a.finish,a.foffset,r.failure,t);return yc.cata(l,(()=>_.none()),(()=>_.some(s)),(s=>Ce(n,s)&&0===o?Ic(e,n,o,Sc,r):Lc(e,t,s,0,r,i-1)),(s=>Ce(n,s)&&o===vr(s)?Ic(e,n,o,_c,r):Lc(e,t,s,vr(s),r,i-1)))})),Ic=(e,t,n,o,r)=>Ec(e,t,n).bind((t=>Bc(e,r,o(t,Rc.getJumpSize())))),Bc=(e,t,n)=>{const o=Tn().browser;return o.isChromium()||o.isSafari()||o.isFirefox()?t.retry(e,n):_.none()},Fc=(e,t,n,o,r)=>Ec(e,n,o).bind((t=>Bc(e,r,t))),Hc=(e,t,n,o,r)=>vt(o,"td,th",t).bind((o=>vt(o,"table",t).bind((i=>((e,t)=>ht(e,(e=>Ae(e).exists((e=>Ce(e,t)))),void 0).isSome())(r,i)?((e,t,n)=>Nc(e,t,n).bind((o=>Lc(e,t,o.element,o.offset,n,20).map(e.fromSitus))))(e,t,n).bind((e=>vt(e.finish,"td,th",t).map((t=>({start:o,finish:t,range:e}))))):_.none())))),Vc=(e,t,n,o,r,i)=>i(o,t).orThunk((()=>Hc(e,t,n,o,r).map((e=>{const t=e.range;return zl(_.some(nc(t.start,t.soffset,t.finish,t.foffset)),!0)})))),zc=(e,t)=>vt(e,"tr",t).bind((e=>vt(e,"table",t).bind((n=>{const o=dt(n,"tr");return Ce(e,o[0])?((e,t,n)=>hc(pc,e,(e=>xr(e).isSome()),n))(n,0,t).map((e=>{const t=vr(e);return zl(_.some(nc(e,t,e,t)),!0)})):_.none()})))),Uc=(e,t)=>vt(e,"tr",t).bind((e=>vt(e,"table",t).bind((n=>{const o=dt(n,"tr");return Ce(e,o[o.length-1])?((e,t,n)=>mc(pc,e,(e=>wr(e).isSome()),n))(n,0,t).map((e=>zl(_.some(nc(e,0,e,0)),!0))):_.none()})))),Wc=(e,t,n,o,r,i,s)=>Hc(e,n,o,r,i).bind((e=>oc(t,n,e.start,e.finish,s))),qc=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Zc=()=>{const e=(e=>{const t=qc(_.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(_.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(_.some(e))}}})(m);return{...e,on:t=>e.get().each(t)}},Gc=(e,t)=>vt(e,"td,th",t),$c=e=>Te(e).exists(Pr),Yc={traverse:Pe,gather:gc,relative:Vl.before,retry:Rc.tryDown,failure:yc.failedDown},Kc={traverse:Me,gather:fc,relative:Vl.before,retry:Rc.tryUp,failure:yc.failedUp},Xc=e=>t=>t===e,Qc=Xc(38),Jc=Xc(40),ed=e=>e>=37&&e<=40,td={isBackward:Xc(37),isForward:Xc(39)},nd={isBackward:Xc(39),isForward:Xc(37)},od=Es([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),rd={domRange:od.domRange,relative:od.relative,exact:od.exact,exactFromRange:e=>od.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>we.fromDom(e.startContainer),relative:(e,t)=>Vl.getStart(e),exact:(e,t,n,o)=>e}))(e);return we.fromDom(Oe(t).dom.defaultView)},range:Jl},id=document.caretPositionFromPoint?(e,t,n)=>{var o,r;return _.from(null===(r=(o=e.dom).caretPositionFromPoint)||void 0===r?void 0:r.call(o,t,n)).bind((t=>{if(null===t.offsetNode)return _.none();const n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),_.some(n)}))}:document.caretRangeFromPoint?(e,t,n)=>{var o,r;return _.from(null===(r=(o=e.dom).caretRangeFromPoint)||void 0===r?void 0:r.call(o,t,n))}:_.none,sd=(e,t)=>{const n=ne(e);return"input"===n?Vl.after(e):k(["br","img"],n)?0===t?Vl.before(e):Vl.after(e):Vl.on(e,t)},ad=e=>_.from(e.getSelection()),ld=(e,t)=>{ad(e).each((e=>{e.removeAllRanges(),e.addRange(t)}))},cd=(e,t,n,o,r)=>{const i=Gl(e,t,n,o,r);ld(e,i)},dd=(e,t)=>Xl(e,t).match({ltr:(t,n,o,r)=>{cd(e,t,n,o,r)},rtl:(t,n,o,r)=>{ad(e).each((i=>{if(i.setBaseAndExtent)i.setBaseAndExtent(t.dom,n,o.dom,r);else if(i.extend)try{((e,t,n,o,r,i)=>{t.collapse(n.dom,o),t.extend(r.dom,i)})(0,i,t,n,o,r)}catch(i){cd(e,o,r,t,n)}else cd(e,o,r,t,n)}))}}),ud=(e,t,n,o,r)=>{const i=((e,t,n,o)=>{const r=sd(e,t),i=sd(n,o);return rd.relative(r,i)})(t,n,o,r);dd(e,i)},hd=(e,t,n)=>{const o=((e,t)=>{const n=e.fold(Vl.before,sd,Vl.after),o=t.fold(Vl.before,sd,Vl.after);return rd.relative(n,o)})(t,n);dd(e,o)},md=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return _.some(Jl(we.fromDom(t.startContainer),t.startOffset,we.fromDom(n.endContainer),n.endOffset))}return _.none()},pd=e=>{if(null===e.anchorNode||null===e.focusNode)return md(e);{const t=we.fromDom(e.anchorNode),n=we.fromDom(e.focusNode);return((e,t,n,o)=>{const r=((e,t,n,o)=>{const r=Ee(e).dom.createRange();return r.setStart(e.dom,t),r.setEnd(n.dom,o),r})(e,t,n,o),i=Ce(e,n)&&t===o;return r.collapsed&&!i})(t,e.anchorOffset,n,e.focusOffset)?_.some(Jl(t,e.anchorOffset,n,e.focusOffset)):md(e)}},fd=(e,t,n=!0)=>{const o=(n?Wl:Ul)(e,t);ld(e,o)},gd=e=>(e=>ad(e).filter((e=>e.rangeCount>0)).bind(pd))(e).map((e=>rd.exact(e.start,e.soffset,e.finish,e.foffset))),vd=e=>({elementFromPoint:(t,n)=>we.fromPoint(we.fromDom(e.document),t,n),getRect:e=>e.dom.getBoundingClientRect(),getRangedRect:(t,n,o,r)=>{const i=rd.exact(t,n,o,r);return((e,t)=>(e=>{const t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?_.some(n).map($l):_.none()})(Ql(e,t)))(e,i)},getSelection:()=>gd(e).map((t=>tc(e,t))),fromSitus:t=>{const n=rd.relative(t.start,t.finish);return tc(e,n)},situsFromPoint:(t,n)=>((e,t,n)=>((e,t,n)=>{const o=we.fromDom(e.document);return id(o,t,n).map((e=>Jl(we.fromDom(e.startContainer),e.startOffset,we.fromDom(e.endContainer),e.endOffset)))})(e,t,n))(e,t,n).map((e=>ec(e.start,e.soffset,e.finish,e.foffset))),clearSelection:()=>{(e=>{ad(e).each((e=>e.removeAllRanges()))})(e)},collapseSelection:(t=!1)=>{gd(e).each((n=>n.fold((e=>e.collapse(t)),((n,o)=>{const r=t?n:o;hd(e,r,r)}),((n,o,r,i)=>{const s=t?n:r,a=t?o:i;ud(e,s,a,s,a)}))))},setSelection:t=>{ud(e,t.start,t.soffset,t.finish,t.foffset)},setRelativeSelection:(t,n)=>{hd(e,t,n)},selectNode:t=>{fd(e,t,!1)},selectContents:t=>{fd(e,t)},getInnerHeight:()=>e.innerHeight,getScrollY:()=>(e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return vo(n,o)})(we.fromDom(e.document)).top,scrollBy:(t,n)=>{((e,t,n)=>{const o=(void 0!==n?n.dom:document).defaultView;o&&o.scrollBy(e,t)})(t,n,we.fromDom(e.document))}}),bd=(e,t)=>({rows:e,cols:t}),yd=e=>mt(e,se).exists(Pr),wd=(e,t)=>yd(e)||yd(t),xd=e=>void 0!==e.dom.classList,_d=(e,t)=>{xd(e)?e.dom.classList.add(t):((e,t)=>{((e,t,n)=>{const o=((e,t)=>{const n=fe(e,t);return void 0===n||""===n?[]:n.split(" ")})(e,t).concat([n]);me(e,t,o.join(" "))})(e,"class",t)})(e,t)},Sd=(e,t)=>xd(e)&&e.dom.classList.contains(t),Cd=()=>({tag:"none"}),jd=e=>({tag:"multiple",elements:e}),kd=e=>({tag:"single",element:e}),Ed=e=>{const t=we.fromDom((e=>{if(nt()&&d(e.target)){const t=we.fromDom(e.target);if(ae(t)&&d(t.dom.shadowRoot)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return z(t)}}return _.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=(i=o,s=n,(...e)=>i(s.apply(null,e)));var i,s;return((e,t,n,o,r,i,s)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:i,raw:s}))(t,e.clientX,e.clientY,n,o,r,e)},Od=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},Ad=x,Td=(e,t,n)=>((e,t,n,o)=>((e,t,n,o,r)=>{const i=((e,t)=>n=>{e(n)&&t(Ed(n))})(n,o);return e.dom.addEventListener(t,i,false),{unbind:v(Od,e,t,i,false)}})(e,t,n,o))(e,t,Ad,n),Dd=Ed,Md=e=>!Sd(we.fromDom(e.target),"ephox-snooker-resizer-bar"),Pd=(e,t)=>{const n=(r=di.selectedSelector,{get:()=>si(we.fromDom(e.getBody()),r).fold((()=>pi(Br(e),Lr(e)).fold(Cd,kd)),jd)}),o=((e,t,n)=>{const o=t=>{ve(t,e.selected),ve(t,e.firstSelected),ve(t,e.lastSelected)},r=t=>{me(t,e.selected,"1")},i=e=>{s(e),n()},s=t=>{const n=dt(t,`${e.selectedSelector},${e.firstSelectedSelector},${e.lastSelectedSelector}`);T(n,o)};return{clearBeforeUpdate:s,clear:i,selectRange:(n,o,s,a)=>{i(n),T(o,r),me(s,e.firstSelected,"1"),me(a,e.lastSelected,"1"),t(o,s,a)},selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}})(di,((t,n,o)=>{Gt(n).each((r=>{const i=Ua(e),s=Tr(m,we.fromDom(e.getDoc()),i),a=((e,t,n)=>{const o=Qn(e);return ts(o,t).map((e=>{const t=Yi(o,n,!1),{rows:r}=Wn(t),i=((e,t)=>{const n=e.slice(0,t[t.length-1].row+1),o=Ki(n);return B(o,(e=>{const n=e.cells.slice(0,t[t.length-1].column+1);return A(n,(e=>e.element))}))})(r,e),s=((e,t)=>{const n=e.slice(t[0].row+t[0].rowspan-1,e.length),o=Ki(n);return B(o,(e=>{const n=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return A(n,(e=>e.element))}))})(r,e);return{upOrLeftCells:i,downOrRightCells:s}}))})(r,{selection:fi(e)},s);((e,t,n,o,r)=>{e.dispatch("TableSelectionChange",{cells:t,start:n,finish:o,otherCells:r})})(e,t,n,o,a)}))}),(()=>(e=>{e.dispatch("TableSelectionClear")})(e)));var r;return e.on("init",(n=>{const r=e.getWin(),i=Nr(e),s=Lr(e),a=((e,t,n,o)=>{const r=((e,t,n,o)=>{const r=Zc(),i=r.clear,s=i=>{r.on((r=>{o.clearBeforeUpdate(t),Gc(i.target,n).each((s=>{oi(r,s,n).each((n=>{const r=n.boxes.getOr([]);if(1===r.length){const n=r[0],s="false"===Rr(n),a=bt(Mr(i.target),n,Ce);s&&a&&(o.selectRange(t,r,n,n),e.selectContents(n))}else r.length>1&&(o.selectRange(t,r,n.start,n.finish),e.selectContents(s))}))}))}))};return{clearstate:i,mousedown:e=>{o.clear(t),Gc(e.target,n).filter($c).each(r.set)},mouseover:e=>{s(e)},mouseup:e=>{s(e),i()}}})(vd(e),t,n,o);return{clearstate:r.clearstate,mousedown:r.mousedown,mouseover:r.mouseover,mouseup:r.mouseup}})(r,i,s,o),l=((e,t,n,o)=>{const r=vd(e),i=()=>(o.clear(t),_.none());return{keydown:(e,s,a,l,c,d)=>{const u=e.raw,h=u.which,m=!0===u.shiftKey,p=ri(t,o.selectedSelector).fold((()=>(ed(h)&&!m&&o.clearBeforeUpdate(t),ed(h)&&m&&!wd(s,l)?_.none:Jc(h)&&m?v(Wc,r,t,n,Yc,l,s,o.selectRange):Qc(h)&&m?v(Wc,r,t,n,Kc,l,s,o.selectRange):Jc(h)?v(Vc,r,n,Yc,l,s,Uc):Qc(h)?v(Vc,r,n,Kc,l,s,zc):_.none)),(e=>{const n=n=>()=>{const i=W(n,(n=>((e,t,n,o,r)=>((e,t,n,o,r)=>((e,t)=>N(e,(e=>xe(e,t))))(e,r).bind((e=>((e,t,n)=>Gt(e).bind((o=>((e,t,n,o)=>to(e,t,Ce).bind((t=>{const r=n>0?t.row+t.rowspan-1:t.row,i=o>0?t.column+t.colspan-1:t.column;return eo(e,r+n,i+o).map((e=>e.element))})))(Yr(o),e,t,n))))(e,t,n).bind((e=>((e,t)=>pt(e,"table").bind((n=>gt(n,t).bind((t=>oi(t,e).bind((e=>e.boxes.map((t=>({boxes:t,start:e.start,finish:e.finish}))))))))))(e,o))))))(o,e,t,r.firstSelectedSelector,r.lastSelectedSelector).map((e=>(r.clearBeforeUpdate(n),r.selectRange(n,e.boxes,e.start,e.finish),e.boxes))))(n.rows,n.cols,t,e,o)));return i.fold((()=>ii(t,o.firstSelectedSelector,o.lastSelectedSelector).map((e=>{const n=Jc(h)||d.isForward(h)?Vl.after:Vl.before;return r.setRelativeSelection(Vl.on(e.first,0),n(e.table)),o.clear(t),zl(_.none(),!0)}))),(e=>_.some(zl(_.none(),!0))))};return ed(h)&&m&&!wd(s,l)?_.none:Jc(h)&&m?n([bd(1,0)]):Qc(h)&&m?n([bd(-1,0)]):d.isBackward(h)&&m?n([bd(0,-1),bd(-1,0)]):d.isForward(h)&&m?n([bd(0,1),bd(1,0)]):ed(h)&&!m?i:_.none}));return p()},keyup:(e,r,i,s,a)=>ri(t,o.selectedSelector).fold((()=>{const l=e.raw,c=l.which;return!0===l.shiftKey&&ed(c)&&wd(r,s)?((e,t,n,o,r,i,s)=>Ce(n,r)&&o===i?_.none():vt(n,"td,th",t).bind((n=>vt(r,"td,th",t).bind((o=>oc(e,t,n,o,s))))))(t,n,r,i,s,a,o.selectRange):_.none()}),_.none)}})(r,i,s,o),c=((e,t,n,o)=>{const r=vd(e);return(e,i)=>{o.clearBeforeUpdate(t),oi(e,i,n).each((e=>{const n=e.boxes.getOr([]);o.selectRange(t,n,e.start,e.finish),r.selectContents(i),r.collapseSelection()}))}})(r,i,s,o);e.on("TableSelectorChange",(e=>c(e.start,e.finish)));const d=(t,n)=>{(e=>!0===e.raw.shiftKey)(t)&&(n.kill&&t.kill(),n.selection.each((t=>{const n=rd.relative(t.start,t.finish),o=Ql(r,n);e.selection.setRng(o)})))},u=e=>0===e.button,h=(()=>{const e=qc(we.fromDom(i)),t=qc(0);return{touchEnd:n=>{const o=we.fromDom(n.target);if(ue("td")(o)||ue("th")(o)){const r=e.get(),i=t.get();Ce(r,o)&&n.timeStamp-i<300&&(n.preventDefault(),c(o,o))}e.set(o),t.set(n.timeStamp)}}})();e.on("dragstart",(e=>{a.clearstate()})),e.on("mousedown",(e=>{u(e)&&Md(e)&&a.mousedown(Dd(e))})),e.on("mouseover",(e=>{var t;void 0!==(t=e).buttons&&0==(1&t.buttons)||!Md(e)||a.mouseover(Dd(e))})),e.on("mouseup",(e=>{u(e)&&Md(e)&&a.mouseup(Dd(e))})),e.on("touchend",h.touchEnd),e.on("keyup",(t=>{const n=Dd(t);if(n.raw.shiftKey&&ed(n.raw.which)){const t=e.selection.getRng(),o=we.fromDom(t.startContainer),r=we.fromDom(t.endContainer);l.keyup(n,o,t.startOffset,r,t.endOffset).each((e=>{d(n,e)}))}})),e.on("keydown",(n=>{const o=Dd(n);t.hide();const r=e.selection.getRng(),i=we.fromDom(r.startContainer),s=we.fromDom(r.endContainer),a=uo(td,nd)(we.fromDom(e.selection.getStart()));l.keydown(o,i,r.startOffset,s,r.endOffset,a).each((e=>{d(o,e)})),t.show()})),e.on("NodeChange",(()=>{const t=e.selection,n=we.fromDom(t.getStart()),r=we.fromDom(t.getEnd());ti(Gt,[n,r]).fold((()=>o.clear(i)),m)}))})),e.on("PreInit",(()=>{e.serializer.addTempAttr(di.firstSelected),e.serializer.addTempAttr(di.lastSelected)})),{getSelectedCells:()=>((e,t,n,o)=>{switch(e.tag){case"none":return t();case"single":return(e=>[e.dom])(e.element);case"multiple":return(e=>A(e,(e=>e.dom)))(e.elements)}})(n.get(),p([])),clearSelectedCells:e=>o.clear(we.fromDom(e))}},Rd=e=>{let t=[];return{bind:e=>{if(void 0===e)throw new Error("Event bind error: undefined handler");t.push(e)},unbind:e=>{t=M(t,(t=>t!==e))},trigger:(...n)=>{const o={};T(e,((e,t)=>{o[e]=n[t]})),T(t,(e=>{e(o)}))}}},Nd=e=>({registry:$(e,(e=>({bind:e.bind,unbind:e.unbind}))),trigger:$(e,(e=>e.trigger))}),Ld=e=>e.slice(0).sort(),Id=(e,t)=>{const n=M(t,(t=>!k(e,t)));n.length>0&&(e=>{throw new Error("Unsupported keys for object: "+Ld(e).join(", "))})(n)},Bd=e=>((e,t)=>((e,t,n)=>{if(0===t.length)throw new Error("You must specify at least one required field.");return((e,t)=>{if(!s(t))throw new Error("The required fields must be an array. Was: "+t+".");T(t,(e=>{if(!r(e))throw new Error("The value "+e+" in the required fields was not a string.")}))})(0,t),(e=>{const t=Ld(e);N(t,((e,n)=>n<t.length-1&&e===t[n+1])).each((e=>{throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))})(t),o=>{const r=q(o);F(t,(e=>k(r,e)))||((e,t)=>{throw new Error("All required keys ("+Ld(e).join(", ")+") were not specified. Specified keys were: "+Ld(t).join(", ")+".")})(t,r),e(t,r);const i=M(t,(e=>!n.validate(o[e],e)));return i.length>0&&((e,t)=>{throw new Error("All values need to be of type: "+t+". Keys ("+Ld(e).join(", ")+") were not.")})(i,n.label),o}})(e,t,{validate:u,label:"function"}))(Id,e),Fd=Bd(["compare","extract","mutate","sink"]),Hd=Bd(["element","start","stop","destroy"]),Vd=Bd(["forceDrop","drop","move","delayDrop"]),zd=e=>{const t=e.replace(/\./g,"-");return{resolve:e=>t+"-"+e}},Ud=zd("ephox-dragster").resolve;var Wd=Fd({compare:(e,t)=>vo(t.left-e.left,t.top-e.top),extract:e=>_.some(vo(e.x,e.y)),sink:(e,t)=>{const n=(e=>{const t={layerClass:Ud("blocker"),...e},n=we.fromTag("div");return me(n,"role","presentation"),Tt(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),_d(n,Ud("blocker")),_d(n,t.layerClass),{element:p(n),destroy:()=>{We(n)}}})(t),o=Td(n.element(),"mousedown",e.forceDrop),r=Td(n.element(),"mouseup",e.drop),i=Td(n.element(),"mousemove",e.move),s=Td(n.element(),"mouseout",e.delayDrop);return Hd({element:n.element,start:e=>{Fe(e,n.element())},stop:()=>{We(n.element())},destroy:()=>{n.destroy(),r.unbind(),i.unbind(),s.unbind(),o.unbind()}})},mutate:(e,t)=>{e.mutate(t.left,t.top)}});const qd=zd("ephox-snooker").resolve,Zd=qd("resizer-bar"),Gd=qd("resizer-rows"),$d=qd("resizer-cols"),Yd=e=>{const t=dt(e.parent(),"."+Zd);T(t,We)},Kd=(e,t,n)=>{const o=e.origin();T(t,(t=>{t.each((t=>{const r=n(o,t);_d(r,Zd),Fe(e.parent(),r)}))}))},Xd=(e,t)=>{if(Yd(e),e.isResizable(t)){const n=Qn(t);((e,t,n,o,r)=>{const i=yo(n),s=t.isResizable,a=o.length>0?Do.positions(o,n):[],l=a.length>0?((e,t)=>B(e.all,((e,n)=>t(e.element)?[n]:[])))(e,s):[];((e,t,n,o)=>{Kd(e,t,((e,t)=>{const r=((e,t,n,o,r)=>{const i=we.fromTag("div");return Tt(i,{position:"absolute",left:t+"px",top:n-3.5+"px",height:"7px",width:o+"px"}),pe(i,{"data-row":e,role:"presentation"}),i})(t.row,n.left-e.left,t.y-e.top,o);return _d(r,Gd),r}))})(t,M(a,((e,t)=>E(l,(e=>t===e)))),i,Nn(n));const c=r.length>0?Po.positions(r,n):[],d=c.length>0?((e,t)=>{const n=[];return O(e.grid.columns,(o=>{so(e,o).map((e=>e.element)).forall(t)&&n.push(o)})),M(n,(n=>{const o=no(e,(e=>e.column===n));return F(o,(e=>t(e.element)))}))})(e,s):[];((e,t,n,o)=>{Kd(e,t,((e,t)=>{const r=((e,t,n,o,r)=>{const i=we.fromTag("div");return Tt(i,{position:"absolute",left:t-3.5+"px",top:n+"px",height:r+"px",width:"7px"}),pe(i,{"data-column":e,role:"presentation"}),i})(t.col,t.x-e.left,n.top-e.top,0,o);return _d(r,$d),r}))})(t,M(c,((e,t)=>E(d,(e=>t===e)))),i,fo(n))})(n,e,t,co(n),ao(n))}},Qd=(e,t)=>{const n=dt(e.parent(),"."+Zd);T(n,t)},Jd=e=>{Qd(e,(e=>{At(e,"display","none")}))},eu=e=>{Qd(e,(e=>{At(e,"display","block")}))},tu=qd("resizer-bar-dragging"),nu=e=>{const t=(()=>{const e=Nd({drag:Rd(["xDelta","yDelta","target"])});let t=_.none();const n=(()=>{const e=Nd({drag:Rd(["xDelta","yDelta"])});return{mutate:(t,n)=>{e.trigger.drag(t,n)},events:e.registry}})();return n.events.drag.bind((n=>{t.each((t=>{e.trigger.drag(n.xDelta,n.yDelta,t)}))})),{assign:e=>{t=_.some(e)},get:()=>t,mutate:n.mutate,events:e.registry}})(),n=((e,t={})=>{var n;return((e,t,n)=>{let o=!1;const r=Nd({start:Rd([]),stop:Rd([])}),i=(()=>{const e=(()=>{const e=Nd({move:Rd(["info"])});return{onEvent:m,reset:m,events:e.registry}})(),t=(()=>{let e=_.none();const t=Nd({move:Rd(["info"])});return{onEvent:(n,o)=>{o.extract(n).each((n=>{const r=((t,n)=>{const o=e.map((e=>t.compare(e,n)));return e=_.some(n),o})(o,n);r.each((e=>{t.trigger.move(e)}))}))},reset:()=>{e=_.none()},events:t.registry}})();let n=e;return{on:()=>{n.reset(),n=t},off:()=>{n.reset(),n=e},isOn:()=>n===t,onEvent:(e,t)=>{n.onEvent(e,t)},events:t.events}})(),s=()=>{d.stop(),i.isOn()&&(i.off(),r.trigger.stop())},l=((e,t)=>{let n=null;const o=()=>{a(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:(...t)=>{o(),n=setTimeout((()=>{n=null,e.apply(null,t)}),200)}}})(s);i.events.move.bind((n=>{t.mutate(e,n.info)}));const c=e=>(...t)=>{o&&e.apply(null,t)},d=t.sink(Vd({forceDrop:s,drop:c(s),move:c((e=>{l.cancel(),i.onEvent(e,t)})),delayDrop:c(l.throttle)}),n);return{element:d.element,go:e=>{d.start(e),i.on(),r.trigger.start()},on:()=>{o=!0},off:()=>{o=!1},isActive:()=>o,destroy:()=>{d.destroy()},events:r.registry}})(e,null!==(n=t.mode)&&void 0!==n?n:Wd,t)})(t,{});let o=_.none();const r=(e,t)=>_.from(fe(e,t));t.events.drag.bind((e=>{r(e.target,"data-row").each((t=>{const n=Ft(e.target,"top");At(e.target,"top",n+e.yDelta+"px")})),r(e.target,"data-column").each((t=>{const n=Ft(e.target,"left");At(e.target,"left",n+e.xDelta+"px")}))}));const i=(e,t)=>Ft(e,t)-Nt(e,"data-initial-"+t,0);n.events.stop.bind((()=>{t.get().each((t=>{o.each((n=>{r(t,"data-row").each((e=>{const o=i(t,"top");ve(t,"data-initial-top"),u.trigger.adjustHeight(n,o,parseInt(e,10))})),r(t,"data-column").each((e=>{const o=i(t,"left");ve(t,"data-initial-left"),u.trigger.adjustWidth(n,o,parseInt(e,10))})),Xd(e,n)}))}))}));const s=(o,r)=>{u.trigger.startAdjust(),t.assign(o),me(o,"data-initial-"+r,Ft(o,r)),_d(o,tu),At(o,"opacity","0.2"),n.go(e.parent())},l=Td(e.parent(),"mousedown",(e=>{var t;t=e.target,Sd(t,Gd)&&s(e.target,"top"),(e=>Sd(e,$d))(e.target)&&s(e.target,"left")})),c=t=>Ce(t,e.view()),d=Td(e.view(),"mouseover",(t=>{var r;(r=t.target,vt(r,"table",c).filter(Pr)).fold((()=>{it(t.target)&&Yd(e)}),(t=>{n.isActive()&&(o=_.some(t),Xd(e,t))}))})),u=Nd({adjustHeight:Rd(["table","delta","row"]),adjustWidth:Rd(["table","delta","column"]),startAdjust:Rd([])});return{destroy:()=>{l.unbind(),d.unbind(),n.destroy(),Yd(e)},refresh:t=>{Xd(e,t)},on:n.on,off:n.off,hideBars:v(Jd,e),showBars:v(eu,e),events:u.registry}},ou=(e,t,n)=>{const o=Do,r=Po,i=nu(e),s=Nd({beforeResize:Rd(["table","type"]),afterResize:Rd(["table","type"]),startDrag:Rd([])});return i.events.adjustHeight.bind((e=>{const t=e.table;s.trigger.beforeResize(t,"row"),((e,t,n,o)=>{const r=Qn(e),i=((e,t,n)=>ir(e,t,n,$o,(e=>e.getOrThunk(Vt))))(r,e,o),s=A(i,((e,o)=>n===o?Math.max(t+e,Vt()):e)),a=((e,t)=>{const n=oo(e);return A(n,(e=>{const n=As(e.row,e.row+e.rowspan,t);return{element:e.element,height:n,rowspan:e.rowspan}}))})(r,s),l=((e,t)=>A(e.all,((e,n)=>({element:e.element,height:t[n]}))))(r,s);T(l,(e=>{zo(e.element,e.height)})),T(a,(e=>{zo(e.element,e.height)}));const c=P(s,((e,t)=>e+t),0);zo(e,c)})(t,o.delta(e.delta,t),e.row,o),s.trigger.afterResize(t,"row")})),i.events.startAdjust.bind((e=>{s.trigger.startDrag()})),i.events.adjustWidth.bind((e=>{const o=e.table;s.trigger.beforeResize(o,"col");const i=r.delta(e.delta,o),a=n(o);Ds(o,i,e.column,t,a),s.trigger.afterResize(o,"col")})),{on:i.on,off:i.off,refreshBars:i.refresh,hideBars:i.hideBars,showBars:i.showBars,destroy:i.destroy,events:s.registry}},ru=e=>d(e)&&"TABLE"===e.nodeName,iu="bar-",su=e=>"false"!==fe(e,"data-mce-resize"),au=e=>{(e=>{const t=e.options.register;t("table_clone_elements",{processor:"string[]"}),t("table_use_colgroups",{processor:"boolean",default:!0}),t("table_header_type",{processor:e=>{const t=k(["section","cells","sectionCells","auto"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),t("table_sizing_mode",{processor:"string",default:"auto"}),t("table_default_attributes",{processor:"object",default:{border:"1"}}),t("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),t("table_column_resizing",{processor:e=>{const t=k(["preservetable","resizetable"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),t("table_resize_bars",{processor:"boolean",default:!0}),t("table_style_by_css",{processor:"boolean",default:!0})})(e);const t=(e=>{const t=Zc(),n=Zc(),o=Zc();let r,i;const s=t=>nl(e,t),a=()=>Za(e)?Ai():Oi();return e.on("init",(()=>{const r=((e,t)=>e.inline?((e,t,n)=>({parent:p(t),view:p(e),origin:p(vo(0,0)),isResizable:n}))(we.fromDom(e.getBody()),(()=>{const e=we.fromTag("div");return Tt(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Fe(st(we.fromDom(document)),e),e})(),t):((e,t)=>{const n=ce(e)?(e=>we.fromDom(Oe(e).dom.documentElement))(e):e;return{parent:p(n),view:p(e),origin:p(vo(0,0)),isResizable:t}})(we.fromDom(e.getDoc()),t))(e,su);if(o.set(r),(e=>{const t=e.options.get("object_resizing");return k(t.split(","),"table")})(e)&&Qa(e)){const o=a(),i=ou(r,o,s);i.on(),i.events.startDrag.bind((n=>{t.set(e.selection.getRng())})),i.events.beforeResize.bind((t=>{const n=t.table.dom;((e,t,n,o,r)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:o,origin:r})})(e,n,Fr(n),Hr(n),iu+t.type)})),i.events.afterResize.bind((n=>{const o=n.table,r=o.dom;Ir(o),t.on((t=>{e.selection.setRng(t),e.focus()})),((e,t,n,o,r)=>{e.dispatch("ObjectResized",{target:t,width:n,height:o,origin:r})})(e,r,Fr(r),Hr(r),iu+n.type),e.undoManager.add()})),n.set(i)}})),e.on("ObjectResizeStart",(t=>{const n=t.target;if(ru(n)){const o=we.fromDom(n);T(e.dom.select(".mce-clonedresizable"),(t=>{e.dom.addClass(t,"mce-"+qa(e)+"-columns")})),!gl(o)&&Ka(e)?wl(o):!fl(o)&&Ya(e)&&yl(o),vl(o)&&St(t.origin,iu)&&yl(o),r=t.width,i=Xa(e)?"":((e,t)=>{const n=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return _.from(n).filter(kt)})(e,n).getOr("")}})),e.on("ObjectResized",(t=>{const n=t.target;if(ru(n)){const o=we.fromDom(n),l=t.origin;St(l,"corner-")&&((t,n,o)=>{const l=Ct(n,"e");if(""===i&&yl(t),o!==r&&""!==i){At(t,"width",i);const n=a(),c=s(t),d=Za(e)||l?(e=>Ti(e).columns)(t)-1:0;Ds(t,o-r,d,n,c)}else if((e=>/^(\d+(\.\d+)?)%$/.test(e))(i)){const e=parseFloat(i.replace("%",""));At(t,"width",o*e/r+"%")}(e=>/^(\d+(\.\d+)?)px$/.test(e))(i)&&(e=>{const t=Qn(e);io(t)||T(qt(e),(e=>{const t=Dt(e,"width");At(e,"width",t),ve(e,"width")}))})(t)})(o,l,t.width),Ir(o),La(e,o.dom,Ia)}})),e.on("SwitchMode",(()=>{n.on((t=>{e.mode.isReadOnly()?t.hideBars():t.showBars()}))})),e.on("dragstart dragend",(e=>{n.on((t=>{"dragstart"===e.type?(t.hideBars(),t.off()):(t.on(),t.showBars())}))})),e.on("remove",(()=>{n.on((e=>{e.destroy()})),o.on((t=>{((e,t)=>{e.inline&&We(t.parent())})(e,t)}))})),{refresh:e=>{n.on((t=>t.refreshBars(we.fromDom(e))))},hide:()=>{n.on((e=>e.hideBars()))},show:()=>{n.on((e=>e.showBars()))}}})(e),n=Pd(e,t),o=((e,t,n)=>{const o=e=>"table"===ne(Nr(e)),r=Ua(e),i=Ga(e)?m:_i,s=t=>{switch(Wa(e)){case"section":return Vi();case"sectionCells":return zi();case"cells":return Ui();default:return((e,t)=>{var n;switch((n=Qn(e),W(n.all,(e=>{const t=Ri(e);return"header"===t.type?_.from(t.subType):_.none()}))).getOr("section")){case"section":return Bi();case"sectionCells":return Fi();case"cells":return Hi()}})(t)}},a=(o,i,a,l)=>(c,d,u=!1)=>{Ir(c);const h=we.fromDom(e.getDoc()),m=Tr(a,h,r),p={sizing:nl(e,c),resize:Ga(e)?Oi():Ai(),section:s(c)};return i(c)?o(c,d,m,p).bind((o=>{t.refresh(c.dom),T(o.newRows,(t=>{Ra(e,t.dom)})),T(o.newCells,(t=>{Na(e,t.dom)}));const r=((t,o)=>o.cursor.fold((()=>{const o=qt(t);return z(o).filter(it).map((o=>{n.clearSelectedCells(t.dom);const r=e.dom.createRng();return r.selectNode(o.dom),e.selection.setRng(r),me(o,"data-mce-selected","1"),r}))}),(o=>{const r=wi(xi,o),i=e.dom.createRng();return i.setStart(r.element.dom,r.offset),i.setEnd(r.element.dom,r.offset),e.selection.setRng(i),n.clearSelectedCells(t.dom),_.some(i)})))(c,o);return it(c)&&(Ir(c),u||La(e,c.dom,l)),r.map((e=>({rng:e,effect:l})))})):_.none()},l=a(ga,(t=>!o(e)||Ti(t).rows>1),m,Ba),c=a(fa,(t=>!o(e)||Ti(t).columns>1),m,Ba);return{deleteRow:l,deleteColumn:c,insertRowsBefore:a(ua,x,m,Ba),insertRowsAfter:a(ha,x,m,Ba),insertColumnsBefore:a(ma,x,i,Ba),insertColumnsAfter:a(pa,x,i,Ba),mergeCells:a(Ca,x,m,Ba),unmergeCells:a(ja,x,m,Ba),pasteColsBefore:a(Ea,x,m,Ba),pasteColsAfter:a(Oa,x,m,Ba),pasteRowsBefore:a(Aa,x,m,Ba),pasteRowsAfter:a(Ta,x,m,Ba),pasteCells:a(ka,x,m,Fa),makeCellsHeader:a(_a,x,m,Ba),unmakeCellsHeader:a(Sa,x,m,Ba),makeColumnsHeader:a(va,x,m,Ba),unmakeColumnsHeader:a(ba,x,m,Ba),makeRowsHeader:a(ya,x,m,Ba),makeRowsBody:a(wa,x,m,Ba),makeRowsFooter:a(xa,x,m,Ba),getTableRowType:Pa,getTableCellType:Ma,getTableColType:Da}})(e,t,n);return((e,t)=>{const n=Lr(e),o=e=>Gt(e,n),s=t=>(e=>pi(Br(e),Lr(e)).filter(Vr))(e).bind((e=>o(e).map((n=>t(n,e))))),a=t=>{e.focus()},l=(t,n=!1)=>s(((o,r)=>{const i=ui(fi(e),o,r);t(o,i,n).each(a)})),c=()=>s(((t,n)=>((e,t,n)=>{const o=Qn(e);return ts(o,t).bind((e=>{const t=Yi(o,n,!1),r=Wn(t).rows.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),i=B(r,(e=>{const t=M(e.cells,(e=>!e.isLocked));return t.length>0?[{...e,cells:t}]:[]})),s=Ki(i);return wt(s.length>0,s)})).map((e=>A(e,(e=>{const t=Ge(e.element);return T(e.cells,(e=>{const n=$e(e.element);qi(n,"colspan",e.colspan,1),qi(n,"rowspan",e.rowspan,1),Fe(t,n)})),t}))))})(t,ui(fi(e),t,n),Tr(m,we.fromDom(e.getDoc()),_.none())))),d=()=>s(((t,n)=>((e,t)=>{const n=Qn(e);return ns(n,t).map((e=>{const t=e[e.length-1],o=e[0].column,r=t.column+t.colspan,i=((e,t,n)=>{if(io(e)){const o=M(ro(e),rl(t,n)),r=A(o,(e=>{const o=$e(e.element);return ol(o,"span",n-t),o})),i=we.fromTag("colgroup");return ze(i,r),[i]}return[]})(n,o,r),s=((e,t,n)=>A(e.all,(e=>{const o=M(e.cells,rl(t,n)),r=A(o,(e=>{const o=$e(e.element);return ol(o,"colspan",n-t),o})),i=we.fromTag("tr");return ze(i,r),i})))(n,o,r);return[...i,...s]}))})(t,ui(fi(e),t,n)))),u=(t,n)=>n().each((n=>{const o=A(n,(e=>$e(e)));s(((n,r)=>{const i=Dr(we.fromDom(e.getDoc())),s=((e,t,n,o)=>({selection:ai(e),clipboard:n,generators:o}))(fi(e),0,o,i);t(n,s).each(a)}))})),p=e=>(t,n)=>((e,t)=>Q(e,"type")?_.from(e.type):_.none())(n).each((t=>{l(e(t),n.no_events)}));G({mceTableSplitCells:()=>l(t.unmergeCells),mceTableMergeCells:()=>l(t.mergeCells),mceTableInsertRowBefore:()=>l(t.insertRowsBefore),mceTableInsertRowAfter:()=>l(t.insertRowsAfter),mceTableInsertColBefore:()=>l(t.insertColumnsBefore),mceTableInsertColAfter:()=>l(t.insertColumnsAfter),mceTableDeleteCol:()=>l(t.deleteColumn),mceTableDeleteRow:()=>l(t.deleteRow),mceTableCutCol:()=>d().each((e=>{Ll(e),l(t.deleteColumn)})),mceTableCutRow:()=>c().each((e=>{Pl(e),l(t.deleteRow)})),mceTableCopyCol:()=>d().each((e=>Ll(e))),mceTableCopyRow:()=>c().each((e=>Pl(e))),mceTablePasteColBefore:()=>u(t.pasteColsBefore,Il),mceTablePasteColAfter:()=>u(t.pasteColsAfter,Il),mceTablePasteRowBefore:()=>u(t.pasteRowsBefore,Rl),mceTablePasteRowAfter:()=>u(t.pasteRowsAfter,Rl),mceTableDelete:()=>Fl(e).each((t=>{Gt(t,n).filter(b(n)).each((t=>{const n=we.fromText("");if(Ie(t,n),We(t),e.dom.isEmpty(e.getBody()))e.setContent(""),e.selection.setCursorLocation();else{const t=e.dom.createRng();t.setStart(n.dom,0),t.setEnd(n.dom,0),e.selection.setRng(t),e.nodeChanged()}}))})),mceTableCellToggleClass:(t,n)=>{s((t=>{const o=fi(e),r=F(o,(t=>e.formatter.match("tablecellclass",{value:n},t.dom))),i=r?e.formatter.remove:e.formatter.apply;T(o,(e=>i("tablecellclass",{value:n},e.dom))),La(e,t.dom,Ia)}))},mceTableToggleClass:(t,n)=>{s((t=>{e.formatter.toggle("tableclass",{value:n},t.dom),La(e,t.dom,Ia)}))},mceTableToggleCaption:()=>{Fl(e).each((t=>{Gt(t,n).each((n=>{ft(n,"caption").fold((()=>{const t=we.fromTag("caption");Fe(t,we.fromText("Caption")),((e,t,n)=>{Ne(e,0).fold((()=>{Fe(e,t)}),(e=>{Le(e,t)}))})(n,t),e.selection.setCursorLocation(t.dom,0)}),(o=>{ue("caption")(t)&&Se("td",n).each((t=>e.selection.setCursorLocation(t.dom,0))),We(o)})),La(e,n.dom,Ba)}))}))},mceTableSizingMode:(t,o)=>(t=>Fl(e).each((o=>{Xa(e)||Ka(e)||Ya(e)||Gt(o,n).each((n=>{"relative"!==t||fl(n)?"fixed"!==t||gl(n)?"responsive"!==t||vl(n)||xl(n):wl(n):yl(n),Ir(n),La(e,n.dom,Ba)}))})))(o),mceTableCellType:p((e=>"th"===e?t.makeCellsHeader:t.unmakeCellsHeader)),mceTableColType:p((e=>"th"===e?t.makeColumnsHeader:t.unmakeColumnsHeader)),mceTableRowType:p((e=>{switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}}))},((t,n)=>e.addCommand(n,t))),e.addCommand("mceInsertTable",((t,n)=>{((e,t,n,o={})=>{const r=e=>h(e)&&e>0;if(r(t)&&r(n)){const r=o.headerRows||0,i=o.headerColumns||0;return jl(e,n,t,i,r)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(e,n.rows,n.columns,n.options)})),e.addCommand("mceTableApplyCellStyle",((t,n)=>{const s=e=>"tablecell"+e.toLowerCase().replace("-","");if(!i(n))return;const a=M(fi(e),Vr);if(0===a.length)return;const l=((e,t)=>{const n={};return((e,t,n,o)=>{G(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))})(e,t,(e=>(t,n)=>{e[n]=t})(n),m),n})(n,((t,n)=>e.formatter.has(s(n))&&r(t)));(e=>{for(const t in e)if(Z.call(e,t))return!1;return!0})(l)||(G(l,((t,n)=>{const o=s(n);T(a,(n=>{""===t?e.formatter.remove(o,{value:null},n.dom,!0):e.formatter.apply(o,{value:t},n.dom)}))})),o(a[0]).each((t=>La(e,t.dom,Ia))))}))})(e,o),((e,t)=>{const n=Lr(e),o=t=>pi(Br(e)).bind((o=>Gt(o,n).map((n=>{const r=ui(fi(e),n,o);return t(n,r)})))).getOr("");G({mceTableRowType:()=>o(t.getTableRowType),mceTableCellType:()=>o(t.getTableCellType),mceTableColType:()=>o(t.getTableColType)},((t,n)=>e.addQueryValueHandler(n,t)))})(e,o),((e,t)=>{e.on("BeforeGetContent",(t=>{const n=n=>{t.preventDefault(),(e=>Gt(e[0]).map((e=>{const t=((e,t)=>{const n=e=>xe(e.element,t),o=$e(e),r=Qt(o),i=cr(e),s=Jn(r),a=((e,t)=>{const n=e.grid.columns;let o=e.grid.rows,r=n,i=0,s=0;const a=[],l=[];return G(e.access,(e=>{if(a.push(e),t(e)){l.push(e);const t=e.row,n=t+e.rowspan-1,a=e.column,c=a+e.colspan-1;t<o?o=t:n>i&&(i=n),a<r?r=a:c>s&&(s=c)}})),((e,t,n,o,r,i)=>({minRow:e,minCol:t,maxRow:n,maxCol:o,allCells:r,selectedCells:i}))(o,r,i,s,a,l)})(s,n),l="th:not("+t+"),td:not("+t+")",c=Ut(o,"th,td",(e=>xe(e,l)));T(c,We),((e,t,n,o)=>{const r=M(e,(e=>"colgroup"!==e.section)),i=t.grid.columns,s=t.grid.rows;for(let e=0;e<s;e++){let s=!1;for(let a=0;a<i;a++)e<n.minRow||e>n.maxRow||a<n.minCol||a>n.maxCol||(eo(t,e,a).filter(o).isNone()?hr(r,s,e):s=!0)}})(r,s,a,n);const d=((e,t,n,o)=>{if(0===o.minCol&&t.grid.columns===o.maxCol+1)return 0;const r=rr(t,e,n),i=R(r,((e,t)=>e+t),0),s=R(r.slice(o.minCol,o.maxCol+1),((e,t)=>e+t),0),a=s/i*n.pixelWidth()-n.pixelWidth();return n.getCellDelta(a)})(e,Qn(e),i,a);return((e,t,n,o)=>{G(n.columns,(e=>{(e.column<t.minCol||e.column>t.maxCol)&&We(e.element)}));const r=M(zt(e,"tr"),(e=>0===e.dom.childElementCount));T(r,We),t.minCol!==t.maxCol&&t.minRow!==t.maxRow||T(zt(e,"th,td"),(e=>{ve(e,"rowspan"),ve(e,"colspan")})),ve(e,Zn),ve(e,"data-snooker-col-series"),cr(e).adjustTableWidth(o)})(o,a,s,d),o})(e,"[data-mce-selected]");return Ir(t),[t]})))(n).each((n=>{t.content="text"===t.format?(e=>A(e,(e=>e.dom.innerText)).join(""))(n):((e,t)=>A(t,(t=>e.selection.serializer.serialize(t.dom,{}))).join(""))(e,n)}))};if(!0===t.selection){const t=(e=>M(fi(e),(e=>xe(e,di.selectedSelector))))(e);t.length>=1&&n(t)}})),e.on("BeforeSetContent",(n=>{if(!0===n.selection&&!0===n.paste){const o=fi(e);z(o).each((o=>{Gt(o).each((r=>{const i=M(((e,t)=>{const n=document.createElement("div");return n.innerHTML=e,Re(we.fromDom(n))})(n.content),(e=>"meta"!==ne(e))),s=ue("table");if(1===i.length&&s(i[0])){n.preventDefault();const s=we.fromDom(e.getDoc()),a=Dr(s),l=((e,t,n)=>({element:e,clipboard:t,generators:n}))(o,i[0],a);t.pasteCells(r,l).each((()=>{e.focus()}))}}))}))}}))})(e,o),{getSelectedCells:n.getSelectedCells,clearSelectedCells:n.clearSelectedCells}};e.add("dom",(e=>({table:au(e)})))}()},"./node_modules/tinymce/themes/silver/theme.min.js":()=>{!function(){"use strict";const e=Object.getPrototypeOf,t=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},n=e=>n=>(e=>{const n=typeof e;return null===e?"null":"object"===n&&Array.isArray(e)?"array":"object"===n&&t(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":n})(n)===e,o=e=>t=>typeof t===e,r=e=>t=>e===t,i=n("string"),s=n("object"),a=n=>((n,o)=>s(n)&&t(n,o,((t,n)=>e(t)===n)))(n,Object),l=n("array"),c=r(null),d=o("boolean"),u=r(void 0),h=e=>null==e,m=e=>!h(e),p=o("function"),f=o("number"),g=(e,t)=>{if(l(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},v=()=>{},b=e=>()=>e(),y=(e,t)=>(...n)=>e(t.apply(null,n)),w=e=>()=>e,x=e=>e,_=(e,t)=>e===t;function S(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const C=e=>t=>!e(t),j=e=>()=>{throw new Error(e)},k=e=>e(),E=w(!1),O=w(!0);class A{constructor(e,t){this.tag=e,this.value=t}static some(e){return new A(!0,e)}static none(){return A.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?A.some(e(this.value)):A.none()}bind(e){return this.tag?e(this.value):A.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:A.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return m(e)?A.some(e):A.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}A.singletonNone=new A(!1);const T=Array.prototype.slice,D=Array.prototype.indexOf,M=Array.prototype.push,P=(e,t)=>D.call(e,t),R=(e,t)=>{const n=P(e,t);return-1===n?A.none():A.some(n)},N=(e,t)=>P(e,t)>-1,L=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return!0;return!1},I=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},B=(e,t)=>{const n=[];for(let o=0;o<e.length;o+=t){const r=T.call(e,o,o+t);n.push(r)}return n},F=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},H=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},V=(e,t)=>{const n=[],o=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];(t(i,r)?n:o).push(i)}return{pass:n,fail:o}},z=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},U=(e,t,n)=>(((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(e,((e,o)=>{n=t(n,e,o)})),n),W=(e,t,n)=>(H(e,((e,o)=>{n=t(n,e,o)})),n),q=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return A.some(r);if(n(r,o))break}return A.none()})(e,t,E),Z=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return A.some(n);return A.none()},G=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);M.apply(t,e[n])}return t},$=(e,t)=>G(F(e,t)),Y=(e,t)=>{for(let n=0,o=e.length;n<o;++n)if(!0!==t(e[n],n))return!1;return!0},K=e=>{const t=T.call(e,0);return t.reverse(),t},X=(e,t)=>z(e,(e=>!N(t,e))),Q=(e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n},J=e=>[e],ee=(e,t)=>{const n=T.call(e,0);return n.sort(t),n},te=(e,t)=>t>=0&&t<e.length?A.some(e[t]):A.none(),ne=e=>te(e,0),oe=e=>te(e,e.length-1),re=p(Array.from)?Array.from:e=>T.call(e),ie=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return A.none()},se=Object.keys,ae=Object.hasOwnProperty,le=(e,t)=>{const n=se(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},ce=(e,t)=>de(e,((e,n)=>({k:n,v:t(e,n)}))),de=(e,t)=>{const n={};return le(e,((e,o)=>{const r=t(e,o);n[r.k]=r.v})),n},ue=e=>(t,n)=>{e[n]=t},he=(e,t,n,o)=>{le(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))},me=(e,t)=>{const n={};return he(e,t,ue(n),v),n},pe=(e,t)=>{const n=[];return le(e,((e,o)=>{n.push(t(e,o))})),n},fe=(e,t)=>{const n=se(e);for(let o=0,r=n.length;o<r;o++){const r=n[o],i=e[r];if(t(i,r,e))return A.some(i)}return A.none()},ge=e=>pe(e,x),ve=(e,t)=>be(e,t)?A.from(e[t]):A.none(),be=(e,t)=>ae.call(e,t),ye=(e,t)=>be(e,t)&&void 0!==e[t]&&null!==e[t],we=(e,t,n=_)=>e.exists((e=>n(e,t))),xe=e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},_e=(e,t,n)=>e.isSome()&&t.isSome()?A.some(n(e.getOrDie(),t.getOrDie())):A.none(),Se=(e,t)=>null!=e?A.some(t(e)):A.none(),Ce=(e,t)=>e?A.some(t):A.none(),je=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,ke=(e,t)=>Oe(e,t)?((e,t)=>e.substring(t))(e,t.length):e,Ee=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!u(o)||r+t.length<=o)},Oe=(e,t)=>je(e,t,0),Ae=(e,t)=>je(e,t,e.length-t.length),Te=(En=/^\s+|\s+$/g,e=>e.replace(En,"")),De=e=>e.length>0,Me=e=>void 0!==e.style&&p(e.style.getPropertyValue),Pe=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},Re=(e,t)=>{const n=(t||document).createElement(e);return Pe(n)},Ne=(e,t)=>{const n=(t||document).createTextNode(e);return Pe(n)},Le=Pe,Ie="undefined"!=typeof window?window:Function("return this;")(),Be=(e,t)=>((e,t)=>{let n=null!=t?t:Ie;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),Fe=Object.getPrototypeOf,He=e=>e.dom.nodeName.toLowerCase(),Ve=e=>t=>(e=>e.dom.nodeType)(t)===e,ze=e=>Ue(e)&&(e=>{const t=Be("ownerDocument.defaultView",e);return s(e)&&((e=>((e,t)=>{const n=((e,t)=>Be(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Fe(e).constructor.name))})(e.dom),Ue=Ve(1),We=Ve(3),qe=Ve(9),Ze=Ve(11),Ge=e=>t=>Ue(t)&&He(t)===e,$e=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Ye=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Ke=(e,t)=>e.dom===t.dom,Xe=(e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)},Qe=e=>Le(e.dom.ownerDocument),Je=e=>qe(e)?e:Qe(e),et=e=>Le(Je(e).dom.documentElement),tt=e=>Le(Je(e).dom.defaultView),nt=e=>A.from(e.dom.parentNode).map(Le),ot=e=>A.from(e.dom.parentElement).map(Le),rt=e=>A.from(e.dom.offsetParent).map(Le),it=e=>F(e.dom.childNodes,Le),st=(e,t)=>{const n=e.dom.childNodes;return A.from(n[t]).map(Le)},at=e=>st(e,0),lt=(e,t)=>({element:e,offset:t}),ct=(e,t)=>{const n=it(e);return n.length>0&&t<n.length?lt(n[t],0):lt(e,t)},dt=e=>Ze(e)&&m(e.dom.host),ut=p(Element.prototype.attachShadow)&&p(Node.prototype.getRootNode),ht=w(ut),mt=ut?e=>Le(e.dom.getRootNode()):Je,pt=e=>dt(e)?e:Le(Je(e).dom.body),ft=e=>{const t=mt(e);return dt(t)?A.some(t):A.none()},gt=e=>Le(e.dom.host),vt=e=>{const t=We(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return ft(Le(t)).fold((()=>n.body.contains(t)),(o=vt,r=gt,e=>o(r(e))));var o,r},bt=()=>yt(Le(document)),yt=e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return Le(t)},wt=(e,t,n)=>{if(!(i(n)||d(n)||f(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},xt=(e,t,n)=>{wt(e.dom,t,n)},_t=(e,t)=>{const n=e.dom;le(t,((e,t)=>{wt(n,t,e)}))},St=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},Ct=(e,t)=>A.from(St(e,t)),jt=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},kt=(e,t)=>{e.dom.removeAttribute(t)},Et=(e,t,n)=>{if(!i(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Me(e)&&e.style.setProperty(t,n)},Ot=(e,t)=>{Me(e)&&e.style.removeProperty(t)},At=(e,t,n)=>{const o=e.dom;Et(o,t,n)},Tt=(e,t)=>{const n=e.dom;le(t,((e,t)=>{Et(n,t,e)}))},Dt=(e,t)=>{const n=e.dom;le(t,((e,t)=>{e.fold((()=>{Ot(n,t)}),(e=>{Et(n,t,e)}))}))},Mt=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||vt(e)?o:Pt(n,t)},Pt=(e,t)=>Me(e)?e.style.getPropertyValue(t):"",Rt=(e,t)=>{const n=e.dom,o=Pt(n,t);return A.from(o).filter((e=>e.length>0))},Nt=e=>{const t={},n=e.dom;if(Me(n))for(let e=0;e<n.style.length;e++){const o=n.style.item(e);t[o]=n.style[o]}return t},Lt=(e,t,n)=>{const o=Re(e);return At(o,t,n),Rt(o,t).isSome()},It=(e,t)=>{const n=e.dom;Ot(n,t),we(Ct(e,"style").map(Te),"")&&kt(e,"style")},Bt=e=>e.dom.offsetWidth,Ft=(e,t)=>{const n=n=>{const o=t(n);if(o<=0||null===o){const t=Mt(n,e);return parseFloat(t)||0}return o},o=(e,t)=>W(t,((t,n)=>{const o=Mt(e,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?t:t+r}),0);return{set:(t,n)=>{if(!f(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const o=t.dom;Me(o)&&(o.style[e]=n+"px")},get:n,getOuter:n,aggregate:o,max:(e,t,n)=>{const r=o(e,n);return t>r?t-r:0}}},Ht=Ft("height",(e=>{const t=e.dom;return vt(e)?t.getBoundingClientRect().height:t.offsetHeight})),Vt=e=>Ht.get(e),zt=e=>Ht.getOuter(e),Ut=(e,t)=>({left:e,top:t,translate:(n,o)=>Ut(e+n,t+o)}),Wt=Ut,qt=(e,t)=>void 0!==e?e:void 0!==t?t:0,Zt=e=>{const t=e.dom.ownerDocument,n=t.body,o=t.defaultView,r=t.documentElement;if(n===e.dom)return Wt(n.offsetLeft,n.offsetTop);const i=qt(null==o?void 0:o.pageYOffset,r.scrollTop),s=qt(null==o?void 0:o.pageXOffset,r.scrollLeft),a=qt(r.clientTop,n.clientTop),l=qt(r.clientLeft,n.clientLeft);return Gt(e).translate(s-l,i-a)},Gt=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?Wt(n.offsetLeft,n.offsetTop):vt(e)?(e=>{const t=e.getBoundingClientRect();return Wt(t.left,t.top)})(t):Wt(0,0)},$t=Ft("width",(e=>e.dom.offsetWidth)),Yt=e=>$t.get(e),Kt=e=>$t.getOuter(e),Xt=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},Qt=()=>Jt(0,0),Jt=(e,t)=>({major:e,minor:t}),en={nu:Jt,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?Qt():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return Jt(o(1),o(2))})(e,n)},unknown:Qt},tn=(e,t)=>{const n=String(t).toLowerCase();return q(e,(e=>e.search(n)))},nn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,on=e=>t=>Ee(t,e),rn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Ee(e,"edge/")&&Ee(e,"chrome")&&Ee(e,"safari")&&Ee(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,nn],search:e=>Ee(e,"chrome")&&!Ee(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Ee(e,"msie")||Ee(e,"trident")},{name:"Opera",versionRegexes:[nn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:on("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:on("firefox")},{name:"Safari",versionRegexes:[nn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Ee(e,"safari")||Ee(e,"mobile/"))&&Ee(e,"applewebkit")}],sn=[{name:"Windows",search:on("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Ee(e,"iphone")||Ee(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:on("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:on("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:on("linux"),versionRegexes:[]},{name:"Solaris",search:on("sunos"),versionRegexes:[]},{name:"FreeBSD",search:on("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:on("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],an={browsers:w(rn),oses:w(sn)},ln="Edge",cn="Chromium",dn="Opera",un="Firefox",hn="Safari",mn=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(ln),isChromium:o(cn),isIE:o("IE"),isOpera:o(dn),isFirefox:o(un),isSafari:o(hn)}},pn=()=>mn({current:void 0,version:en.unknown()}),fn=mn,gn=(w(ln),w(cn),w("IE"),w(dn),w(un),w(hn),"Windows"),vn="Android",bn="Linux",yn="macOS",wn="Solaris",xn="FreeBSD",_n="ChromeOS",Sn=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(gn),isiOS:o("iOS"),isAndroid:o(vn),isMacOS:o(yn),isLinux:o(bn),isSolaris:o(wn),isFreeBSD:o(xn),isChromeOS:o(_n)}},Cn=()=>Sn({current:void 0,version:en.unknown()}),jn=Sn,kn=(w(gn),w("iOS"),w(vn),w(bn),w(yn),w(wn),w(xn),w(_n),e=>window.matchMedia(e).matches);var En;let On=Xt((()=>((e,t,n)=>{const o=an.browsers(),r=an.oses(),i=t.bind((e=>((e,t)=>ie(t.brands,(t=>{const n=t.brand.toLowerCase();return q(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:en.nu(parseInt(t.version,10),0)})))})))(o,e))).orThunk((()=>((e,t)=>tn(e,t).map((e=>{const n=en.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e))).fold(pn,fn),s=((e,t)=>tn(e,t).map((e=>{const n=en.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e).fold(Cn,jn),a=((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!r,s=e.isiOS()||e.isAndroid(),a=s||o("(pointer:coarse)"),l=r||!i&&s&&o("(min-device-width:768px)"),c=i||s&&!l,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),u=!c&&!l&&!d;return{isiPad:w(r),isiPhone:w(i),isTablet:w(l),isPhone:w(c),isTouch:w(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:w(d),isDesktop:w(u)}})(s,i,e,n);return{browser:i,os:s,deviceType:a}})(navigator.userAgent,A.from(navigator.userAgentData),kn)));const An=()=>On(),Tn=e=>{const t=Le((e=>{if(ht()&&m(e.target)){const t=Le(e.target);if(Ue(t)&&(e=>m(e.dom.shadowRoot))(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return ne(t)}}return A.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=y(o,n);return((e,t,n,o,r,i,s)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:i,raw:s}))(t,e.clientX,e.clientY,n,o,r,e)},Dn=(e,t,n,o,r)=>{const i=((e,t)=>n=>{e(n)&&t(Tn(n))})(n,o);return e.dom.addEventListener(t,i,r),{unbind:S(Mn,e,t,i,r)}},Mn=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},Pn=(e,t)=>{nt(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},Rn=(e,t)=>{const n=(e=>A.from(e.dom.nextSibling).map(Le))(e);n.fold((()=>{nt(e).each((e=>{Ln(e,t)}))}),(e=>{Pn(e,t)}))},Nn=(e,t)=>{at(e).fold((()=>{Ln(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},Ln=(e,t)=>{e.dom.appendChild(t.dom)},In=(e,t)=>{H(t,(t=>{Ln(e,t)}))},Bn=e=>{e.dom.textContent="",H(it(e),(e=>{Fn(e)}))},Fn=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Hn=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Wt(n,o)},Vn=(e,t,n)=>{const o=(void 0!==n?n.dom:document).defaultView;o&&o.scrollTo(e,t)},zn=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Un=e=>{const t=void 0===e?window:e,n=t.document,o=Hn(Le(n));return(e=>{const t=void 0===e?window:e;return An().browser.isFirefox()?A.none():A.from(t.visualViewport)})(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return zn(o.left,o.top,n,r)}),(e=>zn(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},Wn=()=>Le(document),qn=(e,t)=>e.view(t).fold(w([]),(t=>{const n=e.owner(t),o=qn(e,n);return[t].concat(o)}));var Zn=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?A.none():A.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(Le)},owner:e=>Qe(e)});const Gn=e=>{const t=Wn(),n=Hn(t),o=((e,t)=>{const n=t.owner(e),o=qn(t,n);return A.some(o)})(e,Zn);return o.fold(S(Zt,e),(t=>{const o=Gt(e),r=U(t,((e,t)=>{const n=Gt(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Wt(r.left+o.left+n.left,r.top+o.top+n.top)}))},$n=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Yn=e=>{const t=Zt(e),n=Kt(e),o=zt(e);return $n(t.left,t.top,n,o)},Kn=e=>{const t=Gn(e),n=Kt(e),o=zt(e);return $n(t.left,t.top,n,o)},Xn=(e,t)=>{const n=Math.max(e.x,t.x),o=Math.max(e.y,t.y),r=Math.min(e.right,t.right),i=Math.min(e.bottom,t.bottom);return $n(n,o,r-n,i-o)},Qn=()=>Un(window);var Jn=tinymce.util.Tools.resolve("tinymce.ThemeManager");const eo=e=>{const t=t=>t(e),n=w(e),o=()=>r,r={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:O,isError:E,map:t=>no.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:t=>{t(e)},toOptional:()=>A.some(e)};return r},to=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:E,isError:O,map:t,mapError:t=>no.error(t(e)),bind:t,exists:E,forall:O,getOr:x,or:x,getOrThunk:k,orThunk:k,getOrDie:j(String(e)),each:v,toOptional:A.none};return n},no={value:eo,error:to,fromOption:(e,t)=>e.fold((()=>to(t)),eo)};var oo;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(oo||(oo={}));const ro=(e,t,n)=>e.stype===oo.Error?t(e.serror):n(e.svalue),io=e=>({stype:oo.Value,svalue:e}),so=e=>({stype:oo.Error,serror:e}),ao=io,lo=so,co=ro,uo=(e,t,n,o)=>({tag:"field",key:e,newKey:t,presence:n,prop:o}),ho=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},mo=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let o=0;o<t.length;o++){const r=t[o];for(const t in r)be(r,t)&&(n[t]=e(n[t],r[t]))}return n},po=mo(((e,t)=>a(e)&&a(t)?po(e,t):t)),fo=mo(((e,t)=>t)),go=e=>({tag:"defaultedThunk",process:e}),vo=e=>go(w(e)),bo=e=>({tag:"mergeWithThunk",process:e}),yo=e=>{const t=(e=>{const t=[],n=[];return H(e,(e=>{ro(e,(e=>n.push(e)),(e=>t.push(e)))})),{values:t,errors:n}})(e);return t.errors.length>0?(n=t.errors,y(lo,G)(n)):ao(t.values);var n},wo=e=>s(e)&&se(e).length>100?" removed due to size":JSON.stringify(e,null,2),xo=(e,t)=>lo([{path:e,getErrorInfo:t}]),_o=e=>({extract:(t,n)=>((e,t)=>e.stype===oo.Error?t(e.serror):e)(e(n),(e=>((e,t)=>xo(e,w(t)))(t,e))),toString:w("val")}),So=_o(ao),Co=(e,t,n,o)=>o(ve(e,t).getOrThunk((()=>n(e)))),jo=(e,t,n,o,r)=>{const i=e=>r.extract(t.concat([o]),e),s=e=>e.fold((()=>ao(A.none())),(e=>((e,t)=>e.stype===oo.Value?{stype:oo.Value,svalue:t(e.svalue)}:e)(r.extract(t.concat([o]),e),A.some)));switch(e.tag){case"required":return((e,t,n,o)=>ve(t,n).fold((()=>((e,t,n)=>xo(e,(()=>'Could not find valid *required* value for "'+t+'" in '+wo(n))))(e,n,t)),o))(t,n,o,i);case"defaultedThunk":return Co(n,o,e.process,i);case"option":return((e,t,n)=>n(ve(e,t)))(n,o,s);case"defaultedOptionThunk":return((e,t,n,o)=>o(ve(e,t).map((t=>!0===t?n(e):t))))(n,o,e.process,s);case"mergeWithThunk":return Co(n,o,w({}),(t=>{const o=po(e.process(n),t);return i(o)}))}},ko=e=>({extract:(t,n)=>e().extract(t,n),toString:()=>e().toString()}),Eo=e=>{const t=Oo(e),n=U(e,((e,t)=>ho(t,(t=>po(e,{[t]:!0})),w(e))),{});return{extract:(e,o)=>{const r=d(o)?[]:(e=>se(me(e,m)))(o),i=z(r,(e=>!ye(n,e)));return 0===i.length?t.extract(e,o):((e,t)=>xo(e,(()=>"There are unsupported fields: ["+t.join(", ")+"] specified")))(e,i)},toString:t.toString}},Oo=e=>({extract:(t,n)=>((e,t,n)=>{const o={},r=[];for(const i of n)ho(i,((n,i,s,a)=>{const l=jo(s,e,t,n,a);co(l,(e=>{r.push(...e)}),(e=>{o[i]=e}))}),((e,n)=>{o[e]=n(t)}));return r.length>0?lo(r):ao(o)})(t,n,e),toString:()=>{const t=F(e,(e=>ho(e,((e,t,n,o)=>e+" -> "+o.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"}}),Ao=e=>({extract:(t,n)=>{const o=F(n,((n,o)=>e.extract(t.concat(["["+o+"]"]),n)));return yo(o)},toString:()=>"array("+e.toString()+")"}),To=(e,t)=>{const n=void 0!==t?t:x;return{extract:(t,o)=>{const r=[];for(const i of e){const e=i.extract(t,o);if(e.stype===oo.Value)return{stype:oo.Value,svalue:n(e.svalue)};r.push(e)}return yo(r)},toString:()=>"oneOf("+F(e,(e=>e.toString())).join(", ")+")"}},Do=y(Ao,Oo),Mo=w(So),Po=(e,t)=>_o((n=>{const o=typeof n;return e(n)?ao(n):lo(`Expected type: ${t} but got: ${o}`)})),Ro=Po(f,"number"),No=Po(i,"string"),Lo=Po(d,"boolean"),Io=Po(p,"function"),Bo=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every((t=>Bo(e[t])));default:return!1}},Fo=_o((e=>Bo(e)?ao(e):lo("Expected value to be acceptable for sending via postMessage"))),Ho=(e,t)=>({extract:(n,o)=>ve(o,e).fold((()=>((e,t)=>xo(e,(()=>'Choice schema did not contain choice key: "'+t+'"')))(n,e)),(e=>((e,t,n,o)=>ve(n,o).fold((()=>((e,t,n)=>xo(e,(()=>'The chosen schema: "'+n+'" did not exist in branches: '+wo(t))))(e,n,o)),(n=>n.extract(e.concat(["branch: "+o]),t))))(n,o,t,e))),toString:()=>"chooseOn("+e+"). Possible values: "+se(t)}),Vo=e=>_o((t=>e(t).fold(lo,ao))),zo=(e,t)=>((e,t)=>({extract:(n,o)=>{const r=se(o),i=((t,n)=>Ao(_o(e)).extract(t,n))(n,r);return((e,t)=>e.stype===oo.Value?t(e.svalue):e)(i,(e=>{const r=F(e,(e=>uo(e,e,{tag:"required",process:{}},t)));return Oo(r).extract(n,o)}))},toString:()=>"setOf("+t.toString()+")"}))((t=>e(t).fold(so,io)),t),Uo=(e,t,n)=>{return o=((e,t,n)=>((e,t)=>e.stype===oo.Error?{stype:oo.Error,serror:(e=>({input:n,errors:e}))(e.serror)}:e)(t.extract([e],n)))(e,t,n),ro(o,no.error,no.value);var o},Wo=e=>e.fold((e=>{throw new Error(Zo(e))}),x),qo=(e,t,n)=>Wo(Uo(e,t,n)),Zo=e=>"Errors: \n"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:w("... (only showing first ten failures)")}]):e;return F(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))})(e.errors).join("\n")+"\n\nInput object: "+wo(e.input),Go=(e,t)=>Ho(e,ce(t,Oo)),$o=(e,t)=>((e,t)=>{const n=Xt(t);return{extract:(e,t)=>n().extract(e,t),toString:()=>n().toString()}})(0,t),Yo=uo,Ko=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),Xo=e=>Vo((t=>N(e,t)?no.value(t):no.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`))),Qo=e=>Yo(e,e,{tag:"required",process:{}},Mo()),Jo=(e,t)=>Yo(e,e,{tag:"required",process:{}},t),er=e=>Jo(e,Ro),tr=e=>Jo(e,No),nr=(e,t)=>Yo(e,e,{tag:"required",process:{}},Xo(t)),or=e=>Jo(e,Io),rr=(e,t)=>Yo(e,e,{tag:"required",process:{}},Oo(t)),ir=(e,t)=>Yo(e,e,{tag:"required",process:{}},Do(t)),sr=(e,t)=>Yo(e,e,{tag:"required",process:{}},Ao(t)),ar=e=>Yo(e,e,{tag:"option",process:{}},Mo()),lr=(e,t)=>Yo(e,e,{tag:"option",process:{}},t),cr=e=>lr(e,Ro),dr=e=>lr(e,No),ur=(e,t)=>lr(e,Xo(t)),hr=e=>lr(e,Io),mr=(e,t)=>lr(e,Ao(t)),pr=(e,t)=>lr(e,Oo(t)),fr=(e,t)=>Yo(e,e,vo(t),Mo()),gr=(e,t,n)=>Yo(e,e,vo(t),n),vr=(e,t)=>gr(e,t,Ro),br=(e,t)=>gr(e,t,No),yr=(e,t,n)=>gr(e,t,Xo(n)),wr=(e,t)=>gr(e,t,Lo),xr=(e,t)=>gr(e,t,Io),_r=(e,t,n)=>gr(e,t,Ao(n)),Sr=(e,t,n)=>gr(e,t,Oo(n)),Cr=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},jr=e=>{if(!l(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return H(e,((o,r)=>{const i=se(o);if(1!==i.length)throw new Error("one and only one name per case");const s=i[0],a=o[s];if(void 0!==n[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!l(a))throw new Error("case arguments must be an array");t.push(s),n[s]=(...n)=>{const o=n.length;if(o!==a.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+a.length+" ("+a+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[r].apply(null,n)},match:e=>{const o=se(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!Y(t,(e=>N(o,e))))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:s,params:n})}}}})),n};jr([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const kr=(e,t)=>((e,t)=>({[e]:t}))(e,t),Er=e=>(e=>{const t={};return H(e,(e=>{t[e.key]=e.value})),t})(e),Or=e=>p(e)?e:E,Ar=(e,t,n)=>{let o=e.dom;const r=Or(n);for(;o.parentNode;){o=o.parentNode;const e=Le(o),n=t(e);if(n.isSome())return n;if(r(e))break}return A.none()},Tr=(e,t,n)=>{const o=t(e),r=Or(n);return o.orThunk((()=>r(e)?A.none():Ar(e,t,r)))},Dr=(e,t)=>Ke(e.element,t.event.target),Mr={can:O,abort:E,run:v},Pr=e=>{if(!ye(e,"can")&&!ye(e,"abort")&&!ye(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return{...Mr,...e}},Rr=w,Nr=Rr("touchstart"),Lr=Rr("touchmove"),Ir=Rr("touchend"),Br=Rr("touchcancel"),Fr=Rr("mousedown"),Hr=Rr("mousemove"),Vr=Rr("mouseout"),zr=Rr("mouseup"),Ur=Rr("mouseover"),Wr=Rr("focusin"),qr=Rr("focusout"),Zr=Rr("keydown"),Gr=Rr("keyup"),$r=Rr("input"),Yr=Rr("change"),Kr=Rr("click"),Xr=Rr("transitioncancel"),Qr=Rr("transitionend"),Jr=Rr("transitionstart"),ei=Rr("selectstart"),ti=e=>w("alloy."+e),ni={tap:ti("tap")},oi=ti("focus"),ri=ti("blur.post"),ii=ti("paste.post"),si=ti("receive"),ai=ti("execute"),li=ti("focus.item"),ci=ni.tap,di=ti("longpress"),ui=ti("sandbox.close"),hi=ti("typeahead.cancel"),mi=ti("system.init"),pi=ti("system.touchmove"),fi=ti("system.touchend"),gi=ti("system.scroll"),vi=ti("system.resize"),bi=ti("system.attached"),yi=ti("system.detached"),wi=ti("system.dismissRequested"),xi=ti("system.repositionRequested"),_i=ti("focusmanager.shifted"),Si=ti("slotcontainer.visibility"),Ci=ti("system.external.element.scroll"),ji=ti("change.tab"),ki=ti("dismiss.tab"),Ei=ti("highlight"),Oi=ti("dehighlight"),Ai=(e,t)=>{Pi(e,e.element,t,{})},Ti=(e,t,n)=>{Pi(e,e.element,t,n)},Di=e=>{Ai(e,ai())},Mi=(e,t,n)=>{Pi(e,t,n,{})},Pi=(e,t,n,o)=>{const r={target:t,...o};e.getSystem().triggerEvent(n,t,r)},Ri=(e,t,n,o)=>{e.getSystem().triggerEvent(n,t,o.event)},Ni=e=>Er(e),Li=(e,t)=>({key:e,value:Pr({abort:t})}),Ii=e=>({key:e,value:Pr({run:(e,t)=>{t.event.prevent()}})}),Bi=(e,t)=>({key:e,value:Pr({run:t})}),Fi=(e,t,n)=>({key:e,value:Pr({run:(e,o)=>{t.apply(void 0,[e,o].concat(n))}})}),Hi=e=>t=>({key:e,value:Pr({run:(e,n)=>{Dr(e,n)&&t(e,n)}})}),Vi=(e,t,n)=>((e,t)=>Bi(e,((n,o)=>{n.getSystem().getByUid(t).each((t=>{Ri(t,t.element,e,o)}))})))(e,t.partUids[n]),zi=(e,t)=>Bi(e,((e,n)=>{const o=n.event,r=e.getSystem().getByDom(o.target).getOrThunk((()=>Tr(o.target,(t=>e.getSystem().getByDom(t).toOptional()),E).getOr(e)));t(e,r,n)})),Ui=e=>Bi(e,((e,t)=>{t.cut()})),Wi=e=>Bi(e,((e,t)=>{t.stop()})),qi=(e,t)=>Hi(e)(t),Zi=Hi(bi()),Gi=Hi(yi()),$i=Hi(mi()),Yi=(es=ai(),e=>Bi(es,e)),Ki=e=>e.dom.innerHTML,Xi=(e,t)=>{const n=Qe(e).dom,o=Le(n.createDocumentFragment()),r=((e,t)=>{const n=(t||document).createElement("div");return n.innerHTML=e,it(Le(n))})(t,n);In(o,r),Bn(e),Ln(e,o)},Qi=e=>(e=>dt(e)?"#shadow-root":(e=>{const t=Re("div"),n=Le(e.dom.cloneNode(!0));return Ln(t,n),Ki(t)})((e=>((e,t)=>Le(e.dom.cloneNode(!1)))(e))(e)))(e),Ji=Ni([((e,t)=>({key:e,value:Pr({can:(e,t)=>{const n=t.event,o=n.originator,r=n.target;return!((e,t,n)=>Ke(t,e.element)&&!Ke(t,n))(e,o,r)||(console.warn(oi()+" did not get interpreted by the desired target. \nOriginator: "+Qi(o)+"\nTarget: "+Qi(r)+"\nCheck the "+oi()+" event handlers"),!1)}})}))(oi())]);var es,ts=Object.freeze({__proto__:null,events:Ji});let ns=0;const os=e=>{const t=(new Date).getTime(),n=Math.floor(1e9*Math.random());return ns++,e+"_"+n+ns+String(t)},rs=w("alloy-id-"),is=w("data-alloy-id"),ss=rs(),as=is(),ls=(e,t)=>{Object.defineProperty(e.dom,as,{value:t,writable:!0})},cs=e=>{const t=Ue(e)?e.dom[as]:null;return A.from(t)},ds=e=>os(e),us=x,hs=e=>{const t=t=>`The component must be in a context to execute: ${t}`+(e?"\n"+Qi(e().element)+" is not in context.":""),n=e=>()=>{throw new Error(t(e))},o=e=>()=>{console.warn(t(e))};return{debugInfo:w("fake"),triggerEvent:o("triggerEvent"),triggerFocus:o("triggerFocus"),triggerEscape:o("triggerEscape"),broadcast:o("broadcast"),broadcastOn:o("broadcastOn"),broadcastEvent:o("broadcastEvent"),build:n("build"),buildOrPatch:n("buildOrPatch"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),isConnected:E}},ms=hs(),ps=e=>F(e,(e=>Ae(e,"/*")?e.substring(0,e.length-2):e)),fs=(e,t)=>{const n=e.toString(),o=n.indexOf(")")+1,r=n.indexOf("("),i=n.substring(r+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:ps(i)}),e},gs=os("alloy-premade"),vs=e=>(Object.defineProperty(e.element.dom,gs,{value:e.uid,writable:!0}),kr(gs,e)),bs=e=>ve(e,gs),ys=e=>((e,t)=>{const n=t.toString(),o=n.indexOf(")")+1,r=n.indexOf("("),i=n.substring(r+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:ps(i.slice(1))}),e})(((t,...n)=>e(t.getApis(),t,...n)),e),ws={init:()=>xs({readState:w("No State required")})},xs=e=>e,_s=(e,t)=>{const n={};return le(e,((e,o)=>{le(e,((e,r)=>{const i=ve(n,r).getOr([]);n[r]=i.concat([t(o,e)])}))})),n},Ss=e=>({classes:u(e.classes)?[]:e.classes,attributes:u(e.attributes)?{}:e.attributes,styles:u(e.styles)?{}:e.styles}),Cs=e=>e.cHandler,js=(e,t)=>({name:e,handler:t}),ks=(e,t)=>{const n={};return H(e,(e=>{n[e.name()]=e.handlers(t)})),n},Es=(e,t)=>((e,t)=>{const n=(e=>{const t=[],n=[];return H(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{n.push(e)}))})),{errors:t,values:n}})(e);return n.errors.length>0?(o=n.errors,no.error(G(o))):((e,t)=>0===e.length?no.value(t):no.value(po(t,fo.apply(void 0,e))))(n.values,{});var o})(pe(e,((e,n)=>(1===e.length?no.value(e[0].handler):((e,t,n)=>{const o=t[n];return o?((e,t,n,o)=>{try{const t=ee(n,((t,n)=>{const r=t.name,i=n.name,s=o.indexOf(r),a=o.indexOf(i);if(-1===s)throw new Error("The ordering for "+e+" does not have an entry for "+r+".\nOrder specified: "+JSON.stringify(o,null,2));if(-1===a)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(o,null,2));return s<a?-1:a<s?1:0}));return no.value(t)}catch(e){return no.error([e])}})("Event: "+n,0,e,o).map((e=>(e=>{const t=((e,t)=>(...t)=>W(e,((e,n)=>e&&(e=>e.can)(n).apply(void 0,t)),!0))(e),n=((e,t)=>(...t)=>W(e,((e,n)=>e||(e=>e.abort)(n).apply(void 0,t)),!1))(e);return{can:t,abort:n,run:(...t)=>{H(e,(e=>{e.run.apply(void 0,t)}))}}})(F(e,(e=>e.handler))))):((e,t)=>no.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(F(t,(e=>e.name)),null,2)]))(n,e)})(e,t,n)).map((o=>{const r=(e=>{const t=(e=>p(e)?{can:O,abort:E,run:e}:e)(e);return(e,n,...o)=>{const r=[e,n].concat(o);t.abort.apply(void 0,r)?n.stop():t.can.apply(void 0,r)&&t.run.apply(void 0,r)}})(o),i=e.length>1?z(t[n],(t=>L(e,(e=>e.name===t)))).join(" > "):e[0].name;return kr(n,((e,t)=>({handler:e,purpose:t}))(r,i))}))))),Os="alloy.base.behaviour",As=Oo([Yo("dom","dom",{tag:"required",process:{}},Oo([Qo("tag"),fr("styles",{}),fr("classes",[]),fr("attributes",{}),ar("value"),ar("innerHtml")])),Qo("components"),Qo("uid"),fr("events",{}),fr("apis",{}),Yo("eventOrder","eventOrder",(Js={[ai()]:["disabling",Os,"toggling","typeaheadevents"],[oi()]:[Os,"focusing","keying"],[mi()]:[Os,"disabling","toggling","representing"],[$r()]:[Os,"representing","streaming","invalidating"],[yi()]:[Os,"representing","item-events","tooltipping"],[Fr()]:["focusing",Os,"item-type-events"],[Nr()]:["focusing",Os,"item-type-events"],[Ur()]:["item-type-events","tooltipping"],[si()]:["receiving","reflecting","tooltipping"]},bo(w(Js))),Mo()),ar("domModification")]),Ts=e=>e.events,Ds=(e,t)=>{const n=St(e,t);return void 0===n||""===n?[]:n.split(" ")},Ms=e=>void 0!==e.dom.classList,Ps=e=>Ds(e,"class"),Rs=(e,t)=>{Ms(e)?e.dom.classList.add(t):((e,t)=>{((e,t,n)=>{const o=Ds(e,t).concat([n]);xt(e,t,o.join(" "))})(e,"class",t)})(e,t)},Ns=(e,t)=>{Ms(e)?e.dom.classList.remove(t):((e,t)=>{((e,t,n)=>{const o=z(Ds(e,t),(e=>e!==n));o.length>0?xt(e,t,o.join(" ")):kt(e,t)})(e,"class",t)})(e,t),(e=>{0===(Ms(e)?e.dom.classList:Ps(e)).length&&kt(e,"class")})(e)},Ls=(e,t)=>Ms(e)&&e.dom.classList.contains(t),Is=(e,t)=>{H(t,(t=>{Rs(e,t)}))},Bs=(e,t)=>{H(t,(t=>{Ns(e,t)}))},Fs=(e,t)=>Y(t,(t=>Ls(e,t))),Hs=e=>e.dom.value,Vs=(e,t)=>{if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},zs=(e,t,n)=>{n.fold((()=>Ln(e,t)),(e=>{Ke(e,t)||(Pn(e,t),Fn(e))}))},Us=(e,t,n)=>{const o=F(t,n),r=it(e);return H(r.slice(o.length),Fn),o},Ws=(e,t,n,o)=>{const r=st(e,t),i=o(n,r),s=((e,t,n)=>st(e,t).map((e=>{if(n.exists((t=>!Ke(t,e)))){const t=n.map(He).getOr("span"),o=Re(t);return Pn(e,o),o}return e})))(e,t,r);return zs(e,i.element,s),i},qs=(e,t)=>{const n=se(e),o=se(t),r=X(o,n),i=((e,n)=>{const o={},r={};return he(e,((e,n)=>!be(t,n)||e!==t[n]),ue(o),ue(r)),{t:o,f:r}})(e).t;return{toRemove:r,toSet:i}},Zs=(e,t)=>{const n=()=>h,o=Cr(ms),r=Wo((e=>Uo("custom.definition",As,e))(e)),i=(e=>{const t=(e=>{const t=ve(e,"behaviours").getOr({});return $(se(t),(e=>{const n=t[e];return m(n)?[n.me]:[]}))})(e);return((e,t)=>((e,t)=>{const n=F(t,(e=>pr(e.name(),[Qo("config"),fr("state",ws)]))),o=Uo("component.behaviours",Oo(n),e.behaviours).fold((t=>{throw new Error(Zo(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),x);return{list:t,data:ce(o,(e=>{const t=e.map((e=>({config:e.config,state:e.state.init(e.config)})));return w(t)}))}})(e,t))(e,t)})(e),s=(e=>e.list)(i),a=(e=>e.data)(i),l=((e,t,n)=>{const o={...(r=e).dom,uid:r.uid,domChildren:F(r.components,(e=>e.element))};var r;const i=(e=>e.domModification.fold((()=>Ss({})),Ss))(e),s={"alloy.base.modification":i},a=t.length>0?((e,t,n,o)=>{const r={...t};H(n,(t=>{r[t.name()]=t.exhibit(e,o)}));const i=_s(r,((e,t)=>({name:e,modification:t}))),s=e=>U(e,((e,t)=>({...t.modification,...e})),{}),a=U(i.classes,((e,t)=>t.modification.concat(e)),[]),l=s(i.attributes),c=s(i.styles);return Ss({classes:a,attributes:l,styles:c})})(n,s,t,o):i;return l=o,c=a,{...l,attributes:{...l.attributes,...c.attributes},styles:{...l.styles,...c.styles},classes:l.classes.concat(c.classes)};var l,c})(r,s,a),c=((e,t)=>{const n=t.filter((t=>He(t)===e.tag&&!(e=>e.innerHtml.isSome()&&e.domChildren.length>0)(e)&&!(e=>be(e.dom,gs))(t))).bind((t=>((e,t)=>{try{const n=((e,t)=>{const{class:n,style:o,...r}=(e=>W(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}))(t),{toSet:i,toRemove:s}=qs(e.attributes,r),a=Nt(t),{toSet:l,toRemove:c}=qs(e.styles,a),d=(e=>Ms(e)?(e=>{const t=e.dom.classList,n=new Array(t.length);for(let e=0;e<t.length;e++){const o=t.item(e);null!==o&&(n[e]=o)}return n})(e):Ps(e))(t),u=X(d,e.classes),h=X(e.classes,d);return H(s,(e=>kt(t,e))),_t(t,i),Is(t,h),Bs(t,u),H(c,(e=>It(t,e))),Tt(t,l),e.innerHtml.fold((()=>{const n=e.domChildren;((e,t)=>{Us(e,t,((t,n)=>{const o=st(e,n);return zs(e,t,o),t}))})(t,n)}),(e=>{Xi(t,e)})),(()=>{const n=t,o=e.value.getOrUndefined();o!==Hs(n)&&Vs(n,null!=o?o:"")})(),t})(e,t);return A.some(n)}catch(e){return A.none()}})(e,t))).getOrThunk((()=>(e=>{const t=Re(e.tag);_t(t,e.attributes),Is(t,e.classes),Tt(t,e.styles),e.innerHtml.each((e=>Xi(t,e)));const n=e.domChildren;return In(t,n),e.value.each((e=>{Vs(t,e)})),t})(e)));return ls(n,e.uid),n})(l,t),d=((e,t,n)=>{const o={"alloy.base.behaviour":Ts(e)};return((e,t,n,o)=>{const r=((e,t,n)=>{const o={...n,...ks(t,e)};return _s(o,js)})(e,n,o);return Es(r,t)})(n,e.eventOrder,t,o).getOrDie()})(r,s,a),u=Cr(r.components),h={uid:e.uid,getSystem:o.get,config:t=>{const n=a;return(p(n[t.name()])?n[t.name()]:()=>{throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:e=>p(a[e.name()]),spec:e,readState:e=>a[e]().map((e=>e.state.readState())).getOr("not enabled"),getApis:()=>r.apis,connect:e=>{o.set(e)},disconnect:()=>{o.set(hs(n))},element:c,syncComponents:()=>{const e=it(c),t=$(e,(e=>o.get().getByDom(e).fold((()=>[]),J)));u.set(t)},components:u.get,events:d};return h},Gs=e=>{const t=Ne(e);return $s({element:t})},$s=e=>{const t=qo("external.component",Eo([Qo("element"),ar("uid")]),e),n=Cr(hs()),o=t.uid.getOrThunk((()=>ds("external")));ls(t.element,o);const r={uid:o,getSystem:n.get,config:A.none,hasConfigured:E,connect:e=>{n.set(e)},disconnect:()=>{n.set(hs((()=>r)))},getApis:()=>({}),element:t.element,spec:e,readState:w("No state"),syncComponents:v,components:w([]),events:{}};return vs(r)},Ys=ds,Ks=(e,t)=>bs(e).getOrThunk((()=>((e,t)=>{const{events:n,...o}=us(e),r=((e,t)=>{const n=ve(e,"components").getOr([]);return t.fold((()=>F(n,Xs)),(e=>F(n,((t,n)=>Ks(t,st(e,n))))))})(o,t),i={...o,events:{...ts,...n},components:r};return no.value(Zs(i,t))})((e=>be(e,"uid"))(e)?e:{uid:Ys(""),...e},t).getOrDie())),Xs=e=>Ks(e,A.none()),Qs=vs;var Js,ea=(e,t,n,o,r)=>e(n,o)?A.some(n):p(r)&&r(n)?A.none():t(n,o,r);const ta=(e,t,n)=>{let o=e.dom;const r=p(n)?n:E;for(;o.parentNode;){o=o.parentNode;const e=Le(o);if(t(e))return A.some(e);if(r(e))break}return A.none()},na=(e,t,n)=>ea(((e,t)=>t(e)),ta,e,t,n),oa=(e,t,n)=>na(e,t,n).isSome(),ra=(e,t,n)=>ta(e,(e=>$e(e,t)),n),ia=(e,t)=>((e,n)=>q(e.dom.childNodes,(e=>{return n=Le(e),$e(n,t);var n})).map(Le))(e),sa=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return Ye(n)?A.none():A.from(n.querySelector(e)).map(Le)})(t,e),aa=(e,t,n)=>ea(((e,t)=>$e(e,t)),ra,e,t,n),la="aria-controls",ca=()=>{const e=os(la);return{id:e,link:t=>{xt(t,la,e)},unlink:e=>{kt(e,la)}}},da=(e,t)=>oa(t,(t=>Ke(t,e.element)),E)||((e,t)=>(e=>na(e,(e=>{if(!Ue(e))return!1;const t=St(e,"id");return void 0!==t&&t.indexOf(la)>-1})).bind((e=>{const t=St(e,"id"),n=mt(e);return sa(n,`[${la}="${t}"]`)})))(t).exists((t=>da(e,t))))(e,t);var ua;!function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"}(ua||(ua={}));const ha=Cr({}),ma=["alloy/data/Fields","alloy/debugging/Debugging"],pa=(e,t,n)=>((e,t,n)=>{switch(ve(ha.get(),e).orThunk((()=>{const t=se(ha.get());return ie(t,(t=>e.indexOf(t)>-1?A.some(ha.get()[t]):A.none()))})).getOr(ua.NORMAL)){case ua.NORMAL:return n(fa());case ua.LOGGING:{const o=((e,t)=>{const n=[],o=(new Date).getTime();return{logEventCut:(e,t,o)=>{n.push({outcome:"cut",target:t,purpose:o})},logEventStopped:(e,t,o)=>{n.push({outcome:"stopped",target:t,purpose:o})},logNoParent:(e,t,o)=>{n.push({outcome:"no-parent",target:t,purpose:o})},logEventNoHandlers:(e,t)=>{n.push({outcome:"no-handlers-left",target:t})},logEventResponse:(e,t,o)=>{n.push({outcome:"response",purpose:o,target:t})},write:()=>{const r=(new Date).getTime();N(["mousemove","mouseover","mouseout",mi()],e)||console.log(e,{event:e,time:r-o,target:t.dom,sequence:F(n,(e=>N(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+Qi(e.target)+")":e.outcome))})}}})(e,t),r=n(o);return o.write(),r}case ua.STOP:return!0}})(e,t,n),fa=w({logEventCut:v,logEventStopped:v,logNoParent:v,logEventNoHandlers:v,logEventResponse:v,write:v}),ga=w([Qo("menu"),Qo("selectedMenu")]),va=w([Qo("item"),Qo("selectedItem")]);w(Oo(va().concat(ga())));const ba=w(Oo(va())),ya=rr("initSize",[Qo("numColumns"),Qo("numRows")]),wa=()=>rr("markers",[Qo("backgroundMenu")].concat(ga()).concat(va())),xa=e=>rr("markers",F(e,Qo)),_a=(e,t,n)=>((()=>{const e=new Error;if(void 0!==e.stack){const t=e.stack.split("\n");q(t,(e=>e.indexOf("alloy")>0&&!L(ma,(t=>e.indexOf(t)>-1)))).getOr("unknown")}})(),Yo(t,t,n,Vo((e=>no.value(((...t)=>e.apply(void 0,t))))))),Sa=e=>_a(0,e,vo(v)),Ca=e=>_a(0,e,vo(A.none)),ja=e=>_a(0,e,{tag:"required",process:{}}),ka=e=>_a(0,e,{tag:"required",process:{}}),Ea=(e,t)=>Ko(e,w(t)),Oa=e=>Ko(e,x),Aa=w(ya),Ta=(e,t,n,o,r,i,s,a=!1)=>({x:e,y:t,bubble:n,direction:o,placement:r,restriction:i,label:`${s}-${r}`,alwaysFit:a}),Da=jr([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Ma=Da.southeast,Pa=Da.southwest,Ra=Da.northeast,Na=Da.northwest,La=Da.south,Ia=Da.north,Ba=Da.east,Fa=Da.west,Ha=(e,t,n,o)=>{const r=e+t;return r>o?n:r<n?o:r},Va=(e,t,n)=>Math.min(Math.max(e,t),n),za=(e,t)=>Q(["left","right","top","bottom"],(n=>ve(t,n).map((t=>((e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}})(e,t))))),Ua="layout",Wa=e=>e.x,qa=(e,t)=>e.x+e.width/2-t.width/2,Za=(e,t)=>e.x+e.width-t.width,Ga=(e,t)=>e.y-t.height,$a=e=>e.y+e.height,Ya=(e,t)=>e.y+e.height/2-t.height/2,Ka=(e,t,n)=>Ta(Wa(e),$a(e),n.southeast(),Ma(),"southeast",za(e,{left:1,top:3}),Ua),Xa=(e,t,n)=>Ta(Za(e,t),$a(e),n.southwest(),Pa(),"southwest",za(e,{right:0,top:3}),Ua),Qa=(e,t,n)=>Ta(Wa(e),Ga(e,t),n.northeast(),Ra(),"northeast",za(e,{left:1,bottom:2}),Ua),Ja=(e,t,n)=>Ta(Za(e,t),Ga(e,t),n.northwest(),Na(),"northwest",za(e,{right:0,bottom:2}),Ua),el=(e,t,n)=>Ta(qa(e,t),Ga(e,t),n.north(),Ia(),"north",za(e,{bottom:2}),Ua),tl=(e,t,n)=>Ta(qa(e,t),$a(e),n.south(),La(),"south",za(e,{top:3}),Ua),nl=(e,t,n)=>Ta((e=>e.x+e.width)(e),Ya(e,t),n.east(),Ba(),"east",za(e,{left:0}),Ua),ol=(e,t,n)=>Ta(((e,t)=>e.x-t.width)(e,t),Ya(e,t),n.west(),Fa(),"west",za(e,{right:1}),Ua),rl=()=>[Ka,Xa,Qa,Ja,tl,el,nl,ol],il=()=>[Xa,Ka,Ja,Qa,tl,el,nl,ol],sl=()=>[Qa,Ja,Ka,Xa,el,tl],al=()=>[Ja,Qa,Xa,Ka,el,tl],ll=()=>[Ka,Xa,Qa,Ja,tl,el],cl=()=>[Xa,Ka,Ja,Qa,tl,el];var dl=Object.freeze({__proto__:null,events:e=>Ni([Bi(si(),((t,n)=>{const o=e.channels,r=se(o),i=n,s=((e,t)=>t.universal?e:z(e,(e=>N(t.channels,e))))(r,i);H(s,(e=>{const n=o[e],r=n.schema,s=qo("channel["+e+"] data\nReceiver: "+Qi(t.element),r,i.data);n.onReceive(t,s)}))}))])}),ul=[Jo("channels",zo(no.value,Eo([ja("onReceive"),fr("schema",Mo())])))];const hl=(e,t,n)=>$i(((o,r)=>{n(o,e,t)})),ml=e=>({key:e,value:void 0}),pl=(e,t,n,o,r,i,s)=>{const a=e=>ye(e,n)?e[n]():A.none(),l=ce(r,((e,t)=>((e,t,n)=>((e,t,n)=>{const o=n.toString(),r=o.indexOf(")")+1,i=o.indexOf("("),s=o.substring(i+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:ps(s.slice(0,1).concat(s.slice(3)))}),e})(((o,...r)=>{const i=[o].concat(r);return o.config({name:w(e)}).fold((()=>{throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(e=>{const n=Array.prototype.slice.call(i,1);return t.apply(void 0,[o,e.config,e.state].concat(n))}))}),n,t))(n,e,t))),c={...ce(i,((e,t)=>fs(e,t))),...l,revoke:S(ml,n),config:t=>{const o=qo(n+"-config",e,t);return{key:n,value:{config:o,me:c,configAsRaw:Xt((()=>qo(n+"-config",e,t))),initialConfig:t,state:s}}},schema:w(t),exhibit:(e,t)=>_e(a(e),ve(o,"exhibit"),((e,n)=>n(t,e.config,e.state))).getOrThunk((()=>Ss({}))),name:w(n),handlers:e=>a(e).map((e=>ve(o,"events").getOr((()=>({})))(e.config,e.state))).getOr({})};return c},fl=e=>Er(e),gl=Eo([Qo("fields"),Qo("name"),fr("active",{}),fr("apis",{}),fr("state",ws),fr("extra",{})]),vl=e=>{const t=qo("Creating behaviour: "+e.name,gl,e);return((e,t,n,o,r,i)=>{const s=Eo(e),a=pr(t,[(l=e,lr("config",Eo(l)))]);var l;return pl(s,a,t,n,o,r,i)})(t.fields,t.name,t.active,t.apis,t.extra,t.state)},bl=Eo([Qo("branchKey"),Qo("branches"),Qo("name"),fr("active",{}),fr("apis",{}),fr("state",ws),fr("extra",{})]),yl=e=>{const t=qo("Creating behaviour: "+e.name,bl,e);return((e,t,n,o,r,i)=>{const s=e,a=pr(t,[lr("config",e)]);return pl(s,a,t,n,o,r,i)})(Go(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},wl=w(void 0),xl=vl({fields:ul,name:"receiving",active:dl});var _l=Object.freeze({__proto__:null,exhibit:(e,t)=>Ss({classes:[],styles:t.useFixed()?{}:{position:"relative"}})});const Sl=e=>e.dom.focus(),Cl=e=>e.dom.blur(),jl=e=>{const t=mt(e).dom;return e.dom===t.activeElement},kl=(e=Wn())=>A.from(e.dom.activeElement).map(Le),El=e=>kl(mt(e)).filter((t=>e.dom.contains(t.dom))),Ol=(e,t)=>{const n=mt(t),o=kl(n).bind((e=>{const n=t=>Ke(e,t);return n(t)?A.some(t):((e,t)=>{const n=e=>{for(let o=0;o<e.childNodes.length;o++){const r=Le(e.childNodes[o]);if(t(r))return A.some(r);const i=n(e.childNodes[o]);if(i.isSome())return i}return A.none()};return n(e.dom)})(t,n)})),r=e(t);return o.each((e=>{kl(n).filter((t=>Ke(t,e))).fold((()=>{Sl(e)}),v)})),r},Al=(e,t,n,o,r)=>{const i=e=>e+"px";return{position:e,left:t.map(i),top:n.map(i),right:o.map(i),bottom:r.map(i)}},Tl=(e,t)=>{Dt(e,(e=>({...e,position:A.some(e.position)}))(t))},Dl=jr([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Ml=(e,t,n,o,r,i)=>{const s=t.rect,a=s.x-n,l=s.y-o,c=r-(a+s.width),d=i-(l+s.height),u=A.some(a),h=A.some(l),m=A.some(c),p=A.some(d),f=A.none();return t.direction.fold((()=>Al(e,u,h,f,f)),(()=>Al(e,f,h,m,f)),(()=>Al(e,u,f,f,p)),(()=>Al(e,f,f,m,p)),(()=>Al(e,u,h,f,f)),(()=>Al(e,u,f,f,p)),(()=>Al(e,u,h,f,f)),(()=>Al(e,f,h,m,f)))},Pl=(e,t)=>e.fold((()=>{const e=t.rect;return Al("absolute",A.some(e.x),A.some(e.y),A.none(),A.none())}),((e,n,o,r)=>Ml("absolute",t,e,n,o,r)),((e,n,o,r)=>Ml("fixed",t,e,n,o,r))),Rl=(e,t)=>{const n=S(Gn,t),o=e.fold(n,n,(()=>{const e=Hn();return Gn(t).translate(-e.left,-e.top)})),r=Kt(t),i=zt(t);return $n(o.left,o.top,r,i)},Nl=(e,t)=>t.fold((()=>e.fold(Qn,Qn,$n)),(t=>e.fold(w(t),w(t),(()=>{const n=Ll(e,t.x,t.y);return $n(n.left,n.top,t.width,t.height)})))),Ll=(e,t,n)=>{const o=Wt(t,n);return e.fold(w(o),w(o),(()=>{const e=Hn();return o.translate(-e.left,-e.top)}))};Dl.none;const Il=Dl.relative,Bl=Dl.fixed,Fl="data-alloy-placement",Hl=e=>Ct(e,Fl),Vl=jr([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),zl=e=>{const t=Cr(A.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(A.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(A.some(e))}}},Ul=()=>zl((e=>e.unbind())),Wl=()=>{const e=zl(v);return{...e,on:t=>e.get().each(t)}},ql=O,Zl=(e,t,n)=>((e,t,n,o)=>Dn(e,t,n,o,!1))(e,t,ql,n),Gl=(e,t,n)=>((e,t,n,o)=>Dn(e,t,n,o,!0))(e,t,ql,n),$l=Tn,Yl=["top","bottom","right","left"],Kl="data-alloy-transition-timer",Xl=(e,t)=>{((e,t)=>{const n=Ht.max(e,t,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);At(e,"max-height",n+"px")})(e,Math.floor(t))},Ql=w(((e,t)=>{Xl(e,t),Tt(e,{"overflow-x":"hidden","overflow-y":"auto"})})),Jl=w(((e,t)=>{Xl(e,t)})),ec=(e,t,n)=>void 0===e[t]?n:e[t],tc=(e,t,n,o)=>{const r=((e,t,n,o)=>{It(t,"max-height"),It(t,"max-width");const r={width:Kt(i=t),height:zt(i)};var i;return((e,t,n,o,r,i)=>{const s=o.width,a=o.height,l=(t,l,c,d,u)=>{const h=((e,t,n,o)=>{const r=e.bubble,i=r.offset,s=((e,t,n)=>{const o=(o,r)=>t[o].map((t=>{const i="top"===o||"bottom"===o,s=i?n.top:n.left,a=("left"===o||"top"===o?Math.max:Math.min)(t,r)+s;return i?Va(a,e.y,e.bottom):Va(a,e.x,e.right)})).getOr(r),r=o("left",e.x),i=o("top",e.y),s=o("right",e.right),a=o("bottom",e.bottom);return $n(r,i,s-r,a-i)})(o,e.restriction,i),a=e.x+i.left,l=e.y+i.top,c=$n(a,l,t,n),{originInBounds:d,sizeInBounds:u,visibleW:h,visibleH:m}=((e,t)=>{const{x:n,y:o,right:r,bottom:i}=t,{x:s,y:a,right:l,bottom:c,width:d,height:u}=e;return{originInBounds:s>=n&&s<=r&&a>=o&&a<=i,sizeInBounds:l<=r&&l>=n&&c<=i&&c>=o,visibleW:Math.min(d,s>=n?r-s:l-n),visibleH:Math.min(u,a>=o?i-a:c-o)}})(c,s),p=d&&u,f=p?c:((e,t)=>{const{x:n,y:o,right:r,bottom:i}=t,{x:s,y:a,width:l,height:c}=e,d=Math.max(n,r-l),u=Math.max(o,i-c),h=Va(s,n,d),m=Va(a,o,u),p=Math.min(h+l,r)-h,f=Math.min(m+c,i)-m;return $n(h,m,p,f)})(c,s),g=f.width>0&&f.height>0,{maxWidth:v,maxHeight:b}=((e,t,n)=>{const o=w(t.bottom-n.y),r=w(n.bottom-t.y),i=((e,t,n,o)=>e.fold(t,t,o,o,t,o,n,n))(e,r,r,o),s=w(t.right-n.x),a=w(n.right-t.x),l=((e,t,n,o)=>e.fold(t,o,t,o,n,n,t,o))(e,a,a,s);return{maxWidth:l,maxHeight:i}})(e.direction,f,o),y={rect:f,maxHeight:b,maxWidth:v,direction:e.direction,placement:e.placement,classes:{on:r.classesOn,off:r.classesOff},layout:e.label,testY:l};return p||e.alwaysFit?Vl.fit(y):Vl.nofit(y,h,m,g)})(t(n,o,r,e,i),s,a,i);return h.fold(w(h),((e,t,n,o)=>(u===o?n>d||t>c:!u&&o)?h:Vl.nofit(l,c,d,u)))};return W(t,((e,t)=>{const n=S(l,t);return e.fold(w(e),n)}),Vl.nofit({rect:n,maxHeight:o.height,maxWidth:o.width,direction:Ma(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:n.y},-1,-1,!1)).fold(x,x)})(t,o.preference,e,r,n,o.bounds)})(e,t,n,o);return((e,t,n)=>{const o=Pl(n.origin,t);n.transition.each((r=>{((e,t,n,o,r,s)=>{const a=((e,t,n)=>n.exists((n=>{const o=e.mode;return"all"===o||n[o]!==t[o]})))(o,r,s);if(a||((e,t)=>Fs(e,t.classes))(e,o)){At(e,"position",n.position);const s=Rl(t,e),l=Pl(t,{...r,rect:s}),c=Q(Yl,(e=>l[e]));((e,t)=>{const n=e=>parseFloat(e).toFixed(3);return fe(t,((t,o)=>!((e,t,n=_)=>_e(e,t,n).getOr(e.isNone()&&t.isNone()))(e[o].map(n),t.map(n)))).isSome()})(n,c)&&(Dt(e,c),a&&((e,t)=>{Is(e,t.classes),Ct(e,Kl).each((t=>{clearTimeout(parseInt(t,10)),kt(e,Kl)})),((e,t)=>{const n=Ul(),o=Ul();let r;const s=t=>{var n;const o=null!==(n=t.raw.pseudoElement)&&void 0!==n?n:"";return Ke(t.target,e)&&!De(o)&&N(Yl,t.raw.propertyName)},a=i=>{if(h(i)||s(i)){n.clear(),o.clear();const s=null==i?void 0:i.raw.type;(h(s)||s===Qr())&&(clearTimeout(r),kt(e,Kl),Bs(e,t.classes))}},l=Zl(e,Jr(),(t=>{s(t)&&(l.unbind(),n.set(Zl(e,Qr(),a)),o.set(Zl(e,Xr(),a)))})),c=(e=>{const t=t=>{const n=Mt(e,t).split(/\s*,\s*/);return z(n,De)},n=e=>{if(i(e)&&/^[\d.]+/.test(e)){const t=parseFloat(e);return Ae(e,"ms")?t:1e3*t}return 0},o=t("transition-delay"),r=t("transition-duration");return W(r,((e,t,r)=>{const i=n(o[r])+n(t);return Math.max(e,i)}),0)})(e);requestAnimationFrame((()=>{r=setTimeout(a,c+17),xt(e,Kl,r)}))})(e,t)})(e,o),Bt(e))}else Bs(e,o.classes)})(e,n.origin,o,r,t,n.lastPlacement)})),Tl(e,o)})(t,r,o),((e,t)=>{((e,t)=>{xt(e,Fl,t)})(e,t.placement)})(t,r),((e,t)=>{const n=t.classes;Bs(e,n.off),Is(e,n.on)})(t,r),((e,t,n)=>{(0,n.maxHeightFunction)(e,t.maxHeight)})(t,r,o),((e,t,n)=>{(0,n.maxWidthFunction)(e,t.maxWidth)})(t,r,o),{layout:r.layout,placement:r.placement}},nc=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],oc=(e,t,n,o=1)=>{const r=e*o,i=t*o,s=e=>ve(n,e).getOr([]),a=(e,t,n)=>{const o=X(nc,n);return{offset:Wt(e,t),classesOn:$(n,s),classesOff:$(o,s)}};return{southeast:()=>a(-e,t,["top","alignLeft"]),southwest:()=>a(e,t,["top","alignRight"]),south:()=>a(-e/2,t,["top","alignCentre"]),northeast:()=>a(-e,-t,["bottom","alignLeft"]),northwest:()=>a(e,-t,["bottom","alignRight"]),north:()=>a(-e/2,-t,["bottom","alignCentre"]),east:()=>a(e,-t/2,["valignCentre","left"]),west:()=>a(-e,-t/2,["valignCentre","right"]),insetNortheast:()=>a(r,i,["top","alignLeft","inset"]),insetNorthwest:()=>a(-r,i,["top","alignRight","inset"]),insetNorth:()=>a(-r/2,i,["top","alignCentre","inset"]),insetSoutheast:()=>a(r,-i,["bottom","alignLeft","inset"]),insetSouthwest:()=>a(-r,-i,["bottom","alignRight","inset"]),insetSouth:()=>a(-r/2,-i,["bottom","alignCentre","inset"]),insetEast:()=>a(-r,-i/2,["valignCentre","right","inset"]),insetWest:()=>a(r,-i/2,["valignCentre","left","inset"])}},rc=()=>oc(0,0,{}),ic=x,sc=(e,t)=>n=>"rtl"===ac(n)?t:e,ac=e=>"rtl"===Mt(e,"direction")?"rtl":"ltr";var lc;!function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"}(lc||(lc={}));const cc="data-alloy-vertical-dir",dc=e=>oa(e,(e=>Ue(e)&&St(e,"data-alloy-vertical-dir")===lc.BottomToTop)),uc=()=>pr("layouts",[Qo("onLtr"),Qo("onRtl"),ar("onBottomLtr"),ar("onBottomRtl")]),hc=(e,t,n,o,r,i,s)=>{const a=s.map(dc).getOr(!1),l=t.layouts.map((t=>t.onLtr(e))),c=t.layouts.map((t=>t.onRtl(e))),d=a?t.layouts.bind((t=>t.onBottomLtr.map((t=>t(e))))).or(l).getOr(r):l.getOr(n),u=a?t.layouts.bind((t=>t.onBottomRtl.map((t=>t(e))))).or(c).getOr(i):c.getOr(o);return sc(d,u)(e)};var mc=[Qo("hotspot"),ar("bubble"),fr("overrides",{}),uc(),Ea("placement",((e,t,n)=>{const o=t.hotspot,r=Rl(n,o.element),i=hc(e.element,t,ll(),cl(),sl(),al(),A.some(t.hotspot.element));return A.some(ic({anchorBox:r,bubble:t.bubble.getOr(rc()),overrides:t.overrides,layouts:i}))}))],pc=[Qo("x"),Qo("y"),fr("height",0),fr("width",0),fr("bubble",rc()),fr("overrides",{}),uc(),Ea("placement",((e,t,n)=>{const o=Ll(n,t.x,t.y),r=$n(o.left,o.top,t.width,t.height),i=hc(e.element,t,rl(),il(),rl(),il(),A.none());return A.some(ic({anchorBox:r,bubble:t.bubble,overrides:t.overrides,layouts:i}))}))];const fc=jr([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),gc=e=>e.fold(x,((e,t,n)=>e.translate(-t,-n))),vc=e=>e.fold(x,x),bc=e=>W(e,((e,t)=>e.translate(t.left,t.top)),Wt(0,0)),yc=e=>{const t=F(e,vc);return bc(t)},wc=fc.screen,xc=fc.absolute,_c=(e,t,n)=>{const o=Qe(e.element),r=Hn(o),i=((e,t,n)=>{const o=tt(n.root).dom;return A.from(o.frameElement).map(Le).filter((t=>{const n=Qe(t),o=Qe(e.element);return Ke(n,o)})).map(Zt)})(e,0,n).getOr(r);return xc(i,r.left,r.top)},Sc=(e,t,n,o)=>{const r=wc(Wt(e,t));return A.some(((e,t,n)=>({point:e,width:t,height:n}))(r,n,o))},Cc=(e,t,n,o,r)=>e.map((e=>{const i=[t,e.point],s=(a=()=>yc(i),l=()=>yc(i),c=()=>(e=>{const t=F(e,gc);return bc(t)})(i),o.fold(a,l,c));var a,l,c;const d={x:s.left,y:s.top,width:e.width,height:e.height},u=n.showAbove?sl():ll(),h=n.showAbove?al():cl(),m=hc(r,n,u,h,u,h,A.none());return ic({anchorBox:d,bubble:n.bubble.getOr(rc()),overrides:n.overrides,layouts:m})}));var jc=[Qo("node"),Qo("root"),ar("bubble"),uc(),fr("overrides",{}),fr("showAbove",!1),Ea("placement",((e,t,n)=>{const o=_c(e,0,t);return t.node.filter(vt).bind((r=>{const i=r.dom.getBoundingClientRect(),s=Sc(i.left,i.top,i.width,i.height),a=t.node.getOr(e.element);return Cc(s,o,t,n,a)}))}))];const kc=(e,t,n,o)=>({start:e,soffset:t,finish:n,foffset:o}),Ec=jr([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Oc=(Ec.before,Ec.on,Ec.after,e=>e.fold(x,x,x)),Ac=jr([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Tc={domRange:Ac.domRange,relative:Ac.relative,exact:Ac.exact,exactFromRange:e=>Ac.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>Le(e.startContainer),relative:(e,t)=>Oc(e),exact:(e,t,n,o)=>e}))(e);return tt(t)},range:kc},Dc=(e,t,n)=>{const o=e.document.createRange();var r;return r=o,t.fold((e=>{r.setStartBefore(e.dom)}),((e,t)=>{r.setStart(e.dom,t)}),(e=>{r.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))})(o,n),o},Mc=(e,t,n,o,r)=>{const i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(o.dom,r),i},Pc=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Rc=jr([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Nc=(e,t,n)=>t(Le(n.startContainer),n.startOffset,Le(n.endContainer),n.endOffset),Lc=(e,t)=>((e,t)=>{const n=((e,t)=>t.match({domRange:e=>({ltr:w(e),rtl:A.none}),relative:(t,n)=>({ltr:Xt((()=>Dc(e,t,n))),rtl:Xt((()=>A.some(Dc(e,n,t))))}),exact:(t,n,o,r)=>({ltr:Xt((()=>Mc(e,t,n,o,r))),rtl:Xt((()=>A.some(Mc(e,o,r,t,n))))})}))(e,t);return((e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter((e=>!1===e.collapsed)).map((e=>Rc.rtl(Le(e.endContainer),e.endOffset,Le(e.startContainer),e.startOffset))).getOrThunk((()=>Nc(0,Rc.ltr,n))):Nc(0,Rc.ltr,n)})(0,n)})(e,t).match({ltr:(t,n,o,r)=>{const i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(o.dom,r),i},rtl:(t,n,o,r)=>{const i=e.document.createRange();return i.setStart(o.dom,r),i.setEnd(t.dom,n),i}});Rc.ltr,Rc.rtl;const Ic=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return Ye(n)?[]:F(n.querySelectorAll(e),Le)})(t,e),Bc=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return A.some(kc(Le(t.startContainer),t.startOffset,Le(n.endContainer),n.endOffset))}return A.none()},Fc=e=>{if(null===e.anchorNode||null===e.focusNode)return Bc(e);{const t=Le(e.anchorNode),n=Le(e.focusNode);return((e,t,n,o)=>{const r=((e,t,n,o)=>{const r=Qe(e).dom.createRange();return r.setStart(e.dom,t),r.setEnd(n.dom,o),r})(e,t,n,o),i=Ke(e,n)&&t===o;return r.collapsed&&!i})(t,e.anchorOffset,n,e.focusOffset)?A.some(kc(t,e.anchorOffset,n,e.focusOffset)):Bc(e)}},Hc=(e,t)=>(e=>{const t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?A.some(n).map(Pc):A.none()})(Lc(e,t)),Vc=((e,t)=>{const n=t=>e(t)?A.from(t.dom.nodeValue):A.none();return{get:t=>{if(!e(t))throw new Error("Can only get text value of a text node");return n(t).getOr("")},getOption:n,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})(We),zc=(e,t)=>({element:e,offset:t}),Uc=(e,t)=>We(e)?zc(e,t):((e,t)=>{const n=it(e);if(0===n.length)return zc(e,t);if(t<n.length)return zc(n[t],0);{const e=n[n.length-1],t=We(e)?(e=>Vc.get(e))(e).length:it(e).length;return zc(e,t)}})(e,t),Wc=(e,t)=>t.getSelection.getOrThunk((()=>()=>(e=>(e=>A.from(e.getSelection()))(e).filter((e=>e.rangeCount>0)).bind(Fc))(e)))().map((e=>{const t=Uc(e.start,e.soffset),n=Uc(e.finish,e.foffset);return Tc.range(t.element,t.offset,n.element,n.offset)}));var qc=[ar("getSelection"),Qo("root"),ar("bubble"),uc(),fr("overrides",{}),fr("showAbove",!1),Ea("placement",((e,t,n)=>{const o=tt(t.root).dom,r=_c(e,0,t),i=Wc(o,t).bind((e=>{const t=((e,t)=>(e=>{const t=e.getBoundingClientRect();return t.width>0||t.height>0?A.some(t).map(Pc):A.none()})(Lc(e,t)))(o,Tc.exactFromRange(e)).orThunk((()=>{const t=Ne("\ufeff");Pn(e.start,t);const n=Hc(o,Tc.exact(t,0,t,1));return Fn(t),n}));return t.bind((e=>Sc(e.left,e.top,e.width,e.height)))})),s=Wc(o,t).bind((e=>Ue(e.start)?A.some(e.start):ot(e.start))).getOr(e.element);return Cc(i,r,t,n,s)}))];const Zc="link-layout",Gc=e=>e.x+e.width,$c=(e,t)=>e.x-t.width,Yc=(e,t)=>e.y-t.height+e.height,Kc=e=>e.y,Xc=(e,t,n)=>Ta(Gc(e),Kc(e),n.southeast(),Ma(),"southeast",za(e,{left:0,top:2}),Zc),Qc=(e,t,n)=>Ta($c(e,t),Kc(e),n.southwest(),Pa(),"southwest",za(e,{right:1,top:2}),Zc),Jc=(e,t,n)=>Ta(Gc(e),Yc(e,t),n.northeast(),Ra(),"northeast",za(e,{left:0,bottom:3}),Zc),ed=(e,t,n)=>Ta($c(e,t),Yc(e,t),n.northwest(),Na(),"northwest",za(e,{right:1,bottom:3}),Zc),td=()=>[Xc,Qc,Jc,ed],nd=()=>[Qc,Xc,ed,Jc];var od=[Qo("item"),uc(),fr("overrides",{}),Ea("placement",((e,t,n)=>{const o=Rl(n,t.item.element),r=hc(e.element,t,td(),nd(),td(),nd(),A.none());return A.some(ic({anchorBox:o,bubble:rc(),overrides:t.overrides,layouts:r}))}))],rd=Go("type",{selection:qc,node:jc,hotspot:mc,submenu:od,makeshift:pc});const id=[sr("classes",No),yr("mode","all",["all","layout","placement"])],sd=[fr("useFixed",E),ar("getBounds")],ad=[Jo("anchor",rd),pr("transition",id)],ld=(e,t,n,o,r,i)=>{const s=qo("placement.info",Oo(ad),r),a=s.anchor,l=o.element,c=n.get(o.uid);Ol((()=>{At(l,"position","fixed");const r=Rt(l,"visibility");At(l,"visibility","hidden");const d=t.useFixed()?(()=>{const e=document.documentElement;return Bl(0,0,e.clientWidth,e.clientHeight)})():(e=>{const t=Zt(e.element),n=e.element.dom.getBoundingClientRect();return Il(t.left,t.top,n.width,n.height)})(e);a.placement(e,a,d).each((e=>{const r=i.orThunk((()=>t.getBounds.map(k))),a=((e,t,n,o,r,i)=>((e,t,n,o,r,i,s,a)=>{const l=ec(s,"maxHeightFunction",Ql()),c=ec(s,"maxWidthFunction",v),d=e.anchorBox,u=e.origin,h={bounds:Nl(u,i),origin:u,preference:o,maxHeightFunction:l,maxWidthFunction:c,lastPlacement:r,transition:a};return tc(d,t,n,h)})(((e,t)=>((e,t)=>({anchorBox:e,origin:t}))(e,t))(t.anchorBox,e),o.element,t.bubble,t.layouts,r,n,t.overrides,i))(d,e,r,o,c,s.transition);n.set(o.uid,a)})),r.fold((()=>{It(l,"visibility")}),(e=>{At(l,"visibility",e)})),Rt(l,"left").isNone()&&Rt(l,"top").isNone()&&Rt(l,"right").isNone()&&Rt(l,"bottom").isNone()&&we(Rt(l,"position"),"fixed")&&It(l,"position")}),l)};var cd=Object.freeze({__proto__:null,position:(e,t,n,o,r)=>{const i=A.none();ld(e,t,n,o,r,i)},positionWithinBounds:ld,getMode:(e,t,n)=>t.useFixed()?"fixed":"absolute",reset:(e,t,n,o)=>{const r=o.element;H(["position","left","right","top","bottom"],(e=>It(r,e))),(e=>{kt(e,Fl)})(r),n.clear(o.uid)}});const dd=vl({fields:sd,name:"positioning",active:_l,apis:cd,state:Object.freeze({__proto__:null,init:()=>{let e={};return xs({readState:()=>e,clear:t=>{m(t)?delete e[t]:e={}},set:(t,n)=>{e[t]=n},get:t=>ve(e,t)})}})}),ud=e=>e.getSystem().isConnected(),hd=e=>{Ai(e,yi());const t=e.components();H(t,hd)},md=e=>{const t=e.components();H(t,md),Ai(e,bi())},pd=(e,t)=>{e.getSystem().addToWorld(t),vt(e.element)&&md(t)},fd=e=>{hd(e),e.getSystem().removeFromWorld(e)},gd=(e,t)=>{Ln(e.element,t.element)},vd=(e,t)=>{bd(e,t,Ln)},bd=(e,t,n)=>{e.getSystem().addToWorld(t),n(e.element,t.element),vt(e.element)&&md(t),e.syncComponents()},yd=e=>{hd(e),Fn(e.element),e.getSystem().removeFromWorld(e)},wd=e=>{const t=nt(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()));yd(e),t.each((e=>{e.syncComponents()}))},xd=e=>{const t=e.components();H(t,yd),Bn(e.element),e.syncComponents()},_d=(e,t)=>{Cd(e,t,Ln)},Sd=(e,t)=>{Cd(e,t,Rn)},Cd=(e,t,n)=>{n(e,t.element);const o=it(t.element);H(o,(e=>{t.getByDom(e).each(md)}))},jd=e=>{const t=it(e.element);H(t,(t=>{e.getByDom(t).each(hd)})),Fn(e.element)},kd=(e,t,n,o)=>{n.get().each((t=>{xd(e)}));const r=t.getAttachPoint(e);vd(r,e);const i=e.getSystem().build(o);return vd(e,i),n.set(i),i},Ed=(e,t,n,o)=>{const r=kd(e,t,n,o);return t.onOpen(e,r),r},Od=(e,t,n)=>{n.get().each((o=>{xd(e),wd(e),t.onClose(e,o),n.clear()}))},Ad=(e,t,n)=>n.isOpen(),Td=(e,t,n)=>{const o=t.getAttachPoint(e);At(e.element,"position",dd.getMode(o)),((e,t,n,o)=>{Rt(e.element,t).fold((()=>{kt(e.element,n)}),(t=>{xt(e.element,n,t)})),At(e.element,t,"hidden")})(e,"visibility",t.cloakVisibilityAttr)},Dd=(e,t,n)=>{(e=>L(["top","left","right","bottom"],(t=>Rt(e,t).isSome())))(e.element)||It(e.element,"position"),((e,t,n)=>{Ct(e.element,n).fold((()=>It(e.element,t)),(n=>At(e.element,t,n)))})(e,"visibility",t.cloakVisibilityAttr)};var Md=Object.freeze({__proto__:null,cloak:Td,decloak:Dd,open:Ed,openWhileCloaked:(e,t,n,o,r)=>{Td(e,t),Ed(e,t,n,o),r(),Dd(e,t)},close:Od,isOpen:Ad,isPartOf:(e,t,n,o)=>Ad(0,0,n)&&n.get().exists((n=>t.isPartOf(e,n,o))),getState:(e,t,n)=>n.get(),setContent:(e,t,n,o)=>n.get().map((()=>kd(e,t,n,o)))}),Pd=Object.freeze({__proto__:null,events:(e,t)=>Ni([Bi(ui(),((n,o)=>{Od(n,e,t)}))])}),Rd=[Sa("onOpen"),Sa("onClose"),Qo("isPartOf"),Qo("getAttachPoint"),fr("cloakVisibilityAttr","data-precloak-visibility")],Nd=Object.freeze({__proto__:null,init:()=>{const e=Wl(),t=w("not-implemented");return xs({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}});const Ld=vl({fields:Rd,name:"sandboxing",active:Pd,apis:Md,state:Nd}),Id=w("dismiss.popups"),Bd=w("reposition.popups"),Fd=w("mouse.released"),Hd=Eo([fr("isExtraPart",E),pr("fireEventInstead",[fr("event",wi())])]),Vd=e=>{const t=qo("Dismissal",Hd,e);return{[Id()]:{schema:Eo([Qo("target")]),onReceive:(e,n)=>{Ld.isOpen(e)&&(Ld.isPartOf(e,n.target)||t.isExtraPart(e,n.target)||t.fireEventInstead.fold((()=>Ld.close(e)),(t=>Ai(e,t.event))))}}}},zd=Eo([pr("fireEventInstead",[fr("event",xi())]),or("doReposition")]),Ud=e=>{const t=qo("Reposition",zd,e);return{[Bd()]:{onReceive:e=>{Ld.isOpen(e)&&t.fireEventInstead.fold((()=>t.doReposition(e)),(t=>Ai(e,t.event)))}}}},Wd=(e,t,n)=>{t.store.manager.onLoad(e,t,n)},qd=(e,t,n)=>{t.store.manager.onUnload(e,t,n)};var Zd=Object.freeze({__proto__:null,onLoad:Wd,onUnload:qd,setValue:(e,t,n,o)=>{t.store.manager.setValue(e,t,n,o)},getValue:(e,t,n)=>t.store.manager.getValue(e,t,n),getState:(e,t,n)=>n}),Gd=Object.freeze({__proto__:null,events:(e,t)=>{const n=e.resetOnDom?[Zi(((n,o)=>{Wd(n,e,t)})),Gi(((n,o)=>{qd(n,e,t)}))]:[hl(e,t,Wd)];return Ni(n)}});const $d=()=>{const e=Cr(null);return xs({set:e.set,get:e.get,isNotSet:()=>null===e.get(),clear:()=>{e.set(null)},readState:()=>({mode:"memory",value:e.get()})})},Yd=()=>{const e=Cr({}),t=Cr({});return xs({readState:()=>({mode:"dataset",dataByValue:e.get(),dataByText:t.get()}),lookup:n=>ve(e.get(),n).orThunk((()=>ve(t.get(),n))),update:n=>{const o=e.get(),r=t.get(),i={},s={};H(n,(e=>{i[e.value]=e,ve(e,"meta").each((t=>{ve(t,"text").each((t=>{s[t]=e}))}))})),e.set({...o,...i}),t.set({...r,...s})},clear:()=>{e.set({}),t.set({})}})};var Kd=Object.freeze({__proto__:null,memory:$d,dataset:Yd,manual:()=>xs({readState:v}),init:e=>e.store.manager.state(e)});const Xd=(e,t,n,o)=>{const r=t.store;n.update([o]),r.setValue(e,o),t.onSetValue(e,o)};var Qd=[ar("initialValue"),Qo("getFallbackEntry"),Qo("getDataKey"),Qo("setValue"),Ea("manager",{setValue:Xd,getValue:(e,t,n)=>{const o=t.store,r=o.getDataKey(e);return n.lookup(r).getOrThunk((()=>o.getFallbackEntry(r)))},onLoad:(e,t,n)=>{t.store.initialValue.each((o=>{Xd(e,t,n,o)}))},onUnload:(e,t,n)=>{n.clear()},state:Yd})],Jd=[Qo("getValue"),fr("setValue",v),ar("initialValue"),Ea("manager",{setValue:(e,t,n,o)=>{t.store.setValue(e,o),t.onSetValue(e,o)},getValue:(e,t,n)=>t.store.getValue(e),onLoad:(e,t,n)=>{t.store.initialValue.each((n=>{t.store.setValue(e,n)}))},onUnload:v,state:ws.init})],eu=[ar("initialValue"),Ea("manager",{setValue:(e,t,n,o)=>{n.set(o),t.onSetValue(e,o)},getValue:(e,t,n)=>n.get(),onLoad:(e,t,n)=>{t.store.initialValue.each((e=>{n.isNotSet()&&n.set(e)}))},onUnload:(e,t,n)=>{n.clear()},state:$d})],tu=[gr("store",{mode:"memory"},Go("mode",{memory:eu,manual:Jd,dataset:Qd})),Sa("onSetValue"),fr("resetOnDom",!1)];const nu=vl({fields:tu,name:"representing",active:Gd,apis:Zd,extra:{setValueFrom:(e,t)=>{const n=nu.getValue(t);nu.setValue(e,n)}},state:Kd}),ou=(e,t)=>Sr(e,{},F(t,(t=>{return n=t.name(),o="Cannot configure "+t.name()+" for "+e,Yo(n,n,{tag:"option",process:{}},_o((e=>lo("The field: "+n+" is forbidden. "+o))));var n,o})).concat([Ko("dump",x)])),ru=e=>e.dump,iu=(e,t)=>({...fl(t),...e.dump}),su=ou,au=iu,lu="placeholder",cu=jr([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),du=e=>be(e,"uiType"),uu=(e,t,n,o)=>((e,t,n,o)=>du(n)&&n.uiType===lu?((e,t,n,o)=>e.exists((e=>e!==n.owner))?cu.single(!0,w(n)):ve(o,n.name).fold((()=>{throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+se(o)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(e=>e.replace())))(e,0,n,o):cu.single(!1,w(n)))(e,0,n,o).fold(((r,i)=>{const s=du(n)?i(t,n.config,n.validated):i(t),a=ve(s,"components").getOr([]),l=$(a,(n=>uu(e,t,n,o)));return[{...s,components:l}]}),((e,o)=>{if(du(n)){const e=o(t,n.config,n.validated);return n.validated.preprocess.getOr(x)(e)}return o(t)})),hu=cu.single,mu=cu.multiple,pu=w(lu),fu=jr([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),gu=fr("factory",{sketch:x}),vu=fr("schema",[]),bu=Qo("name"),yu=Yo("pname","pname",go((e=>"<alloy."+os(e.name)+">")),Mo()),wu=Ko("schema",(()=>[ar("preprocess")])),xu=fr("defaults",w({})),_u=fr("overrides",w({})),Su=Oo([gu,vu,bu,yu,xu,_u]),Cu=Oo([gu,vu,bu,xu,_u]),ju=Oo([gu,vu,bu,yu,xu,_u]),ku=Oo([gu,wu,bu,Qo("unit"),yu,xu,_u]),Eu=e=>e.fold(A.some,A.none,A.some,A.some),Ou=e=>{const t=e=>e.name;return e.fold(t,t,t,t)},Au=(e,t)=>n=>{const o=qo("Converting part type",t,n);return e(o)},Tu=Au(fu.required,Su),Du=Au(fu.external,Cu),Mu=Au(fu.optional,ju),Pu=Au(fu.group,ku),Ru=w("entirety");var Nu=Object.freeze({__proto__:null,required:Tu,external:Du,optional:Mu,group:Pu,asNamedPart:Eu,name:Ou,asCommon:e=>e.fold(x,x,x,x),original:Ru});const Lu=(e,t,n,o)=>po(t.defaults(e,n,o),n,{uid:e.partUids[t.name]},t.overrides(e,n,o)),Iu=(e,t)=>{const n={};return H(t,(t=>{Eu(t).each((t=>{const o=Bu(e,t.pname);n[t.name]=n=>{const r=qo("Part: "+t.name+" in "+e,Oo(t.schema),n);return{...o,config:n,validated:r}}}))})),n},Bu=(e,t)=>({uiType:pu(),owner:e,name:t}),Fu=(e,t,n)=>({uiType:pu(),owner:e,name:t,config:n,validated:{}}),Hu=e=>$(e,(e=>e.fold(A.none,A.some,A.none,A.none).map((e=>rr(e.name,e.schema.concat([Oa(Ru())])))).toArray())),Vu=e=>F(e,Ou),zu=(e,t,n)=>((e,t,n)=>{const o={},r={};return H(n,(e=>{e.fold((e=>{o[e.pname]=hu(!0,((t,n,o)=>e.factory.sketch(Lu(t,e,n,o))))}),(e=>{const n=t.parts[e.name];r[e.name]=w(e.factory.sketch(Lu(t,e,n[Ru()]),n))}),(e=>{o[e.pname]=hu(!1,((t,n,o)=>e.factory.sketch(Lu(t,e,n,o))))}),(e=>{o[e.pname]=mu(!0,((t,n,o)=>{const r=t[e.name];return F(r,(n=>e.factory.sketch(po(e.defaults(t,n,o),n,e.overrides(t,n)))))}))}))})),{internals:w(o),externals:w(r)}})(0,t,n),Uu=(e,t,n)=>((e,t,n,o)=>{const r=ce(o,((e,t)=>((e,t)=>{let n=!1;return{name:w(e),required:()=>t.fold(((e,t)=>e),((e,t)=>e)),used:()=>n,replace:()=>{if(n)throw new Error("Trying to use the same placeholder more than once: "+e);return n=!0,t}}})(t,e))),i=((e,t,n,o)=>$(n,(n=>uu(e,t,n,o))))(e,t,n,r);return le(r,(n=>{if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))})),i})(A.some(e),t,t.components,n),Wu=(e,t,n)=>{const o=t.partUids[n];return e.getSystem().getByUid(o).toOptional()},qu=(e,t,n)=>Wu(e,t,n).getOrDie("Could not find part: "+n),Zu=(e,t,n)=>{const o={},r=t.partUids,i=e.getSystem();return H(n,(e=>{o[e]=w(i.getByUid(r[e]))})),o},Gu=(e,t)=>{const n=e.getSystem();return ce(t.partUids,((e,t)=>w(n.getByUid(e))))},$u=e=>se(e.partUids),Yu=(e,t,n)=>{const o={},r=t.partUids,i=e.getSystem();return H(n,(e=>{o[e]=w(i.getByUid(r[e]).getOrDie())})),o},Ku=(e,t)=>{const n=Vu(t);return Er(F(n,(t=>({key:t,value:e+"-"+t}))))},Xu=e=>Yo("partUids","partUids",bo((t=>Ku(t.uid,e))),Mo());var Qu=Object.freeze({__proto__:null,generate:Iu,generateOne:Fu,schemas:Hu,names:Vu,substitutes:zu,components:Uu,defaultUids:Ku,defaultUidsSchema:Xu,getAllParts:Gu,getAllPartNames:$u,getPart:Wu,getPartOrDie:qu,getParts:Zu,getPartsOrDie:Yu});const Ju=(e,t,n,o,r)=>{const i=((e,t)=>(e.length>0?[rr("parts",e)]:[]).concat([Qo("uid"),fr("dom",{}),fr("components",[]),Oa("originalSpec"),fr("debug.sketcher",{})]).concat(t))(o,r);return qo(e+" [SpecSchema]",Eo(i.concat(t)),n)},eh=(e,t,n,o,r)=>{const i=th(r),s=Hu(n),a=Xu(n),l=Ju(e,t,i,s,[a]),c=zu(0,l,n);return o(l,Uu(e,l,c.internals()),i,c.externals())},th=e=>(e=>be(e,"uid"))(e)?e:{...e,uid:ds("uid")},nh=Eo([Qo("name"),Qo("factory"),Qo("configFields"),fr("apis",{}),fr("extraApis",{})]),oh=Eo([Qo("name"),Qo("factory"),Qo("configFields"),Qo("partFields"),fr("apis",{}),fr("extraApis",{})]),rh=e=>{const t=qo("Sketcher for "+e.name,nh,e),n=ce(t.apis,ys),o=ce(t.extraApis,((e,t)=>fs(e,t)));return{name:t.name,configFields:t.configFields,sketch:e=>((e,t,n,o)=>{const r=th(o);return n(Ju(e,t,r,[],[]),r)})(t.name,t.configFields,t.factory,e),...n,...o}},ih=e=>{const t=qo("Sketcher for "+e.name,oh,e),n=Iu(t.name,t.partFields),o=ce(t.apis,ys),r=ce(t.extraApis,((e,t)=>fs(e,t)));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:e=>eh(t.name,t.configFields,t.partFields,t.factory,e),parts:n,...o,...r}},sh=e=>Ge("input")(e)&&"radio"!==St(e,"type")||Ge("textarea")(e);var ah=Object.freeze({__proto__:null,getCurrent:(e,t,n)=>t.find(e)});const lh=[Qo("find")],ch=vl({fields:lh,name:"composing",apis:ah}),dh=["input","button","textarea","select"],uh=(e,t,n)=>{(t.disabled()?vh:bh)(e,t)},hh=(e,t)=>!0===t.useNative&&N(dh,He(e.element)),mh=e=>{xt(e.element,"disabled","disabled")},ph=e=>{kt(e.element,"disabled")},fh=e=>{xt(e.element,"aria-disabled","true")},gh=e=>{xt(e.element,"aria-disabled","false")},vh=(e,t,n)=>{t.disableClass.each((t=>{Rs(e.element,t)})),(hh(e,t)?mh:fh)(e),t.onDisabled(e)},bh=(e,t,n)=>{t.disableClass.each((t=>{Ns(e.element,t)})),(hh(e,t)?ph:gh)(e),t.onEnabled(e)},yh=(e,t)=>hh(e,t)?(e=>jt(e.element,"disabled"))(e):(e=>"true"===St(e.element,"aria-disabled"))(e);var wh=Object.freeze({__proto__:null,enable:bh,disable:vh,isDisabled:yh,onLoad:uh,set:(e,t,n,o)=>{(o?vh:bh)(e,t)}}),xh=Object.freeze({__proto__:null,exhibit:(e,t)=>Ss({classes:t.disabled()?t.disableClass.toArray():[]}),events:(e,t)=>Ni([Li(ai(),((t,n)=>yh(t,e))),hl(e,t,uh)])}),_h=[xr("disabled",E),fr("useNative",!0),ar("disableClass"),Sa("onDisabled"),Sa("onEnabled")];const Sh=vl({fields:_h,name:"disabling",active:xh,apis:wh}),Ch=(e,t,n,o)=>{const r=Ic(e.element,"."+t.highlightClass);H(r,(n=>{L(o,(e=>Ke(e.element,n)))||(Ns(n,t.highlightClass),e.getSystem().getByDom(n).each((n=>{t.onDehighlight(e,n),Ai(n,Oi())})))}))},jh=(e,t,n,o)=>{Ch(e,t,0,[o]),kh(e,t,n,o)||(Rs(o.element,t.highlightClass),t.onHighlight(e,o),Ai(o,Ei()))},kh=(e,t,n,o)=>Ls(o.element,t.highlightClass),Eh=(e,t,n)=>sa(e.element,"."+t.itemClass).bind((t=>e.getSystem().getByDom(t).toOptional())),Oh=(e,t,n)=>{const o=Ic(e.element,"."+t.itemClass);return(o.length>0?A.some(o[o.length-1]):A.none()).bind((t=>e.getSystem().getByDom(t).toOptional()))},Ah=(e,t,n,o)=>{const r=Ic(e.element,"."+t.itemClass);return Z(r,(e=>Ls(e,t.highlightClass))).bind((t=>{const n=Ha(t,o,0,r.length-1);return e.getSystem().getByDom(r[n]).toOptional()}))},Th=(e,t,n)=>{const o=Ic(e.element,"."+t.itemClass);return xe(F(o,(t=>e.getSystem().getByDom(t).toOptional())))};var Dh=Object.freeze({__proto__:null,dehighlightAll:(e,t,n)=>Ch(e,t,0,[]),dehighlight:(e,t,n,o)=>{kh(e,t,n,o)&&(Ns(o.element,t.highlightClass),t.onDehighlight(e,o),Ai(o,Oi()))},highlight:jh,highlightFirst:(e,t,n)=>{Eh(e,t).each((o=>{jh(e,t,n,o)}))},highlightLast:(e,t,n)=>{Oh(e,t).each((o=>{jh(e,t,n,o)}))},highlightAt:(e,t,n,o)=>{((e,t,n,o)=>{const r=Ic(e.element,"."+t.itemClass);return A.from(r[o]).fold((()=>no.error(new Error("No element found with index "+o))),e.getSystem().getByDom)})(e,t,0,o).fold((e=>{throw e}),(o=>{jh(e,t,n,o)}))},highlightBy:(e,t,n,o)=>{const r=Th(e,t);q(r,o).each((o=>{jh(e,t,n,o)}))},isHighlighted:kh,getHighlighted:(e,t,n)=>sa(e.element,"."+t.highlightClass).bind((t=>e.getSystem().getByDom(t).toOptional())),getFirst:Eh,getLast:Oh,getPrevious:(e,t,n)=>Ah(e,t,0,-1),getNext:(e,t,n)=>Ah(e,t,0,1),getCandidates:Th}),Mh=[Qo("highlightClass"),Qo("itemClass"),Sa("onHighlight"),Sa("onDehighlight")];const Ph=vl({fields:Mh,name:"highlighting",apis:Dh}),Rh=[8],Nh=[9],Lh=[13],Ih=[27],Bh=[32],Fh=[37],Hh=[38],Vh=[39],zh=[40],Uh=(e,t,n)=>{const o=K(e.slice(0,t)),r=K(e.slice(t+1));return q(o.concat(r),n)},Wh=(e,t,n)=>{const o=K(e.slice(0,t));return q(o,n)},qh=(e,t,n)=>{const o=e.slice(0,t),r=e.slice(t+1);return q(r.concat(o),n)},Zh=(e,t,n)=>{const o=e.slice(t+1);return q(o,n)},Gh=e=>t=>{const n=t.raw;return N(e,n.which)},$h=e=>t=>Y(e,(e=>e(t))),Yh=e=>!0===e.raw.shiftKey,Kh=e=>!0===e.raw.ctrlKey,Xh=C(Yh),Qh=(e,t)=>({matches:e,classification:t}),Jh=(e,t,n)=>{t.exists((e=>n.exists((t=>Ke(t,e)))))||Ti(e,_i(),{prevFocus:t,newFocus:n})},em=()=>{const e=e=>El(e.element);return{get:e,set:(t,n)=>{const o=e(t);t.getSystem().triggerFocus(n,t.element);const r=e(t);Jh(t,o,r)}}},tm=()=>{const e=e=>Ph.getHighlighted(e).map((e=>e.element));return{get:e,set:(t,n)=>{const o=e(t);t.getSystem().getByDom(n).fold(v,(e=>{Ph.highlight(t,e)}));const r=e(t);Jh(t,o,r)}}};var nm;!function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"}(nm||(nm={}));const om=(e,t,n,o,r)=>{const i=(e,t,n,o,r)=>{return(i=n(e,t,o,r),s=t.event,q(i,(e=>e.matches(s))).map((e=>e.classification))).bind((n=>n(e,t,o,r)));var i,s},s={schema:()=>e.concat([fr("focusManager",em()),gr("focusInside","onFocus",Vo((e=>N(["onFocus","onEnterOrSpace","onApi"],e)?no.value(e):no.error("Invalid value for focusInside")))),Ea("handler",s),Ea("state",t),Ea("sendFocusIn",r)]),processKey:i,toEvents:(e,t)=>{const s=e.focusInside!==nm.OnFocusMode?A.none():r(e).map((n=>Bi(oi(),((o,r)=>{n(o,e,t),r.stop()})))),a=[Bi(Zr(),((o,s)=>{i(o,s,n,e,t).fold((()=>{((n,o)=>{const i=Gh(Bh.concat(Lh))(o.event);e.focusInside===nm.OnEnterOrSpaceMode&&i&&Dr(n,o)&&r(e).each((r=>{r(n,e,t),o.stop()}))})(o,s)}),(e=>{s.stop()}))})),Bi(Gr(),((n,r)=>{i(n,r,o,e,t).each((e=>{r.stop()}))}))];return Ni(s.toArray().concat(a))}};return s},rm=e=>{const t=[ar("onEscape"),ar("onEnter"),fr("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),fr("firstTabstop",0),fr("useTabstopAt",O),ar("visibilitySelector")].concat([e]),n=(e,t)=>{const n=e.visibilitySelector.bind((e=>aa(t,e))).getOr(t);return Vt(n)>0},o=(e,t,o)=>{((e,t)=>{const o=Ic(e.element,t.selector),r=z(o,(e=>n(t,e)));return A.from(r[t.firstTabstop])})(e,t).each((n=>{t.focusManager.set(e,n)}))},r=(e,t,o,r)=>{const i=Ic(e.element,o.selector);return((e,t)=>t.focusManager.get(e).bind((e=>aa(e,t.selector))))(e,o).bind((t=>Z(i,S(Ke,t)).bind((t=>((e,t,o,r,i)=>i(t,o,(e=>((e,t)=>n(e,t)&&e.useTabstopAt(t))(r,e))).fold((()=>r.cyclic?A.some(!0):A.none()),(t=>(r.focusManager.set(e,t),A.some(!0)))))(e,i,t,o,r)))))},i=w([Qh($h([Yh,Gh(Nh)]),((e,t,n)=>{const o=n.cyclic?Uh:Wh;return r(e,0,n,o)})),Qh(Gh(Nh),((e,t,n)=>{const o=n.cyclic?qh:Zh;return r(e,0,n,o)})),Qh($h([Xh,Gh(Lh)]),((e,t,n)=>n.onEnter.bind((n=>n(e,t)))))]),s=w([Qh(Gh(Ih),((e,t,n)=>n.onEscape.bind((n=>n(e,t)))))]);return om(t,ws.init,i,s,(()=>A.some(o)))};var im=rm(Ko("cyclic",E)),sm=rm(Ko("cyclic",O));const am=(e,t,n)=>sh(n)&&Gh(Bh)(t.event)?A.none():((e,t,n)=>(Mi(e,n,ai()),A.some(!0)))(e,0,n),lm=(e,t)=>A.some(!0),cm=[fr("execute",am),fr("useSpace",!1),fr("useEnter",!0),fr("useControlEnter",!1),fr("useDown",!1)],dm=(e,t,n)=>n.execute(e,t,e.element);var um=om(cm,ws.init,((e,t,n,o)=>{const r=n.useSpace&&!sh(e.element)?Bh:[],i=n.useEnter?Lh:[],s=n.useDown?zh:[],a=r.concat(i).concat(s);return[Qh(Gh(a),dm)].concat(n.useControlEnter?[Qh($h([Kh,Gh(Lh)]),dm)]:[])}),((e,t,n,o)=>n.useSpace&&!sh(e.element)?[Qh(Gh(Bh),lm)]:[]),(()=>A.none()));const hm=()=>{const e=Wl();return xs({readState:()=>e.get().map((e=>({numRows:String(e.numRows),numColumns:String(e.numColumns)}))).getOr({numRows:"?",numColumns:"?"}),setGridSize:(t,n)=>{e.set({numRows:t,numColumns:n})},getNumRows:()=>e.get().map((e=>e.numRows)),getNumColumns:()=>e.get().map((e=>e.numColumns))})};var mm=Object.freeze({__proto__:null,flatgrid:hm,init:e=>e.state(e)});const pm=e=>(t,n,o,r)=>{const i=e(t.element);return bm(i,t,n,o,r)},fm=(e,t)=>{const n=sc(e,t);return pm(n)},gm=(e,t)=>{const n=sc(t,e);return pm(n)},vm=e=>(t,n,o,r)=>bm(e,t,n,o,r),bm=(e,t,n,o,r)=>o.focusManager.get(t).bind((n=>e(t.element,n,o,r))).map((e=>(o.focusManager.set(t,e),!0))),ym=vm,wm=vm,xm=vm,_m=e=>!(e=>e.offsetWidth<=0&&e.offsetHeight<=0)(e.dom),Sm=(e,t,n)=>{const o=Ic(e,n);return((e,n)=>Z(e,(e=>Ke(e,t))).map((t=>({index:t,candidates:e}))))(z(o,_m))},Cm=(e,t)=>Z(e,(e=>Ke(t,e))),jm=(e,t,n,o)=>o(Math.floor(t/n),t%n).bind((t=>{const o=t.row*n+t.column;return o>=0&&o<e.length?A.some(e[o]):A.none()})),km=(e,t,n,o,r)=>jm(e,t,o,((t,i)=>{const s=t===n-1?e.length-t*o:o,a=Ha(i,r,0,s-1);return A.some({row:t,column:a})})),Em=(e,t,n,o,r)=>jm(e,t,o,((t,i)=>{const s=Ha(t,r,0,n-1),a=s===n-1?e.length-s*o:o,l=Va(i,0,a-1);return A.some({row:s,column:l})})),Om=[Qo("selector"),fr("execute",am),Ca("onEscape"),fr("captureTab",!1),Aa()],Am=(e,t,n)=>{sa(e.element,t.selector).each((n=>{t.focusManager.set(e,n)}))},Tm=e=>(t,n,o,r)=>Sm(t,n,o.selector).bind((t=>e(t.candidates,t.index,r.getNumRows().getOr(o.initSize.numRows),r.getNumColumns().getOr(o.initSize.numColumns)))),Dm=(e,t,n)=>n.captureTab?A.some(!0):A.none(),Mm=Tm(((e,t,n,o)=>km(e,t,n,o,-1))),Pm=Tm(((e,t,n,o)=>km(e,t,n,o,1))),Rm=Tm(((e,t,n,o)=>Em(e,t,n,o,-1))),Nm=Tm(((e,t,n,o)=>Em(e,t,n,o,1))),Lm=w([Qh(Gh(Fh),fm(Mm,Pm)),Qh(Gh(Vh),gm(Mm,Pm)),Qh(Gh(Hh),ym(Rm)),Qh(Gh(zh),wm(Nm)),Qh($h([Yh,Gh(Nh)]),Dm),Qh($h([Xh,Gh(Nh)]),Dm),Qh(Gh(Bh.concat(Lh)),((e,t,n,o)=>((e,t)=>t.focusManager.get(e).bind((e=>aa(e,t.selector))))(e,n).bind((o=>n.execute(e,t,o)))))]),Im=w([Qh(Gh(Ih),((e,t,n)=>n.onEscape(e,t))),Qh(Gh(Bh),lm)]);var Bm=om(Om,hm,Lm,Im,(()=>A.some(Am)));const Fm=(e,t,n,o,r)=>{const i=(e,t,n)=>r(e,t,o,0,n.length-1,n[t],(t=>{return o=n[t],"button"===He(o)&&"disabled"===St(o,"disabled")?i(e,t,n):A.from(n[t]);var o}));return Sm(e,n,t).bind((e=>{const t=e.index,n=e.candidates;return i(t,t,n)}))},Hm=(e,t,n,o)=>Fm(e,t,n,o,((e,t,n,o,r,i,s)=>{const a=Va(t+n,o,r);return a===e?A.from(i):s(a)})),Vm=(e,t,n,o)=>Fm(e,t,n,o,((e,t,n,o,r,i,s)=>{const a=Ha(t,n,o,r);return a===e?A.none():s(a)})),zm=[Qo("selector"),fr("getInitial",A.none),fr("execute",am),Ca("onEscape"),fr("executeOnMove",!1),fr("allowVertical",!0),fr("allowHorizontal",!0),fr("cycles",!0)],Um=(e,t,n)=>((e,t)=>t.focusManager.get(e).bind((e=>aa(e,t.selector))))(e,n).bind((o=>n.execute(e,t,o))),Wm=(e,t,n)=>{t.getInitial(e).orThunk((()=>sa(e.element,t.selector))).each((n=>{t.focusManager.set(e,n)}))},qm=(e,t,n)=>(n.cycles?Vm:Hm)(e,n.selector,t,-1),Zm=(e,t,n)=>(n.cycles?Vm:Hm)(e,n.selector,t,1),Gm=e=>(t,n,o,r)=>e(t,n,o,r).bind((()=>o.executeOnMove?Um(t,n,o):A.some(!0))),$m=w([Qh(Gh(Bh),lm),Qh(Gh(Ih),((e,t,n)=>n.onEscape(e,t)))]);var Ym=om(zm,ws.init,((e,t,n,o)=>{const r=[...n.allowHorizontal?Fh:[]].concat(n.allowVertical?Hh:[]),i=[...n.allowHorizontal?Vh:[]].concat(n.allowVertical?zh:[]);return[Qh(Gh(r),Gm(fm(qm,Zm))),Qh(Gh(i),Gm(gm(qm,Zm))),Qh(Gh(Lh),Um),Qh(Gh(Bh),Um)]}),$m,(()=>A.some(Wm)));const Km=(e,t,n)=>A.from(e[t]).bind((e=>A.from(e[n]).map((e=>({rowIndex:t,columnIndex:n,cell:e}))))),Xm=(e,t,n,o)=>{const r=e[t].length,i=Ha(n,o,0,r-1);return Km(e,t,i)},Qm=(e,t,n,o)=>{const r=Ha(n,o,0,e.length-1),i=e[r].length,s=Va(t,0,i-1);return Km(e,r,s)},Jm=(e,t,n,o)=>{const r=e[t].length,i=Va(n+o,0,r-1);return Km(e,t,i)},ep=(e,t,n,o)=>{const r=Va(n+o,0,e.length-1),i=e[r].length,s=Va(t,0,i-1);return Km(e,r,s)},tp=[rr("selectors",[Qo("row"),Qo("cell")]),fr("cycles",!0),fr("previousSelector",A.none),fr("execute",am)],np=(e,t,n)=>{t.previousSelector(e).orThunk((()=>{const n=t.selectors;return sa(e.element,n.cell)})).each((n=>{t.focusManager.set(e,n)}))},op=(e,t)=>(n,o,r)=>{const i=r.cycles?e:t;return aa(o,r.selectors.row).bind((e=>{const t=Ic(e,r.selectors.cell);return Cm(t,o).bind((t=>{const o=Ic(n,r.selectors.row);return Cm(o,e).bind((e=>{const n=((e,t)=>F(e,(e=>Ic(e,t.selectors.cell))))(o,r);return i(n,e,t).map((e=>e.cell))}))}))}))},rp=op(((e,t,n)=>Xm(e,t,n,-1)),((e,t,n)=>Jm(e,t,n,-1))),ip=op(((e,t,n)=>Xm(e,t,n,1)),((e,t,n)=>Jm(e,t,n,1))),sp=op(((e,t,n)=>Qm(e,n,t,-1)),((e,t,n)=>ep(e,n,t,-1))),ap=op(((e,t,n)=>Qm(e,n,t,1)),((e,t,n)=>ep(e,n,t,1))),lp=w([Qh(Gh(Fh),fm(rp,ip)),Qh(Gh(Vh),gm(rp,ip)),Qh(Gh(Hh),ym(sp)),Qh(Gh(zh),wm(ap)),Qh(Gh(Bh.concat(Lh)),((e,t,n)=>El(e.element).bind((o=>n.execute(e,t,o)))))]),cp=w([Qh(Gh(Bh),lm)]);var dp=om(tp,ws.init,lp,cp,(()=>A.some(np)));const up=[Qo("selector"),fr("execute",am),fr("moveOnTab",!1)],hp=(e,t,n)=>n.focusManager.get(e).bind((o=>n.execute(e,t,o))),mp=(e,t,n)=>{sa(e.element,t.selector).each((n=>{t.focusManager.set(e,n)}))},pp=(e,t,n)=>Vm(e,n.selector,t,-1),fp=(e,t,n)=>Vm(e,n.selector,t,1),gp=w([Qh(Gh(Hh),xm(pp)),Qh(Gh(zh),xm(fp)),Qh($h([Yh,Gh(Nh)]),((e,t,n,o)=>n.moveOnTab?xm(pp)(e,t,n,o):A.none())),Qh($h([Xh,Gh(Nh)]),((e,t,n,o)=>n.moveOnTab?xm(fp)(e,t,n,o):A.none())),Qh(Gh(Lh),hp),Qh(Gh(Bh),hp)]),vp=w([Qh(Gh(Bh),lm)]);var bp=om(up,ws.init,gp,vp,(()=>A.some(mp)));const yp=[Ca("onSpace"),Ca("onEnter"),Ca("onShiftEnter"),Ca("onLeft"),Ca("onRight"),Ca("onTab"),Ca("onShiftTab"),Ca("onUp"),Ca("onDown"),Ca("onEscape"),fr("stopSpaceKeyup",!1),ar("focusIn")];var wp=om(yp,ws.init,((e,t,n)=>[Qh(Gh(Bh),n.onSpace),Qh($h([Xh,Gh(Lh)]),n.onEnter),Qh($h([Yh,Gh(Lh)]),n.onShiftEnter),Qh($h([Yh,Gh(Nh)]),n.onShiftTab),Qh($h([Xh,Gh(Nh)]),n.onTab),Qh(Gh(Hh),n.onUp),Qh(Gh(zh),n.onDown),Qh(Gh(Fh),n.onLeft),Qh(Gh(Vh),n.onRight),Qh(Gh(Bh),n.onSpace)]),((e,t,n)=>[...n.stopSpaceKeyup?[Qh(Gh(Bh),lm)]:[],Qh(Gh(Ih),n.onEscape)]),(e=>e.focusIn));const xp=im.schema(),_p=sm.schema(),Sp=Ym.schema(),Cp=Bm.schema(),jp=dp.schema(),kp=um.schema(),Ep=bp.schema(),Op=wp.schema(),Ap=yl({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:xp,cyclic:_p,flow:Sp,flatgrid:Cp,matrix:jp,execution:kp,menu:Ep,special:Op}),name:"keying",active:{events:(e,t)=>e.handler.toEvents(e,t)},apis:{focusIn:(e,t,n)=>{t.sendFocusIn(t).fold((()=>{e.getSystem().triggerFocus(e.element,e.element)}),(o=>{o(e,t,n)}))},setGridSize:(e,t,n,o,r)=>{(e=>ye(e,"setGridSize"))(n)?n.setGridSize(o,r):console.error("Layout does not support setGridSize")}},state:mm}),Tp=(e,t)=>{Ol((()=>{((e,t,n)=>{const o=e.components();(e=>{H(e.components(),(e=>Fn(e.element))),Bn(e.element),e.syncComponents()})(e);const r=n(),i=X(o,r);H(i,(t=>{hd(t),e.getSystem().removeFromWorld(t)})),H(r,(t=>{ud(t)?gd(e,t):(e.getSystem().addToWorld(t),gd(e,t),vt(e.element)&&md(t))})),e.syncComponents()})(e,0,(()=>F(t,e.getSystem().build)))}),e.element)},Dp=(e,t)=>{Ol((()=>{((n,o,r)=>{const i=n.components(),s=$(o,(e=>bs(e).toArray()));H(i,(e=>{N(s,e)||fd(e)}));const a=((e,t,n)=>Us(e,t,((t,o)=>Ws(e,o,t,n))))(e.element,t,e.getSystem().buildOrPatch),l=X(i,a);H(l,(e=>{ud(e)&&fd(e)})),H(a,(e=>{ud(e)||pd(n,e)})),n.syncComponents()})(e,t)}),e.element)},Mp=(e,t,n,o)=>{fd(t);const r=Ws(e.element,n,o,e.getSystem().buildOrPatch);pd(e,r),e.syncComponents()},Pp=(e,t,n)=>{const o=e.getSystem().build(n);bd(e,o,t)},Rp=(e,t,n,o)=>{wd(t),Pp(e,((e,t)=>((e,t,n)=>{st(e,n).fold((()=>{Ln(e,t)}),(e=>{Pn(e,t)}))})(e,t,n)),o)},Np=(e,t)=>e.components(),Lp=(e,t,n,o,r)=>{const i=Np(e);return A.from(i[o]).map((n=>(r.fold((()=>wd(n)),(r=>{(t.reuseDom?Mp:Rp)(e,n,o,r)})),n)))};var Ip=Object.freeze({__proto__:null,append:(e,t,n,o)=>{Pp(e,Ln,o)},prepend:(e,t,n,o)=>{Pp(e,Nn,o)},remove:(e,t,n,o)=>{const r=Np(e),i=q(r,(e=>Ke(o.element,e.element)));i.each(wd)},replaceAt:Lp,replaceBy:(e,t,n,o,r)=>{const i=Np(e);return Z(i,o).bind((n=>Lp(e,t,0,n,r)))},set:(e,t,n,o)=>(t.reuseDom?Dp:Tp)(e,o),contents:Np});const Bp=vl({fields:[wr("reuseDom",!0)],name:"replacing",apis:Ip}),Fp=(e,t)=>{const n=((e,t)=>{const n=Ni(t);return vl({fields:[Qo("enabled")],name:e,active:{events:w(n)}})})(e,t);return{key:e,value:{config:{},me:n,configAsRaw:w({}),initialConfig:{},state:ws}}},Hp=(e,t)=>{t.ignore||(Sl(e.element),t.onFocus(e))};var Vp=Object.freeze({__proto__:null,focus:Hp,blur:(e,t)=>{t.ignore||Cl(e.element)},isFocused:e=>jl(e.element)}),zp=Object.freeze({__proto__:null,exhibit:(e,t)=>{const n=t.ignore?{}:{attributes:{tabindex:"-1"}};return Ss(n)},events:e=>Ni([Bi(oi(),((t,n)=>{Hp(t,e),n.stop()}))].concat(e.stopMousedown?[Bi(Fr(),((e,t)=>{t.event.prevent()}))]:[]))}),Up=[Sa("onFocus"),fr("stopMousedown",!1),fr("ignore",!1)];const Wp=vl({fields:Up,name:"focusing",active:zp,apis:Vp}),qp=(e,t,n,o)=>{const r=n.get();n.set(o),((e,t,n)=>{t.toggleClass.each((t=>{n.get()?Rs(e.element,t):Ns(e.element,t)}))})(e,t,n),((e,t,n)=>{const o=t.aria;o.update(e,o,n.get())})(e,t,n),r!==o&&t.onToggled(e,o)},Zp=(e,t,n)=>{qp(e,t,n,!n.get())},Gp=(e,t,n)=>{qp(e,t,n,t.selected)};var $p=Object.freeze({__proto__:null,onLoad:Gp,toggle:Zp,isOn:(e,t,n)=>n.get(),on:(e,t,n)=>{qp(e,t,n,!0)},off:(e,t,n)=>{qp(e,t,n,!1)},set:qp}),Yp=Object.freeze({__proto__:null,exhibit:()=>Ss({}),events:(e,t)=>{const n=(o=e,r=t,i=Zp,Yi((e=>{i(e,o,r)})));var o,r,i;const s=hl(e,t,Gp);return Ni(G([e.toggleOnExecute?[n]:[],[s]]))}});const Kp=(e,t,n)=>{xt(e.element,"aria-expanded",n)};var Xp=[fr("selected",!1),ar("toggleClass"),fr("toggleOnExecute",!0),Sa("onToggled"),gr("aria",{mode:"none"},Go("mode",{pressed:[fr("syncWithExpanded",!1),Ea("update",((e,t,n)=>{xt(e.element,"aria-pressed",n),t.syncWithExpanded&&Kp(e,0,n)}))],checked:[Ea("update",((e,t,n)=>{xt(e.element,"aria-checked",n)}))],expanded:[Ea("update",Kp)],selected:[Ea("update",((e,t,n)=>{xt(e.element,"aria-selected",n)}))],none:[Ea("update",v)]}))];const Qp=vl({fields:Xp,name:"toggling",active:Yp,apis:$p,state:{init:()=>{const e=Cr(!1);return{get:()=>e.get(),set:t=>e.set(t),clear:()=>e.set(!1),readState:()=>e.get()}}}}),Jp=()=>{const e=(e,t)=>{t.stop(),Di(e)};return[Bi(Kr(),e),Bi(ci(),e),Ui(Nr()),Ui(Fr())]},ef=e=>Ni(G([e.map((e=>Yi(((t,n)=>{e(t),n.stop()})))).toArray(),Jp()])),tf="alloy.item-hover",nf="alloy.item-focus",of="alloy.item-toggled",rf=e=>{(El(e.element).isNone()||Wp.isFocused(e))&&(Wp.isFocused(e)||Wp.focus(e),Ti(e,tf,{item:e}))},sf=e=>{Ti(e,nf,{item:e})},af=w(tf),lf=w(nf),cf=w(of),df=e=>e.toggling.map((e=>e.exclusive?"menuitemradio":"menuitemcheckbox")).getOr("menuitem"),uf=[Qo("data"),Qo("components"),Qo("dom"),fr("hasSubmenu",!1),ar("toggling"),su("itemBehaviours",[Qp,Wp,Ap,nu]),fr("ignoreFocus",!1),fr("domModification",{}),Ea("builder",(e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:df(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:au(e.itemBehaviours,[e.toggling.fold(Qp.revoke,(e=>Qp.config((e=>({aria:{mode:"checked"},...me(e,((e,t)=>"exclusive"!==t)),onToggled:(t,n)=>{p(e.onToggled)&&e.onToggled(t,n),((e,t)=>{Ti(e,of,{item:e,state:t})})(t,n)}}))(e)))),Wp.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:e=>{sf(e)}}),Ap.config({mode:"execution"}),nu.config({store:{mode:"memory",initialValue:e.data}}),Fp("item-type-events",[...Jp(),Bi(Ur(),rf),Bi(li(),Wp.focus)])]),components:e.components,eventOrder:e.eventOrder}))),fr("eventOrder",{})],hf=[Qo("dom"),Qo("components"),Ea("builder",(e=>({dom:e.dom,components:e.components,events:Ni([Wi(li())])})))],mf=w("item-widget"),pf=w([Tu({name:"widget",overrides:e=>({behaviours:fl([nu.config({store:{mode:"manual",getValue:t=>e.data,setValue:v}})])})})]),ff=[Qo("uid"),Qo("data"),Qo("components"),Qo("dom"),fr("autofocus",!1),fr("ignoreFocus",!1),su("widgetBehaviours",[nu,Wp,Ap]),fr("domModification",{}),Xu(pf()),Ea("builder",(e=>{const t=zu(mf(),e,pf()),n=Uu(mf(),e,t.internals()),o=t=>Wu(t,e,"widget").map((e=>(Ap.focusIn(e),e))),r=(t,n)=>sh(n.event.target)?A.none():e.autofocus?(n.setSource(t.element),A.none()):A.none();return{dom:e.dom,components:n,domModification:e.domModification,events:Ni([Yi(((e,t)=>{o(e).each((e=>{t.stop()}))})),Bi(Ur(),rf),Bi(li(),((t,n)=>{e.autofocus?o(t):Wp.focus(t)}))]),behaviours:au(e.widgetBehaviours,[nu.config({store:{mode:"memory",initialValue:e.data}}),Wp.config({ignore:e.ignoreFocus,onFocus:e=>{sf(e)}}),Ap.config({mode:"special",focusIn:e.autofocus?e=>{o(e)}:wl(),onLeft:r,onRight:r,onEscape:(t,n)=>Wp.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element),A.none()):A.none():(Wp.focus(t),A.some(!0))})])}}))],gf=Go("type",{widget:ff,item:uf,separator:hf}),vf=w([Pu({factory:{sketch:e=>{const t=qo("menu.spec item",gf,e);return t.builder(t)}},name:"items",unit:"item",defaults:(e,t)=>be(t,"uid")?t:{...t,uid:ds("item")},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),bf=w([Qo("value"),Qo("items"),Qo("dom"),Qo("components"),fr("eventOrder",{}),ou("menuBehaviours",[Ph,nu,ch,Ap]),gr("movement",{mode:"menu",moveOnTab:!0},Go("mode",{grid:[Aa(),Ea("config",((e,t)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager})))],matrix:[Ea("config",((e,t)=>({mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},previousSelector:t.previousSelector,focusManager:e.focusManager}))),Qo("rowSelector"),fr("previousSelector",A.none)],menu:[fr("moveOnTab",!0),Ea("config",((e,t)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager})))]})),Jo("markers",ba()),fr("fakeFocus",!1),fr("focusManager",em()),Sa("onHighlight"),Sa("onDehighlight")]),yf=w("alloy.menu-focus"),wf=ih({name:"Menu",configFields:bf(),partFields:vf(),factory:(e,t,n,o)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:iu(e.menuBehaviours,[Ph.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),nu.config({store:{mode:"memory",initialValue:e.value}}),ch.config({find:A.some}),Ap.config(e.movement.config(e,e.movement))]),events:Ni([Bi(lf(),((e,t)=>{const n=t.event;e.getSystem().getByDom(n.target).each((n=>{Ph.highlight(e,n),t.stop(),Ti(e,yf(),{menu:e,item:n})}))})),Bi(af(),((e,t)=>{const n=t.event.item;Ph.highlight(e,n)})),Bi(cf(),((e,t)=>{const{item:n,state:o}=t.event;o&&"menuitemradio"===St(n.element,"role")&&((e,t)=>{const n=Ic(e.element,'[role="menuitemradio"][aria-checked="true"]');H(n,(n=>{Ke(n,t.element)||e.getSystem().getByDom(n).each((e=>{Qp.off(e)}))}))})(e,n)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}})}),xf=(e,t,n,o)=>ve(n,o).bind((o=>ve(e,o).bind((o=>{const r=xf(e,t,n,o);return A.some([o].concat(r))})))).getOr([]),_f=e=>"prepared"===e.type?A.some(e.menu):A.none(),Sf=_f,Cf=os("tiered-menu-item-highlight"),jf=os("tiered-menu-item-dehighlight");var kf;!function(e){e[e.HighlightMenuAndItem=0]="HighlightMenuAndItem",e[e.HighlightJustMenu=1]="HighlightJustMenu",e[e.HighlightNone=2]="HighlightNone"}(kf||(kf={}));const Ef=w("collapse-item"),Of=rh({name:"TieredMenu",configFields:[ka("onExecute"),ka("onEscape"),ja("onOpenMenu"),ja("onOpenSubmenu"),Sa("onRepositionMenu"),Sa("onCollapseMenu"),fr("highlightOnOpen",kf.HighlightMenuAndItem),rr("data",[Qo("primary"),Qo("menus"),Qo("expansions")]),fr("fakeFocus",!1),Sa("onHighlightItem"),Sa("onDehighlightItem"),Sa("onHover"),wa(),Qo("dom"),fr("navigateOnHover",!0),fr("stayInDom",!1),ou("tmenuBehaviours",[Ap,Ph,ch,Bp]),fr("eventOrder",{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:(e,t)=>{const n=Wl(),o=(()=>{const e=Cr({}),t=Cr({}),n=Cr({}),o=Wl(),r=Cr({}),i=e=>s(e).bind(_f),s=e=>ve(t.get(),e),a=t=>ve(e.get(),t);return{setMenuBuilt:(e,n)=>{t.set({...t.get(),[e]:{type:"prepared",menu:n}})},setContents:(i,s,a,l)=>{o.set(i),e.set(a),t.set(s),r.set(l);const c=((e,t)=>{const n={};le(e,((e,t)=>{H(e,(e=>{n[e]=t}))}));const o=t,r=de(t,((e,t)=>({k:e,v:t}))),i=ce(r,((e,t)=>[t].concat(xf(n,o,r,t))));return ce(n,(e=>ve(i,e).getOr([e])))})(l,a);n.set(c)},expand:t=>ve(e.get(),t).map((e=>{const o=ve(n.get(),t).getOr([]);return[e].concat(o)})),refresh:e=>ve(n.get(),e),collapse:e=>ve(n.get(),e).bind((e=>e.length>1?A.some(e.slice(1)):A.none())),lookupMenu:s,lookupItem:a,otherMenus:e=>{const t=r.get();return X(se(t),e)},getPrimary:()=>o.get().bind(i),getMenus:()=>t.get(),clear:()=>{e.set({}),t.set({}),n.set({}),o.clear()},isClear:()=>o.get().isNone(),getTriggeringPath:(t,r)=>{const s=z(a(t).toArray(),(e=>i(e).isSome()));return ve(n.get(),t).bind((t=>{const n=K(s.concat(t));return(e=>{const t=[];for(let n=0;n<e.length;n++){const o=e[n];if(!o.isSome())return A.none();t.push(o.getOrDie())}return A.some(t)})($(n,((t,s)=>((t,n,o)=>i(t).bind((r=>(t=>fe(e.get(),((e,n)=>e===t)))(t).bind((e=>n(e).map((e=>({triggeredMenu:r,triggeringItem:e,triggeringPath:o}))))))))(t,r,n.slice(0,s+1)).fold((()=>we(o.get(),t)?[]:[A.none()]),(e=>[A.some(e)])))))}))}}})(),r=e=>nu.getValue(e).value,i=Ph.highlight,s=(t,n)=>{i(t,n),Ph.getHighlighted(n).orThunk((()=>Ph.getFirst(n))).each((o=>{e.fakeFocus?Ph.highlight(n,o):Mi(t,o.element,li())}))},a=(e,t)=>xe(F(t,(t=>e.lookupMenu(t).bind((e=>"prepared"===e.type?A.some(e.menu):A.none()))))),l=(t,n,o)=>{const r=a(n,n.otherMenus(o));H(r,(n=>{Bs(n.element,[e.markers.backgroundMenu]),e.stayInDom||Bp.remove(t,n)}))},c=(t,o)=>{const i=(t=>n.get().getOrThunk((()=>{const o={},i=Ic(t.element,`.${e.markers.item}`),s=z(i,(e=>"true"===St(e,"aria-haspopup")));return H(s,(e=>{t.getSystem().getByDom(e).each((e=>{const t=r(e);o[t]=e}))})),n.set(o),o})))(t);le(i,((e,t)=>{const n=N(o,t);xt(e.element,"aria-expanded",n)}))},d=(t,n,o)=>A.from(o[0]).bind((r=>n.lookupMenu(r).bind((r=>{if("notbuilt"===r.type)return A.none();{const i=r.menu,c=a(n,o.slice(1));return H(c,(t=>{Rs(t.element,e.markers.backgroundMenu)})),vt(i.element)||Bp.append(t,Qs(i)),Bs(i.element,[e.markers.backgroundMenu]),s(t,i),l(t,n,o),A.some(i)}}))));let u;!function(e){e[e.HighlightSubmenu=0]="HighlightSubmenu",e[e.HighlightParent=1]="HighlightParent"}(u||(u={}));const h=(t,n,i=u.HighlightSubmenu)=>{if(n.hasConfigured(Sh)&&Sh.isDisabled(n))return A.some(n);{const s=r(n);return o.expand(s).bind((r=>(c(t,r),A.from(r[0]).bind((s=>o.lookupMenu(s).bind((a=>{const l=((e,t,n)=>{if("notbuilt"===n.type){const r=e.getSystem().build(n.nbMenu());return o.setMenuBuilt(t,r),r}return n.menu})(t,s,a);return vt(l.element)||Bp.append(t,Qs(l)),e.onOpenSubmenu(t,n,l,K(r)),i===u.HighlightSubmenu?(Ph.highlightFirst(l),d(t,o,r)):(Ph.dehighlightAll(l),A.some(n))})))))))}},m=(t,n)=>{const i=r(n);return o.collapse(i).bind((r=>(c(t,r),d(t,o,r).map((o=>(e.onCollapseMenu(t,n,o),o))))))},p=t=>(n,o)=>aa(o.getSource(),`.${e.markers.item}`).bind((e=>n.getSystem().getByDom(e).toOptional().bind((e=>t(n,e).map(O))))),f=Ni([Bi(yf(),((e,t)=>{const n=t.event.item;o.lookupItem(r(n)).each((()=>{const n=t.event.menu;Ph.highlight(e,n);const i=r(t.event.item);o.refresh(i).each((t=>l(e,o,t)))}))})),Yi(((t,n)=>{const o=n.event.target;t.getSystem().getByDom(o).each((n=>{0===r(n).indexOf("collapse-item")&&m(t,n),h(t,n,u.HighlightSubmenu).fold((()=>{e.onExecute(t,n)}),v)}))})),Zi(((t,n)=>{(t=>{const n=((t,n,o)=>ce(o,((o,r)=>{const i=()=>wf.sketch({...o,value:r,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(e,t)=>{Ti(e,Cf,{menuComp:e,itemComp:t})},onDehighlight:(e,t)=>{Ti(e,jf,{menuComp:e,itemComp:t})},focusManager:e.fakeFocus?tm():em()});return r===n?{type:"prepared",menu:t.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}})))(t,e.data.primary,e.data.menus),r=ce(e.data.menus,((e,t)=>$(e.items,(e=>"separator"===e.type?[]:[e.data.value]))));return o.setContents(e.data.primary,n,e.data.expansions,r),o.getPrimary()})(t).each((n=>{Bp.append(t,Qs(n)),e.onOpenMenu(t,n),e.highlightOnOpen===kf.HighlightMenuAndItem?s(t,n):e.highlightOnOpen===kf.HighlightJustMenu&&i(t,n)}))})),Bi(Cf,((t,n)=>{e.onHighlightItem(t,n.event.menuComp,n.event.itemComp)})),Bi(jf,((t,n)=>{e.onDehighlightItem(t,n.event.menuComp,n.event.itemComp)})),...e.navigateOnHover?[Bi(af(),((t,n)=>{const i=n.event.item;((e,t)=>{const n=r(t);o.refresh(n).bind((t=>(c(e,t),d(e,o,t))))})(t,i),h(t,i,u.HighlightParent),e.onHover(t,i)}))]:[]]),g=e=>Ph.getHighlighted(e).bind(Ph.getHighlighted),b={collapseMenu:e=>{g(e).each((t=>{m(e,t)}))},highlightPrimary:e=>{o.getPrimary().each((t=>{s(e,t)}))},repositionMenus:t=>{const n=o.getPrimary().bind((e=>g(t).bind((e=>{const t=r(e),n=ge(o.getMenus()),i=xe(F(n,Sf));return o.getTriggeringPath(t,(e=>((e,t,n)=>ie(t,(e=>{if(!e.getSystem().isConnected())return A.none();const t=Ph.getCandidates(e);return q(t,(e=>r(e)===n))})))(0,i,e)))})).map((t=>({primary:e,triggeringPath:t})))));n.fold((()=>{(e=>A.from(e.components()[0]).filter((e=>"menu"===St(e.element,"role"))))(t).each((n=>{e.onRepositionMenu(t,n,[])}))}),(({primary:n,triggeringPath:o})=>{e.onRepositionMenu(t,n,o)}))}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:iu(e.tmenuBehaviours,[Ap.config({mode:"special",onRight:p(((e,t)=>sh(t.element)?A.none():h(e,t,u.HighlightSubmenu))),onLeft:p(((e,t)=>sh(t.element)?A.none():m(e,t))),onEscape:p(((t,n)=>m(t,n).orThunk((()=>e.onEscape(t,n).map((()=>t)))))),focusIn:(e,t)=>{o.getPrimary().each((t=>{Mi(e,t.element,li())}))}}),Ph.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),ch.config({find:e=>Ph.getHighlighted(e)}),Bp.config({})]),eventOrder:e.eventOrder,apis:b,events:f}},extraApis:{tieredData:(e,t,n)=>({primary:e,menus:t,expansions:n}),singleData:(e,t)=>({primary:e,menus:kr(e,t),expansions:{}}),collapseItem:e=>({value:os(Ef()),meta:{text:e}})}}),Af=rh({name:"InlineView",configFields:[Qo("lazySink"),Sa("onShow"),Sa("onHide"),hr("onEscape"),ou("inlineBehaviours",[Ld,nu,xl]),pr("fireDismissalEventInstead",[fr("event",wi())]),pr("fireRepositionEventInstead",[fr("event",xi())]),fr("getRelated",A.none),fr("isExtraPart",E),fr("eventOrder",A.none)],factory:(e,t)=>{const n=(t,n,o,r)=>{const i=e.lazySink(t).getOrDie();Ld.openWhileCloaked(t,n,(()=>dd.positionWithinBounds(i,t,o,r()))),nu.setValue(t,A.some({mode:"position",config:o,getBounds:r}))},o=(t,n,o,r)=>{const i=((e,t,n,o,r)=>{const i=()=>e.lazySink(t),s="horizontal"===o.type?{layouts:{onLtr:()=>ll(),onRtl:()=>cl()}}:{},a=e=>(e=>2===e.length)(e)?s:{};return Of.sketch({dom:{tag:"div"},data:o.data,markers:o.menu.markers,highlightOnOpen:o.menu.highlightOnOpen,fakeFocus:o.menu.fakeFocus,onEscape:()=>(Ld.close(t),e.onEscape.map((e=>e(t))),A.some(!0)),onExecute:()=>A.some(!0),onOpenMenu:(e,t)=>{dd.positionWithinBounds(i().getOrDie(),t,n,r())},onOpenSubmenu:(e,t,n,o)=>{const r=i().getOrDie();dd.position(r,n,{anchor:{type:"submenu",item:t,...a(o)}})},onRepositionMenu:(e,t,o)=>{const s=i().getOrDie();dd.positionWithinBounds(s,t,n,r()),H(o,(e=>{const t=a(e.triggeringPath);dd.position(s,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem,...t}})}))}})})(e,t,n,o,r);Ld.open(t,i),nu.setValue(t,A.some({mode:"menu",menu:i}))},r=t=>{Ld.isOpen(t)&&nu.getValue(t).each((n=>{switch(n.mode){case"menu":Ld.getState(t).each(Of.repositionMenus);break;case"position":const o=e.lazySink(t).getOrDie();dd.positionWithinBounds(o,t,n.config,n.getBounds())}}))},i={setContent:(e,t)=>{Ld.setContent(e,t)},showAt:(e,t,o)=>{const r=A.none;n(e,t,o,r)},showWithinBounds:n,showMenuAt:(e,t,n)=>{o(e,t,n,A.none)},showMenuWithinBounds:o,hide:e=>{Ld.isOpen(e)&&(nu.setValue(e,A.none()),Ld.close(e))},getContent:e=>Ld.getState(e),reposition:r,isOpen:Ld.isOpen};return{uid:e.uid,dom:e.dom,behaviours:iu(e.inlineBehaviours,[Ld.config({isPartOf:(t,n,o)=>da(n,o)||((t,n)=>e.getRelated(t).exists((e=>da(e,n))))(t,o),getAttachPoint:t=>e.lazySink(t).getOrDie(),onOpen:t=>{e.onShow(t)},onClose:t=>{e.onHide(t)}}),nu.config({store:{mode:"memory",initialValue:A.none()}}),xl.config({channels:{...Vd({isExtraPart:t.isExtraPart,...e.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Ud({...e.fireRepositionEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({}),doReposition:r})}})]),eventOrder:e.eventOrder,apis:i}},apis:{showAt:(e,t,n,o)=>{e.showAt(t,n,o)},showWithinBounds:(e,t,n,o,r)=>{e.showWithinBounds(t,n,o,r)},showMenuAt:(e,t,n,o)=>{e.showMenuAt(t,n,o)},showMenuWithinBounds:(e,t,n,o,r)=>{e.showMenuWithinBounds(t,n,o,r)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,n)=>{e.setContent(t,n)},reposition:(e,t)=>{e.reposition(t)}}});var Tf=tinymce.util.Tools.resolve("tinymce.util.Delay");const Df=rh({name:"Button",factory:e=>{const t=ef(e.action),n=e.dom.tag,o=t=>ve(e.dom,"attributes").bind((e=>ve(e,t)));return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:au(e.buttonBehaviours,[Wp.config({}),Ap.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:"button"===n?{type:o("type").getOr("button"),...o("role").map((e=>({role:e}))).getOr({})}:{role:e.role.getOr(o("role").getOr("button"))}},eventOrder:e.eventOrder}},configFields:[fr("uid",void 0),Qo("dom"),fr("components",[]),su("buttonBehaviours",[Wp,Ap]),ar("action"),ar("role"),fr("eventOrder",{})]}),Mf=e=>{const t=(e=>void 0!==e.uid)(e)&&ye(e,"uid")?e.uid:ds("memento");return{get:e=>e.getSystem().getByUid(t).getOrDie(),getOpt:e=>e.getSystem().getByUid(t).toOptional(),asSpec:()=>({...e,uid:t})}};var Pf=tinymce.util.Tools.resolve("tinymce.util.I18n");const Rf={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Nf="temporary-placeholder",Lf=e=>()=>ve(e,Nf).getOr("!not found!"),If=(e,t)=>{const n=e.toLowerCase();if(Pf.isRtl()){const e=((e,t)=>Ae(e,"-rtl")?e:((e,t)=>e+"-rtl")(e))(n);return be(t,e)?e:n}return n},Bf=(e,t)=>ve(t,If(e,t)),Ff=(e,t)=>{const n=t();return Bf(e,n).getOrThunk(Lf(n))},Hf=()=>Fp("add-focusable",[Zi((e=>{ia(e.element,"svg").each((e=>xt(e,"focusable","false")))}))]),Vf=(e,t,n,o)=>{var r,i;const s=(e=>!!Pf.isRtl()&&be(Rf,e))(t)?["tox-icon--flip"]:[],a=ve(n,If(t,n)).or(o).getOrThunk(Lf(n));return{dom:{tag:e.tag,attributes:null!==(r=e.attributes)&&void 0!==r?r:{},classes:e.classes.concat(s),innerHtml:a},behaviours:fl([...null!==(i=e.behaviours)&&void 0!==i?i:[],Hf()])}},zf=(e,t,n,o=A.none())=>Vf(t,e,n(),o),Uf={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Wf=rh({name:"Notification",factory:e=>{const t=Mf({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:fl([Bp.config({})])}),n=e=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${e}%`}}}),o=e=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${e}%`}}),r=Mf({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},o(0)],behaviours:fl([Bp.config({})])}),i={updateProgress:(e,t)=>{e.getSystem().isConnected()&&r.getOpt(e).each((e=>{Bp.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},o(t)])}))},updateText:(e,n)=>{if(e.getSystem().isConnected()){const o=t.get(e);Bp.set(o,[Gs(n)])}}},s=G([e.icon.toArray(),e.level.toArray(),e.level.bind((e=>A.from(Uf[e]))).toArray()]),a=Mf(Df.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[zf("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:t=>{e.onAction(t)}})),l=((e,t,n)=>{const o=n(),r=q(e,(e=>be(o,If(e,o))));return Vf({tag:"div",classes:["tox-notification__icon"]},r.getOr(Nf),o,A.none())})(s,0,e.iconProvider),c=[l,{dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:fl([Bp.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((e=>["tox-notification","tox-notification--in",`tox-notification--${e}`])).getOr(["tox-notification","tox-notification--in"])},behaviours:fl([Wp.config({}),Fp("notification-events",[Bi(Wr(),(e=>{a.getOpt(e).each(Wp.focus)}))])]),components:c.concat(e.progress?[r.asSpec()]:[]).concat(e.closeButton?[a.asSpec()]:[]),apis:i}},configFields:[ar("level"),Qo("progress"),ar("icon"),Qo("onAction"),Qo("text"),Qo("iconProvider"),Qo("translationProvider"),wr("closeButton",!0)],apis:{updateProgress:(e,t,n)=>{e.updateProgress(t,n)},updateText:(e,t,n)=>{e.updateText(t,n)}}});var qf,Zf,Gf=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),$f=tinymce.util.Tools.resolve("tinymce.EditorManager"),Yf=tinymce.util.Tools.resolve("tinymce.Env");!function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"}(qf||(qf={})),function(e){e.auto="auto",e.top="top",e.bottom="bottom"}(Zf||(Zf={}));const Kf=e=>t=>t.options.get(e),Xf=e=>t=>A.from(e(t)),Qf=e=>{const t=Yf.deviceType.isPhone(),n=Yf.deviceType.isTablet()||t,o=e.options.register,r=e=>i(e)||!1===e,s=e=>i(e)||f(e);o("skin",{processor:e=>i(e)||!1===e,default:"oxide"}),o("skin_url",{processor:"string"}),o("height",{processor:s,default:Math.max(e.getElement().offsetHeight,400)}),o("width",{processor:s,default:Gf.DOM.getStyle(e.getElement(),"width")}),o("min_height",{processor:"number",default:100}),o("min_width",{processor:"number"}),o("max_height",{processor:"number"}),o("max_width",{processor:"number"}),o("style_formats",{processor:"object[]"}),o("style_formats_merge",{processor:"boolean",default:!1}),o("style_formats_autohide",{processor:"boolean",default:!1}),o("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),o("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),o("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),o("font_size_input_default_unit",{processor:"string",default:"pt"}),o("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),o("content_langs",{processor:"object[]"}),o("removed_menuitems",{processor:"string",default:""}),o("menubar",{processor:e=>i(e)||d(e),default:!t}),o("menu",{processor:"object",default:{}}),o("toolbar",{processor:e=>d(e)||i(e)||l(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),I(9,(e=>{o("toolbar"+(e+1),{processor:"string"})})),o("toolbar_mode",{processor:"string",default:n?"scrolling":"floating"}),o("toolbar_groups",{processor:"object",default:{}}),o("toolbar_location",{processor:"string",default:Zf.auto}),o("toolbar_persist",{processor:"boolean",default:!1}),o("toolbar_sticky",{processor:"boolean",default:e.inline}),o("toolbar_sticky_offset",{processor:"number",default:0}),o("fixed_toolbar_container",{processor:"string",default:""}),o("fixed_toolbar_container_target",{processor:"object"}),o("ui_mode",{processor:"string",default:"combined"}),o("file_picker_callback",{processor:"function"}),o("file_picker_validator_handler",{processor:"function"}),o("file_picker_types",{processor:"string"}),o("typeahead_urls",{processor:"boolean",default:!0}),o("anchor_top",{processor:r,default:"#top"}),o("anchor_bottom",{processor:r,default:"#bottom"}),o("draggable_modal",{processor:"boolean",default:!1}),o("statusbar",{processor:"boolean",default:!0}),o("elementpath",{processor:"boolean",default:!0}),o("branding",{processor:"boolean",default:!0}),o("promotion",{processor:"boolean",default:!0}),o("resize",{processor:e=>"both"===e||d(e),default:!Yf.deviceType.isTouch()}),o("sidebar_show",{processor:"string"})},Jf=Kf("readonly"),eg=Kf("height"),tg=Kf("width"),ng=Xf(Kf("min_width")),og=Xf(Kf("min_height")),rg=Xf(Kf("max_width")),ig=Xf(Kf("max_height")),sg=Xf(Kf("style_formats")),ag=Kf("style_formats_merge"),lg=Kf("style_formats_autohide"),cg=Kf("content_langs"),dg=Kf("removed_menuitems"),ug=Kf("toolbar_mode"),hg=Kf("toolbar_groups"),mg=Kf("toolbar_location"),pg=Kf("fixed_toolbar_container"),fg=Kf("fixed_toolbar_container_target"),gg=Kf("toolbar_persist"),vg=Kf("toolbar_sticky_offset"),bg=Kf("menubar"),yg=Kf("toolbar"),wg=Kf("file_picker_callback"),xg=Kf("file_picker_validator_handler"),_g=Kf("font_size_input_default_unit"),Sg=Kf("file_picker_types"),Cg=Kf("typeahead_urls"),jg=Kf("anchor_top"),kg=Kf("anchor_bottom"),Eg=Kf("draggable_modal"),Og=Kf("statusbar"),Ag=Kf("elementpath"),Tg=Kf("branding"),Dg=Kf("resize"),Mg=Kf("paste_as_text"),Pg=Kf("sidebar_show"),Rg=Kf("promotion"),Ng=e=>!1===e.options.get("skin"),Lg=e=>!1!==e.options.get("menubar"),Ig=e=>{const t=e.options.get("skin_url");if(Ng(e))return t;if(t)return e.documentBaseURI.toAbsolute(t);{const t=e.options.get("skin");return $f.baseURL+"/skins/ui/"+t}},Bg=e=>e.options.get("line_height_formats").split(" "),Fg=e=>{const t=yg(e),n=i(t),o=l(t)&&t.length>0;return!Vg(e)&&(o||n||!0===t)},Hg=e=>{const t=I(9,(t=>e.options.get("toolbar"+(t+1)))),n=z(t,i);return Ce(n.length>0,n)},Vg=e=>Hg(e).fold((()=>{const t=yg(e);return g(t,i)&&t.length>0}),O),zg=e=>mg(e)===Zf.bottom,Ug=e=>{var t;if(!e.inline)return A.none();const n=null!==(t=pg(e))&&void 0!==t?t:"";if(n.length>0)return sa(bt(),n);const o=fg(e);return m(o)?A.some(Le(o)):A.none()},Wg=e=>e.inline&&Ug(e).isSome(),qg=e=>Ug(e).getOrThunk((()=>pt(mt(Le(e.getElement()))))),Zg=e=>e.inline&&!Lg(e)&&!Fg(e)&&!Vg(e),Gg=e=>(e.options.get("toolbar_sticky")||e.inline)&&!Wg(e)&&!Zg(e),$g=e=>!Wg(e)&&"split"===e.options.get("ui_mode"),Yg=e=>{const t=e.options.get("menu");return ce(t,(e=>({...e,items:e.items})))};var Kg=Object.freeze({__proto__:null,get ToolbarMode(){return qf},get ToolbarLocation(){return Zf},register:Qf,getSkinUrl:Ig,isReadOnly:Jf,isSkinDisabled:Ng,getHeightOption:eg,getWidthOption:tg,getMinWidthOption:ng,getMinHeightOption:og,getMaxWidthOption:rg,getMaxHeightOption:ig,getUserStyleFormats:sg,shouldMergeStyleFormats:ag,shouldAutoHideStyleFormats:lg,getLineHeightFormats:Bg,getContentLanguages:cg,getRemovedMenuItems:dg,isMenubarEnabled:Lg,isMultipleToolbars:Vg,isToolbarEnabled:Fg,isToolbarPersist:gg,getMultipleToolbarsOption:Hg,getUiContainer:qg,useFixedContainer:Wg,isSplitUiMode:$g,getToolbarMode:ug,isDraggableModal:Eg,isDistractionFree:Zg,isStickyToolbar:Gg,getStickyToolbarOffset:vg,getToolbarLocation:mg,isToolbarLocationBottom:zg,getToolbarGroups:hg,getMenus:Yg,getMenubar:bg,getToolbar:yg,getFilePickerCallback:wg,getFilePickerTypes:Sg,useTypeaheadUrls:Cg,getAnchorTop:jg,getAnchorBottom:kg,getFilePickerValidatorHandler:xg,getFontSizeInputDefaultUnit:_g,useStatusBar:Og,useElementPath:Ag,promotionEnabled:Rg,useBranding:Tg,getResize:Dg,getPasteAsText:Mg,getSidebarShow:Pg});const Xg="[data-mce-autocompleter]",Qg=e=>aa(e,Xg);var Jg;!function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(Jg||(Jg={}));var ev=Jg;const tv="tox-menu-nav__js",nv="tox-collection__item",ov={normal:tv,color:"tox-swatch"},rv="tox-collection__item--enabled",iv="tox-collection__item-icon",sv="tox-collection__item-label",av="tox-collection__item-caret",lv="tox-collection__item--active",cv="tox-collection__item-container",dv="tox-collection__item-container--row",uv=e=>ve(ov,e).getOr(tv),hv=e=>"color"===e?"tox-swatches":"tox-menu",mv=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:hv(e),tieredMenu:"tox-tiered-menu"}),pv=e=>{const t=mv(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:uv(e)}},fv=(e,t,n)=>{const o=mv(n);return{tag:"div",classes:G([[o.menu,`tox-menu-${t}-column`],e?[o.hasIcons]:[]])}},gv=[wf.parts.items({})],vv=(e,t,n)=>{const o=mv(n);return{dom:{tag:"div",classes:G([[o.tieredMenu]])},markers:pv(n)}},bv=w([ar("data"),fr("inputAttributes",{}),fr("inputStyles",{}),fr("tag","input"),fr("inputClasses",[]),Sa("onSetValue"),fr("styles",{}),fr("eventOrder",{}),ou("inputBehaviours",[nu,Wp]),fr("selectOnFocus",!0)]),yv=e=>fl([Wp.config({onFocus:e.selectOnFocus?e=>{const t=e.element,n=Hs(t);t.dom.setSelectionRange(0,n.length)}:v})]),wv=e=>({...yv(e),...iu(e.inputBehaviours,[nu.config({store:{mode:"manual",...e.data.map((e=>({initialValue:e}))).getOr({}),getValue:e=>Hs(e.element),setValue:(e,t)=>{Hs(e.element)!==t&&Vs(e.element,t)}},onSetValue:e.onSetValue})])}),xv=e=>({tag:e.tag,attributes:{type:"text",...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),_v=rh({name:"Input",configFields:bv(),factory:(e,t)=>({uid:e.uid,dom:xv(e),components:[],behaviours:wv(e),eventOrder:e.eventOrder})}),Sv=os("refetch-trigger-event"),Cv=os("redirect-menu-item-interaction"),jv=e=>sa(e.element,".tox-menu__searcher").bind((t=>e.getSystem().getByDom(t).toOptional())),kv=jv,Ev=e=>({fetchPattern:nu.getValue(e),selectionStart:e.element.dom.selectionStart,selectionEnd:e.element.dom.selectionEnd}),Ov=e=>{const t=(e,t)=>(t.cut(),A.none()),n=(e,t)=>{const n={interactionEvent:t.event,eventType:t.event.raw.type};return Ti(e,Cv,n),A.some(!0)},o="searcher-events";return{dom:{tag:"div",classes:[nv]},components:[_v.sketch({inputClasses:["tox-menu__searcher","tox-textfield"],inputAttributes:{...e.placeholder.map((t=>({placeholder:e.i18n(t)}))).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:fl([Fp(o,[Bi($r(),(e=>{Ai(e,Sv)})),Bi(Zr(),((e,t)=>{"Escape"===t.event.raw.key&&t.stop()}))]),Ap.config({mode:"special",onLeft:t,onRight:t,onSpace:t,onEnter:n,onEscape:n,onUp:n,onDown:n})]),eventOrder:{keydown:[o,Ap.name()]}})]}},Av="tox-collection--results__js",Tv=e=>{var t;return e.dom?{...e,dom:{...e.dom,attributes:{...null!==(t=e.dom.attributes)&&void 0!==t?t:{},id:os("aria-item-search-result-id"),"aria-selected":"false"}}}:e},Dv=(e,t)=>n=>{const o=B(n,t);return F(o,(t=>({dom:e,components:t})))},Mv=(e,t)=>{const n=[];let o=[];return H(e,((e,r)=>{t(e,r)?(o.length>0&&n.push(o),o=[],(be(e.dom,"innerHtml")||e.components&&e.components.length>0)&&o.push(e)):o.push(e)})),o.length>0&&n.push(o),F(n,(e=>({dom:{tag:"div",classes:["tox-collection__group"]},components:e})))},Pv=(e,t,n)=>wf.parts.items({preprocess:o=>{const r=F(o,n);return"auto"!==e&&e>1?Dv({tag:"div",classes:["tox-collection__group"]},e)(r):Mv(r,((e,n)=>"separator"===t[n].type))}}),Rv=(e,t,n=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Pv(e,t,x)]}),Nv=e=>L(e,(e=>"icon"in e&&void 0!==e.icon)),Lv=e=>(console.error(Zo(e)),console.log(e),A.none()),Iv=(e,t,n,o,r)=>{const i=(s=n,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[wf.parts.items({preprocess:e=>Mv(e,((e,t)=>"separator"===s[t].type))})]});var s;return{value:e,dom:i.dom,components:i.components,items:n}},Bv=(e,t,n,o,r)=>{if("color"===r.menuType){const t=(e=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[wf.parts.items({preprocess:"auto"!==e?Dv({tag:"div",classes:["tox-swatches__row"]},e):x})]}]}))(o);return{value:e,dom:t.dom,components:t.components,items:n}}if("normal"===r.menuType&&"auto"===o){const t=Rv(o,n);return{value:e,dom:t.dom,components:t.components,items:n}}if("normal"===r.menuType||"searchable"===r.menuType){const t="searchable"!==r.menuType?Rv(o,n):"search-with-field"===r.searchMode.searchMode?((e,t,n)=>{const o=os("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Ov({i18n:Pf.translate,placeholder:n.placeholder}),{dom:{tag:"div",classes:[...1===e?["tox-collection--list"]:["tox-collection--grid"],Av],attributes:{id:o}},components:[Pv(e,t,Tv)]}]}})(o,n,r.searchMode):((e,t,n=!0)=>{const o=os("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Av].concat(1===e?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:o}},components:[Pv(e,t,Tv)]}})(o,n);return{value:e,dom:t.dom,components:t.components,items:n}}if("listpreview"===r.menuType&&"auto"!==o){const t=(e=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[wf.parts.items({preprocess:Dv({tag:"div",classes:["tox-collection__group"]},e)})]}))(o);return{value:e,dom:t.dom,components:t.components,items:n}}return{value:e,dom:fv(t,o,r.menuType),components:gv,items:n}},Fv=tr("type"),Hv=tr("name"),Vv=tr("label"),zv=tr("text"),Uv=tr("title"),Wv=tr("icon"),qv=tr("value"),Zv=or("fetch"),Gv=or("getSubmenuItems"),$v=or("onAction"),Yv=or("onItemAction"),Kv=xr("onSetup",(()=>v)),Xv=dr("name"),Qv=dr("text"),Jv=dr("icon"),eb=dr("tooltip"),tb=dr("label"),nb=dr("shortcut"),ob=hr("select"),rb=wr("active",!1),ib=wr("borderless",!1),sb=wr("enabled",!0),ab=wr("primary",!1),lb=e=>fr("columns",e),cb=fr("meta",{}),db=xr("onAction",v),ub=e=>br("type",e),hb=e=>Yo("name","name",go((()=>os(`${e}-name`))),No),mb=Oo([Fv,Qv]),pb=Oo([ub("autocompleteitem"),rb,sb,cb,qv,Qv,Jv]),fb=[sb,eb,Jv,Qv,Kv],gb=Oo([Fv,$v].concat(fb)),vb=e=>Uo("toolbarbutton",gb,e),bb=[rb].concat(fb),yb=Oo(bb.concat([Fv,$v])),wb=e=>Uo("ToggleButton",yb,e),xb=[xr("predicate",E),yr("scope","node",["node","editor"]),yr("position","selection",["node","selection","line"])],_b=fb.concat([ub("contextformbutton"),ab,$v,Ko("original",x)]),Sb=bb.concat([ub("contextformbutton"),ab,$v,Ko("original",x)]),Cb=fb.concat([ub("contextformbutton")]),jb=bb.concat([ub("contextformtogglebutton")]),kb=Go("type",{contextformbutton:_b,contextformtogglebutton:Sb}),Eb=Oo([ub("contextform"),xr("initValue",w("")),tb,sr("commands",kb),lr("launch",Go("type",{contextformbutton:Cb,contextformtogglebutton:jb}))].concat(xb)),Ob=Oo([ub("contexttoolbar"),tr("items")].concat(xb)),Ab=[Fv,tr("src"),dr("alt"),_r("classes",[],No)],Tb=Oo(Ab),Db=[Fv,zv,Xv,_r("classes",["tox-collection__item-label"],No)],Mb=Oo(Db),Pb=ko((()=>Ho("type",{cardimage:Tb,cardtext:Mb,cardcontainer:Rb}))),Rb=Oo([Fv,br("direction","horizontal"),br("align","left"),br("valign","middle"),sr("items",Pb)]),Nb=[sb,Qv,nb,Yo("value","value",go((()=>os("menuitem-value"))),Mo()),cb],Lb=Oo([Fv,tb,sr("items",Pb),Kv,db].concat(Nb)),Ib=Oo([Fv,rb,Jv].concat(Nb)),Bb=[Fv,tr("fancytype"),db],Fb=[fr("initData",{})].concat(Bb),Hb=[hr("select"),Sr("initData",{},[wr("allowCustomColors",!0),br("storageKey","default"),mr("colors",Mo())])].concat(Bb),Vb=Go("fancytype",{inserttable:Fb,colorswatch:Hb}),zb=Oo([Fv,Kv,db,Jv].concat(Nb)),Ub=Oo([Fv,Gv,Kv,Jv].concat(Nb)),Wb=Oo([Fv,Jv,rb,Kv,$v].concat(Nb)),qb=(e,t,n)=>{const o=Ic(e.element,"."+n);if(o.length>0){const e=Z(o,(e=>{const n=e.dom.getBoundingClientRect().top,r=o[0].dom.getBoundingClientRect().top;return Math.abs(n-r)>t})).getOr(o.length);return A.some({numColumns:e,numRows:Math.ceil(o.length/e)})}return A.none()},Zb=e=>((e,t)=>fl([Fp(e,t)]))(os("unnamed-events"),e),Gb=os("tooltip.exclusive"),$b=os("tooltip.show"),Yb=os("tooltip.hide"),Kb=(e,t,n)=>{e.getSystem().broadcastOn([Gb],{})};var Xb=Object.freeze({__proto__:null,hideAllExclusive:Kb,setComponents:(e,t,n,o)=>{n.getTooltip().each((e=>{e.getSystem().isConnected()&&Bp.set(e,o)}))}}),Qb=Object.freeze({__proto__:null,events:(e,t)=>{const n=n=>{t.getTooltip().each((o=>{wd(o),e.onHide(n,o),t.clearTooltip()})),t.clearTimer()};return Ni(G([[Bi($b,(n=>{t.resetTimer((()=>{(n=>{if(!t.isShowing()){Kb(n);const o=e.lazySink(n).getOrDie(),r=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Ni("normal"===e.mode?[Bi(Ur(),(e=>{Ai(n,$b)})),Bi(Vr(),(e=>{Ai(n,Yb)}))]:[]),behaviours:fl([Bp.config({})])});t.setTooltip(r),vd(o,r),e.onShow(n,r),dd.position(o,r,{anchor:e.anchor(n)})}})(n)}),e.delay)})),Bi(Yb,(o=>{t.resetTimer((()=>{n(o)}),e.delay)})),Bi(si(),((e,t)=>{const o=t;o.universal||N(o.channels,Gb)&&n(e)})),Gi((e=>{n(e)}))],"normal"===e.mode?[Bi(Wr(),(e=>{Ai(e,$b)})),Bi(ri(),(e=>{Ai(e,Yb)})),Bi(Ur(),(e=>{Ai(e,$b)})),Bi(Vr(),(e=>{Ai(e,Yb)}))]:[Bi(Ei(),((e,t)=>{Ai(e,$b)})),Bi(Oi(),(e=>{Ai(e,Yb)}))]]))}}),Jb=[Qo("lazySink"),Qo("tooltipDom"),fr("exclusive",!0),fr("tooltipComponents",[]),fr("delay",300),yr("mode","normal",["normal","follow-highlight"]),fr("anchor",(e=>({type:"hotspot",hotspot:e,layouts:{onLtr:w([tl,el,Ka,Qa,Xa,Ja]),onRtl:w([tl,el,Ka,Qa,Xa,Ja])}}))),Sa("onHide"),Sa("onShow")],ey=Object.freeze({__proto__:null,init:()=>{const e=Wl(),t=Wl(),n=()=>{e.on(clearTimeout)},o=w("not-implemented");return xs({getTooltip:t.get,isShowing:t.isSet,setTooltip:t.set,clearTooltip:t.clear,clearTimer:n,resetTimer:(t,o)=>{n(),e.set(setTimeout(t,o))},readState:o})}});const ty=vl({fields:Jb,name:"tooltipping",active:Qb,state:ey,apis:Xb}),ny="silver.readonly",oy=Oo([Jo("readonly",Lo)]),ry=(e,t)=>{const n=e.mainUi.outerContainer.element,o=[e.mainUi.mothership,...e.uiMotherships];t&&H(o,(e=>{e.broadcastOn([Id()],{target:n})})),H(o,(e=>{e.broadcastOn([ny],{readonly:t})}))},iy=(e,t)=>{e.on("init",(()=>{e.mode.isReadOnly()&&ry(t,!0)})),e.on("SwitchMode",(()=>ry(t,e.mode.isReadOnly()))),Jf(e)&&e.mode.set("readonly")},sy=()=>xl.config({channels:{[ny]:{schema:oy,onReceive:(e,t)=>{Sh.set(e,t.readonly)}}}}),ay=e=>Sh.config({disabled:e}),ly=e=>Sh.config({disabled:e,disableClass:"tox-tbtn--disabled"}),cy=e=>Sh.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1}),dy=(e,t)=>{const n=e.getApi(t);return e=>{e(n)}},uy=(e,t)=>Zi((n=>{dy(e,n)((n=>{const o=e.onSetup(n);p(o)&&t.set(o)}))})),hy=(e,t)=>Gi((n=>dy(e,n)(t.get()))),my=(e,t)=>Yi(((n,o)=>{dy(e,n)(e.onAction),e.triggersSubmenu||t!==ev.CLOSE_ON_EXECUTE||(n.getSystem().isConnected()&&Ai(n,ui()),o.stop())})),py={[ai()]:["disabling","alloy.base.behaviour","toggling","item-events"]},fy=xe,gy=(e,t,n,o)=>{const r=Cr(v);return{type:"item",dom:t.dom,components:fy(t.optComponents),data:e.data,eventOrder:py,hasSubmenu:e.triggersSubmenu,itemBehaviours:fl([Fp("item-events",[my(e,n),uy(e,r),hy(e,r)]),(i=()=>!e.enabled||o.isDisabled(),Sh.config({disabled:i,disableClass:"tox-collection__item--state-disabled"})),sy(),Bp.config({})].concat(e.itemBehaviours))};var i},vy=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),by=e=>{const t=Yf.os.isMacOS()||Yf.os.isiOS(),n=t?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},o=e.split("+"),r=F(o,(e=>{const t=e.toLowerCase().trim();return be(n,t)?n[t]:e}));return t?r.join(""):r.join("+")},yy=(e,t,n=[iv])=>zf(e,{tag:"div",classes:n},t),wy=e=>({dom:{tag:"div",classes:[sv]},components:[Gs(Pf.translate(e))]}),xy=(e,t)=>({dom:{tag:"div",classes:t,innerHtml:e}}),_y=(e,t)=>({dom:{tag:"div",classes:[sv]},components:[{dom:{tag:e.tag,styles:e.styles},components:[Gs(Pf.translate(t))]}]}),Sy=e=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Gs(by(e))]}),Cy=e=>yy("checkmark",e,["tox-collection__item-checkmark"]),jy=e=>{const t=e.map((e=>({attributes:{title:Pf.translate(e)}}))).getOr({});return{tag:"div",classes:[tv,nv],...t}},ky=(e,t,n,o=A.none())=>"color"===e.presets?((e,t,n)=>{const o=e.ariaLabel,r=e.value,i=e.iconContent.map((e=>((e,t,n)=>{const o=t();return Bf(e,o).or(n).getOrThunk(Lf(o))})(e,t.icons,n)));return{dom:(()=>{const e=i.getOr(""),n=o.map((e=>({title:t.translate(e)}))).getOr({}),s={tag:"div",attributes:n,classes:["tox-swatch"]};return"custom"===r?{...s,tag:"button",classes:[...s.classes,"tox-swatches__picker-btn"],innerHtml:e}:"remove"===r?{...s,classes:[...s.classes,"tox-swatch--remove"],innerHtml:e}:m(r)?{...s,attributes:{...s.attributes,"data-mce-color":r},styles:{"background-color":r},innerHtml:e}:s})(),optComponents:[]}})(e,t,o):((e,t,n,o)=>{const r={tag:"div",classes:[iv]},i=n?e.iconContent.map((e=>zf(e,r,t.icons,o))).orThunk((()=>A.some({dom:r}))):A.none(),s=e.checkMark,a=A.from(e.meta).fold((()=>wy),(e=>be(e,"style")?S(_y,e.style):wy)),l=e.htmlContent.fold((()=>e.textContent.map(a)),(e=>A.some(xy(e,[sv]))));return{dom:jy(e.ariaLabel),optComponents:[i,l,e.shortcutContent.map(Sy),s,e.caret]}})(e,t,n,o),Ey=(e,t)=>ve(e,"tooltipWorker").map((e=>[ty.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:e=>({type:"submenu",item:e,overrides:{maxHeightFunction:Jl}}),mode:"follow-highlight",onShow:(t,n)=>{e((e=>{ty.setComponents(t,[$s({element:Le(e)})])}))}})])).getOr([]),Oy=(e,t)=>{const n=(e=>Gf.DOM.encode(e))(Pf.translate(e));if(t.length>0){const e=new RegExp((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(t),"gi");return n.replace(e,(e=>`<span class="tox-autocompleter-highlight">${e}</span>`))}return n},Ay=(e,t)=>F(e,(e=>{switch(e.type){case"cardcontainer":return((e,t)=>{const n="vertical"===e.direction?"tox-collection__item-container--column":dv,o="left"===e.align?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[cv,n,o,(()=>{switch(e.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:t}})(e,Ay(e.items,t));case"cardimage":return((e,t,n)=>({dom:{tag:"img",classes:t,attributes:{src:e,alt:n.getOr("")}}}))(e.src,e.classes,e.alt);case"cardtext":const n=e.name.exists((e=>N(t.cardText.highlightOn,e)))?A.from(t.cardText.matchText).getOr(""):"";return xy(Oy(e.text,n),e.classes)}})),Ty=Iu(mf(),pf()),Dy=e=>({value:Ny(e)}),My=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Py=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Ry=e=>My.test(e)||Py.test(e),Ny=e=>ke(e,"#").toUpperCase(),Ly=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Iy=e=>{const t=Ly(e.red)+Ly(e.green)+Ly(e.blue);return Dy(t)},By=Math.min,Fy=Math.max,Hy=Math.round,Vy=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,zy=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Uy=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),Wy=e=>{const t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},qy=e=>{let t,n,o;const r=(e.hue||0)%360;let i=e.saturation/100,s=e.value/100;if(i=Fy(0,By(i,1)),s=Fy(0,By(s,1)),0===i)return t=n=o=Hy(255*s),Uy(t,n,o,1);const a=r/60,l=s*i,c=l*(1-Math.abs(a%2-1)),d=s-l;switch(Math.floor(a)){case 0:t=l,n=c,o=0;break;case 1:t=c,n=l,o=0;break;case 2:t=0,n=l,o=c;break;case 3:t=0,n=c,o=l;break;case 4:t=c,n=0,o=l;break;case 5:t=l,n=0,o=c;break;default:t=n=o=0}return t=Hy(255*(t+d)),n=Hy(255*(n+d)),o=Hy(255*(o+d)),Uy(t,n,o,1)},Zy=e=>{const t=(e=>{const t=(e=>{const t=e.value.replace(My,((e,t,n,o)=>t+t+n+n+o+o));return{value:t}})(e),n=Py.exec(t.value);return null===n?["FFFFFF","FF","FF","FF"]:n})(e),n=parseInt(t[1],16),o=parseInt(t[2],16),r=parseInt(t[3],16);return Uy(n,o,r,1)},Gy=(e,t,n,o)=>{const r=parseInt(e,10),i=parseInt(t,10),s=parseInt(n,10),a=parseFloat(o);return Uy(r,i,s,a)},$y=e=>{if("transparent"===e)return A.some(Uy(0,0,0,0));const t=Vy.exec(e);if(null!==t)return A.some(Gy(t[1],t[2],t[3],"1"));const n=zy.exec(e);return null!==n?A.some(Gy(n[1],n[2],n[3],n[4])):A.none()},Yy=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Ky=Uy(255,0,0,1),Xy=(e,t)=>{e.dispatch("ResizeContent",t)},Qy=(e,t)=>{e.dispatch("TextColorChange",t)},Jy=(e,t)=>e.dispatch("ResolveName",{name:t.nodeName.toLowerCase(),target:t});var ew=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const tw={},nw=e=>ve(tw,e).getOrThunk((()=>{const t=`tinymce-custom-colors-${e}`,n=ew.getItem(t);if(h(n)){const e=ew.getItem("tinymce-custom-colors");ew.setItem(t,m(e)?e:"[]")}const o=((e,t=10)=>{const n=ew.getItem(e),o=i(n)?JSON.parse(n):[],r=t-(s=o).length<0?s.slice(0,t):s;var s;const a=e=>{r.splice(e,1)};return{add:n=>{R(r,n).each(a),r.unshift(n),r.length>t&&r.pop(),ew.setItem(e,JSON.stringify(r))},state:()=>r.slice(0)}})(t,10);return tw[e]=o,o})),ow=(e,t)=>{nw(e).add(t)},rw=(e,t,n)=>({hue:e,saturation:t,value:n}),iw=e=>{let t=0,n=0,o=0;const r=e.red/255,i=e.green/255,s=e.blue/255,a=Math.min(r,Math.min(i,s)),l=Math.max(r,Math.max(i,s));return a===l?(o=a,rw(0,0,100*o)):(t=r===a?3:s===a?1:5,t=60*(t-(r===a?i-s:s===a?r-i:s-r)/(l-a)),n=(l-a)/l,o=l,rw(Math.round(t),Math.round(100*n),Math.round(100*o)))},sw=e=>Iy(qy(e)),aw=e=>{return(t=e,Ry(t)?A.some({value:Ny(t)}):A.none()).orThunk((()=>$y(e).map(Iy))).getOrThunk((()=>{const t=document.createElement("canvas");t.height=1,t.width=1;const n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.fillStyle="#FFFFFF",n.fillStyle=e,n.fillRect(0,0,1,1);const o=n.getImageData(0,0,1,1).data,r=o[0],i=o[1],s=o[2],a=o[3];return Iy(Uy(r,i,s,a))}));var t},lw="forecolor",cw="hilitecolor",dw=e=>Math.max(5,Math.ceil(Math.sqrt(e))),uw=(e,t)=>{const n=dw(t),o=mw("color_cols")(e);return 5===n?o:n},hw=e=>{const t=[];for(let n=0;n<e.length;n+=2)t.push({text:e[n+1],value:"#"+aw(e[n]).value,icon:"checkmark",type:"choiceitem"});return t},mw=e=>t=>t.options.get(e),pw="#000000",fw=(e,t)=>{const n=((e,t)=>t===lw?mw("color_cols_foreground")(e):t===cw?mw("color_cols_background")(e):mw("color_cols")(e))(e,t);return n>0?n:5},gw=mw("custom_colors"),vw=(e,t)=>t===lw&&e.options.isSet("color_map_foreground")?mw("color_map_foreground")(e):t===cw&&e.options.isSet("color_map_background")?mw("color_map_background")(e):mw("color_map")(e),bw=mw("color_default_foreground"),yw=mw("color_default_background"),ww=(e,t)=>{const n=Le(e.selection.getStart()),o="hilitecolor"===t?Tr(n,(e=>{if(Ue(e)){const t=Mt(e,"background-color");return Ce($y(t).exists((e=>0!==e.alpha)),t)}return A.none()})).getOr("rgba(0, 0, 0, 0)"):Mt(n,"color");return $y(o).map((e=>"#"+Iy(e).value))},xw=e=>{const t="choiceitem",n={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[n,{type:t,text:"Custom color",icon:"color-picker",value:"custom"}]:[n]},_w=(e,t,n,o)=>{"custom"===n?Aw(e)((n=>{n.each((n=>{ow(t,n),e.execCommand("mceApplyTextcolor",t,n),o(n)}))}),ww(e,t).getOr(pw)):"remove"===n?(o(""),e.execCommand("mceRemoveTextcolor",t)):(o(n),e.execCommand("mceApplyTextcolor",t,n))},Sw=(e,t,n)=>e.concat((e=>F(nw(e).state(),(e=>({type:"choiceitem",text:e,icon:"checkmark",value:e}))))(t).concat(xw(n))),Cw=(e,t,n)=>o=>{o(Sw(e,t,n))},jw=(e,t,n)=>{const o="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(o,n)},kw=(e,t)=>n=>{const o=ww(e,t);return we(o,n.toUpperCase())},Ew=(e,t,n,o,r)=>{e.ui.registry.addSplitButton(t,{tooltip:o,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:kw(e,n),columns:fw(e,n),fetch:Cw(vw(e,n),n,gw(e)),onAction:t=>{_w(e,n,r.get(),v)},onItemAction:(o,i)=>{_w(e,n,i,(n=>{r.set(n),Qy(e,{name:t,color:n})}))},onSetup:n=>{jw(n,t,r.get());const o=e=>{e.name===t&&jw(n,e.name,e.color)};return e.on("TextColorChange",o),()=>{e.off("TextColorChange",o)}}})},Ow=(e,t,n,o,r)=>{e.ui.registry.addNestedMenuItem(t,{text:o,icon:"forecolor"===t?"text-color":"highlight-bg-color",onSetup:e=>(jw(e,t,r.get()),v),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:kw(e,n),initData:{storageKey:n},onAction:o=>{_w(e,n,o.value,(n=>{r.set(n),Qy(e,{name:t,color:n})}))}}]})},Aw=e=>(t,n)=>{let o=!1;const r={colorpicker:n};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onAction:(e,t)=>{"hex-valid"===t.name&&(o=t.value)},onSubmit:n=>{const r=n.getData().colorpicker;o?(t(A.from(r)),n.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",r]))},onClose:v,onCancel:()=>{t(A.none())}})},Tw=(e,t,n,o,r,i,s,a)=>{const l=Nv(t),c=Dw(t,n,o,"color"!==r?"normal":"color",i,s,a);return Bv(e,l,c,o,{menuType:r})},Dw=(e,t,n,o,r,i,s)=>xe(F(e,(a=>{return"choiceitem"===a.type?(l=a,Uo("choicemenuitem",Ib,l)).fold(Lv,(a=>A.some(((e,t,n,o,r,i,s,a=!0)=>{const l=ky({presets:n,textContent:t?e.text:A.none(),htmlContent:A.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:A.none(),checkMark:t?A.some(Cy(s.icons)):A.none(),caret:A.none(),value:e.value},s,a);return po(gy({data:vy(e),enabled:e.enabled,getApi:e=>({setActive:t=>{Qp.set(e,t)},isActive:()=>Qp.isOn(e),isEnabled:()=>!Sh.isDisabled(e),setEnabled:t=>Sh.set(e,!t)}),onAction:t=>o(e.value),onSetup:e=>(e.setActive(r),v),triggersSubmenu:!1,itemBehaviours:[]},l,i,s),{toggling:{toggleClass:rv,toggleOnExecute:!1,selected:e.active,exclusive:!0}})})(a,1===n,o,t,i(a.value),r,s,Nv(e))))):A.none();var l}))),Mw=(e,t)=>{const n=pv(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group"),previousSelector:e=>"color"===t?sa(e.element,"[aria-checked=true]"):A.none()}},Pw=os("cell-over"),Rw=os("cell-execute"),Nw=(e,t,n)=>{const o=n=>Ti(n,Rw,{row:e,col:t}),r=(e,t)=>{t.stop(),o(e)};return Xs({dom:{tag:"div",attributes:{role:"button","aria-labelledby":n}},behaviours:fl([Fp("insert-table-picker-cell",[Bi(Ur(),Wp.focus),Bi(ai(),o),Bi(Kr(),r),Bi(ci(),r)]),Qp.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Wp.config({onFocus:n=>Ti(n,Pw,{row:e,col:t})})])})},Lw=e=>$(e,(e=>F(e,Qs))),Iw=(e,t)=>Gs(`${t}x${e}`),Bw={inserttable:e=>{const t=os("size-label"),n=((e,t,n)=>{const o=[];for(let t=0;t<10;t++){const n=[];for(let o=0;o<10;o++)n.push(Nw(t,o,e));o.push(n)}return o})(t),o=Iw(0,0),r=Mf({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:t}},components:[o],behaviours:fl([Bp.config({})])});return{type:"widget",data:{value:os("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Ty.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:Lw(n).concat(r.asSpec()),behaviours:fl([Fp("insert-table-picker",[Zi((e=>{Bp.set(r.get(e),[o])})),zi(Pw,((e,t,o)=>{const{row:i,col:s}=o.event;((e,t,n,o,r)=>{for(let o=0;o<10;o++)for(let r=0;r<10;r++)Qp.set(e[o][r],o<=t&&r<=n)})(n,i,s),Bp.set(r.get(e),[Iw(i+1,s+1)])})),zi(Rw,((t,n,o)=>{const{row:r,col:i}=o.event;e.onAction({numRows:r+1,numColumns:i+1}),Ai(t,ui())}))]),Ap.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(e,t)=>{const n=((e,t)=>{const n=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold((()=>Sw(t.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,n)),(e=>e.concat(xw(n))))})(e,t),o=t.colorinput.getColorCols(e.initData.storageKey),r="color",i={...Tw(os("menu-value"),n,(t=>{e.onAction({value:t})}),o,r,ev.CLOSE_ON_EXECUTE,e.select.getOr(E),t.shared.providers),markers:pv(r),movement:Mw(o,r)};return{type:"widget",data:{value:os("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Ty.widget(wf.sketch(i))]}}},Fw=e=>({type:"separator",dom:{tag:"div",classes:[nv,"tox-collection__group-heading"]},components:e.text.map(Gs).toArray()});var Hw=Object.freeze({__proto__:null,getCoupled:(e,t,n,o)=>n.getOrCreate(e,t,o),getExistingCoupled:(e,t,n,o)=>n.getExisting(e,t,o)}),Vw=[Jo("others",zo(no.value,Mo()))],zw=Object.freeze({__proto__:null,init:()=>{const e={},t=(t,n)=>{if(0===se(t.others).length)throw new Error("Cannot find any known coupled components");return ve(e,n)},n=w({});return xs({readState:n,getExisting:(e,n,o)=>t(n,o).orThunk((()=>(ve(n.others,o).getOrDie("No information found for coupled component: "+o),A.none()))),getOrCreate:(n,o,r)=>t(o,r).getOrThunk((()=>{const t=ve(o.others,r).getOrDie("No information found for coupled component: "+r)(n),i=n.getSystem().build(t);return e[r]=i,i}))})}});const Uw=vl({fields:Vw,name:"coupling",apis:Hw,state:zw}),Ww=e=>{let t=A.none(),n=[];const o=e=>{r()?i(e):n.push(e)},r=()=>t.isSome(),i=e=>{t.each((t=>{setTimeout((()=>{e(t)}),0)}))};return e((e=>{r()||(t=A.some(e),H(n,i),n=[])})),{get:o,map:e=>Ww((t=>{o((n=>{t(e(n))}))})),isReady:r}},qw={nu:Ww,pure:e=>Ww((t=>{t(e)}))},Zw=e=>{setTimeout((()=>{throw e}),0)},Gw=e=>{const t=t=>{e().then(t,Zw)};return{map:t=>Gw((()=>e().then(t))),bind:t=>Gw((()=>e().then((e=>t(e).toPromise())))),anonBind:t=>Gw((()=>e().then((()=>t.toPromise())))),toLazy:()=>qw.nu(t),toCached:()=>{let t=null;return Gw((()=>(null===t&&(t=e()),t)))},toPromise:e,get:t}},$w=e=>Gw((()=>new Promise(e))),Yw=e=>Gw((()=>Promise.resolve(e))),Kw=w("sink"),Xw=w(Mu({name:Kw(),overrides:w({dom:{tag:"div"},behaviours:fl([dd.config({useFixed:O})]),events:Ni([Ui(Zr()),Ui(Fr()),Ui(Kr())])})})),Qw=(e,t)=>{const n=e.getHotspot(t).getOr(t),o="hotspot",r=e.getAnchorOverrides();return e.layouts.fold((()=>({type:o,hotspot:n,overrides:r})),(e=>({type:o,hotspot:n,overrides:r,layouts:e})))},Jw=(e,t,n,o,r,i,s)=>{const a=((e,t,n,o,r,i,s)=>{const a=((e,t,n)=>(0,e.fetch)(n).map(t))(e,t,o),l=nx(o,e);return a.map((e=>e.bind((e=>A.from(Of.sketch({...i.menu(),uid:ds(""),data:e,highlightOnOpen:s,onOpenMenu:(e,t)=>{const o=l().getOrDie();dd.position(o,t,{anchor:n}),Ld.decloak(r)},onOpenSubmenu:(e,t,n)=>{const o=l().getOrDie();dd.position(o,n,{anchor:{type:"submenu",item:t}}),Ld.decloak(r)},onRepositionMenu:(e,t,o)=>{const r=l().getOrDie();dd.position(r,t,{anchor:n}),H(o,(e=>{dd.position(r,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})}))},onEscape:()=>(Wp.focus(o),Ld.close(r),A.some(!0))}))))))})(e,t,Qw(e,n),n,o,r,s);return a.map((e=>(e.fold((()=>{Ld.isOpen(o)&&Ld.close(o)}),(e=>{Ld.cloak(o),Ld.open(o,e),i(o)})),o)))},ex=(e,t,n,o,r,i,s)=>(Ld.close(o),Yw(o)),tx=(e,t,n,o,r,i)=>{const s=Uw.getCoupled(n,"sandbox");return(Ld.isOpen(s)?ex:Jw)(e,t,n,s,o,r,i)},nx=(e,t)=>e.getSystem().getByUid(t.uid+"-"+Kw()).map((e=>()=>no.value(e))).getOrThunk((()=>t.lazySink.fold((()=>()=>no.error(new Error("No internal sink is specified, nor could an external sink be found"))),(t=>()=>t(e))))),ox=e=>{Ld.getState(e).each((e=>{Of.repositionMenus(e)}))},rx=(e,t,n)=>{const o=ca(),r=nx(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:o.id,role:"listbox"}},behaviours:au(e.sandboxBehaviours,[nu.config({store:{mode:"memory",initialValue:t}}),Ld.config({onOpen:(r,i)=>{const s=Qw(e,t);o.link(t.element),e.matchWidth&&((e,t,n)=>{const o=ch.getCurrent(t).getOr(t),r=Yt(e.element);n?At(o.element,"min-width",r+"px"):((e,t)=>{$t.set(e,t)})(o.element,r)})(s.hotspot,i,e.useMinWidth),e.onOpen(s,r,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(r,i)},onClose:(e,r)=>{o.unlink(t.element),void 0!==n&&void 0!==n.onClose&&n.onClose(e,r)},isPartOf:(e,n,o)=>da(n,o)||da(t,o),getAttachPoint:()=>r().getOrDie()}),ch.config({find:e=>Ld.getState(e).bind((e=>ch.getCurrent(e)))}),xl.config({channels:{...Vd({isExtraPart:E}),...Ud({doReposition:ox})}})])}},ix=e=>{const t=Uw.getCoupled(e,"sandbox");ox(t)},sx=()=>[fr("sandboxClasses",[]),su("sandboxBehaviours",[ch,xl,Ld,nu])],ax=w([Qo("dom"),Qo("fetch"),Sa("onOpen"),Ca("onExecute"),fr("getHotspot",A.some),fr("getAnchorOverrides",w({})),uc(),ou("dropdownBehaviours",[Qp,Uw,Ap,Wp]),Qo("toggleClass"),fr("eventOrder",{}),ar("lazySink"),fr("matchWidth",!1),fr("useMinWidth",!1),ar("role")].concat(sx())),lx=w([Du({schema:[wa(),fr("fakeFocus",!1)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),Xw()]),cx=ih({name:"Dropdown",configFields:ax(),partFields:lx(),factory:(e,t,n,o)=>{const r=e=>{Ld.getState(e).each((e=>{Of.highlightPrimary(e)}))},i=(t,n,r)=>tx(e,x,t,o,n,r),s={expand:e=>{Qp.isOn(e)||i(e,v,kf.HighlightNone).get(v)},open:e=>{Qp.isOn(e)||i(e,v,kf.HighlightMenuAndItem).get(v)},refetch:t=>Uw.getExistingCoupled(t,"sandbox").fold((()=>i(t,v,kf.HighlightMenuAndItem).map(v)),(n=>Jw(e,x,t,n,o,v,kf.HighlightMenuAndItem).map(v))),isOpen:Qp.isOn,close:e=>{Qp.isOn(e)&&i(e,v,kf.HighlightMenuAndItem).get(v)},repositionMenus:e=>{Qp.isOn(e)&&ix(e)}},a=(e,t)=>(Di(e),A.some(!0));return{uid:e.uid,dom:e.dom,components:t,behaviours:iu(e.dropdownBehaviours,[Qp.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),Uw.config({others:{sandbox:t=>rx(e,t,{onOpen:()=>Qp.on(t),onClose:()=>Qp.off(t)})}}),Ap.config({mode:"special",onSpace:a,onEnter:a,onDown:(e,t)=>{if(cx.isOpen(e)){const t=Uw.getCoupled(e,"sandbox");r(t)}else cx.open(e);return A.some(!0)},onEscape:(e,t)=>cx.isOpen(e)?(cx.close(e),A.some(!0)):A.none()}),Wp.config({})]),events:ef(A.some((e=>{i(e,r,kf.HighlightMenuAndItem).get(v)}))),eventOrder:{...e.eventOrder,[ai()]:["disabling","toggling","alloy.base.behaviour"]},apis:s,domModification:{attributes:{"aria-haspopup":"true",...e.role.fold((()=>({})),(e=>({role:e}))),..."button"===e.dom.tag?{type:ve(e.dom,"attributes").bind((e=>ve(e,"type"))).getOr("button")}:{}}}}},apis:{open:(e,t)=>e.open(t),refetch:(e,t)=>e.refetch(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}}),dx=(e,t,n)=>{kv(e).each((e=>{var o;((e,t)=>{Ct(t.element,"id").each((t=>xt(e.element,"aria-activedescendant",t)))})(e,n),(Ls((o=t).element,Av)?A.some(o.element):sa(o.element,"."+Av)).each((t=>{Ct(t,"id").each((t=>xt(e.element,"aria-controls",t)))}))})),xt(n.element,"aria-selected","true")},ux=(e,t,n)=>{xt(n.element,"aria-selected","false")},hx=e=>Uw.getExistingCoupled(e,"sandbox").bind(jv).map(Ev).map((e=>e.fetchPattern)).getOr("");var mx;!function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"}(mx||(mx={}));const px=(e,t,n,o,r,i)=>{const s=Nv(t),a=xe(F(t,(e=>{const t=e=>((e,t,n,o,r)=>{const i=n.shared.providers,s=e=>r?{...e,shortcut:A.none(),icon:e.text.isSome()?A.none():e.icon}:e;switch(e.type){case"menuitem":return(a=e,Uo("menuitem",zb,a)).fold(Lv,(e=>A.some(((e,t,n,o=!0)=>{const r=ky({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:A.none(),ariaLabel:e.text,caret:A.none(),checkMark:A.none(),shortcutContent:e.shortcut},n,o);return gy({data:vy(e),getApi:e=>({isEnabled:()=>!Sh.isDisabled(e),setEnabled:t=>Sh.set(e,!t)}),enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,n)})(s(e),t,i,o))));case"nestedmenuitem":return(e=>Uo("nestedmenuitem",Ub,e))(e).fold(Lv,(e=>A.some(((e,t,n,o=!0,r=!1)=>{const i=r?(s=n.icons,yy("chevron-down",s,[av])):(e=>yy("chevron-right",e,[av]))(n.icons);var s;const a=ky({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:A.none(),ariaLabel:e.text,caret:A.some(i),checkMark:A.none(),shortcutContent:e.shortcut},n,o);return gy({data:vy(e),getApi:e=>({isEnabled:()=>!Sh.isDisabled(e),setEnabled:t=>Sh.set(e,!t),setIconFill:(t,n)=>{sa(e.element,`svg path[id="${t}"], rect[id="${t}"]`).each((e=>{xt(e,"fill",n)}))}}),enabled:e.enabled,onAction:v,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},a,t,n)})(s(e),t,i,o,r))));case"togglemenuitem":return(e=>Uo("togglemenuitem",Wb,e))(e).fold(Lv,(e=>A.some(((e,t,n,o=!0)=>{const r=ky({iconContent:e.icon,textContent:e.text,htmlContent:A.none(),ariaLabel:e.text,checkMark:A.some(Cy(n.icons)),caret:A.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,o);return po(gy({data:vy(e),enabled:e.enabled,getApi:e=>({setActive:t=>{Qp.set(e,t)},isActive:()=>Qp.isOn(e),isEnabled:()=>!Sh.isDisabled(e),setEnabled:t=>Sh.set(e,!t)}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,n),{toggling:{toggleClass:rv,toggleOnExecute:!1,selected:e.active}})})(s(e),t,i,o))));case"separator":return(e=>Uo("separatormenuitem",mb,e))(e).fold(Lv,(e=>A.some(Fw(e))));case"fancymenuitem":return(e=>Uo("fancymenuitem",Vb,e))(e).fold(Lv,(e=>((e,t)=>ve(Bw,e.fancytype).map((n=>n(e,t))))(e,n)));default:return console.error("Unknown item in general menu",e),A.none()}var a})(e,n,o,(e=>r?!be(e,"text"):s)(e),r);return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?t({...e,enabled:!1}):t(e)}))),l=(e=>"no-search"===e.searchMode?{menuType:"normal"}:{menuType:"searchable",searchMode:e})(i);return(r?Iv:Bv)(e,s,a,1,l)},fx=e=>Of.singleData(e.value,e),gx=(e,t)=>{const n=Cr(!1),o=Cr(!1),r=Xs(Af.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:fl([Fp("dismissAutocompleter",[Bi(wi(),(()=>c()))])]),lazySink:t.getSink})),i=()=>Af.isOpen(r),s=o.get,a=()=>{i()&&Af.hide(r)},l=()=>Af.getContent(r).bind((e=>te(e.components(),0))),c=()=>e.execCommand("mceAutocompleterClose"),d=o=>{const i=(o=>{const r=ie(o,(e=>A.from(e.columns))).getOr(1);return $(o,(o=>((e,t,n,o,r,i,s)=>{const a=1===o,l=!a||Nv(e);return xe(F(e,(e=>{switch(e.type){case"separator":return(o=e,Uo("Autocompleter.Separator",mb,o)).fold(Lv,(e=>A.some(Fw(e))));case"cardmenuitem":return(e=>Uo("cardmenuitem",Lb,e))(e).fold(Lv,(e=>A.some(((e,t,n,o)=>{const r={dom:jy(e.label),optComponents:[A.some({dom:{tag:"div",classes:[cv,dv]},components:Ay(e.items,o)})]};return gy({data:vy({text:A.none(),...e}),enabled:e.enabled,getApi:e=>({isEnabled:()=>!Sh.isDisabled(e),setEnabled:t=>{Sh.set(e,!t),H(Ic(e.element,"*"),(n=>{e.getSystem().getByDom(n).each((e=>{e.hasConfigured(Sh)&&Sh.set(e,!t)}))}))}}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:A.from(o.itemBehaviours).getOr([])},r,t,n.providers)})({...e,onAction:t=>{e.onAction(t),n(e.value,e.meta)}},r,i,{itemBehaviours:Ey(e.meta,i),cardText:{matchText:t,highlightOn:s}}))));default:return(e=>Uo("Autocompleter.Item",pb,e))(e).fold(Lv,(e=>A.some(((e,t,n,o,r,i,s,a=!0)=>{const l=ky({presets:"normal",textContent:A.none(),htmlContent:n?e.text.map((e=>Oy(e,t))):A.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:A.none(),checkMark:A.none(),caret:A.none(),value:e.value},s.providers,a,e.icon);return gy({data:vy(e),enabled:e.enabled,getApi:w({}),onAction:t=>r(e.value,e.meta),onSetup:w(v),triggersSubmenu:!1,itemBehaviours:Ey(e.meta,s)},l,i,s.providers)})(e,t,a,0,n,r,i,l))))}var o})))})(o.items,o.matchText,((t,r)=>{const i=e.selection.getRng();((e,t)=>Qg(Le(t.startContainer)).map((t=>{const n=e.createRng();return n.selectNode(t.dom),n})))(e.dom,i).each((i=>{const s={hide:()=>c(),reload:t=>{a(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:t})}};n.set(!0),o.onAction(s,i,t,r),n.set(!1)}))}),r,ev.BUBBLE_TO_SANDBOX,t,o.highlightOn)))})(o);i.length>0?((t,n)=>{var o;(o=Le(e.getBody()),sa(o,Xg)).each((o=>{const i=ie(t,(e=>A.from(e.columns))).getOr(1);Af.showMenuAt(r,{anchor:{type:"node",root:Le(e.getBody()),node:A.from(o)}},((e,t,n,o)=>{const r=Mw(t,o),i=pv(o);return{data:fx({...e,movement:r,menuBehaviours:Zb("auto"!==t?[]:[Zi(((e,t)=>{qb(e,4,i.item).each((({numColumns:t,numRows:n})=>{Ap.setGridSize(e,n,t)}))}))])}),menu:{markers:pv(o),fakeFocus:n===mx.ContentFocus}}})(Bv("autocompleter-value",!0,n,i,{menuType:"normal"}),i,mx.ContentFocus,"normal"))})),l().each(Ph.highlightFirst)})(o,i):a()};e.on("AutocompleterStart",(({lookupData:e})=>{o.set(!0),n.set(!1),d(e)})),e.on("AutocompleterUpdate",(({lookupData:e})=>d(e))),e.on("AutocompleterEnd",(()=>{a(),o.set(!1),n.set(!1)})),((e,t)=>{const n=(e,t)=>{Ti(e,Zr(),{raw:t})},o=()=>e.getMenu().bind(Ph.getHighlighted);t.on("keydown",(t=>{const r=t.which;e.isActive()&&(e.isMenuOpen()?13===r?(o().each(Di),t.preventDefault()):40===r?(o().fold((()=>{e.getMenu().each(Ph.highlightFirst)}),(e=>{n(e,t)})),t.preventDefault(),t.stopImmediatePropagation()):37!==r&&38!==r&&39!==r||o().each((e=>{n(e,t),t.preventDefault(),t.stopImmediatePropagation()})):13!==r&&38!==r&&40!==r||e.cancelIfNecessary())})),t.on("NodeChange",(t=>{e.isActive()&&!e.isProcessingAction()&&Qg(Le(t.element)).isNone()&&e.cancelIfNecessary()}))})({cancelIfNecessary:c,isMenuOpen:i,isActive:s,isProcessingAction:n.get,getMenu:l},e)},vx=["visible","hidden"],bx=e=>{if(ze(e)){const t=Mt(e,"overflow");return Te(t).length>0&&!N(vx,t)}return!1},yx=(e,t)=>$g(e)?(e=>{const t=(n=bx,z(((e,t)=>{const n=p(t)?t:E;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=Le(e);if(r.push(t),!0===n(t))break;o=e}return r})(e,undefined),n));var n;return ne(t).map((e=>({element:e,others:t.slice(1)})))})(t):A.none(),wx=e=>{const t=[...F(e.others,Yn),Qn()];return((e,t)=>W(t,((e,t)=>Xn(e,t)),e))(Yn(e.element),t)},xx=(e,t,n)=>aa(e,t,n).isSome(),_x=(e,t)=>{let n=null;return{cancel:()=>{null!==n&&(clearTimeout(n),n=null)},schedule:(...o)=>{n=setTimeout((()=>{e.apply(null,o),n=null}),t)}}},Sx=e=>{const t=e.raw;return void 0===t.touches||1!==t.touches.length?A.none():A.some(t.touches[0])},Cx=(e,t)=>{const n=ve(e,"target").getOr(t);return Cr(n)},jx=jr([{stopped:[]},{resume:["element"]},{complete:[]}]),kx=(e,t,n,o,r,i)=>{const s=e(t,o),a=((e,t)=>{const n=Cr(!1),o=Cr(!1);return{stop:()=>{n.set(!0)},cut:()=>{o.set(!0)},isStopped:n.get,isCut:o.get,event:e,setSource:t.set,getSource:t.get}})(n,r);return s.fold((()=>(i.logEventNoHandlers(t,o),jx.complete())),(e=>{const n=e.descHandler;return Cs(n)(a),a.isStopped()?(i.logEventStopped(t,e.element,n.purpose),jx.stopped()):a.isCut()?(i.logEventCut(t,e.element,n.purpose),jx.complete()):nt(e.element).fold((()=>(i.logNoParent(t,e.element,n.purpose),jx.complete())),(o=>(i.logEventResponse(t,e.element,n.purpose),jx.resume(o))))}))},Ex=(e,t,n,o,r,i)=>kx(e,t,n,o,r,i).fold(O,(o=>Ex(e,t,n,o,r,i)),E),Ox=(e,t,n,o,r)=>{const i=Cx(n,o);return Ex(e,t,n,o,i,r)},Ax=rh({name:"Container",factory:e=>{const{attributes:t,...n}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...t},...n},components:e.components,behaviours:ru(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[fr("components",[]),ou("containerBehaviours",[]),fr("events",{}),fr("domModification",{}),fr("eventOrder",{})]}),Tx=e=>{const t=t=>nt(e.element).fold(O,(e=>Ke(t,e))),n=(()=>{const e=(()=>{const e={};return{registerId:(t,n,o)=>{le(o,((o,r)=>{const i=void 0!==e[r]?e[r]:{};i[n]=((e,t)=>({cHandler:S.apply(void 0,[e.handler].concat(t)),purpose:e.purpose}))(o,t),e[r]=i}))},unregisterId:t=>{le(e,((e,n)=>{be(e,t)&&delete e[t]}))},filterByType:t=>ve(e,t).map((e=>pe(e,((e,t)=>((e,t)=>({id:e,descHandler:t}))(t,e))))).getOr([]),find:(t,n,o)=>ve(e,n).bind((e=>Tr(o,(t=>((e,t)=>cs(t).bind((t=>ve(e,t))).map((e=>((e,t)=>({element:e,descHandler:t}))(t,e))))(e,t)),t)))}})(),t={},n=n=>{cs(n.element).each((n=>{delete t[n],e.unregisterId(n)}))};return{find:(t,n,o)=>e.find(t,n,o),filter:t=>e.filterByType(t),register:o=>{const r=(e=>{const t=e.element;return cs(t).getOrThunk((()=>((e,t)=>{const n=os(ss+"uid-");return ls(t,n),n})(0,e.element)))})(o);ye(t,r)&&((e,o)=>{const r=t[o];if(r!==e)throw new Error('The tagId "'+o+'" is already used by: '+Qi(r.element)+"\nCannot use it for: "+Qi(e.element)+"\nThe conflicting element is"+(vt(r.element)?" ":" not ")+"already in the DOM");n(e)})(o,r);const i=[o];e.registerId(i,r,o.events),t[r]=o},unregister:n,getById:e=>ve(t,e)}})(),o=(e,o)=>n.find(t,e,o),r=((e,t)=>{const n={stopBackspace:!0,...t},o=(e=>{const t=Wl(),n=Cr(!1),o=_x((t=>{e.triggerEvent(di(),t),n.set(!0)}),400),r=Er([{key:Nr(),value:e=>(Sx(e).each((r=>{o.cancel();const i={x:r.clientX,y:r.clientY,target:e.target};o.schedule(e),n.set(!1),t.set(i)})),A.none())},{key:Lr(),value:e=>(o.cancel(),Sx(e).each((e=>{t.on((n=>{((e,t)=>{const n=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return n>5||o>5})(e,n)&&t.clear()}))})),A.none())},{key:Ir(),value:r=>(o.cancel(),t.get().filter((e=>Ke(e.target,r.target))).map((t=>n.get()?(r.prevent(),!1):e.triggerEvent(ci(),r))))}]);return{fireIfReady:(e,t)=>ve(r,t).bind((t=>t(e)))}})(n),r=F(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(t=>Zl(e,t,(e=>{o.fireIfReady(e,t).each((t=>{t&&e.kill()})),n.triggerEvent(t,e)&&e.kill()})))),i=Wl(),s=Zl(e,"paste",(e=>{o.fireIfReady(e,"paste").each((t=>{t&&e.kill()})),n.triggerEvent("paste",e)&&e.kill(),i.set(setTimeout((()=>{n.triggerEvent(ii(),e)}),0))})),a=Zl(e,"keydown",(e=>{n.triggerEvent("keydown",e)?e.kill():n.stopBackspace&&(e=>e.raw.which===Rh[0]&&!N(["input","textarea"],He(e.target))&&!xx(e.target,'[contenteditable="true"]'))(e)&&e.prevent()})),l=Zl(e,"focusin",(e=>{n.triggerEvent("focusin",e)&&e.kill()})),c=Wl(),d=Zl(e,"focusout",(e=>{n.triggerEvent("focusout",e)&&e.kill(),c.set(setTimeout((()=>{n.triggerEvent(ri(),e)}),0))}));return{unbind:()=>{H(r,(e=>{e.unbind()})),a.unbind(),l.unbind(),d.unbind(),s.unbind(),i.on(clearTimeout),c.on(clearTimeout)}}})(e.element,{triggerEvent:(e,t)=>pa(e,t.target,(n=>((e,t,n,o)=>Ox(e,t,n,n.target,o))(o,e,t,n)))}),i={debugInfo:w("real"),triggerEvent:(e,t,n)=>{pa(e,t,(r=>Ox(o,e,n,t,r)))},triggerFocus:(e,t)=>{cs(e).fold((()=>{Sl(e)}),(n=>{pa(oi(),e,(n=>(((e,t,n,o,r)=>{const i=Cx(n,o);kx(e,t,n,o,i,r)})(o,oi(),{originator:t,kill:v,prevent:v,target:e},e,n),!1)))}))},triggerEscape:(e,t)=>{i.triggerEvent("keydown",e.element,t.event)},getByUid:e=>p(e),getByDom:e=>f(e),build:Xs,buildOrPatch:Ks,addToGui:e=>{l(e)},removeFromGui:e=>{c(e)},addToWorld:e=>{s(e)},removeFromWorld:e=>{a(e)},broadcast:e=>{u(e)},broadcastOn:(e,t)=>{h(e,t)},broadcastEvent:(e,t)=>{m(e,t)},isConnected:O},s=e=>{e.connect(i),We(e.element)||(n.register(e),H(e.components(),s),i.triggerEvent(mi(),e.element,{target:e.element}))},a=e=>{We(e.element)||(H(e.components(),a),n.unregister(e)),e.disconnect()},l=t=>{vd(e,t)},c=e=>{wd(e)},d=e=>{const t=n.filter(si());H(t,(t=>{const n=t.descHandler;Cs(n)(e)}))},u=e=>{d({universal:!0,data:e})},h=(e,t)=>{d({universal:!1,channels:e,data:t})},m=(e,t)=>((e,t,n)=>{const o=(e=>{const t=Cr(!1);return{stop:()=>{t.set(!0)},cut:v,isStopped:t.get,isCut:E,event:e,setSource:j("Cannot set source of a broadcasted event"),getSource:j("Cannot get source of a broadcasted event")}})(t);return H(e,(e=>{const t=e.descHandler;Cs(t)(o)})),o.isStopped()})(n.filter(e),t),p=e=>n.getById(e).fold((()=>no.error(new Error('Could not find component with uid: "'+e+'" in system.'))),no.value),f=e=>{const t=cs(e).getOr("not found");return p(t)};return s(e),{root:e,element:e.element,destroy:()=>{r.unbind(),Fn(e.element)},add:l,remove:c,getByUid:p,getByDom:f,addToWorld:s,removeFromWorld:a,broadcast:u,broadcastOn:h,broadcastEvent:m}},Dx=w([fr("prefix","form-field"),ou("fieldBehaviours",[ch,nu])]),Mx=w([Mu({schema:[Qo("dom")],name:"label"}),Mu({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[Qo("text")],name:"aria-descriptor"}),Tu({factory:{sketch:e=>{const t=((e,t)=>{const n={};return le(e,((e,o)=>{N(t,o)||(n[o]=e)})),n})(e,["factory"]);return e.factory.sketch(t)}},schema:[Qo("factory")],name:"field"})]),Px=ih({name:"FormField",configFields:Dx(),partFields:Mx(),factory:(e,t,n,o)=>{const r=iu(e.fieldBehaviours,[ch.config({find:t=>Wu(t,e,"field")}),nu.config({store:{mode:"manual",getValue:e=>ch.getCurrent(e).bind(nu.getValue),setValue:(e,t)=>{ch.getCurrent(e).each((e=>{nu.setValue(e,t)}))}}})]),i=Ni([Zi(((t,n)=>{const o=Zu(t,e,["label","field","aria-descriptor"]);o.field().each((t=>{const n=os(e.prefix);o.label().each((e=>{xt(e.element,"for",n),xt(t.element,"id",n)})),o["aria-descriptor"]().each((n=>{const o=os(e.prefix);xt(n.element,"id",o),xt(t.element,"aria-describedby",o)}))}))}))]),s={getField:t=>Wu(t,e,"field"),getLabel:t=>Wu(t,e,"label")};return{uid:e.uid,dom:e.dom,components:t,behaviours:r,events:i,apis:s}},apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}});var Rx=Object.freeze({__proto__:null,exhibit:(e,t)=>Ss({attributes:Er([{key:t.tabAttr,value:"true"}])})}),Nx=[fr("tabAttr","data-alloy-tabstop")];const Lx=vl({fields:Nx,name:"tabstopping",active:Rx});var Ix=tinymce.util.Tools.resolve("tinymce.html.Entities");const Bx=(e,t,n,o)=>{const r=Fx(e,t,n,o);return Px.sketch(r)},Fx=(e,t,n,o)=>({dom:Hx(n),components:e.toArray().concat([t]),fieldBehaviours:fl(o)}),Hx=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),Vx=(e,t)=>Px.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Gs(t.translate(e))]}),zx=os("form-component-change"),Ux=os("form-close"),Wx=os("form-cancel"),qx=os("form-action"),Zx=os("form-submit"),Gx=os("form-block"),$x=os("form-unblock"),Yx=os("form-tabchange"),Kx=os("form-resize"),Xx=["input","textarea"],Qx=e=>{const t=He(e);return N(Xx,t)},Jx=(e,t)=>{const n=t.getRoot(e).getOr(e.element);Ns(n,t.invalidClass),t.notify.each((t=>{Qx(e.element)&&xt(e.element,"aria-invalid",!1),t.getContainer(e).each((e=>{Xi(e,t.validHtml)})),t.onValid(e)}))},e_=(e,t,n,o)=>{const r=t.getRoot(e).getOr(e.element);Rs(r,t.invalidClass),t.notify.each((t=>{Qx(e.element)&&xt(e.element,"aria-invalid",!0),t.getContainer(e).each((e=>{Xi(e,o)})),t.onInvalid(e,o)}))},t_=(e,t,n)=>t.validator.fold((()=>Yw(no.value(!0))),(t=>t.validate(e))),n_=(e,t,n)=>(t.notify.each((t=>{t.onValidate(e)})),t_(e,t).map((n=>e.getSystem().isConnected()?n.fold((n=>(e_(e,t,0,n),no.error(n))),(n=>(Jx(e,t),no.value(n)))):no.error("No longer in system"))));var o_=Object.freeze({__proto__:null,markValid:Jx,markInvalid:e_,query:t_,run:n_,isInvalid:(e,t)=>{const n=t.getRoot(e).getOr(e.element);return Ls(n,t.invalidClass)}}),r_=Object.freeze({__proto__:null,events:(e,t)=>e.validator.map((t=>Ni([Bi(t.onEvent,(t=>{n_(t,e).get(x)}))].concat(t.validateOnLoad?[Zi((t=>{n_(t,e).get(v)}))]:[])))).getOr({})}),i_=[Qo("invalidClass"),fr("getRoot",A.none),pr("notify",[fr("aria","alert"),fr("getContainer",A.none),fr("validHtml",""),Sa("onValid"),Sa("onInvalid"),Sa("onValidate")]),pr("validator",[Qo("validate"),fr("onEvent","input"),fr("validateOnLoad",!0)])];const s_=vl({fields:i_,name:"invalidating",active:r_,apis:o_,extra:{validation:e=>t=>{const n=nu.getValue(t);return Yw(e(n))}}}),a_=vl({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>Ni([Li(ei(),O)]),exhibit:()=>Ss({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),l_=os("color-input-change"),c_=os("color-swatch-change"),d_=os("color-picker-cancel"),u_=Mu({schema:[Qo("dom")],name:"label"}),h_=e=>Mu({name:e+"-edge",overrides:t=>t.model.manager.edgeActions[e].fold((()=>({})),(e=>({events:Ni([Fi(Nr(),((t,n,o)=>e(t,o)),[t]),Fi(Fr(),((t,n,o)=>e(t,o)),[t]),Fi(Hr(),((t,n,o)=>{o.mouseIsDown.get()&&e(t,o)}),[t])])})))}),m_=h_("top-left"),p_=h_("top"),f_=h_("top-right"),g_=h_("right"),v_=h_("bottom-right"),b_=h_("bottom"),y_=h_("bottom-left");var w_=[u_,h_("left"),g_,p_,b_,m_,f_,y_,v_,Tu({name:"thumb",defaults:w({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:Ni([Vi(Nr(),e,"spectrum"),Vi(Lr(),e,"spectrum"),Vi(Ir(),e,"spectrum"),Vi(Fr(),e,"spectrum"),Vi(Hr(),e,"spectrum"),Vi(zr(),e,"spectrum")])})}),Tu({schema:[Ko("mouseIsDown",(()=>Cr(!1)))],name:"spectrum",overrides:e=>{const t=e.model.manager,n=(n,o)=>t.getValueFromEvent(o).map((o=>t.setValueFrom(n,e,o)));return{behaviours:fl([Ap.config({mode:"special",onLeft:n=>t.onLeft(n,e),onRight:n=>t.onRight(n,e),onUp:n=>t.onUp(n,e),onDown:n=>t.onDown(n,e)}),Wp.config({})]),events:Ni([Bi(Nr(),n),Bi(Lr(),n),Bi(Fr(),n),Bi(Hr(),((t,o)=>{e.mouseIsDown.get()&&n(t,o)}))])}}})];const x_=w("slider.change.value"),__=e=>{const t=e.event.raw;if((e=>-1!==e.type.indexOf("touch"))(t)){const e=t;return void 0!==e.touches&&1===e.touches.length?A.some(e.touches[0]).map((e=>Wt(e.clientX,e.clientY))):A.none()}{const e=t;return void 0!==e.clientX?A.some(e).map((e=>Wt(e.clientX,e.clientY))):A.none()}},S_=e=>e.model.minX,C_=e=>e.model.minY,j_=e=>e.model.minX-1,k_=e=>e.model.minY-1,E_=e=>e.model.maxX,O_=e=>e.model.maxY,A_=e=>e.model.maxX+1,T_=e=>e.model.maxY+1,D_=(e,t,n)=>t(e)-n(e),M_=e=>D_(e,E_,S_),P_=e=>D_(e,O_,C_),R_=e=>M_(e)/2,N_=e=>P_(e)/2,L_=e=>e.stepSize,I_=e=>e.snapToGrid,B_=e=>e.snapStart,F_=e=>e.rounded,H_=(e,t)=>void 0!==e[t+"-edge"],V_=e=>H_(e,"left"),z_=e=>H_(e,"right"),U_=e=>H_(e,"top"),W_=e=>H_(e,"bottom"),q_=e=>e.model.value.get(),Z_=(e,t)=>({x:e,y:t}),G_=(e,t)=>{Ti(e,x_(),{value:t})},$_=(e,t,n,o)=>e<t?e:e>n?n:e===t?t-1:Math.max(t,e-o),Y_=(e,t,n,o)=>e>n?e:e<t?t:e===n?n+1:Math.min(n,e+o),K_=(e,t,n)=>Math.max(t,Math.min(n,e)),X_=e=>{const{min:t,max:n,range:o,value:r,step:i,snap:s,snapStart:a,rounded:l,hasMinEdge:c,hasMaxEdge:d,minBound:u,maxBound:h,screenRange:m}=e,p=c?t-1:t,f=d?n+1:n;if(r<u)return p;if(r>h)return f;{const e=((e,t,n)=>Math.min(n,Math.max(e,t))-t)(r,u,h),c=K_(e/m*o+t,p,f);return s&&c>=t&&c<=n?((e,t,n,o,r)=>r.fold((()=>{const r=e-t,i=Math.round(r/o)*o;return K_(t+i,t-1,n+1)}),(t=>{const r=(e-t)%o,i=Math.round(r/o),s=Math.floor((e-t)/o),a=Math.floor((n-t)/o),l=t+Math.min(a,s+i)*o;return Math.max(t,l)})))(c,t,n,i,a):l?Math.round(c):c}},Q_=e=>{const{min:t,max:n,range:o,value:r,hasMinEdge:i,hasMaxEdge:s,maxBound:a,maxOffset:l,centerMinEdge:c,centerMaxEdge:d}=e;return r<t?i?0:c:r>n?s?a:d:(r-t)/o*l},J_="top",eS="right",tS="bottom",nS="left",oS=e=>e.element.dom.getBoundingClientRect(),rS=(e,t)=>e[t],iS=e=>{const t=oS(e);return rS(t,nS)},sS=e=>{const t=oS(e);return rS(t,eS)},aS=e=>{const t=oS(e);return rS(t,J_)},lS=e=>{const t=oS(e);return rS(t,tS)},cS=e=>{const t=oS(e);return rS(t,"width")},dS=e=>{const t=oS(e);return rS(t,"height")},uS=(e,t,n)=>(e+t)/2-n,hS=(e,t)=>{const n=oS(e),o=oS(t),r=rS(n,nS),i=rS(n,eS),s=rS(o,nS);return uS(r,i,s)},mS=(e,t)=>{const n=oS(e),o=oS(t),r=rS(n,J_),i=rS(n,tS),s=rS(o,J_);return uS(r,i,s)},pS=(e,t)=>{Ti(e,x_(),{value:t})},fS=(e,t,n)=>{const o={min:S_(t),max:E_(t),range:M_(t),value:n,step:L_(t),snap:I_(t),snapStart:B_(t),rounded:F_(t),hasMinEdge:V_(t),hasMaxEdge:z_(t),minBound:iS(e),maxBound:sS(e),screenRange:cS(e)};return X_(o)},gS=e=>(t,n)=>((e,t,n)=>{const o=(e>0?Y_:$_)(q_(n),S_(n),E_(n),L_(n));return pS(t,o),A.some(o)})(e,t,n).map(O),vS=(e,t,n,o,r,i)=>{const s=((e,t,n,o,r)=>{const i=cS(e),s=o.bind((t=>A.some(hS(t,e)))).getOr(0),a=r.bind((t=>A.some(hS(t,e)))).getOr(i),l={min:S_(t),max:E_(t),range:M_(t),value:n,hasMinEdge:V_(t),hasMaxEdge:z_(t),minBound:iS(e),minOffset:0,maxBound:sS(e),maxOffset:i,centerMinEdge:s,centerMaxEdge:a};return Q_(l)})(t,i,n,o,r);return iS(t)-iS(e)+s},bS=gS(-1),yS=gS(1),wS=A.none,xS=A.none,_S={"top-left":A.none(),top:A.none(),"top-right":A.none(),right:A.some(((e,t)=>{G_(e,A_(t))})),"bottom-right":A.none(),bottom:A.none(),"bottom-left":A.none(),left:A.some(((e,t)=>{G_(e,j_(t))}))};var SS=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{const o=fS(e,t,n);return pS(e,o),o},setToMin:(e,t)=>{const n=S_(t);pS(e,n)},setToMax:(e,t)=>{const n=E_(t);pS(e,n)},findValueOfOffset:fS,getValueFromEvent:e=>__(e).map((e=>e.left)),findPositionOfValue:vS,setPositionFromValue:(e,t,n,o)=>{const r=q_(n),i=vS(e,o.getSpectrum(e),r,o.getLeftEdge(e),o.getRightEdge(e),n),s=Yt(t.element)/2;At(t.element,"left",i-s+"px")},onLeft:bS,onRight:yS,onUp:wS,onDown:xS,edgeActions:_S});const CS=(e,t)=>{Ti(e,x_(),{value:t})},jS=(e,t,n)=>{const o={min:C_(t),max:O_(t),range:P_(t),value:n,step:L_(t),snap:I_(t),snapStart:B_(t),rounded:F_(t),hasMinEdge:U_(t),hasMaxEdge:W_(t),minBound:aS(e),maxBound:lS(e),screenRange:dS(e)};return X_(o)},kS=e=>(t,n)=>((e,t,n)=>{const o=(e>0?Y_:$_)(q_(n),C_(n),O_(n),L_(n));return CS(t,o),A.some(o)})(e,t,n).map(O),ES=(e,t,n,o,r,i)=>{const s=((e,t,n,o,r)=>{const i=dS(e),s=o.bind((t=>A.some(mS(t,e)))).getOr(0),a=r.bind((t=>A.some(mS(t,e)))).getOr(i),l={min:C_(t),max:O_(t),range:P_(t),value:n,hasMinEdge:U_(t),hasMaxEdge:W_(t),minBound:aS(e),minOffset:0,maxBound:lS(e),maxOffset:i,centerMinEdge:s,centerMaxEdge:a};return Q_(l)})(t,i,n,o,r);return aS(t)-aS(e)+s},OS=A.none,AS=A.none,TS=kS(-1),DS=kS(1),MS={"top-left":A.none(),top:A.some(((e,t)=>{G_(e,k_(t))})),"top-right":A.none(),right:A.none(),"bottom-right":A.none(),bottom:A.some(((e,t)=>{G_(e,T_(t))})),"bottom-left":A.none(),left:A.none()};var PS=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{const o=jS(e,t,n);return CS(e,o),o},setToMin:(e,t)=>{const n=C_(t);CS(e,n)},setToMax:(e,t)=>{const n=O_(t);CS(e,n)},findValueOfOffset:jS,getValueFromEvent:e=>__(e).map((e=>e.top)),findPositionOfValue:ES,setPositionFromValue:(e,t,n,o)=>{const r=q_(n),i=ES(e,o.getSpectrum(e),r,o.getTopEdge(e),o.getBottomEdge(e),n),s=Vt(t.element)/2;At(t.element,"top",i-s+"px")},onLeft:OS,onRight:AS,onUp:TS,onDown:DS,edgeActions:MS});const RS=(e,t)=>{Ti(e,x_(),{value:t})},NS=(e,t)=>({x:e,y:t}),LS=(e,t)=>(n,o)=>((e,t,n,o)=>{const r=e>0?Y_:$_,i=t?q_(o).x:r(q_(o).x,S_(o),E_(o),L_(o)),s=t?r(q_(o).y,C_(o),O_(o),L_(o)):q_(o).y;return RS(n,NS(i,s)),A.some(i)})(e,t,n,o).map(O),IS=LS(-1,!1),BS=LS(1,!1),FS=LS(-1,!0),HS=LS(1,!0),VS={"top-left":A.some(((e,t)=>{G_(e,Z_(j_(t),k_(t)))})),top:A.some(((e,t)=>{G_(e,Z_(R_(t),k_(t)))})),"top-right":A.some(((e,t)=>{G_(e,Z_(A_(t),k_(t)))})),right:A.some(((e,t)=>{G_(e,Z_(A_(t),N_(t)))})),"bottom-right":A.some(((e,t)=>{G_(e,Z_(A_(t),T_(t)))})),bottom:A.some(((e,t)=>{G_(e,Z_(R_(t),T_(t)))})),"bottom-left":A.some(((e,t)=>{G_(e,Z_(j_(t),T_(t)))})),left:A.some(((e,t)=>{G_(e,Z_(j_(t),N_(t)))}))};var zS=Object.freeze({__proto__:null,setValueFrom:(e,t,n)=>{const o=fS(e,t,n.left),r=jS(e,t,n.top),i=NS(o,r);return RS(e,i),i},setToMin:(e,t)=>{const n=S_(t),o=C_(t);RS(e,NS(n,o))},setToMax:(e,t)=>{const n=E_(t),o=O_(t);RS(e,NS(n,o))},getValueFromEvent:e=>__(e),setPositionFromValue:(e,t,n,o)=>{const r=q_(n),i=vS(e,o.getSpectrum(e),r.x,o.getLeftEdge(e),o.getRightEdge(e),n),s=ES(e,o.getSpectrum(e),r.y,o.getTopEdge(e),o.getBottomEdge(e),n),a=Yt(t.element)/2,l=Vt(t.element)/2;At(t.element,"left",i-a+"px"),At(t.element,"top",s-l+"px")},onLeft:IS,onRight:BS,onUp:FS,onDown:HS,edgeActions:VS});const US=ih({name:"Slider",configFields:[fr("stepSize",1),fr("onChange",v),fr("onChoose",v),fr("onInit",v),fr("onDragStart",v),fr("onDragEnd",v),fr("snapToGrid",!1),fr("rounded",!0),ar("snapStart"),Jo("model",Go("mode",{x:[fr("minX",0),fr("maxX",100),Ko("value",(e=>Cr(e.mode.minX))),Qo("getInitialValue"),Ea("manager",SS)],y:[fr("minY",0),fr("maxY",100),Ko("value",(e=>Cr(e.mode.minY))),Qo("getInitialValue"),Ea("manager",PS)],xy:[fr("minX",0),fr("maxX",100),fr("minY",0),fr("maxY",100),Ko("value",(e=>Cr({x:e.mode.minX,y:e.mode.minY}))),Qo("getInitialValue"),Ea("manager",zS)]})),ou("sliderBehaviours",[Ap,nu]),Ko("mouseIsDown",(()=>Cr(!1)))],partFields:w_,factory:(e,t,n,o)=>{const r=t=>qu(t,e,"thumb"),i=t=>qu(t,e,"spectrum"),s=t=>Wu(t,e,"left-edge"),a=t=>Wu(t,e,"right-edge"),l=t=>Wu(t,e,"top-edge"),c=t=>Wu(t,e,"bottom-edge"),d=e.model,u=d.manager,h=(t,n)=>{u.setPositionFromValue(t,n,e,{getLeftEdge:s,getRightEdge:a,getTopEdge:l,getBottomEdge:c,getSpectrum:i})},m=(e,t)=>{d.value.set(t);const n=r(e);h(e,n)},p=t=>{const n=e.mouseIsDown.get();e.mouseIsDown.set(!1),n&&Wu(t,e,"thumb").each((n=>{const o=d.value.get();e.onChoose(t,n,o)}))},f=(t,n)=>{n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,r(t))},g=(t,n)=>{n.stop(),e.onDragEnd(t,r(t)),p(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:iu(e.sliderBehaviours,[Ap.config({mode:"special",focusIn:t=>Wu(t,e,"spectrum").map(Ap.focusIn).map(O)}),nu.config({store:{mode:"manual",getValue:e=>d.value.get(),setValue:m}}),xl.config({channels:{[Fd()]:{onReceive:p}}})]),events:Ni([Bi(x_(),((t,n)=>{((t,n)=>{m(t,n);const o=r(t);e.onChange(t,o,n),A.some(!0)})(t,n.event.value)})),Zi(((t,n)=>{const o=d.getInitialValue();d.value.set(o);const s=r(t);h(t,s);const a=i(t);e.onInit(t,s,a,d.value.get())})),Bi(Nr(),f),Bi(Ir(),g),Bi(Fr(),f),Bi(zr(),g)]),apis:{resetToMin:t=>{u.setToMin(t,e)},resetToMax:t=>{u.setToMax(t,e)},setValue:m,refresh:h},domModification:{styles:{position:"relative"}}}},apis:{setValue:(e,t,n)=>{e.setValue(t,n)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}}),WS=os("rgb-hex-update"),qS=os("slider-update"),ZS=os("palette-update"),GS="form",$S=[ou("formBehaviours",[nu])],YS=e=>"<alloy.field."+e+">",KS=(e,t)=>({uid:e.uid,dom:e.dom,components:t,behaviours:iu(e.formBehaviours,[nu.config({store:{mode:"manual",getValue:t=>{const n=Gu(t,e);return ce(n,((e,t)=>e().bind((e=>{return n=ch.getCurrent(e),o=new Error(`Cannot find a current component to extract the value from for form part '${t}': `+Qi(e.element)),n.fold((()=>no.error(o)),no.value);var n,o})).map(nu.getValue)))},setValue:(t,n)=>{le(n,((n,o)=>{Wu(t,e,o).each((e=>{ch.getCurrent(e).each((e=>{nu.setValue(e,n)}))}))}))}}})]),apis:{getField:(t,n)=>Wu(t,e,n).bind(ch.getCurrent)}}),XS={getField:ys(((e,t,n)=>e.getField(t,n))),sketch:e=>{const t=(()=>{const e=[];return{field:(t,n)=>(e.push(t),Fu(GS,YS(t),n)),record:w(e)}})(),n=e(t),o=t.record(),r=F(o,(e=>Tu({name:e,pname:YS(e)})));return eh(GS,$S,r,KS,n)}},QS=os("valid-input"),JS=os("invalid-input"),eC=os("validating-input"),tC="colorcustom.rgb.",nC=(e,t)=>{const n=rh({name:"ColourPicker",configFields:[Qo("dom"),fr("onValidHex",v),fr("onInvalidHex",v)],factory:n=>{const o=((e,t,n,o)=>{const r=(n,o)=>s_.config({invalidClass:t("invalid"),notify:{onValidate:e=>{Ti(e,eC,{type:n})},onValid:e=>{Ti(e,QS,{type:n,value:nu.getValue(e)})},onInvalid:e=>{Ti(e,JS,{type:n,value:nu.getValue(e)})}},validator:{validate:t=>{const n=nu.getValue(t),r=o(n)?no.value(!0):no.error(e("aria.input.invalid"));return Yw(r)},validateOnLoad:!1}}),i=(n,o,i,s,a)=>{const l=e("colorcustom.rgb.range"),c=Px.parts.label({dom:{tag:"label",attributes:{"aria-label":s}},components:[Gs(i)]}),d=Px.parts.field({data:a,factory:_v,inputAttributes:{type:"text",..."hex"===o?{"aria-live":"polite"}:{}},inputClasses:[t("textfield")],inputBehaviours:fl([r(o,n),Lx.config({})]),onSetValue:e=>{s_.isInvalid(e)&&s_.run(e).get(v)}}),u=[c,d],h="hex"!==o?[Px.parts["aria-descriptor"]({text:l})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:u.concat(h)}},s=(e,t)=>{const n=t.red,o=t.green,r=t.blue;nu.setValue(e,{red:n,green:o,blue:r})},a=Mf({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),l=(e,t)=>{a.getOpt(e).each((e=>{At(e.element,"background-color","#"+t.value)}))},c=rh({factory:()=>{const r={red:Cr(A.some(255)),green:Cr(A.some(255)),blue:Cr(A.some(255)),hex:Cr(A.some("ffffff"))},c=e=>r[e].get(),d=(e,t)=>{r[e].set(t)},u=e=>{const t=e.red,n=e.green,o=e.blue;d("red",A.some(t)),d("green",A.some(n)),d("blue",A.some(o))},h=(e,t)=>{const n=t.event;"hex"!==n.type?d(n.type,A.none()):o(e)},m=(e,t)=>{const o=t.event;(e=>"hex"===e.type)(o)?((e,t)=>{n(e);const o=Dy(t);d("hex",A.some(o.value));const r=Zy(o);s(e,r),u(r),Ti(e,WS,{hex:o}),l(e,o)})(e,o.value):((e,t,n)=>{const o=parseInt(n,10);d(t,A.some(o)),c("red").bind((e=>c("green").bind((t=>c("blue").map((n=>Uy(e,t,n,1))))))).each((t=>{const n=((e,t)=>{const n=Iy(t);return XS.getField(e,"hex").each((t=>{Wp.isFocused(t)||nu.setValue(e,{hex:n.value})})),n})(e,t);Ti(e,WS,{hex:n}),l(e,n)}))})(e,o.type,o.value)},p=t=>({label:e(tC+t+".label"),description:e(tC+t+".description")}),f=p("red"),g=p("green"),v=p("blue"),b=p("hex");return po(XS.sketch((n=>({dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",Px.sketch(i(Wy,"red",f.label,f.description,255))),n.field("green",Px.sketch(i(Wy,"green",g.label,g.description,255))),n.field("blue",Px.sketch(i(Wy,"blue",v.label,v.description,255))),n.field("hex",Px.sketch(i(Ry,"hex",b.label,b.description,"ffffff"))),a.asSpec()],formBehaviours:fl([s_.config({invalidClass:t("form-invalid")}),Fp("rgb-form-events",[Bi(QS,m),Bi(JS,h),Bi(eC,h)])])}))),{apis:{updateHex:(e,t)=>{nu.setValue(e,{hex:t.value}),((e,t)=>{const n=Zy(t);s(e,n),u(n)})(e,t),l(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(e,t,n)=>{e.updateHex(t,n)}},extraApis:{}});return c})(e,t,n.onValidHex,n.onInvalidHex),r=((e,t)=>{const n=US.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),o=US.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:`<div class=${t("sv-palette-inner-thumb")} role="presentation"></div>`}}),r=(e,t)=>{const{width:n,height:o}=e,r=e.getContext("2d");if(null===r)return;r.fillStyle=t,r.fillRect(0,0,n,o);const i=r.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=i,r.fillRect(0,0,n,o);const s=r.createLinearGradient(0,0,0,o);s.addColorStop(0,"rgba(0,0,0,0)"),s.addColorStop(1,"rgba(0,0,0,1)"),r.fillStyle=s,r.fillRect(0,0,n,o)};return rh({factory:e=>{const i=w({x:0,y:0}),s=fl([ch.config({find:A.some}),Wp.config({})]);return US.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[n,o],onChange:(e,t,n)=>{Ti(e,ZS,{value:n})},onInit:(e,t,n,o)=>{r(n.element.dom,Yy(Ky))},sliderBehaviours:s})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(e,t,n)=>{((e,t)=>{const n=e.components()[0].element.dom,o=rw(t,100,100),i=qy(o);r(n,Yy(i))})(t,n)},setThumb:(e,t,n)=>{((e,t)=>{const n=iw(Zy(t));US.setValue(e,{x:n.saturation,y:100-n.value})})(t,n)}},extraApis:{}})})(0,t),i={paletteRgba:Cr(Ky),paletteHue:Cr(0)},s=Mf(((e,t)=>{const n=US.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),o=US.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return US.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:w(0)},components:[n,o],sliderBehaviours:fl([Wp.config({})]),onChange:(e,t,n)=>{Ti(e,qS,{value:n})}})})(0,t)),a=Mf(r.sketch({})),l=Mf(o.sketch({})),c=(e,t,n)=>{a.getOpt(e).each((e=>{r.setHue(e,n)}))},d=(e,t)=>{l.getOpt(e).each((e=>{o.updateHex(e,t)}))},u=(e,t,n)=>{s.getOpt(e).each((e=>{US.setValue(e,(e=>100-e/360*100)(n))}))},h=(e,t)=>{a.getOpt(e).each((e=>{r.setThumb(e,t)}))},m=(e,t,n,o)=>{((e,t)=>{const n=Zy(e);i.paletteRgba.set(n),i.paletteHue.set(t)})(t,n),H(o,(o=>{o(e,t,n)}))};return{uid:n.uid,dom:n.dom,components:[a.asSpec(),s.asSpec(),l.asSpec()],behaviours:fl([Fp("colour-picker-events",[Bi(WS,(()=>{const e=[c,u,h];return(t,n)=>{const o=n.event.hex,r=(e=>iw(Zy(e)))(o);m(t,o,r.hue,e)}})()),Bi(ZS,(()=>{const e=[d];return(t,n)=>{const o=n.event.value,r=i.paletteHue.get(),s=rw(r,o.x,100-o.y),a=sw(s);m(t,a,r,e)}})()),Bi(qS,(()=>{const e=[c,d];return(t,n)=>{const o=(e=>(100-e)/100*360)(n.event.value),r=i.paletteRgba.get(),s=iw(r),a=rw(o,s.saturation,s.value),l=sw(a);m(t,l,o,e)}})())]),ch.config({find:e=>l.getOpt(e)}),Ap.config({mode:"acyclic"})])}}});return n},oC=()=>ch.config({find:A.some}),rC=e=>ch.config({find:t=>st(t.element,e).bind((e=>t.getSystem().getByDom(e).toOptional()))}),iC=Oo([fr("preprocess",x),fr("postprocess",x)]),sC=(e,t,n)=>nu.config({store:{mode:"manual",...e.map((e=>({initialValue:e}))).getOr({}),getValue:t,setValue:n}}),aC=(e,t,n)=>sC(e,(e=>t(e.element)),((e,t)=>n(e.element,t))),lC=(e,t)=>{const n=qo("RepresentingConfigs.memento processors",iC,t);return nu.config({store:{mode:"manual",getValue:t=>{const o=e.get(t),r=nu.getValue(o);return n.postprocess(r)},setValue:(t,o)=>{const r=n.preprocess(o),i=e.get(t);nu.setValue(i,r)}}})},cC=aC,dC=sC,uC=e=>nu.config({store:{mode:"memory",initialValue:e}}),hC={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var mC=tinymce.util.Tools.resolve("tinymce.Resource"),pC=tinymce.util.Tools.resolve("tinymce.util.Tools");const fC=os("alloy-fake-before-tabstop"),gC=os("alloy-fake-after-tabstop"),vC=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:fl([Wp.config({ignore:!0}),Lx.config({})])}),bC=e=>({dom:{tag:"div",classes:["tox-navobj"]},components:[vC([fC]),e,vC([gC])],behaviours:fl([rC(1)])}),yC=(e,t)=>{Ti(e,Zr(),{raw:{which:9,shiftKey:t}})},wC=(e,t)=>{const n=t.element;Ls(n,fC)?yC(e,!0):Ls(n,gC)&&yC(e,!1)},xC=e=>xx(e,["."+fC,"."+gC].join(","),E),_C=os("toolbar.button.execute"),SC=os("common-button-display-events"),CC={[ai()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[bi()]:["toolbar-button-events",SC],[Fr()]:["focusing","alloy.base.behaviour",SC]},jC=e=>At(e.element,"width",Mt(e.element,"width")),kC=(e,t,n)=>zf(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:n},t),EC=(e,t)=>kC(e,t,[]),OC=(e,t)=>kC(e,t,[Bp.config({})]),AC=(e,t,n)=>({dom:{tag:"span",classes:[`${t}__select-label`]},components:[Gs(n.translate(e))],behaviours:fl([Bp.config({})])}),TC=os("update-menu-text"),DC=os("update-menu-icon"),MC=(e,t,n)=>{const o=Cr(v),r=e.text.map((e=>Mf(AC(e,t,n.providers)))),i=e.icon.map((e=>Mf(OC(e,n.providers.icons)))),s=(e,t)=>{const n=nu.getValue(e);return Wp.focus(n),Ti(n,"keydown",{raw:t.event.raw}),cx.close(n),A.some(!0)},a=e.role.fold((()=>({})),(e=>({role:e}))),l=e.tooltip.fold((()=>({})),(e=>{const t=n.providers.translate(e);return{title:t,"aria-label":t}})),c=zf("chevron-down",{tag:"div",classes:[`${t}__select-chevron`]},n.providers.icons),d=os("common-button-display-events"),u=Mf(cx.sketch({...e.uid?{uid:e.uid}:{},...a,dom:{tag:"button",classes:[t,`${t}--select`].concat(F(e.classes,(e=>`${t}--${e}`))),attributes:{...l}},components:fy([i.map((e=>e.asSpec())),r.map((e=>e.asSpec())),A.some(c)]),matchWidth:!0,useMinWidth:!0,onOpen:(t,n,o)=>{e.searchable&&(e=>{kv(e).each((e=>Wp.focus(e)))})(o)},dropdownBehaviours:fl([...e.dropdownBehaviours,ay((()=>e.disabled||n.providers.isDisabled())),sy(),a_.config({}),Bp.config({}),Fp("dropdown-events",[uy(e,o),hy(e,o)]),Fp(d,[Zi(((e,t)=>jC(e)))]),Fp("menubutton-update-display-text",[Bi(TC,((e,t)=>{r.bind((t=>t.getOpt(e))).each((e=>{Bp.set(e,[Gs(n.providers.translate(t.event.text))])}))})),Bi(DC,((e,t)=>{i.bind((t=>t.getOpt(e))).each((e=>{Bp.set(e,[OC(t.event.icon,n.providers.icons)])}))}))])]),eventOrder:po(CC,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[bi()]:["toolbar-button-events","dropdown-events",d]}),sandboxBehaviours:fl([Ap.config({mode:"special",onLeft:s,onRight:s}),Fp("dropdown-sandbox-events",[Bi(Sv,((e,t)=>{(e=>{const t=nu.getValue(e),n=jv(e).map(Ev);cx.refetch(t).get((()=>{const e=Uw.getCoupled(t,"sandbox");n.each((t=>jv(e).each((e=>((e,t)=>{nu.setValue(e,t.fetchPattern),e.element.dom.selectionStart=t.selectionStart,e.element.dom.selectionEnd=t.selectionEnd})(e,t)))))}))})(e),t.stop()})),Bi(Cv,((e,t)=>{((e,t)=>{(e=>Ld.getState(e).bind(Ph.getHighlighted).bind(Ph.getHighlighted))(e).each((n=>{((e,t,n,o)=>{const r={...o,target:t};e.getSystem().triggerEvent(n,t,r)})(e,n.element,t.event.eventType,t.event.interactionEvent)}))})(e,t),t.stop()}))])]),lazySink:n.getSink,toggleClass:`${t}--active`,parts:{menu:{...vv(0,e.columns,e.presets),fakeFocus:e.searchable,onHighlightItem:dx,onCollapseMenu:(e,t,n)=>{Ph.getHighlighted(n).each((t=>{dx(e,n,t)}))},onDehighlightItem:ux}},fetch:t=>$w(S(e.fetch,t))}));return u.asSpec()},PC=e=>"separator"===e.type,RC={type:"separator"},NC=(e,t)=>{const n=((e,t)=>{const n=W(e,((e,n)=>(e=>i(e))(n)?""===n?e:"|"===n?e.length>0&&!PC(e[e.length-1])?e.concat([RC]):e:be(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])),[]);return n.length>0&&PC(n[n.length-1])&&n.pop(),n})(i(e)?e.split(" "):e,t);return U(n,((e,n)=>{if((e=>be(e,"getSubmenuItems"))(n)){const o=(e=>{const t=ve(e,"value").getOrThunk((()=>os("generated-menu-item")));return po({value:t},e)})(n),r=((e,t)=>{const n=e.getSubmenuItems(),o=NC(n,t);return{item:e,menus:po(o.menus,{[e.value]:o.items}),expansions:po(o.expansions,{[e.value]:e.value})}})(o,t);return{menus:po(e.menus,r.menus),items:[r.item,...e.items],expansions:po(e.expansions,r.expansions)}}return{...e,items:[n,...e.items]}}),{menus:{},expansions:{},items:[]})},LC=(e,t,n,o)=>{const r=os("primary-menu"),i=NC(e,n.shared.providers.menuItems());if(0===i.items.length)return A.none();const s=(e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-field",placeholder:e.placeholder}))))(o),a=px(r,i.items,t,n,o.isHorizontalMenu,s),l=(e=>e.search.fold((()=>({searchMode:"no-search"})),(e=>({searchMode:"search-with-results"}))))(o),c=ce(i.menus,((e,o)=>px(o,e,t,n,!1,l))),d=po(c,kr(r,a));return A.from(Of.tieredData(r,d,i.expansions))},IC=e=>!be(e,"items"),BC="data-value",FC=(e,t,n,o)=>F(n,(n=>IC(n)?{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===o,onAction:()=>{nu.setValue(e,n.value),Ti(e,zx,{name:t}),Wp.focus(e)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:()=>FC(e,t,n.items,o)})),HC=(e,t)=>ie(e,(e=>IC(e)?Ce(e.value===t,e):HC(e.items,t))),VC=rh({name:"HtmlSelect",configFields:[Qo("options"),ou("selectBehaviours",[Wp,nu]),fr("selectClasses",[]),fr("selectAttributes",{}),ar("data")],factory:(e,t)=>{const n=F(e.options,(e=>({dom:{tag:"option",value:e.value,innerHtml:e.text}}))),o=e.data.map((e=>kr("initialValue",e))).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:iu(e.selectBehaviours,[Wp.config({}),nu.config({store:{mode:"manual",getValue:e=>Hs(e.element),setValue:(t,n)=>{const o=ne(e.options);q(e.options,(e=>e.value===n)).isSome()?Vs(t.element,n):-1===t.element.dom.selectedIndex&&""===n&&o.each((e=>Vs(t.element,e.value)))},...o}})])}}}),zC=w([fr("field1Name","field1"),fr("field2Name","field2"),ja("onLockedChange"),xa(["lockClass"]),fr("locked",!1),su("coupledFieldBehaviours",[ch,nu])]),UC=(e,t)=>Tu({factory:Px,name:e,overrides:e=>({fieldBehaviours:fl([Fp("coupled-input-behaviour",[Bi($r(),(n=>{((e,t,n)=>Wu(e,t,n).bind(ch.getCurrent))(n,e,t).each((t=>{Wu(n,e,"lock").each((o=>{Qp.isOn(o)&&e.onLockedChange(n,t,o)}))}))}))])])})}),WC=w([UC("field1","field2"),UC("field2","field1"),Tu({factory:Df,schema:[Qo("dom")],name:"lock",overrides:e=>({buttonBehaviours:fl([Qp.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),qC=ih({name:"FormCoupledInputs",configFields:zC(),partFields:WC(),factory:(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,behaviours:au(e.coupledFieldBehaviours,[ch.config({find:A.some}),nu.config({store:{mode:"manual",getValue:t=>{const n=Yu(t,e,["field1","field2"]);return{[e.field1Name]:nu.getValue(n.field1()),[e.field2Name]:nu.getValue(n.field2())}},setValue:(t,n)=>{const o=Yu(t,e,["field1","field2"]);ye(n,e.field1Name)&&nu.setValue(o.field1(),n[e.field1Name]),ye(n,e.field2Name)&&nu.setValue(o.field2(),n[e.field2Name])}}})]),apis:{getField1:t=>Wu(t,e,"field1"),getField2:t=>Wu(t,e,"field2"),getLock:t=>Wu(t,e,"lock")}}),apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}}),ZC=e=>{const t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(null!==t){const e=parseFloat(t[1]),n=t[2];return no.value({value:e,unit:n})}return no.error(e)},GC=(e,t)=>{const n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},o=e=>be(n,e);return e.unit===t?A.some(e.value):o(e.unit)&&o(t)?n[e.unit]===n[t]?A.some(e.value):A.some(e.value/n[e.unit]*n[t]):A.none()},$C=e=>A.none(),YC=(e,t)=>{const n=e.label.map((e=>Vx(e,t))),o=[Sh.config({disabled:()=>e.disabled||t.isDisabled()}),sy(),Ap.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:e=>(Ai(e,Zx),A.some(!0))}),Fp("textfield-change",[Bi($r(),((t,n)=>{Ti(t,zx,{name:e.name})})),Bi(ii(),((t,n)=>{Ti(t,zx,{name:e.name})}))]),Lx.config({})],r=e.validation.map((e=>s_.config({getRoot:e=>ot(e.element),invalidClass:"tox-invalid",validator:{validate:t=>{const n=nu.getValue(t),o=e.validator(n);return Yw(!0===o?no.value(n):no.error(o))},validateOnLoad:e.validateOnLoad}}))).toArray(),i={...e.placeholder.fold(w({}),(e=>({placeholder:t.translate(e)}))),...e.inputMode.fold(w({}),(e=>({inputmode:e})))},s=Px.parts.field({tag:!0===e.multiline?"textarea":"input",...e.data.map((e=>({data:e}))).getOr({}),inputAttributes:i,inputClasses:[e.classname],inputBehaviours:fl(G([o,r])),selectOnFocus:!1,factory:_v}),a=e.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[s]}:s,l=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),c=[Sh.config({disabled:()=>e.disabled||t.isDisabled(),onDisabled:e=>{Px.getField(e).each(Sh.disable)},onEnabled:e=>{Px.getField(e).each(Sh.enable)}}),sy()];return Bx(n,a,l,c)},KC=(e,t)=>t.getAnimationRoot.fold((()=>e.element),(t=>t(e))),XC=e=>e.dimension.property,QC=(e,t)=>e.dimension.getDimension(t),JC=(e,t)=>{const n=KC(e,t);Bs(n,[t.shrinkingClass,t.growingClass])},ej=(e,t)=>{Ns(e.element,t.openClass),Rs(e.element,t.closedClass),At(e.element,XC(t),"0px"),Bt(e.element)},tj=(e,t)=>{Ns(e.element,t.closedClass),Rs(e.element,t.openClass),It(e.element,XC(t))},nj=(e,t,n,o)=>{n.setCollapsed(),At(e.element,XC(t),QC(t,e.element)),JC(e,t),ej(e,t),t.onStartShrink(e),t.onShrunk(e)},oj=(e,t,n,o)=>{const r=o.getOrThunk((()=>QC(t,e.element)));n.setCollapsed(),At(e.element,XC(t),r),Bt(e.element);const i=KC(e,t);Ns(i,t.growingClass),Rs(i,t.shrinkingClass),ej(e,t),t.onStartShrink(e)},rj=(e,t,n)=>{const o=QC(t,e.element);("0px"===o?nj:oj)(e,t,n,A.some(o))},ij=(e,t,n)=>{const o=KC(e,t),r=Ls(o,t.shrinkingClass),i=QC(t,e.element);tj(e,t);const s=QC(t,e.element);(r?()=>{At(e.element,XC(t),i),Bt(e.element)}:()=>{ej(e,t)})(),Ns(o,t.shrinkingClass),Rs(o,t.growingClass),tj(e,t),At(e.element,XC(t),s),n.setExpanded(),t.onStartGrow(e)},sj=(e,t,n)=>{const o=KC(e,t);return!0===Ls(o,t.growingClass)},aj=(e,t,n)=>{const o=KC(e,t);return!0===Ls(o,t.shrinkingClass)};var lj=Object.freeze({__proto__:null,refresh:(e,t,n)=>{if(n.isExpanded()){It(e.element,XC(t));const n=QC(t,e.element);At(e.element,XC(t),n)}},grow:(e,t,n)=>{n.isExpanded()||ij(e,t,n)},shrink:(e,t,n)=>{n.isExpanded()&&rj(e,t,n)},immediateShrink:(e,t,n)=>{n.isExpanded()&&nj(e,t,n)},hasGrown:(e,t,n)=>n.isExpanded(),hasShrunk:(e,t,n)=>n.isCollapsed(),isGrowing:sj,isShrinking:aj,isTransitioning:(e,t,n)=>sj(e,t)||aj(e,t),toggleGrow:(e,t,n)=>{(n.isExpanded()?rj:ij)(e,t,n)},disableTransitions:JC,immediateGrow:(e,t,n)=>{n.isExpanded()||(tj(e,t),At(e.element,XC(t),QC(t,e.element)),JC(e,t),n.setExpanded(),t.onStartGrow(e),t.onGrown(e))}}),cj=Object.freeze({__proto__:null,exhibit:(e,t,n)=>{const o=t.expanded;return Ss(o?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:kr(t.dimension.property,"0px")})},events:(e,t)=>Ni([qi(Qr(),((n,o)=>{o.event.raw.propertyName===e.dimension.property&&(JC(n,e),t.isExpanded()&&It(n.element,e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))}))])}),dj=[Qo("closedClass"),Qo("openClass"),Qo("shrinkingClass"),Qo("growingClass"),ar("getAnimationRoot"),Sa("onShrunk"),Sa("onStartShrink"),Sa("onGrown"),Sa("onStartGrow"),fr("expanded",!1),Jo("dimension",Go("property",{width:[Ea("property","width"),Ea("getDimension",(e=>Yt(e)+"px"))],height:[Ea("property","height"),Ea("getDimension",(e=>Vt(e)+"px"))]}))];const uj=vl({fields:dj,name:"sliding",active:cj,apis:lj,state:Object.freeze({__proto__:null,init:e=>{const t=Cr(e.expanded);return xs({isExpanded:()=>!0===t.get(),isCollapsed:()=>!1===t.get(),setCollapsed:S(t.set,!1),setExpanded:S(t.set,!0),readState:()=>"expanded: "+t.get()})}})}),hj=e=>({isEnabled:()=>!Sh.isDisabled(e),setEnabled:t=>Sh.set(e,!t),setActive:t=>{const n=e.element;t?(Rs(n,"tox-tbtn--enabled"),xt(n,"aria-pressed",!0)):(Ns(n,"tox-tbtn--enabled"),kt(n,"aria-pressed"))},isActive:()=>Ls(e.element,"tox-tbtn--enabled"),setText:t=>{Ti(e,TC,{text:t})},setIcon:t=>Ti(e,DC,{icon:t})}),mj=(e,t,n,o,r=!0)=>MC({text:e.text,icon:e.icon,tooltip:e.tooltip,searchable:e.search.isSome(),role:o,fetch:(t,o)=>{const r={pattern:e.search.isSome()?hx(t):""};e.fetch((t=>{o(LC(t,ev.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:e.search}))}),r,hj(t))},onSetup:e.onSetup,getApi:hj,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...r?[Lx.config({})]:[]]},t,n.shared),pj=(e,t,n)=>{const o=e=>o=>{const r=!o.isActive();o.setActive(r),e.storage.set(r),n.shared.getSink().each((n=>{t().getOpt(n).each((t=>{Sl(t.element),Ti(t,qx,{name:e.name,value:e.storage.get()})}))}))},r=e=>t=>{t.setActive(e.storage.get())};return t=>{t(F(e,(e=>{const t=e.text.fold((()=>({})),(e=>({text:e})));return{type:e.type,active:!1,...t,onAction:o(e),onSetup:r(e)}})))}},fj=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:e,"aria-label":e}},components:[Gs(e)]}),gj=os("leaf-label-event-id"),vj=({leaf:e,onLeafAction:t,visible:n,treeId:o,backstage:r})=>{const i=e.menu.map((e=>mj(e,"tox-mbtn",r,A.none(),n))),s=[fj(e.title)];return i.each((e=>s.push(e))),Df.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(n?["tox-tree--leaf__label--visible"]:[])},components:s,role:"treeitem",action:n=>{t(e.id),n.getSystem().broadcastOn([`update-active-item-${o}`],{value:e.id})},eventOrder:{[Zr()]:[gj,"keying"]},buttonBehaviours:fl([...n?[Lx.config({})]:[],Qp.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),xl.config({channels:{[`update-active-item-${o}`]:{onReceive:(t,n)=>{(n.value===e.id?Qp.on:Qp.off)(t)}}}}),Fp(gj,[Bi(Zr(),((e,t)=>{const n="ArrowLeft"===t.event.raw.code,o="ArrowRight"===t.event.raw.code;n?(ra(e.element,".tox-tree--directory").each((t=>{e.getSystem().getByDom(t).each((e=>{ia(t,".tox-tree--directory__label").each((t=>{e.getSystem().getByDom(t).each(Wp.focus)}))}))})),t.stop()):o&&t.stop()}))])])})},bj=os("directory-label-event-id"),yj=({directory:e,visible:t,noChildren:n,backstage:o})=>{const r=e.menu.map((e=>mj(e,"tox-mbtn",o,A.none()))),i=[{dom:{tag:"div",classes:["tox-chevron"]},components:[("chevron-right",s=o.shared.providers.icons,((e,t,n)=>zf(e,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},t))("chevron-right",s))]},fj(e.title)];var s;r.each((e=>{i.push(e)}));const a=e=>{ra(e.element,".tox-tree--directory").each((t=>{e.getSystem().getByDom(t).each((e=>Qp.toggle(e)))}))};return Df.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(t?["tox-tree--directory__label--visible"]:[])},components:i,action:a,eventOrder:{[Zr()]:[bj,"keying"]},buttonBehaviours:fl([...t?[Lx.config({})]:[],Fp(bj,[Bi(Zr(),((e,t)=>{const o="ArrowRight"===t.event.raw.code,r="ArrowLeft"===t.event.raw.code;o&&n&&t.stop(),(o||r)&&ra(e.element,".tox-tree--directory").each((n=>{e.getSystem().getByDom(n).each((n=>{!Qp.isOn(n)&&o||Qp.isOn(n)&&r?(a(e),t.stop()):r&&!Qp.isOn(n)&&(ra(n.element,".tox-tree--directory").each((e=>{ia(e,".tox-tree--directory__label").each((e=>{n.getSystem().getByDom(e).each(Wp.focus)}))})),t.stop())}))}))}))])])})},wj=({children:e,onLeafAction:t,visible:n,treeId:o,backstage:r})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map((e=>"leaf"===e.type?vj({leaf:e,onLeafAction:t,visible:n,treeId:o,backstage:r}):xj({directory:e,onLeafAction:t,labelTabstopping:n,treeId:o,backstage:r}))),behaviours:fl([uj.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking"}),Bp.config({})])}),xj=({directory:e,onLeafAction:t,labelTabstopping:n,treeId:o,backstage:r})=>{const{children:i}=e;return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[yj({directory:e,visible:n,noChildren:0===e.children.length,backstage:r}),wj({children:i,onLeafAction:t,visible:!1,treeId:o,backstage:r})],behaviours:fl([Qp.config({...e.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(e,n)=>{const s=e.components()[1],a=(l=n,i.map((e=>"leaf"===e.type?vj({leaf:e,onLeafAction:t,visible:l,treeId:o,backstage:r}):xj({directory:e,onLeafAction:t,labelTabstopping:l,treeId:o,backstage:r}))));var l;n?uj.grow(s):uj.shrink(s),Bp.set(s,a)}})])}};var _j=Object.freeze({__proto__:null,events:(e,t)=>{const n=e.stream.streams.setup(e,t);return Ni([Bi(e.event,n),Gi((()=>t.cancel()))].concat(e.cancelEvent.map((e=>[Bi(e,(()=>t.cancel()))])).getOr([])))}});const Sj=(e,t)=>{let n=null;const o=()=>{c(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:(...r)=>{o(),n=setTimeout((()=>{n=null,e.apply(null,r)}),t)}}},Cj=e=>{const t=Cr(null);return xs({readState:()=>({timer:null!==t.get()?"set":"unset"}),setTimer:e=>{t.set(e)},cancel:()=>{const e=t.get();null!==e&&e.cancel()}})};var jj=Object.freeze({__proto__:null,throttle:Cj,init:e=>e.stream.streams.state(e)}),kj=[Jo("stream",Go("mode",{throttle:[Qo("delay"),fr("stopEvent",!0),Ea("streams",{setup:(e,t)=>{const n=e.stream,o=Sj(e.onStream,n.delay);return t.setTimer(o),(e,t)=>{o.throttle(e,t),n.stopEvent&&t.stop()}},state:Cj})]})),fr("event","input"),ar("cancelEvent"),ja("onStream")];const Ej=vl({fields:kj,name:"streaming",active:_j,state:jj}),Oj=(e,t,n)=>{const o=nu.getValue(n);nu.setValue(t,o),Tj(t)},Aj=(e,t)=>{const n=e.element,o=Hs(n),r=n.dom;"number"!==St(n,"type")&&t(r,o)},Tj=e=>{Aj(e,((e,t)=>e.setSelectionRange(t.length,t.length)))},Dj=w("alloy.typeahead.itemexecute"),Mj=w([ar("lazySink"),Qo("fetch"),fr("minChars",5),fr("responseTime",1e3),Sa("onOpen"),fr("getHotspot",A.some),fr("getAnchorOverrides",w({})),fr("layouts",A.none()),fr("eventOrder",{}),Sr("model",{},[fr("getDisplayText",(e=>void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value)),fr("selectsOver",!0),fr("populateFromBrowse",!0)]),Sa("onSetValue"),Ca("onExecute"),Sa("onItemExecute"),fr("inputClasses",[]),fr("inputAttributes",{}),fr("inputStyles",{}),fr("matchWidth",!0),fr("useMinWidth",!1),fr("dismissOnBlur",!0),xa(["openClass"]),ar("initialData"),ou("typeaheadBehaviours",[Wp,nu,Ej,Ap,Qp,Uw]),Ko("lazyTypeaheadComp",(()=>Cr(A.none))),Ko("previewing",(()=>Cr(!0)))].concat(bv()).concat(sx())),Pj=w([Du({schema:[wa()],name:"menu",overrides:e=>({fakeFocus:!0,onHighlightItem:(t,n,o)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each((t=>{((e,t,n)=>{if(e.selectsOver){const o=nu.getValue(t),r=e.getDisplayText(o),i=nu.getValue(n);return 0===e.getDisplayText(i).indexOf(r)?A.some((()=>{Oj(0,t,n),((e,t)=>{Aj(e,((e,n)=>e.setSelectionRange(t,n.length)))})(t,r.length)})):A.none()}return A.none()})(e.model,t,o).fold((()=>{e.model.selectsOver?(Ph.dehighlight(n,o),e.previewing.set(!0)):e.previewing.set(!1)}),(t=>{t(),e.previewing.set(!1)}))})):e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&Oj(e.model,t,o)}))},onExecute:(t,n)=>e.lazyTypeaheadComp.get().map((e=>(Ti(e,Dj(),{item:n}),!0))),onHover:(t,n)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each((t=>{e.model.populateFromBrowse&&Oj(e.model,t,n)}))}})})]),Rj=ih({name:"Typeahead",configFields:Mj(),partFields:Pj(),factory:(e,t,n,o)=>{const r=(t,n,r)=>{e.previewing.set(!1);const i=Uw.getCoupled(t,"sandbox");if(Ld.isOpen(i))ch.getCurrent(i).each((e=>{Ph.getHighlighted(e).fold((()=>{r(e)}),(()=>{Ri(i,e.element,"keydown",n)}))}));else{const n=e=>{ch.getCurrent(e).each(r)};Jw(e,s(t),t,i,o,n,kf.HighlightMenuAndItem).get(v)}},i=yv(e),s=e=>t=>t.map((t=>{const n=ge(t.menus),o=$(n,(e=>z(e.items,(e=>"item"===e.type))));return nu.getState(e).update(F(o,(e=>e.data))),t})),a=e=>ch.getCurrent(e),l="typeaheadevents",c=[Wp.config({}),nu.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:e=>Hs(e.element),getFallbackEntry:e=>({value:e,meta:{}}),setValue:(t,n)=>{Vs(t.element,e.model.getDisplayText(n))},...e.initialData.map((e=>kr("initialValue",e))).getOr({})}}),Ej.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:(t,n)=>{const r=Uw.getCoupled(t,"sandbox");if(Wp.isFocused(t)&&Hs(t.element).length>=e.minChars){const n=a(r).bind((e=>Ph.getHighlighted(e).map(nu.getValue)));e.previewing.set(!0);const i=t=>{a(r).each((t=>{n.fold((()=>{e.model.selectsOver&&Ph.highlightFirst(t)}),(e=>{Ph.highlightBy(t,(t=>nu.getValue(t).value===e.value)),Ph.getHighlighted(t).orThunk((()=>(Ph.highlightFirst(t),A.none())))}))}))};Jw(e,s(t),t,r,o,i,kf.HighlightJustMenu).get(v)}},cancelEvent:hi()}),Ap.config({mode:"special",onDown:(e,t)=>(r(e,t,Ph.highlightFirst),A.some(!0)),onEscape:e=>{const t=Uw.getCoupled(e,"sandbox");return Ld.isOpen(t)?(Ld.close(t),A.some(!0)):A.none()},onUp:(e,t)=>(r(e,t,Ph.highlightLast),A.some(!0)),onEnter:t=>{const n=Uw.getCoupled(t,"sandbox"),o=Ld.isOpen(n);if(o&&!e.previewing.get())return a(n).bind((e=>Ph.getHighlighted(e))).map((e=>(Ti(t,Dj(),{item:e}),!0)));{const r=nu.getValue(t);return Ai(t,hi()),e.onExecute(n,t,r),o&&Ld.close(n),A.some(!0)}}}),Qp.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),Uw.config({others:{sandbox:t=>rx(e,t,{onOpen:()=>Qp.on(t),onClose:()=>Qp.off(t)})}}),Fp(l,[Zi((t=>{e.lazyTypeaheadComp.set(A.some(t))})),Gi((t=>{e.lazyTypeaheadComp.set(A.none())})),Yi((t=>{const n=v;tx(e,s(t),t,o,n,kf.HighlightMenuAndItem).get(v)})),Bi(Dj(),((t,n)=>{const o=Uw.getCoupled(t,"sandbox");Oj(e.model,t,n.event.item),Ai(t,hi()),e.onItemExecute(t,o,n.event.item,nu.getValue(t)),Ld.close(o),Tj(t)}))].concat(e.dismissOnBlur?[Bi(ri(),(e=>{const t=Uw.getCoupled(e,"sandbox");El(t.element).isNone()&&Ld.close(t)}))]:[]))],d={[yi()]:[nu.name(),Ej.name(),l],...e.eventOrder};return{uid:e.uid,dom:xv(po(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...i,...iu(e.typeaheadBehaviours,c)},eventOrder:d}}}),Nj=e=>({...e,toCached:()=>Nj(e.toCached()),bindFuture:t=>Nj(e.bind((e=>e.fold((e=>Yw(no.error(e))),(e=>t(e)))))),bindResult:t=>Nj(e.map((e=>e.bind(t)))),mapResult:t=>Nj(e.map((e=>e.map(t)))),mapError:t=>Nj(e.map((e=>e.mapError(t)))),foldResult:(t,n)=>e.map((e=>e.fold(t,n))),withTimeout:(t,n)=>Nj($w((o=>{let r=!1;const i=setTimeout((()=>{r=!0,o(no.error(n()))}),t);e.get((e=>{r||(clearTimeout(i),o(e))}))})))}),Lj=(e,t,n=[],o,r,i)=>{const s=t.fold((()=>({})),(e=>({action:e}))),a={buttonBehaviours:fl([ay((()=>!e.enabled||i.isDisabled())),sy(),Lx.config({}),Fp("button press",[Ii("click"),Ii("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...s},l=po(a,{dom:o});return po(l,{components:r})},Ij=(e,t,n,o=[])=>{const r={tag:"button",classes:["tox-tbtn"],attributes:e.tooltip.map((e=>({"aria-label":n.translate(e),title:n.translate(e)}))).getOr({})},i=e.icon.map((e=>EC(e,n.icons))),s=fy([i]);return Lj(e,t,o,r,s,n)},Bj=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},Fj=(e,t,n,o=[],r=[])=>{const i=n.translate(e.text),s=e.icon.map((e=>EC(e,n.icons))),a=[s.getOrThunk((()=>Gs(i)))],l=e.buttonType.getOr(e.primary||e.borderless?"primary":"secondary"),c=[...Bj(l),...s.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...r];return Lj(e,t,o,{tag:"button",classes:c,attributes:{title:i}},a,n)},Hj=(e,t,n,o=[],r=[])=>{const i=Fj(e,A.some(t),n,o,r);return Df.sketch(i)},Vj=(e,t)=>n=>{"custom"===t?Ti(n,qx,{name:e,value:{}}):"submit"===t?Ai(n,Zx):"cancel"===t?Ai(n,Wx):console.error("Unknown button type: ",t)},zj=(e,t,n)=>{if(((e,t)=>"menu"===t)(0,t)){const t=()=>i,o=e,r={...e,type:"menubutton",search:A.none(),onSetup:t=>(t.setEnabled(e.enabled),v),fetch:pj(o.items,t,n)},i=Mf(mj(r,"tox-tbtn",n,A.none()));return i.asSpec()}if(((e,t)=>"custom"===t||"cancel"===t||"submit"===t)(0,t)){const o=Vj(e.name,t),r={...e,borderless:!1};return Hj(r,o,n.shared.providers,[])}if(((e,t)=>"togglebutton"===t)(0,t))return((e,t)=>{var n,o,r;const i=A.from(e.icon).map((e=>OC(e,t.icons))).map(Mf),s={...e,name:null!==(n=e.name)&&void 0!==n?n:"",primary:"primary"===e.buttonType,buttonType:A.from(e.buttonType),tooltip:A.from(e.tooltip),icon:A.from(e.name),enabled:null!==(o=e.enabled)&&void 0!==o&&o,borderless:!1},a=s.tooltip.map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),l=Bj(null!==(r=e.buttonType)&&void 0!==r?r:"secondary"),c=!!e.icon&&!!e.text,d={tag:"button",classes:[...l.concat(["tox-button--icon"]),...e.active?["tox-button--enabled"]:[],...c?["tox-button--icon-and-text"]:[]],attributes:a},u=t.translate(e.text),h=Gs(u),m=[...fy([i.map((e=>e.asSpec()))]),...c?[h]:[]],p=Lj(s,A.some((n=>{Ti(n,qx,{name:e.name,value:{setIcon:e=>{i.map((o=>o.getOpt(n).each((n=>{Bp.set(n,[OC(e,t.icons)])}))))}}})})),[],d,m,t);return Df.sketch(p)})({...e,tooltip:e.tooltip,text:e.text.getOrUndefined(),buttonType:e.buttonType.getOrUndefined()},n.shared.providers);throw console.error("Unknown footer button type: ",t),new Error("Unknown footer button type")},Uj={type:"separator"},Wj=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:v}),qj=(e,t)=>({type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:v}),Zj=(e,t)=>(e=>F(e,Wj))(((e,t)=>z(t,(t=>t.type===e)))(e,t)),Gj=e=>Zj("header",e.targets),$j=e=>Zj("anchor",e.targets),Yj=e=>A.from(e.anchorTop).map((e=>qj("<top>",e))).toArray(),Kj=e=>A.from(e.anchorBottom).map((e=>qj("<bottom>",e))).toArray(),Xj=(e,t)=>{const n=e.toLowerCase();return z(t,(e=>{var t;const o=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text,r=null!==(t=e.value)&&void 0!==t?t:"";return Ee(o.toLowerCase(),n)||Ee(r.toLowerCase(),n)}))},Qj=os("aria-invalid"),Jj=(e,t)=>{e.dom.checked=t},ek=e=>e.dom.checked,tk=e=>(t,n,o,r)=>ve(n,"name").fold((()=>e(n,r,A.none())),(i=>t.field(i,e(n,r,ve(o,i))))),nk={bar:tk(((e,t)=>((e,t)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:F(e.items,t.interpreter)}))(e,t.shared))),collection:tk(((e,t,n)=>((e,t,n)=>{const o=e.label.map((e=>Vx(e,t))),r=e=>(t,n)=>{aa(n.event.target,"[data-collection-item-value]").each((o=>{e(t,n,o,St(o,"data-collection-item-value"))}))},i=r(((n,o,r,i)=>{o.stop(),t.isDisabled()||Ti(n,qx,{name:e.name,value:i})})),s=[Bi(Ur(),r(((e,t,n)=>{Sl(n)}))),Bi(Kr(),i),Bi(ci(),i),Bi(Wr(),r(((e,t,n)=>{sa(e.element,"."+lv).each((e=>{Ns(e,lv)})),Rs(n,lv)}))),Bi(qr(),r((e=>{sa(e.element,"."+lv).each((e=>{Ns(e,lv)}))}))),Yi(r(((t,n,o,r)=>{Ti(t,qx,{name:e.name,value:r})})))],a=(e,t)=>F(Ic(e.element,".tox-collection__item"),t),l=Px.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:x},behaviours:fl([Sh.config({disabled:t.isDisabled,onDisabled:e=>{a(e,(e=>{Rs(e,"tox-collection__item--state-disabled"),xt(e,"aria-disabled",!0)}))},onEnabled:e=>{a(e,(e=>{Ns(e,"tox-collection__item--state-disabled"),kt(e,"aria-disabled")}))}}),sy(),Bp.config({}),nu.config({store:{mode:"memory",initialValue:n.getOr([])},onSetValue:(n,o)=>{((n,o)=>{const r=F(o,(n=>{const o=Pf.translate(n.text),r=1===e.columns?`<div class="tox-collection__item-label">${o}</div>`:"",i=`<div class="tox-collection__item-icon">${n.icon}</div>`,s={_:" "," - ":" ","-":" "},a=o.replace(/\_| \- |\-/g,(e=>s[e]));return`<div class="tox-collection__item${t.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${Ix.encodeAllRaw(n.value)}" title="${a}" aria-label="${a}">${i}${r}</div>`})),i="auto"!==e.columns&&e.columns>1?B(r,e.columns):[r],s=F(i,(e=>`<div class="tox-collection__group">${e.join("")}</div>`));Xi(n.element,s.join(""))})(n,o),"auto"===e.columns&&qb(n,5,"tox-collection__item").each((({numRows:e,numColumns:t})=>{Ap.setGridSize(n,e,t)})),Ai(n,Kx)}}),Lx.config({}),Ap.config((c=e.columns,1===c?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===c?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${nv}`}})),Fp("collection-events",s)]),eventOrder:{[ai()]:["disabling","alloy.base.behaviour","collection-events"]}});var c;return Bx(o,l,["tox-form__group--collection"],[])})(e,t.shared.providers,n))),alertbanner:tk(((e,t)=>((e,t)=>Ax.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Df.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:Ff(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:t=>{Ti(t,qx,{name:"alert-banner",value:e.url})},buttonBehaviours:fl([Hf()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]}))(e,t.shared.providers))),input:tk(((e,t,n)=>((e,t,n)=>YC({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:"tox-textfield",validation:A.none(),maximized:e.maximized,data:n},t))(e,t.shared.providers,n))),textarea:tk(((e,t,n)=>((e,t,n)=>YC({name:e.name,multiline:!0,label:e.label,inputMode:A.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:"tox-textarea",validation:A.none(),maximized:e.maximized,data:n},t))(e,t.shared.providers,n))),label:tk(((e,t)=>((e,t)=>{return{dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",classes:["tox-label"]},components:[Gs(t.providers.translate(e.label))]},...F(e.items,t.interpreter)],behaviours:fl([oC(),Bp.config({}),(n=A.none(),aC(n,Ki,Xi)),Ap.config({mode:"acyclic"})])};var n})(e,t.shared))),iframe:(EE=(e,t,n)=>((e,t,n)=>{const o=e.sandboxed,r=e.transparent,i="tox-dialog__iframe",s={...e.label.map((e=>({title:e}))).getOr({}),...n.map((e=>({srcdoc:e}))).getOr({}),...o?{sandbox:"allow-scripts allow-same-origin"}:{}},a=(e=>{const t=Cr(e.getOr(""));return{getValue:e=>t.get(),setValue:(e,n)=>{t.get()!==n&&xt(e.element,"srcdoc",n),t.set(n)}}})(n),l=e.label.map((e=>Vx(e,t))),c=Px.parts.field({factory:{sketch:e=>bC({uid:e.uid,dom:{tag:"iframe",attributes:s,classes:r?[i]:[i,`${i}--opaque`]},behaviours:fl([Lx.config({}),Wp.config({}),dC(n,a.getValue,a.setValue)])})}});return Bx(l,c,["tox-form__group--stretched"],[])})(e,t.shared.providers,n),(e,t,n,o)=>{const r=po(t,{source:"dynamic"});return tk(EE)(e,r,n,o)}),button:tk(((e,t)=>((e,t)=>{const n=Vj(e.name,"custom");return o=A.none(),r=Px.parts.field({factory:Df,...Fj(e,A.some(n),t,[uC(""),oC()])}),Bx(o,r,[],[]);var o,r})(e,t.shared.providers))),checkbox:tk(((e,t,n)=>((e,t,n)=>{const o=e=>(e.element.dom.click(),A.some(!0)),r=Px.parts.field({factory:{sketch:x},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:fl([oC(),Sh.config({disabled:()=>!e.enabled||t.isDisabled()}),Lx.config({}),Wp.config({}),cC(n,ek,Jj),Ap.config({mode:"special",onEnter:o,onSpace:o,stopSpaceKeyup:!0}),Fp("checkbox-events",[Bi(Yr(),((t,n)=>{Ti(t,zx,{name:e.name})}))])])}),i=Px.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Gs(t.translate(e.label))],behaviours:fl([a_.config({})])}),s=e=>zf("checked"===e?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons),a=Mf({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[s("checked"),s("unchecked")]});return Px.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[r,a.asSpec(),i],fieldBehaviours:fl([Sh.config({disabled:()=>!e.enabled||t.isDisabled(),disableClass:"tox-checkbox--disabled",onDisabled:e=>{Px.getField(e).each(Sh.disable)},onEnabled:e=>{Px.getField(e).each(Sh.enable)}}),sy()])})})(e,t.shared.providers,n))),colorinput:tk(((e,t,n)=>((e,t,n,o)=>{const r=Px.parts.field({factory:_v,inputClasses:["tox-textfield"],data:o,onSetValue:e=>s_.run(e).get(v),inputBehaviours:fl([Sh.config({disabled:t.providers.isDisabled}),sy(),Lx.config({}),s_.config({invalidClass:"tox-textbox-field-invalid",getRoot:e=>ot(e.element),notify:{onValid:e=>{const t=nu.getValue(e);Ti(e,l_,{color:t})}},validator:{validateOnLoad:!1,validate:e=>{const t=nu.getValue(e);if(0===t.length)return Yw(no.value(!0));{const e=Re("span");At(e,"background-color",t);const n=Rt(e,"background-color").fold((()=>no.error("blah")),(e=>no.value(t)));return Yw(n)}}}})]),selectOnFocus:!1}),i=e.label.map((e=>Vx(e,t.providers))),s=(e,t)=>{Ti(e,c_,{value:t})},a=Mf(((e,t)=>cx.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:fl([ay(t.providers.isDisabled),sy(),a_.config({}),Lx.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:n=>$w((t=>e.fetch(t))).map((o=>A.from(fx(po(Tw(os("menu-value"),o,(t=>{e.onItemAction(n,t)}),e.columns,e.presets,ev.CLOSE_ON_EXECUTE,E,t.providers),{movement:Mw(e.columns,e.presets)}))))),parts:{menu:vv(0,0,e.presets)}}))({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Xa,Ka,tl],onLtr:()=>[Ka,Xa,tl]},components:[],fetch:Cw(n.getColors(e.storageKey),e.storageKey,n.hasCustomColors()),columns:n.getColorCols(e.storageKey),presets:"color",onItemAction:(t,o)=>{a.getOpt(t).each((t=>{"custom"===o?n.colorPicker((n=>{n.fold((()=>Ai(t,d_)),(n=>{s(t,n),ow(e.storageKey,n)}))}),"#ffffff"):s(t,"remove"===o?"":o)}))}},t));return Px.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:i.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,a.asSpec()]}]),fieldBehaviours:fl([Fp("form-field-events",[Bi(l_,((t,n)=>{a.getOpt(t).each((e=>{At(e.element,"background-color",n.event.color)})),Ti(t,zx,{name:e.name})})),Bi(c_,((e,t)=>{Px.getField(e).each((n=>{nu.setValue(n,t.event.value),ch.getCurrent(e).each(Wp.focus)}))})),Bi(d_,((e,t)=>{Px.getField(e).each((t=>{ch.getCurrent(e).each(Wp.focus)}))}))])])})})(e,t.shared,t.colorinput,n))),colorpicker:tk(((e,t,n)=>((e,t,n)=>{const o=e=>"tox-"+e,r=nC((e=>t=>e.translate(hC[t]))(t),o),i=Mf(r.sketch({dom:{tag:"div",classes:[o("color-picker-container")],attributes:{role:"presentation"}},onValidHex:e=>{Ti(e,qx,{name:"hex-valid",value:!0})},onInvalidHex:e=>{Ti(e,qx,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[i.asSpec()],behaviours:fl([dC(n,(e=>{const t=i.get(e);return ch.getCurrent(t).bind((e=>nu.getValue(e).hex)).map((e=>"#"+ke(e,"#"))).getOr("")}),((e,t)=>{const n=A.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t)).bind((e=>te(e,1))),o=i.get(e);ch.getCurrent(o).fold((()=>{console.log("Can not find form")}),(e=>{nu.setValue(e,{hex:n.getOr("")}),XS.getField(e,"hex").each((e=>{Ai(e,$r())}))}))})),oC()])}})(0,t.shared.providers,n))),dropzone:tk(((e,t,n)=>((e,t,n)=>{const o=(e,t)=>{t.stop()},r=e=>(t,n)=>{H(e,(e=>{e(t,n)}))},i=(e,t)=>{var n;if(!Sh.isDisabled(e)){const o=t.event.raw;a(e,null===(n=o.dataTransfer)||void 0===n?void 0:n.files)}},s=(e,t)=>{const n=t.event.raw.target;a(e,n.files)},a=(n,o)=>{o&&(nu.setValue(n,((e,t)=>{const n=pC.explode(t.getOption("images_file_types"));return z(re(e),(e=>L(n,(t=>Ae(e.name.toLowerCase(),`.${t.toLowerCase()}`)))))})(o,t)),Ti(n,zx,{name:e.name}))},l=Mf({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:fl([Fp("input-file-events",[Ui(Kr()),Ui(ci())])])}),c=e.label.map((e=>Vx(e,t))),d=Px.parts.field({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:fl([uC(n.getOr([])),oC(),Sh.config({}),Qp.config({toggleClass:"dragenter",toggleOnExecute:!1}),Fp("dropzone-events",[Bi("dragenter",r([o,Qp.toggle])),Bi("dragleave",r([o,Qp.toggle])),Bi("dragover",o),Bi("drop",r([o,i])),Bi(Yr(),s)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Gs(t.translate("Drop an image here"))]},Df.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Gs(t.translate("Browse for an image")),l.asSpec()],action:e=>{l.get(e).element.dom.click()},buttonBehaviours:fl([Lx.config({}),ay(t.isDisabled),sy()])})]}]})}});return Bx(c,d,["tox-form__group--stretched"],[])})(e,t.shared.providers,n))),grid:tk(((e,t)=>((e,t)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${e.columns}col`]},components:F(e.items,t.interpreter)}))(e,t.shared))),listbox:tk(((e,t,n)=>((e,t,n)=>{const o=t.shared.providers,r=n.bind((t=>HC(e.items,t))).orThunk((()=>ne(e.items).filter(IC))),i=e.label.map((e=>Vx(e,o))),s=Px.parts.field({dom:{},factory:{sketch:n=>MC({uid:n.uid,text:r.map((e=>e.text)),icon:A.none(),tooltip:e.label,role:A.none(),fetch:(n,o)=>{const r=FC(n,e.name,e.items,nu.getValue(n));o(LC(r,ev.CLOSE_ON_EXECUTE,t,{isHorizontalMenu:!1,search:A.none()}))},onSetup:w(v),getApi:w({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Lx.config({}),dC(r.map((e=>e.value)),(e=>St(e.element,BC)),((t,n)=>{HC(e.items,n).each((e=>{xt(t.element,BC,e.value),Ti(t,TC,{text:e.text})}))}))]},"tox-listbox",t.shared)}}),a={dom:{tag:"div",classes:["tox-listboxfield"]},components:[s]};return Px.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:G([i.toArray(),[a]]),fieldBehaviours:fl([Sh.config({disabled:w(!e.enabled),onDisabled:e=>{Px.getField(e).each(Sh.disable)},onEnabled:e=>{Px.getField(e).each(Sh.enable)}})])})})(e,t,n))),selectbox:tk(((e,t,n)=>((e,t,n)=>{const o=F(e.items,(e=>({text:t.translate(e.text),value:e.value}))),r=e.label.map((e=>Vx(e,t))),i=Px.parts.field({dom:{},...n.map((e=>({data:e}))).getOr({}),selectAttributes:{size:e.size},options:o,factory:VC,selectBehaviours:fl([Sh.config({disabled:()=>!e.enabled||t.isDisabled()}),Lx.config({}),Fp("selectbox-change",[Bi(Yr(),((t,n)=>{Ti(t,zx,{name:e.name})}))])])}),s=e.size>1?A.none():A.some(zf("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons)),a={dom:{tag:"div",classes:["tox-selectfield"]},components:G([[i],s.toArray()])};return Px.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:G([r.toArray(),[a]]),fieldBehaviours:fl([Sh.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{Px.getField(e).each(Sh.disable)},onEnabled:e=>{Px.getField(e).each(Sh.enable)}}),sy()])})})(e,t.shared.providers,n))),sizeinput:tk(((e,t)=>((e,t)=>{let n=$C;const o=os("ratio-event"),r=e=>zf(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons),i=qC.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[r("lock"),r("unlock")],buttonBehaviours:fl([Sh.config({disabled:()=>!e.enabled||t.isDisabled()}),sy(),Lx.config({})])}),s=e=>({dom:{tag:"div",classes:["tox-form__group"]},components:e}),a=n=>Px.parts.field({factory:_v,inputClasses:["tox-textfield"],inputBehaviours:fl([Sh.config({disabled:()=>!e.enabled||t.isDisabled()}),sy(),Lx.config({}),Fp("size-input-events",[Bi(Wr(),((e,t)=>{Ti(e,o,{isField1:n})})),Bi(Yr(),((t,n)=>{Ti(t,zx,{name:e.name})}))])]),selectOnFocus:!1}),l=e=>({dom:{tag:"label",classes:["tox-label"]},components:[Gs(t.translate(e))]}),c=qC.parts.field1(s([Px.parts.label(l("Width")),a(!0)])),d=qC.parts.field2(s([Px.parts.label(l("Height")),a(!1)]));return qC.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[c,d,s([l(""),i])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(e,t,o)=>{ZC(nu.getValue(e)).each((e=>{n(e).each((e=>{nu.setValue(t,(e=>{const t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let n=e.value.toFixed((o=e.unit)in t?t[o]:1);var o;return-1!==n.indexOf(".")&&(n=n.replace(/\.?0*$/,"")),n+e.unit})(e))}))}))},coupledFieldBehaviours:fl([Sh.config({disabled:()=>!e.enabled||t.isDisabled(),onDisabled:e=>{qC.getField1(e).bind(Px.getField).each(Sh.disable),qC.getField2(e).bind(Px.getField).each(Sh.disable),qC.getLock(e).each(Sh.disable)},onEnabled:e=>{qC.getField1(e).bind(Px.getField).each(Sh.enable),qC.getField2(e).bind(Px.getField).each(Sh.enable),qC.getLock(e).each(Sh.enable)}}),sy(),Fp("size-input-events2",[Bi(o,((e,t)=>{const o=t.event.isField1,r=o?qC.getField1(e):qC.getField2(e),i=o?qC.getField2(e):qC.getField1(e),s=r.map(nu.getValue).getOr(""),a=i.map(nu.getValue).getOr("");n=((e,t)=>{const n=ZC(e).toOptional(),o=ZC(t).toOptional();return _e(n,o,((e,t)=>GC(e,t.unit).map((e=>t.value/e)).map((e=>{return n=e,o=t.unit,e=>GC(e,o).map((e=>({value:e*n,unit:o})));var n,o})).getOr($C))).getOr($C)})(s,a)}))])])})})(e,t.shared.providers))),slider:tk(((e,t,n)=>((e,t,n)=>{const o=US.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Gs(t.translate(e.label))]}),r=US.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),i=US.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return US.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:e.min,maxX:e.max,getInitialValue:w(n.getOrThunk((()=>(Math.abs(e.max)-Math.abs(e.min))/2)))},components:[o,r,i],sliderBehaviours:fl([oC(),Wp.config({})]),onChoose:(t,n,o)=>{Ti(t,zx,{name:e.name,value:o})}})})(e,t.shared.providers,n))),urlinput:tk(((e,t,n)=>((e,t,n,o)=>{const r=t.shared.providers,i=t=>{const o=nu.getValue(t);n.addToHistory(o.value,e.filetype)},s={...o.map((e=>({initialData:e}))).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":Qj,type:"url"},minChars:0,responseTime:0,fetch:o=>{const r=((e,t,n)=>{var o,r;const i=nu.getValue(t),s=null!==(r=null===(o=null==i?void 0:i.meta)||void 0===o?void 0:o.text)&&void 0!==r?r:i.value;return n.getLinkInformation().fold((()=>[]),(t=>{const o=Xj(s,(e=>F(e,(e=>qj(e,e))))(n.getHistory(e)));return"file"===e?(r=[o,Xj(s,Gj(t)),Xj(s,G([Yj(t),$j(t),Kj(t)]))],W(r,((e,t)=>0===e.length||0===t.length?e.concat(t):e.concat(Uj,t)),[])):o;var r}))})(e.filetype,o,n),i=LC(r,ev.BUBBLE_TO_SANDBOX,t,{isHorizontalMenu:!1,search:A.none()});return Yw(i)},getHotspot:e=>m.getOpt(e),onSetValue:(e,t)=>{e.hasConfigured(s_)&&s_.run(e).get(v)},typeaheadBehaviours:fl([...n.getValidationHandler().map((t=>s_.config({getRoot:e=>ot(e.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(e,t)=>{c.getOpt(e).each((e=>{xt(e.element,"title",r.translate(t))}))}},validator:{validate:n=>{const o=nu.getValue(n);return(e=>Nj($w(e)))((n=>{t({type:e.filetype,url:o.value},(e=>{if("invalid"===e.status){const t=no.error(e.message);n(t)}else{const t=no.value(e.message);n(t)}}))}))},validateOnLoad:!1}}))).toArray(),Sh.config({disabled:()=>!e.enabled||r.isDisabled()}),Lx.config({}),Fp("urlinput-events",[Bi($r(),(t=>{const n=Hs(t.element),o=n.trim();o!==n&&Vs(t.element,o),"file"===e.filetype&&Ti(t,zx,{name:e.name})})),Bi(Yr(),(t=>{Ti(t,zx,{name:e.name}),i(t)})),Bi(ii(),(t=>{Ti(t,zx,{name:e.name}),i(t)}))])]),eventOrder:{[$r()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:e=>e.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:vv(0,0,"normal")},onExecute:(e,t,n)=>{Ti(t,Zx,{})},onItemExecute:(t,n,o,r)=>{i(t),Ti(t,zx,{name:e.name})}},a=Px.parts.field({...s,factory:Rj}),l=e.label.map((e=>Vx(e,r))),c=Mf(((e,t,n=e,o=e)=>zf(n,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:{title:r.translate(o),"aria-live":"polite",...t.fold((()=>({})),(e=>({id:e})))}},r.icons))("invalid",A.some(Qj),"warning")),d=Mf({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[c.asSpec()]}),u=n.getUrlPicker(e.filetype),h=os("browser.url.event"),m=Mf({dom:{tag:"div",classes:["tox-control-wrap"]},components:[a,d.asSpec()],behaviours:fl([Sh.config({disabled:()=>!e.enabled||r.isDisabled()})])}),p=Mf(Hj({name:e.name,icon:A.some("browse"),text:e.label.getOr(""),enabled:e.enabled,primary:!1,buttonType:A.none(),borderless:!0},(e=>Ai(e,h)),r,[],["tox-browse-url"]));return Px.sketch({dom:Hx([]),components:l.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:G([[m.asSpec()],u.map((()=>p.asSpec())).toArray()])}]),fieldBehaviours:fl([Sh.config({disabled:()=>!e.enabled||r.isDisabled(),onDisabled:e=>{Px.getField(e).each(Sh.disable),p.getOpt(e).each(Sh.disable)},onEnabled:e=>{Px.getField(e).each(Sh.enable),p.getOpt(e).each(Sh.enable)}}),sy(),Fp("url-input-events",[Bi(h,(t=>{ch.getCurrent(t).each((n=>{const o=nu.getValue(n),r={fieldname:e.name,...o};u.each((o=>{o(r).get((o=>{nu.setValue(n,o),Ti(t,zx,{name:e.name})}))}))}))}))])])})})(e,t,t.urlinput,n))),customeditor:tk((e=>{const t=Wl(),n=Mf({dom:{tag:e.tag}}),o=Wl();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:fl([Fp("custom-editor-events",[Zi((r=>{n.getOpt(r).each((n=>{((e=>be(e,"init"))(e)?e.init(n.element.dom):mC.load(e.scriptId,e.scriptUrl).then((t=>t(n.element.dom,e.settings)))).then((e=>{o.on((t=>{e.setValue(t)})),o.clear(),t.set(e)}))}))}))]),dC(A.none(),(()=>t.get().fold((()=>o.get().getOr("")),(e=>e.getValue()))),((e,n)=>{t.get().fold((()=>o.set(n)),(e=>e.setValue(n)))})),oC()]),components:[n.asSpec()]}})),htmlpanel:tk((e=>"presentation"===e.presets?Ax.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):Ax.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:fl([Lx.config({}),Wp.config({})])}))),imagepreview:tk(((e,t,n)=>((e,t)=>{const n=Cr(t.getOr({url:""})),o=Mf({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:t.map((e=>({src:e.url}))).getOr({})}}),r=Mf({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[o.asSpec()]}),i={};e.height.each((e=>i.height=e));const s=t.map((e=>({url:e.url,zoom:A.from(e.zoom),cachedWidth:A.from(e.cachedWidth),cachedHeight:A.from(e.cachedHeight)})));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:i,attributes:{role:"presentation"}},components:[r.asSpec()],behaviours:fl([oC(),dC(s,(()=>n.get()),((e,t)=>{const i={url:t.url};t.zoom.each((e=>i.zoom=e)),t.cachedWidth.each((e=>i.cachedWidth=e)),t.cachedHeight.each((e=>i.cachedHeight=e)),n.set(i);const s=()=>{const{cachedWidth:t,cachedHeight:n,zoom:o}=i;if(!u(t)&&!u(n)){if(u(o)){const o=((e,t,n)=>{const o=Yt(e),r=Vt(e);return Math.min(o/t,r/n,1)})(e.element,t,n);i.zoom=o}const s=((e,t,n,o,r)=>{const i=n*r,s=o*r,a=Math.max(0,e/2-i/2),l=Math.max(0,t/2-s/2);return{left:a.toString()+"px",top:l.toString()+"px",width:i.toString()+"px",height:s.toString()+"px"}})(Yt(e.element),Vt(e.element),t,n,i.zoom);r.getOpt(e).each((e=>{Tt(e.element,s)}))}};o.getOpt(e).each((n=>{const o=n.element;var r;t.url!==St(o,"src")&&(xt(o,"src",t.url),Ns(e.element,"tox-imagepreview__loaded")),s(),(r=o,new Promise(((e,t)=>{const n=()=>{i(),e(r)},o=[Zl(r,"load",n),Zl(r,"error",(()=>{i(),t("Unable to load data from image: "+r.dom.src)}))],i=()=>H(o,(e=>e.unbind()));r.dom.complete&&n()}))).then((t=>{e.getSystem().isConnected()&&(Rs(e.element,"tox-imagepreview__loaded"),i.cachedWidth=t.dom.naturalWidth,i.cachedHeight=t.dom.naturalHeight,s())}))}))}))])}})(e,n))),table:tk(((e,t)=>((e,t)=>{const n=e=>({dom:{tag:"td",innerHtml:t.translate(e)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(r=e.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:F(r,(e=>({dom:{tag:"th",innerHtml:t.translate(e)}})))}]}),(o=e.cells,{dom:{tag:"tbody"},components:F(o,(e=>({dom:{tag:"tr"},components:F(e,n)})))})],behaviours:fl([Lx.config({}),Wp.config({})])};var o,r})(e,t.shared.providers))),tree:tk(((e,t)=>((e,t)=>{const n=e.onLeafAction.getOr(v),o=os("tree-id");return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:e.items.map((e=>"leaf"===e.type?vj({leaf:e,onLeafAction:n,visible:!0,treeId:o,backstage:t}):xj({directory:e,onLeafAction:n,labelTabstopping:!0,treeId:o,backstage:t}))),behaviours:fl([Ap.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1})])}})(e,t))),panel:tk(((e,t)=>((e,t)=>({dom:{tag:"div",classes:e.classes},components:F(e.items,t.shared.interpreter)}))(e,t)))},ok={field:(e,t)=>t,record:w([])},rk=(e,t,n,o)=>{const r=po(o,{shared:{interpreter:t=>ik(e,t,n,r)}});return ik(e,t,n,r)},ik=(e,t,n,o)=>ve(nk,t.type).fold((()=>(console.error(`Unknown factory type "${t.type}", defaulting to container: `,t),t)),(r=>r(e,t,n,o))),sk=(e,t,n)=>ik(ok,e,t,n),ak="layout-inset",lk=e=>e.x,ck=(e,t)=>e.x+e.width/2-t.width/2,dk=(e,t)=>e.x+e.width-t.width,uk=e=>e.y,hk=(e,t)=>e.y+e.height-t.height,mk=(e,t)=>e.y+e.height/2-t.height/2,pk=(e,t,n)=>Ta(dk(e,t),hk(e,t),n.insetSouthwest(),Na(),"southwest",za(e,{right:0,bottom:3}),ak),fk=(e,t,n)=>Ta(lk(e),hk(e,t),n.insetSoutheast(),Ra(),"southeast",za(e,{left:1,bottom:3}),ak),gk=(e,t,n)=>Ta(dk(e,t),uk(e),n.insetNorthwest(),Pa(),"northwest",za(e,{right:0,top:2}),ak),vk=(e,t,n)=>Ta(lk(e),uk(e),n.insetNortheast(),Ma(),"northeast",za(e,{left:1,top:2}),ak),bk=(e,t,n)=>Ta(ck(e,t),uk(e),n.insetNorth(),La(),"north",za(e,{top:2}),ak),yk=(e,t,n)=>Ta(ck(e,t),hk(e,t),n.insetSouth(),Ia(),"south",za(e,{bottom:3}),ak),wk=(e,t,n)=>Ta(dk(e,t),mk(e,t),n.insetEast(),Fa(),"east",za(e,{right:0}),ak),xk=(e,t,n)=>Ta(lk(e),mk(e,t),n.insetWest(),Ba(),"west",za(e,{left:1}),ak),_k=e=>{switch(e){case"north":return bk;case"northeast":return vk;case"northwest":return gk;case"south":return yk;case"southeast":return fk;case"southwest":return pk;case"east":return wk;case"west":return xk}},Sk=(e,t,n,o,r)=>Hl(o).map(_k).getOr(bk)(e,t,n,o,r),Ck=e=>{switch(e){case"north":return yk;case"northeast":return fk;case"northwest":return pk;case"south":return bk;case"southeast":return vk;case"southwest":return gk;case"east":return xk;case"west":return wk}},jk=(e,t,n,o,r)=>Hl(o).map(Ck).getOr(bk)(e,t,n,o,r),kk={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},Ek=(e,t,n)=>{const o={maxHeightFunction:Jl()};return()=>n()?{type:"node",root:pt(mt(e())),node:A.from(e()),bubble:oc(12,12,kk),layouts:{onRtl:()=>[vk],onLtr:()=>[gk]},overrides:o}:{type:"hotspot",hotspot:t(),bubble:oc(-12,12,kk),layouts:{onRtl:()=>[Ka,Xa,tl],onLtr:()=>[Xa,Ka,tl]},overrides:o}},Ok=(e,t,n)=>()=>n()?{type:"node",root:pt(mt(e())),node:A.from(e()),layouts:{onRtl:()=>[bk],onLtr:()=>[bk]}}:{type:"hotspot",hotspot:t(),layouts:{onRtl:()=>[tl],onLtr:()=>[tl]}},Ak=(e,t)=>()=>({type:"selection",root:t(),getSelection:()=>{const t=e.selection.getRng();return A.some(Tc.range(Le(t.startContainer),t.startOffset,Le(t.endContainer),t.endOffset))}}),Tk=e=>t=>({type:"node",root:e(),node:t}),Dk=(e,t,n)=>{const o=Wg(e),r=()=>Le(e.getBody()),i=()=>Le(e.getContentAreaContainer()),s=()=>o||!n();return{inlineDialog:Ek(i,t,s),banner:Ok(i,t,s),cursor:Ak(e,r),node:Tk(r)}},Mk=e=>(t,n)=>{Aw(e)(t,n)},Pk=e=>()=>gw(e),Rk=e=>t=>vw(e,t),Nk=e=>t=>fw(e,t),Lk=e=>()=>Eg(e),Ik=e=>ye(e,"items"),Bk=e=>ye(e,"format"),Fk=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],Hk=e=>W(e,((e,t)=>{if(be(t,"items")){const n=Hk(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(be(t,"inline")||(e=>be(e,"block"))(t)||(e=>be(e,"selector"))(t)){const n=`custom-${i(t.name)?t.name:t.title.toLowerCase()}`;return{customFormats:e.customFormats.concat([{name:n,format:t}]),formats:e.formats.concat([{title:t.title,format:n,icon:t.icon}])}}return{...e,formats:e.formats.concat(t)}}),{customFormats:[],formats:[]}),Vk=e=>sg(e).map((t=>{const n=((e,t)=>{const n=Hk(t),o=t=>{H(t,(t=>{e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))};return e.formatter?o(n.customFormats):e.on("init",(()=>{o(n.customFormats)})),n.formats})(e,t);return ag(e)?Fk.concat(n):n})).getOr(Fk),zk=(e,t,n)=>({...e,type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)}),Uk=(e,t,n,o)=>{const r=t=>F(t,(t=>Ik(t)?(e=>{const t=r(e.items);return{...e,type:"submenu",getStyleItems:w(t)}})(t):Bk(t)?(e=>zk(e,n,o))(t):(e=>{const t=se(e);return 1===t.length&&N(t,"title")})(t)?{...t,type:"separator"}:(t=>{const r=i(t.name)?t.name:os(t.title),s=`custom-${r}`,a={...t,type:"formatter",format:s,isSelected:n(s),getStylePreview:o(s)};return e.formatter.register(r,a),a})(t)));return r(t)},Wk=pC.trim,qk=e=>t=>{if((e=>m(e)&&1===e.nodeType)(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},Zk=qk("true"),Gk=qk("false"),$k=(e,t,n,o,r)=>({type:e,title:t,url:n,level:o,attach:r}),Yk=e=>e.innerText||e.textContent,Kk=e=>(e=>e&&"A"===e.nodeName&&void 0!==(e.id||e.name))(e)&&Qk(e),Xk=e=>e&&/^(H[1-6])$/.test(e.nodeName),Qk=e=>(e=>{let t=e;for(;t=t.parentNode;){const e=t.contentEditable;if(e&&"inherit"!==e)return Zk(t)}return!1})(e)&&!Gk(e),Jk=e=>Xk(e)&&Qk(e),eE=e=>{var t;const n=(e=>e.id?e.id:os("h"))(e);return $k("header",null!==(t=Yk(e))&&void 0!==t?t:"","#"+n,(e=>Xk(e)?parseInt(e.nodeName.substr(1),10):0)(e),(()=>{e.id=n}))},tE=e=>{const t=e.id||e.name,n=Yk(e);return $k("anchor",n||"#"+t,"#"+t,0,v)},nE=e=>Wk(e.title).length>0,oE=e=>{const t=(e=>{const t=F(Ic(Le(e),"h1,h2,h3,h4,h5,h6,a:not([href])"),(e=>e.dom));return t})(e);return z((e=>F(z(e,Jk),eE))(t).concat((e=>F(z(e,Kk),tE))(t)),nE)},rE="tinymce-url-history",iE=e=>i(e)&&/^https?/.test(e),sE=e=>s(e)&&fe(e,(e=>{return!(l(t=e)&&t.length<=5&&Y(t,iE));var t})).isNone(),aE=()=>{const e=ew.getItem(rE);if(null===e)return{};let t;try{t=JSON.parse(e)}catch(e){if(e instanceof SyntaxError)return console.log("Local storage "+rE+" was not valid JSON",e),{};throw e}return sE(t)?t:(console.log("Local storage "+rE+" was not valid format",t),{})},lE=e=>{const t=aE();return ve(t,e).getOr([])},cE=(e,t)=>{if(!iE(e))return;const n=aE(),o=ve(n,t).getOr([]),r=z(o,(t=>t!==e));n[t]=[e].concat(r).slice(0,5),(e=>{if(!sE(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));ew.setItem(rE,JSON.stringify(e))})(n)},dE=e=>!!e,uE=e=>ce(pC.makeMap(e,/[, ]/),dE),hE=e=>A.from(wg(e)),mE=e=>A.from(e).filter(i).getOrUndefined(),pE=e=>({getHistory:lE,addToHistory:cE,getLinkInformation:()=>(e=>Cg(e)?A.some({targets:oE(e.getBody()),anchorTop:mE(jg(e)),anchorBottom:mE(kg(e))}):A.none())(e),getValidationHandler:()=>(e=>A.from(xg(e)))(e),getUrlPicker:t=>((e,t)=>((e,t)=>{const n=(e=>{const t=A.from(Sg(e)).filter(dE).map(uE);return hE(e).fold(E,(e=>t.fold(O,(e=>se(e).length>0&&e))))})(e);return d(n)?n?hE(e):A.none():n[t]?hE(e):A.none()})(e,t).map((n=>o=>$w((r=>{const a={filetype:t,fieldname:o.fieldname,...A.from(o.meta).getOr({})};n.call(e,((e,t)=>{if(!i(e))throw new Error("Expected value to be string");if(void 0!==t&&!s(t))throw new Error("Expected meta to be a object");r({value:e,meta:t})}),o.value,a)})))))(e,t)}),fE=Qu,gE=Nu,vE=w([fr("shell",!1),Qo("makeItem"),fr("setupItem",v),su("listBehaviours",[Bp])]),bE=Mu({name:"items",overrides:()=>({behaviours:fl([Bp.config({})])})}),yE=w([bE]),wE=ih({name:w("CustomList")(),configFields:vE(),partFields:yE(),factory:(e,t,n,o)=>{const r=e.shell?{behaviours:[Bp.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:r.components,behaviours:iu(e.listBehaviours,r.behaviours),apis:{setItems:(t,n)=>{var o;(o=t,e.shell?A.some(o):Wu(o,e,"items")).fold((()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(o=>{const r=Bp.contents(o),i=n.length,s=i-r.length,a=s>0?I(s,(()=>e.makeItem())):[],l=r.slice(i);H(l,(e=>Bp.remove(o,e))),H(a,(e=>Bp.append(o,e)));const c=Bp.contents(o);H(c,((o,r)=>{e.setupItem(t,o,n[r],r)}))}))}}}},apis:{setItems:(e,t,n)=>{e.setItems(t,n)}}}),xE=w([Qo("dom"),fr("shell",!0),ou("toolbarBehaviours",[Bp])]),_E=w([Mu({name:"groups",overrides:()=>({behaviours:fl([Bp.config({})])})})]),SE=ih({name:"Toolbar",configFields:xE(),partFields:_E(),factory:(e,t,n,o)=>{const r=e.shell?{behaviours:[Bp.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:r.components,behaviours:iu(e.toolbarBehaviours,r.behaviours),apis:{setGroups:(t,n)=>{var o;(o=t,e.shell?A.some(o):Wu(o,e,"groups")).fold((()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(e=>{Bp.set(e,n)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)}}}),CE=v,jE=E,kE=w([]);var EE,OE=Object.freeze({__proto__:null,setup:CE,isDocked:jE,getBehaviours:kE});const AE=e=>(we(Rt(e,"position"),"fixed")?A.none():rt(e)).orThunk((()=>{const t=Re("span");return nt(e).bind((e=>{Ln(e,t);const n=rt(t);return Fn(t),n}))})),TE=e=>AE(e).map(Zt).getOrThunk((()=>Wt(0,0))),DE=(e,t)=>{const n=e.element;Rs(n,t.transitionClass),Ns(n,t.fadeOutClass),Rs(n,t.fadeInClass),t.onShow(e)},ME=(e,t)=>{const n=e.element;Rs(n,t.transitionClass),Ns(n,t.fadeInClass),Rs(n,t.fadeOutClass),t.onHide(e)},PE=(e,t)=>e.y>=t.y,RE=(e,t)=>e.bottom<=t.bottom,NE=(e,t,n)=>({location:"top",leftX:t,topY:n.bounds.y-e.y}),LE=(e,t,n)=>({location:"bottom",leftX:t,bottomY:e.bottom-n.bounds.bottom}),IE=e=>e.box.x-e.win.x,BE=(e,t,n)=>n.getInitialPos().map((n=>{const o=((e,t)=>{const n=t.optScrollEnv.fold(w(e.bounds.y),(t=>t.scrollElmTop+(e.bounds.y-t.currentScrollTop)));return Wt(e.bounds.x,n)})(n,t);return{box:$n(o.left,o.top,Yt(e),Vt(e)),location:n.location}})),FE=(e,t,n,o,r)=>{const i=((e,t)=>{const n=t.optScrollEnv.fold(w(e.y),(t=>e.y+t.currentScrollTop-t.scrollElmTop));return Wt(e.x,n)})(t,n),s=$n(i.left,i.top,t.width,t.height);o.setInitialPos({style:Nt(e),position:Mt(e,"position")||"static",bounds:s,location:r.location})},HE=(e,t,n)=>n.getInitialPos().bind((o=>{var r;switch(n.clearInitialPos(),o.position){case"static":return A.some({morph:"static"});case"absolute":const n=AE(e).getOr(bt()),i=Yn(n),s=null!==(r=n.dom.scrollTop)&&void 0!==r?r:0;return A.some({morph:"absolute",positionCss:Al("absolute",ve(o.style,"left").map((e=>t.x-i.x)),ve(o.style,"top").map((e=>t.y-i.y+s)),ve(o.style,"right").map((e=>i.right-t.right)),ve(o.style,"bottom").map((e=>i.bottom-t.bottom)))});default:return A.none()}})),VE=e=>{switch(e.location){case"top":return A.some({morph:"fixed",positionCss:Al("fixed",A.some(e.leftX),A.some(e.topY),A.none(),A.none())});case"bottom":return A.some({morph:"fixed",positionCss:Al("fixed",A.some(e.leftX),A.none(),A.none(),A.some(e.bottomY))});default:return A.none()}},zE=(e,t,n)=>{n.setDocked(!1),H(["left","right","top","bottom","position"],(t=>It(e.element,t))),t.onUndocked(e)},UE=(e,t,n,o)=>{const r="fixed"===o.position;n.setDocked(r),Tl(e.element,o),(r?t.onDocked:t.onUndocked)(e)},WE=(e,t,n,o,r=!1)=>{t.contextual.each((t=>{t.lazyContext(e).each((i=>{const s=((e,t)=>e.y<t.bottom&&e.bottom>t.y)(i,o.bounds);s!==n.isVisible()&&(n.setVisible(s),r&&!s?(Is(e.element,[t.fadeOutClass]),t.onHide(e)):(s?DE:ME)(e,t))}))}))},qE=(e,t,n,o,r)=>{WE(e,t,n,o,!0),UE(e,t,n,r.positionCss)},ZE=(e,t,n)=>{e.getSystem().isConnected()&&((e,t,n)=>{const o=t.lazyViewport(e);WE(e,t,n,o),((e,t,n)=>{const o=e.element;return we(Rt(o,"position"),"fixed")?((e,t,n)=>((e,t,n)=>BE(e,t,n).filter((({box:e})=>((e,t,n)=>Y(e,(e=>{switch(e){case"bottom":return RE(t,n.bounds);case"top":return PE(t,n.bounds)}})))(n.getModes(),e,t))).bind((({box:t})=>HE(e,t,n))))(e,t,n).orThunk((()=>t.optScrollEnv.bind((o=>BE(e,t,n))).bind((({box:e,location:n})=>{const o=Qn(),r=IE({win:o,box:e}),i="top"===n?NE(o,r,t):LE(o,r,t);return VE(i)})))))(o,t,n):((e,t,n)=>{const o=Yn(e),r=Qn(),i=((e,t,n)=>{const o=t.win,r=t.box,i=IE(t);return ie(e,(e=>{switch(e){case"bottom":return RE(r,n.bounds)?A.none():A.some(LE(o,i,n));case"top":return PE(r,n.bounds)?A.none():A.some(NE(o,i,n));default:return A.none()}})).getOr({location:"no-dock"})})(n.getModes(),{win:r,box:o},t);return"top"===i.location||"bottom"===i.location?(FE(e,o,t,n,i),VE(i)):A.none()})(o,t,n)})(e,o,n).each((r=>{((e,t,n,o,r)=>{switch(r.morph){case"static":return zE(e,t,n);case"absolute":return UE(e,t,n,r.positionCss);case"fixed":qE(e,t,n,o,r)}})(e,t,n,o,r)}))})(e,t,n)},GE=(e,t,n)=>{n.isDocked()&&((e,t,n)=>{const o=e.element;n.setDocked(!1);const r=t.lazyViewport(e);((e,t,n)=>{const o=e.element;return BE(o,t,n).bind((({box:e})=>HE(o,e,n)))})(e,r,n).each((o=>{switch(o.morph){case"static":zE(e,t,n);break;case"absolute":UE(e,t,n,o.positionCss)}})),n.setVisible(!0),t.contextual.each((t=>{Bs(o,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)})),ZE(e,t,n)})(e,t,n)},$E=e=>(t,n,o)=>{const r=n.lazyViewport(t);((e,t,n,o)=>{const r=Yn(e),i=Qn(),s=o(i,IE({win:i,box:r}),t);return"bottom"===s.location||"top"===s.location?(((e,t,n,o,r)=>{o.getInitialPos().fold((()=>FE(e,t,n,o,r)),(()=>v))})(e,r,t,n,s),VE(s)):A.none()})(t.element,r,o,e).each((e=>{qE(t,n,o,r,e)}))},YE=$E(NE),KE=$E(LE);var XE=Object.freeze({__proto__:null,refresh:ZE,reset:GE,isDocked:(e,t,n)=>n.isDocked(),getModes:(e,t,n)=>n.getModes(),setModes:(e,t,n,o)=>n.setModes(o),forceDockToTop:YE,forceDockToBottom:KE}),QE=Object.freeze({__proto__:null,events:(e,t)=>Ni([qi(Qr(),((n,o)=>{e.contextual.each((e=>{Ls(n.element,e.transitionClass)&&(Bs(n.element,[e.transitionClass,e.fadeInClass]),(t.isVisible()?e.onShown:e.onHidden)(n)),o.stop()}))})),Bi(gi(),((n,o)=>{ZE(n,e,t)})),Bi(Ci(),((n,o)=>{ZE(n,e,t)})),Bi(vi(),((n,o)=>{GE(n,e,t)}))])}),JE=[pr("contextual",[tr("fadeInClass"),tr("fadeOutClass"),tr("transitionClass"),or("lazyContext"),Sa("onShow"),Sa("onShown"),Sa("onHide"),Sa("onHidden")]),xr("lazyViewport",(()=>({bounds:Qn(),optScrollEnv:A.none()}))),_r("modes",["top","bottom"],No),Sa("onDocked"),Sa("onUndocked")];const eO=vl({fields:JE,name:"docking",active:QE,apis:XE,state:Object.freeze({__proto__:null,init:e=>{const t=Cr(!1),n=Cr(!0),o=Wl(),r=Cr(e.modes);return xs({isDocked:t.get,setDocked:t.set,getInitialPos:o.get,setInitialPos:o.set,clearInitialPos:o.clear,isVisible:n.get,setVisible:n.set,getModes:r.get,setModes:r.set,readState:()=>`docked:  ${t.get()}, visible: ${n.get()}, modes: ${r.get().join(",")}`})}})}),tO=w(os("toolbar-height-change")),nO={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},oO="tox-tinymce--toolbar-sticky-on",rO="tox-tinymce--toolbar-sticky-off",iO=(e,t)=>N(eO.getModes(e),t),sO=e=>{const t=e.element;ot(t).each((n=>{const o="padding-"+eO.getModes(e)[0];if(eO.isDocked(e)){const e=Yt(n);At(t,"width",e+"px"),At(n,o,(e=>zt(e)+(parseInt(Mt(e,"margin-top"),10)||0)+(parseInt(Mt(e,"margin-bottom"),10)||0))(t)+"px")}else It(t,"width"),It(n,o)}))},aO=(e,t)=>{t?(Ns(e,nO.fadeOutClass),Is(e,[nO.transitionClass,nO.fadeInClass])):(Ns(e,nO.fadeInClass),Is(e,[nO.fadeOutClass,nO.transitionClass]))},lO=(e,t)=>{const n=Le(e.getContainer());t?(Rs(n,oO),Ns(n,rO)):(Rs(n,rO),Ns(n,oO))},cO=(e,t)=>{const n=Wl(),o=t.getSink,r=e=>{o().each((t=>e(t.element)))},i=t=>{e.inline||sO(t),lO(e,eO.isDocked(t)),t.getSystem().broadcastOn([Bd()],{}),o().each((e=>e.getSystem().broadcastOn([Bd()],{})))},s=e.inline?[]:[xl.config({channels:{[tO()]:{onReceive:sO}}})];return[Wp.config({}),eO.config({contextual:{lazyContext:t=>{const n=zt(t.element),o=e.inline?e.getContentAreaContainer():e.getContainer();return A.from(o).map((o=>{const r=Yn(Le(o));return yx(e,t.element).fold((()=>{const e=r.height-n,o=r.y+(iO(t,"top")?0:n);return $n(r.x,o,r.width,e)}),(e=>{const t=Xn(r,wx(e));return $n(t.x,t.y,t.width,t.height-n)}))}))},onShow:()=>{r((e=>aO(e,!0)))},onShown:e=>{r((e=>Bs(e,[nO.transitionClass,nO.fadeInClass]))),n.get().each((t=>{((e,t)=>{const n=Qe(t);kl(n).filter((e=>!Ke(t,e))).filter((t=>Ke(t,Le(n.dom.body))||Xe(e,t))).each((()=>Sl(t)))})(e.element,t),n.clear()}))},onHide:e=>{((e,t)=>El(e).orThunk((()=>t().toOptional().bind((e=>El(e.element))))))(e.element,o).fold(n.clear,n.set),r((e=>aO(e,!1)))},onHidden:()=>{r((e=>Bs(e,[nO.transitionClass])))},...nO},lazyViewport:t=>yx(e,t.element).fold((()=>{const n=Qn(),o=vg(e),r=n.y+(iO(t,"top")?o:0),i=n.height-(iO(t,"bottom")?o:0);return{bounds:$n(n.x,r,n.width,i),optScrollEnv:A.none()}}),(e=>({bounds:wx(e),optScrollEnv:A.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Zt(e.element).top})}))),modes:[t.header.getDockingMode()],onDocked:i,onUndocked:i}),...s]};var dO=Object.freeze({__proto__:null,setup:(e,t,n)=>{e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",(()=>{n().each(eO.reset)})),e.on("ResizeWindow ResizeEditor",(()=>{n().each(sO)})),e.on("SkinLoaded",(()=>{n().each((e=>{eO.isDocked(e)?eO.reset(e):eO.refresh(e)}))})),e.on("FullscreenStateChanged",(()=>{n().each(eO.reset)}))),e.on("AfterScrollIntoView",(e=>{n().each((t=>{eO.refresh(t);const n=t.element;_m(n)&&((e,t)=>{const n=Qe(t),o=tt(t).dom.innerHeight,r=Hn(n),i=Le(e.elm),s=Kn(i),a=Vt(i),l=s.y,c=l+a,d=Zt(t),u=Vt(t),h=d.top,m=h+u,p=Math.abs(h-r.top)<2,f=Math.abs(m-(r.top+o))<2;if(p&&l<m)Vn(r.left,l-u,n);else if(f&&c>h){const e=l-o+a+u;Vn(r.left,e,n)}})(e,n)}))})),e.on("PostRender",(()=>{lO(e,!1)}))},isDocked:e=>e().map(eO.isDocked).getOr(!1),getBehaviours:cO});const uO=Oo([Fv,Jo("items",To([Do([Hv,sr("items",No)]),No]))].concat(fb)),hO=[dr("text"),dr("tooltip"),dr("icon"),gr("search",!1,To([Lo,Oo([dr("placeholder")])],(e=>d(e)?e?A.some({placeholder:A.none()}):A.none():A.some(e)))),or("fetch"),xr("onSetup",(()=>v))],mO=Oo([Fv,...hO]),pO=e=>Uo("menubutton",mO,e),fO=Oo([Fv,eb,Jv,Qv,ob,Zv,Kv,yr("presets","normal",["normal","color","listpreview"]),lb(1),$v,Yv]);var gO=rh({factory:(e,t)=>{const n={focus:Ap.focusIn,setMenus:(e,n)=>{const o=F(n,(e=>{const n={type:"menubutton",text:e.text,fetch:t=>{t(e.getItems())}},o=pO(n).mapError((e=>Zo(e))).getOrDie();return mj(o,"tox-mbtn",t.backstage,A.some("menuitem"))}));Bp.set(e,o)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:fl([Bp.config({}),Fp("menubar-events",[Zi((t=>{e.onSetup(t)})),Bi(Ur(),((e,t)=>{sa(e.element,".tox-mbtn--active").each((n=>{aa(t.event.target,".tox-mbtn").each((t=>{Ke(n,t)||e.getSystem().getByDom(n).each((n=>{e.getSystem().getByDom(t).each((e=>{cx.expand(e),cx.close(n),Wp.focus(e)}))}))}))}))})),Bi(_i(),((e,t)=>{t.event.prevFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((n=>{t.event.newFocus.bind((t=>e.getSystem().getByDom(t).toOptional())).each((e=>{cx.isOpen(n)&&(cx.expand(e),cx.close(n))}))}))}))]),Ap.config({mode:"flow",selector:".tox-mbtn",onEscape:t=>(e.onEscape(t),A.some(!0))}),Lx.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Qo("dom"),Qo("uid"),Qo("onEscape"),Qo("backstage"),fr("onSetup",v)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,n)=>{e.setMenus(t,n)}}});const vO="container",bO=[ou("slotBehaviours",[])],yO=e=>"<alloy.field."+e+">",wO=(e,t)=>{const n=t=>$u(e),o=(t,n)=>(o,r)=>Wu(o,e,r).map((e=>t(e,r))).getOr(n),r=(e,t)=>"true"!==St(e.element,"aria-hidden"),i=o(r,!1),s=o(((e,t)=>{if(r(e)){const n=e.element;At(n,"display","none"),xt(n,"aria-hidden","true"),Ti(e,Si(),{name:t,visible:!1})}})),a=(e=>(t,n)=>{H(n,(n=>e(t,n)))})(s),l=o(((e,t)=>{if(!r(e)){const n=e.element;It(n,"display"),kt(n,"aria-hidden"),Ti(e,Si(),{name:t,visible:!0})}})),c={getSlotNames:n,getSlot:(t,n)=>Wu(t,e,n),isShowing:i,hideSlot:s,hideAllSlots:e=>a(e,n()),showSlot:l};return{uid:e.uid,dom:e.dom,components:t,behaviours:ru(e.slotBehaviours),apis:c}},xO=ce({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,n)=>e.getSlot(t,n),isShowing:(e,t,n)=>e.isShowing(t,n),hideSlot:(e,t,n)=>e.hideSlot(t,n),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,n)=>e.showSlot(t,n)},(e=>ys(e))),_O={...xO,sketch:e=>{const t=(()=>{const e=[];return{slot:(t,n)=>(e.push(t),Fu(vO,yO(t),n)),record:w(e)}})(),n=e(t),o=t.record(),r=F(o,(e=>Tu({name:e,pname:yO(e)})));return eh(vO,bO,r,wO,n)}},SO=Oo([Jv,eb,xr("onShow",v),xr("onHide",v),Kv]),CO=e=>({element:()=>e.element.dom}),jO=(e,t)=>{const n=F(se(t),(e=>{const n=t[e],o=Wo((e=>Uo("sidebar",SO,e))(n));return{name:e,getApi:CO,onSetup:o.onSetup,onShow:o.onShow,onHide:o.onHide}}));return F(n,(t=>{const o=Cr(v);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Zb([uy(t,o),hy(t,o),Bi(Si(),((e,t)=>{const o=t.event,r=q(n,(e=>e.name===o.name));r.each((t=>{(o.visible?t.onShow:t.onHide)(t.getApi(e))}))}))])})}))},kO=e=>_O.sketch((t=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:jO(t,e),slotBehaviours:Zb([Zi((e=>_O.hideAllSlots(e)))])}))),EO=(e,t)=>{xt(e,"role",t)},OO=e=>ch.getCurrent(e).bind((e=>uj.isGrowing(e)||uj.hasGrown(e)?ch.getCurrent(e).bind((e=>q(_O.getSlotNames(e),(t=>_O.isShowing(e,t))))):A.none())),AO=os("FixSizeEvent"),TO=os("AutoSizeEvent");var DO=Object.freeze({__proto__:null,block:(e,t,n,o)=>{xt(e.element,"aria-busy",!0);const r=t.getRoot(e).getOr(e),i=fl([Ap.config({mode:"special",onTab:()=>A.some(!0),onShiftTab:()=>A.some(!0)}),Wp.config({})]),s=o(r,i),a=r.getSystem().build(s);Bp.append(r,Qs(a)),a.hasConfigured(Ap)&&t.focus&&Ap.focusIn(a),n.isBlocked()||t.onBlock(e),n.blockWith((()=>Bp.remove(r,a)))},unblock:(e,t,n)=>{kt(e.element,"aria-busy"),n.isBlocked()&&t.onUnblock(e),n.clear()}}),MO=[xr("getRoot",A.none),wr("focus",!0),Sa("onBlock"),Sa("onUnblock")];const PO=vl({fields:MO,name:"blocking",apis:DO,state:Object.freeze({__proto__:null,init:()=>{const e=zl((e=>e.destroy()));return xs({readState:e.isSet,blockWith:t=>{e.set({destroy:t})},clear:e.clear,isBlocked:e.isSet})}})}),RO=e=>{const t=((e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return Pe(n.childNodes[0])})(e),n=it(t),o=(e=>{const t=void 0!==e.dom.attributes?e.dom.attributes:[];return W(t,((e,t)=>"class"===t.name?e:{...e,[t.name]:t.value}),{})})(t),r=(e=>Array.prototype.slice.call(e.dom.classList,0))(t),i=0===n.length?{}:{innerHtml:Ki(t)};return{tag:He(t),classes:r,attributes:o,...i}},NO=e=>ch.getCurrent(e).each((e=>Sl(e.element))),LO=(e,t,n)=>{const o=Cr(!1),r=Wl(),i=n=>{var r;o.get()&&(!(e=>"focusin"===e.type)(r=n)||!(r.composed?ne(r.composedPath()):A.from(r.target)).map(Le).filter(Ue).exists((e=>Ls(e,"mce-pastebin"))))&&(n.preventDefault(),NO(t()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",(()=>{e.dom.bind(e.getWin(),"focusin",i),e.on("BeforeExecCommand",(e=>{"mcefocus"===e.command.toLowerCase()&&!0!==e.value&&i(e)}))}));const s=r=>{r!==o.get()&&(o.set(r),((e,t,n,o)=>{const r=t.element;if(((e,t)=>{const n="tabindex",o="data-mce-tabindex";A.from(e.iframeElement).map(Le).each((e=>{t?(Ct(e,n).each((t=>xt(e,o,t))),xt(e,n,-1)):(kt(e,n),Ct(e,o).each((t=>{xt(e,n,t),kt(e,o)})))}))})(e,n),n)PO.block(t,(e=>(t,n)=>({dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:RO('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(o)),It(r,"display"),kt(r,"aria-hidden"),e.hasFocus()&&NO(t);else{const n=ch.getCurrent(t).exists((e=>jl(e.element)));PO.unblock(t),At(r,"display","none"),xt(r,"aria-hidden","true"),n&&e.focus()}})(e,t(),r,n.providers),((e,t)=>{e.dispatch("AfterProgressState",{state:t})})(e,r))};e.on("ProgressState",(t=>{if(r.on(clearTimeout),f(t.time)){const n=Tf.setEditorTimeout(e,(()=>s(t.state)),t.time);r.set(n)}else s(t.state),r.clear()}))},IO=(e,t,n)=>({within:e,extra:t,withinWidth:n}),BO=(e,t,n)=>{const o=W(e,((e,t)=>((e,t)=>{const o=n(e);return A.some({element:e,start:t,finish:t+o,width:o})})(t,e.len).fold(w(e),(t=>({len:t.finish,list:e.list.concat([t])})))),{len:0,list:[]}).list,r=z(o,(e=>e.finish<=t)),i=U(r,((e,t)=>e+t.width),0);return{within:r,extra:o.slice(r.length),withinWidth:i}},FO=e=>F(e,(e=>e.element)),HO=(e,t)=>{const n=F(t,(e=>Qs(e)));SE.setGroups(e,n)},VO=(e,t,n)=>{const o=t.builtGroups.get();if(0===o.length)return;const r=qu(e,t,"primary"),i=Uw.getCoupled(e,"overflowGroup");At(r.element,"visibility","hidden");const s=o.concat([i]),a=ie(s,(e=>El(e.element).bind((t=>e.getSystem().getByDom(t).toOptional()))));n([]),HO(r,s);const l=((e,t,n,o)=>{const r=((e,t,n)=>{const o=BO(t,e,n);return 0===o.extra.length?A.some(o):A.none()})(e,t,n).getOrThunk((()=>BO(t,e-n(o),n))),i=r.within,s=r.extra,a=r.withinWidth;return 1===s.length&&s[0].width<=n(o)?((e,t,n)=>{const o=FO(e.concat(t));return IO(o,[],n)})(i,s,a):s.length>=1?((e,t,n,o)=>{const r=FO(e).concat([n]);return IO(r,FO(t),o)})(i,s,o,a):((e,t,n)=>IO(FO(e),[],n))(i,0,a)})(Yt(r.element),t.builtGroups.get(),(e=>Yt(e.element)),i);0===l.extra.length?(Bp.remove(r,i),n([])):(HO(r,l.within),n(l.extra)),It(r.element,"visibility"),Bt(r.element),a.each(Wp.focus)},zO=w([ou("splitToolbarBehaviours",[Uw]),Ko("builtGroups",(()=>Cr([])))]),UO=w([xa(["overflowToggledClass"]),hr("getOverflowBounds"),Qo("lazySink"),Ko("overflowGroups",(()=>Cr([]))),Sa("onOpened"),Sa("onClosed")].concat(zO())),WO=w([Tu({factory:SE,schema:xE(),name:"primary"}),Du({schema:xE(),name:"overflow"}),Du({name:"overflow-button"}),Du({name:"overflow-group"})]),qO=w(((e,t)=>{((e,t)=>{const n=$t.max(e,t,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);At(e,"max-width",n+"px")})(e,Math.floor(t))})),ZO=w([xa(["toggledClass"]),Qo("lazySink"),or("fetch"),hr("getBounds"),pr("fireDismissalEventInstead",[fr("event",wi())]),uc(),Sa("onToggled")]),GO=w([Du({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:fl([Qp.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),Du({factory:SE,schema:xE(),name:"toolbar",overrides:e=>({toolbarBehaviours:fl([Ap.config({mode:"cyclic",onEscape:t=>(Wu(t,e,"button").each(Wp.focus),A.none())})])})})]),$O=Wl(),YO=(e,t)=>{const n=Uw.getCoupled(e,"toolbarSandbox");Ld.isOpen(n)?Ld.close(n):Ld.open(n,t.toolbar())},KO=(e,t,n,o)=>{const r=n.getBounds.map((e=>e())),i=n.lazySink(e).getOrDie();dd.positionWithinBounds(i,t,{anchor:{type:"hotspot",hotspot:e,layouts:o,overrides:{maxWidthFunction:qO()}}},r)},XO=(e,t,n,o,r)=>{SE.setGroups(t,r),KO(e,t,n,o),Qp.on(e)},QO=ih({name:"FloatingToolbarButton",factory:(e,t,n,o)=>({...Df.sketch({...o.button(),action:e=>{YO(e,o)},buttonBehaviours:au({dump:o.button().buttonBehaviours},[Uw.config({others:{toolbarSandbox:t=>((e,t,n)=>{const o=ca();return{dom:{tag:"div",attributes:{id:o.id}},behaviours:fl([Ap.config({mode:"special",onEscape:e=>(Ld.close(e),A.some(!0))}),Ld.config({onOpen:(r,i)=>{const s=$O.get().getOr(!1);n.fetch().get((r=>{XO(e,i,n,t.layouts,r),o.link(e.element),s||Ap.focusIn(i)}))},onClose:()=>{Qp.off(e),$O.get().getOr(!1)||Wp.focus(e),o.unlink(e.element)},isPartOf:(t,n,o)=>da(n,o)||da(e,o),getAttachPoint:()=>n.lazySink(e).getOrDie()}),xl.config({channels:{...Vd({isExtraPart:E,...n.fireDismissalEventInstead.map((e=>({fireEventInstead:{event:e.event}}))).getOr({})}),...Ud({doReposition:()=>{Ld.getState(Uw.getCoupled(e,"toolbarSandbox")).each((o=>{KO(e,o,n,t.layouts)}))}})}})])}})(t,n,e)}})])}),apis:{setGroups:(t,o)=>{Ld.getState(Uw.getCoupled(t,"toolbarSandbox")).each((r=>{XO(t,r,e,n.layouts,o)}))},reposition:t=>{Ld.getState(Uw.getCoupled(t,"toolbarSandbox")).each((o=>{KO(t,o,e,n.layouts)}))},toggle:e=>{YO(e,o)},toggleWithoutFocusing:e=>{((e,t)=>{$O.set(!0),YO(e,t),$O.clear()})(e,o)},getToolbar:e=>Ld.getState(Uw.getCoupled(e,"toolbarSandbox")),isOpen:e=>Ld.isOpen(Uw.getCoupled(e,"toolbarSandbox"))}}),configFields:ZO(),partFields:GO(),apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggleWithoutFocusing(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}}),JO=w([Qo("items"),xa(["itemSelector"]),ou("tgroupBehaviours",[Ap])]),eA=w([Pu({name:"items",unit:"item"})]),tA=ih({name:"ToolbarGroup",configFields:JO(),partFields:eA(),factory:(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,behaviours:iu(e.tgroupBehaviours,[Ap.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),nA=e=>F(e,(e=>Qs(e))),oA=(e,t,n)=>{VO(e,n,(o=>{n.overflowGroups.set(o),t.getOpt(e).each((e=>{QO.setGroups(e,nA(o))}))}))},rA=ih({name:"SplitFloatingToolbar",configFields:UO(),partFields:WO(),factory:(e,t,n,o)=>{const r=Mf(QO.sketch({fetch:()=>$w((t=>{t(nA(e.overflowGroups.get()))})),layouts:{onLtr:()=>[Xa,Ka],onRtl:()=>[Ka,Xa],onBottomLtr:()=>[Ja,Qa],onBottomRtl:()=>[Qa,Ja]},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:o["overflow-button"](),toolbar:o.overflow()},onToggled:(t,n)=>e[n?"onOpened":"onClosed"](t)}));return{uid:e.uid,dom:e.dom,components:t,behaviours:iu(e.splitToolbarBehaviours,[Uw.config({others:{overflowGroup:()=>tA.sketch({...o["overflow-group"](),items:[r.asSpec()]})}})]),apis:{setGroups:(t,n)=>{e.builtGroups.set(F(n,t.getSystem().build)),oA(t,r,e)},refresh:t=>oA(t,r,e),toggle:e=>{r.getOpt(e).each((e=>{QO.toggle(e)}))},toggleWithoutFocusing:e=>{r.getOpt(e).each(QO.toggleWithoutFocusing)},isOpen:e=>r.getOpt(e).map(QO.isOpen).getOr(!1),reposition:e=>{r.getOpt(e).each((e=>{QO.reposition(e)}))},getOverflow:e=>r.getOpt(e).bind(QO.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}}),iA=w([xa(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Sa("onOpened"),Sa("onClosed")].concat(zO())),sA=w([Tu({factory:SE,schema:xE(),name:"primary"}),Tu({factory:SE,schema:xE(),name:"overflow",overrides:e=>({toolbarBehaviours:fl([uj.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:t=>{Wu(t,e,"overflow-button").each((e=>{Qp.off(e),Wp.focus(e)})),e.onClosed(t)},onGrown:t=>{Ap.focusIn(t),e.onOpened(t)},onStartGrow:t=>{Wu(t,e,"overflow-button").each(Qp.on)}}),Ap.config({mode:"acyclic",onEscape:t=>(Wu(t,e,"overflow-button").each(Wp.focus),A.some(!0))})])})}),Du({name:"overflow-button",overrides:e=>({buttonBehaviours:fl([Qp.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),Du({name:"overflow-group"})]),aA=(e,t)=>{Wu(e,t,"overflow-button").bind((()=>Wu(e,t,"overflow"))).each((n=>{lA(e,t),uj.toggleGrow(n)}))},lA=(e,t)=>{Wu(e,t,"overflow").each((n=>{VO(e,t,(e=>{const t=F(e,(e=>Qs(e)));SE.setGroups(n,t)})),Wu(e,t,"overflow-button").each((e=>{uj.hasGrown(n)&&Qp.on(e)})),uj.refresh(n)}))},cA=ih({name:"SplitSlidingToolbar",configFields:iA(),partFields:sA(),factory:(e,t,n,o)=>{const r="alloy.toolbar.toggle";return{uid:e.uid,dom:e.dom,components:t,behaviours:iu(e.splitToolbarBehaviours,[Uw.config({others:{overflowGroup:e=>tA.sketch({...o["overflow-group"](),items:[Df.sketch({...o["overflow-button"](),action:t=>{Ai(e,r)}})]})}}),Fp("toolbar-toggle-events",[Bi(r,(t=>{aA(t,e)}))])]),apis:{setGroups:(t,n)=>{((t,n)=>{const o=F(n,t.getSystem().build);e.builtGroups.set(o)})(t,n),lA(t,e)},refresh:t=>lA(t,e),toggle:t=>aA(t,e),isOpen:t=>((e,t)=>Wu(e,t,"overflow").map(uj.hasGrown).getOr(!1))(t,e)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}}),dA=e=>({dom:{tag:"div",classes:["tox-toolbar__group"],...e.title.fold((()=>({})),(e=>({attributes:{title:e}})))},components:[tA.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:fl([Lx.config({}),Wp.config({})])}),uA=e=>tA.sketch(dA(e)),hA=(e,t)=>{const n=Zi((t=>{const n=F(e.initGroups,uA);SE.setGroups(t,n)}));return fl([cy(e.providers.isDisabled),sy(),Ap.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Fp("toolbar-events",[n])])},mA=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":dA({title:A.none(),items:[]}),"overflow-button":Ij({name:"more",icon:A.some("more-drawer"),enabled:!0,tooltip:A.some("More..."),primary:!1,buttonType:A.none(),borderless:!1},A.none(),e.providers)},splitToolbarBehaviours:hA(e,t)}},pA=e=>{const t=mA(e),n=rA.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return rA.sketch({...t,lazySink:e.getSink,getOverflowBounds:()=>{const t=e.moreDrawerData.lazyHeader().element,n=Kn(t),o=et(t),r=Kn(o),i=Math.max(o.dom.scrollHeight,r.height);return $n(n.x+4,r.y,n.width-8,i)},parts:{...t.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>e.onToggled(t,!0),onClosed:t=>e.onToggled(t,!1)})},fA=e=>{const t=cA.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=cA.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),o=mA(e);return cA.sketch({...o,components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>{t.getSystem().broadcastOn([tO()],{type:"opened"}),e.onToggled(t,!0)},onClosed:t=>{t.getSystem().broadcastOn([tO()],{type:"closed"}),e.onToggled(t,!1)}})},gA=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return SE.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===qf.scrolling?["tox-toolbar--scrolling"]:[])},components:[SE.parts.groups({})],toolbarBehaviours:hA(e,t)})},vA=[Qv,Jv,dr("tooltip"),yr("buttonType","secondary",["primary","secondary"]),wr("borderless",!1),or("onAction")],bA={button:[...vA,zv,nr("type",["button"])],togglebutton:[...vA,wr("active",!1),nr("type",["togglebutton"])]},yA=[nr("type",["group"]),_r("buttons",[],Go("type",bA))],wA=Go("type",{...bA,group:yA}),xA=Oo([_r("buttons",[],wA),or("onShow"),or("onHide")]),_A=(e,t)=>((e,t)=>{var n,o;const r="togglebutton"===e.type,i=e.icon.map((e=>OC(e,t.icons))).map(Mf),s={...e,name:r?e.text.getOr(e.icon.getOr("")):null!==(n=e.text)&&void 0!==n?n:e.icon.getOr(""),primary:"primary"===e.buttonType,buttonType:A.from(e.buttonType),tooltip:e.tooltip,icon:e.icon,enabled:!0,borderless:e.borderless},a=Bj(null!==(o=e.buttonType)&&void 0!==o?o:"secondary"),l=r?e.text.map(t.translate):A.some(t.translate(e.text)),c=l.map(Gs),d=s.tooltip.or(l).map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),u=i.map((e=>e.asSpec())),h=fy([u,c]),m=e.icon.isSome()&&c.isSome(),p={tag:"button",classes:a.concat(...e.icon.isSome()&&!m?["tox-button--icon"]:[]).concat(...m?["tox-button--icon-and-text"]:[]).concat(...e.borderless?["tox-button--naked"]:[]).concat(..."togglebutton"===e.type&&e.active?["tox-button--enabled"]:[]),attributes:d},f=Lj(s,A.some((n=>{const o=e=>{i.map((o=>o.getOpt(n).each((n=>{Bp.set(n,[OC(e,t.icons)])}))))};return r?e.onAction({setIcon:o,setActive:e=>{const t=n.element;e?(Rs(t,"tox-button--enabled"),xt(t,"aria-pressed",!0)):(Ns(t,"tox-button--enabled"),kt(t,"aria-pressed"))},isActive:()=>Ls(n.element,"tox-button--enabled")}):"button"===e.type?e.onAction({setIcon:o}):void 0})),[],p,h,t);return Df.sketch(f)})(e,t),SA=An().deviceType,CA=SA.isPhone(),jA=SA.isTablet();var kA=ih({name:"silver.View",configFields:[Qo("viewConfig")],partFields:[Mu({factory:{sketch:e=>{let t=!1;const n=F(e.buttons,(n=>"group"===n.type?(t=!0,((e,t)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:F(e.buttons,(e=>_A(e,t)))}))(n,e.providers)):_A(n,e.providers)));return{uid:e.uid,dom:{tag:"div",classes:[t?"tox-view__toolbar":"tox-view__header",...CA||jA?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:fl([Wp.config({}),Ap.config({mode:"flow",selector:"button, .tox-button",focusInside:nm.OnEnterOrSpaceMode})]),components:t?n:[Ax.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Ax.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:n})]}}},schema:[Qo("buttons"),Qo("providers")],name:"header"}),Mu({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(e,t,n,o)=>{const r={getPane:t=>fE.getPart(t,e,"pane"),getOnShow:t=>e.viewConfig.onShow,getOnHide:t=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:t,apis:r}},apis:{getPane:(e,t)=>e.getPane(t),getOnShow:(e,t)=>e.getOnShow(t),getOnHide:(e,t)=>e.getOnHide(t)}});const EA=(e,t,n)=>pe(t,((t,o)=>{const r=Wo(Uo("view",xA,t));return e.slot(o,kA.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:r,components:[...r.buttons.length>0?[kA.parts.header({buttons:r.buttons,providers:n})]:[],kA.parts.pane({})]}))})),OA=(e,t)=>_O.sketch((n=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:EA(n,e,t),slotBehaviours:Zb([Zi((e=>_O.hideAllSlots(e)))])}))),AA=e=>q(_O.getSlotNames(e),(t=>_O.isShowing(e,t))),TA=(e,t,n)=>{_O.getSlot(e,t).each((e=>{kA.getPane(e).each((t=>{var o;n(e)((o=t.element.dom,{getContainer:w(o)}))}))}))};var DA=rh({factory:(e,t)=>{const n={setViews:(e,n)=>{Bp.set(e,[OA(n,t.backstage.shared.providers)])},whichView:e=>ch.getCurrent(e).bind(AA),toggleView:(e,t,n,o)=>ch.getCurrent(e).exists((r=>{const i=AA(r),s=i.exists((e=>o===e)),a=_O.getSlot(r,o).isSome();return a&&(_O.hideAllSlots(r),s?((e=>{const t=e.element;At(t,"display","none"),xt(t,"aria-hidden","true")})(e),t()):(n(),(e=>{const t=e.element;It(t,"display"),kt(t,"aria-hidden")})(e),_O.showSlot(r,o),((e,t)=>{TA(e,t,kA.getOnShow)})(r,o)),i.each((e=>((e,t)=>TA(e,t,kA.getOnHide))(r,e)))),a}))};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:fl([Bp.config({}),ch.config({find:e=>{const t=Bp.contents(e);return ne(t)}})]),apis:n}},name:"silver.ViewWrapper",configFields:[Qo("backstage")],apis:{setViews:(e,t,n)=>e.setViews(t,n),toggleView:(e,t,n,o,r)=>e.toggleView(t,n,o,r),whichView:(e,t)=>e.whichView(t)}});const MA=gE.optional({factory:gO,name:"menubar",schema:[Qo("backstage")]}),PA=gE.optional({factory:{sketch:e=>wE.sketch({uid:e.uid,dom:e.dom,listBehaviours:fl([Ap.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>gA({type:e.type,uid:os("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),A.some(!0))}),setupItem:(e,t,n,o)=>{SE.setGroups(t,n)},shell:!0})},name:"multiple-toolbar",schema:[Qo("dom"),Qo("onEscape")]}),RA=gE.optional({factory:{sketch:e=>{const t=(e=>e.type===qf.sliding?fA:e.type===qf.floating?pA:gA)(e);return t({type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),A.some(!0)),onToggled:(t,n)=>e.onToolbarToggled(n),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:"toolbar",schema:[Qo("dom"),Qo("onEscape"),Qo("getSink")]}),NA=gE.optional({factory:{sketch:e=>{const t=e.editor,n=e.sticky?cO:kE;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:fl(n(t,e.sharedBackstage))}}},name:"header",schema:[Qo("dom")]}),LA=gE.optional({factory:{sketch:e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"Upgrade"}}]})},name:"promotion",schema:[Qo("dom")]}),IA=gE.optional({name:"socket",schema:[Qo("dom")]}),BA=gE.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:fl([Lx.config({}),Wp.config({}),uj.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:e=>{ch.getCurrent(e).each(_O.hideAllSlots),Ai(e,TO)},onGrown:e=>{Ai(e,TO)},onStartGrow:e=>{Ti(e,AO,{width:Rt(e.element,"width").getOr("")})},onStartShrink:e=>{Ti(e,AO,{width:Yt(e.element)+"px"})}}),Bp.config({}),ch.config({find:e=>{const t=Bp.contents(e);return ne(t)}})])}],behaviours:fl([rC(0),Fp("sidebar-sliding-events",[Bi(AO,((e,t)=>{At(e.element,"width",t.event.width)})),Bi(TO,((e,t)=>{It(e.element,"width")}))])])})},name:"sidebar",schema:[Qo("dom")]}),FA=gE.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:fl([Bp.config({}),PO.config({focus:!1}),ch.config({find:e=>ne(e.components())})]),components:[]})},name:"throbber",schema:[Qo("dom")]}),HA=gE.optional({factory:DA,name:"viewWrapper",schema:[Qo("backstage")]}),VA=gE.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components})},name:"editorContainer",schema:[]});var zA=ih({name:"OuterContainer",factory:(e,t,n)=>{let o=!1;const r={getSocket:t=>fE.getPart(t,e,"socket"),setSidebar:(t,n,o)=>{fE.getPart(t,e,"sidebar").each((e=>((e,t,n)=>{ch.getCurrent(e).each((o=>{Bp.set(o,[kO(t)]);const r=null==n?void 0:n.toLowerCase();i(r)&&be(t,r)&&ch.getCurrent(o).each((t=>{_O.showSlot(t,r),uj.immediateGrow(o),It(o.element,"width"),EO(e.element,"region")}))}))})(e,n,o)))},toggleSidebar:(t,n)=>{fE.getPart(t,e,"sidebar").each((e=>((e,t)=>{ch.getCurrent(e).each((n=>{ch.getCurrent(n).each((o=>{uj.hasGrown(n)?_O.isShowing(o,t)?(uj.shrink(n),EO(e.element,"presentation")):(_O.hideAllSlots(o),_O.showSlot(o,t),EO(e.element,"region")):(_O.hideAllSlots(o),_O.showSlot(o,t),uj.grow(n),EO(e.element,"region"))}))}))})(e,n)))},whichSidebar:t=>fE.getPart(t,e,"sidebar").bind(OO).getOrNull(),getHeader:t=>fE.getPart(t,e,"header"),getToolbar:t=>fE.getPart(t,e,"toolbar"),setToolbar:(t,n)=>{fE.getPart(t,e,"toolbar").each((e=>{const t=F(n,uA);e.getApis().setGroups(e,t)}))},setToolbars:(t,n)=>{fE.getPart(t,e,"multiple-toolbar").each((e=>{const t=F(n,(e=>F(e,uA)));wE.setItems(e,t)}))},refreshToolbar:t=>{fE.getPart(t,e,"toolbar").each((e=>e.getApis().refresh(e)))},toggleToolbarDrawer:t=>{fE.getPart(t,e,"toolbar").each((e=>{Se(e.getApis().toggle,(t=>t(e)))}))},toggleToolbarDrawerWithoutFocusing:t=>{fE.getPart(t,e,"toolbar").each((e=>{Se(e.getApis().toggleWithoutFocusing,(t=>t(e)))}))},isToolbarDrawerToggled:t=>fE.getPart(t,e,"toolbar").bind((e=>A.from(e.getApis().isOpen).map((t=>t(e))))).getOr(!1),getThrobber:t=>fE.getPart(t,e,"throbber"),focusToolbar:t=>{fE.getPart(t,e,"toolbar").orThunk((()=>fE.getPart(t,e,"multiple-toolbar"))).each((e=>{Ap.focusIn(e)}))},setMenubar:(t,n)=>{fE.getPart(t,e,"menubar").each((e=>{gO.setMenus(e,n)}))},focusMenubar:t=>{fE.getPart(t,e,"menubar").each((e=>{gO.focus(e)}))},setViews:(t,n)=>{fE.getPart(t,e,"viewWrapper").each((e=>{DA.setViews(e,n)}))},toggleView:(t,n)=>fE.getPart(t,e,"viewWrapper").exists((e=>DA.toggleView(e,(()=>r.showMainView(t)),(()=>r.hideMainView(t)),n))),whichView:t=>fE.getPart(t,e,"viewWrapper").bind(DA.whichView).getOrNull(),hideMainView:t=>{o=r.isToolbarDrawerToggled(t),o&&r.toggleToolbarDrawer(t),fE.getPart(t,e,"editorContainer").each((e=>{const t=e.element;At(t,"display","none"),xt(t,"aria-hidden","true")}))},showMainView:t=>{o&&r.toggleToolbarDrawer(t),fE.getPart(t,e,"editorContainer").each((e=>{const t=e.element;It(t,"display"),kt(t,"aria-hidden")})),r.refreshToolbar(t)}};return{uid:e.uid,dom:e.dom,components:t,apis:r,behaviours:e.behaviours}},configFields:[Qo("dom"),Qo("behaviours")],partFields:[NA,MA,RA,PA,IA,BA,LA,FA,HA,VA],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,n,o)=>{e.setSidebar(t,n,o)},toggleSidebar:(e,t,n)=>{e.toggleSidebar(t,n)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,n)=>{e.setToolbar(t,n)},setToolbars:(e,t,n)=>{e.setToolbars(t,n)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},toggleToolbarDrawerWithoutFocusing:(e,t)=>{e.toggleToolbarDrawerWithoutFocusing(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,n)=>{e.setMenubar(t,n)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)},setViews:(e,t,n)=>{e.setViews(t,n)},toggleView:(e,t,n)=>e.toggleView(t,n),whichView:(e,t)=>e.whichView(t)}});const UA={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},WA=e=>e.split(" "),qA=(e,t)=>{const n={...UA,...t.menus},o=se(t.menus).length>0,r=void 0===t.menubar||!0===t.menubar?WA("file edit view insert format tools table help"):WA(!1===t.menubar?"":t.menubar),s=z(r,(e=>{const n=be(UA,e);return o?n||ve(t.menus,e).exists((e=>be(e,"items"))):n})),a=F(s,(o=>{const r=n[o];return((e,t,n)=>{const o=dg(n).split(/[ ,]/);return{text:e.title,getItems:()=>$(e.items,(e=>{const n=e.toLowerCase();return 0===n.trim().length||L(o,(e=>e===n))?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]}))}})({title:r.title,items:WA(r.items)},t,e)}));return z(a,(e=>e.getItems().length>0&&L(e.getItems(),(e=>i(e)||"separator"!==e.type))))},ZA=e=>{const t=()=>{e._skinLoaded=!0,(e=>{e.dispatch("SkinLoaded")})(e)};return()=>{e.initialized?t():e.on("init",t)}},GA=(e,t,n)=>(e.on("remove",(()=>n.unload(t))),n.load(t)),$A=(e,t)=>GA(e,t+"/skin.min.css",e.ui.styleSheetLoader),YA=(e,t)=>{var n;return n=Le(e.getElement()),ft(n).isSome()?GA(e,t+"/skin.shadowdom.min.css",Gf.DOM.styleSheetLoader):Promise.resolve()},KA=(e,t)=>{const n=Ig(t);return n&&t.contentCSS.push(n+(e?"/content.inline":"/content")+".min.css"),!Ng(t)&&i(n)?Promise.all([$A(t,n),YA(t,n)]).then(ZA(t),((e,t)=>()=>((e,t)=>{e.dispatch("SkinLoadError",{message:"Skin could not be loaded"})})(e))(t)):Promise.resolve(ZA(t)())},XA=S(KA,!1),QA=S(KA,!0),JA=(e,t)=>n=>{const o=Ul(),r=()=>{n.setActive(e.formatter.match(t));const r=e.formatter.formatChanged(t,n.setActive);o.set(r)};return e.initialized?r():e.once("init",r),()=>{e.off("init",r),o.clear()}},eT=(e,t,n)=>o=>{const r=()=>n(o),i=()=>{n(o),e.on(t,r)};return e.initialized?i():e.once("init",i),()=>{e.off("init",i),e.off(t,r)}},tT=e=>t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("mceToggleFormat",!1,t.format)}))},nT=(e,t)=>()=>e.execCommand(t),oT=(e,t,n)=>{const o=(e,o,i,s)=>{const a=t.shared.providers.translate(e.title);if("separator"===e.type)return A.some({type:"separator",text:a});if("submenu"===e.type){const t=$(e.getStyleItems(),(e=>r(e,o,s)));return 0===o&&t.length<=0?A.none():A.some({type:"nestedmenuitem",text:a,enabled:t.length>0,getSubmenuItems:()=>$(e.getStyleItems(),(e=>r(e,o,s)))})}return A.some({type:"togglemenuitem",text:a,icon:e.icon,active:e.isSelected(s),enabled:!i,onAction:n.onAction(e),...e.getStylePreview().fold((()=>({})),(e=>({meta:{style:e}})))})},r=(e,t,r)=>{const i="formatter"===e.type&&n.isInvalid(e);return 0===t?i?[]:o(e,t,!1,r).toArray():o(e,t,i,r).toArray()},i=e=>{const t=n.getCurrentValue(),o=n.shouldHide?0:1;return $(e,(e=>r(e,o,t)))};return{validateItems:i,getFetch:(e,t)=>(n,o)=>{const r=t(),s=i(r);o(LC(s,ev.CLOSE_ON_EXECUTE,e,{isHorizontalMenu:!1,search:A.none()}))}}},rT=(e,t,n)=>{const o=n.dataset,r="basic"===o.type?()=>F(o.data,(e=>zk(e,n.isSelectedFor,n.getPreviewFor))):o.getData;return{items:oT(0,t,n),getStyleItems:r}},iT=(e,t,n)=>{const{items:o,getStyleItems:r}=rT(0,t,n),i=eT(e,"NodeChange",(e=>{const t=e.getComponent();n.updateText(t)}));return MC({text:n.icon.isSome()?A.none():n.text,icon:n.icon,tooltip:A.from(n.tooltip),role:A.none(),fetch:o.getFetch(t,r),onSetup:i,getApi:e=>({getComponent:w(e)}),columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)};var sT;!function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"}(sT||(sT={}));const aT=(e,t,n)=>{const o=(r=((e,t)=>t===sT.SemiColon?e.replace(/;$/,"").split(";"):e.split(" "))(e.options.get(t),n),F(r,(e=>{let t=e,n=e;const o=e.split("=");return o.length>1&&(t=o[0],n=o[1]),{title:t,format:n}})));var r;return{type:"basic",data:o}},lT=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],cT=e=>{const t={type:"basic",data:lT};return{tooltip:"Align",text:A.none(),icon:A.some("align-left"),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:A.none,getPreviewFor:e=>A.none,onAction:t=>()=>q(lT,(e=>e.format===t.format)).each((t=>e.execCommand(t.command))),updateText:t=>{const n=q(lT,(t=>e.formatter.match(t.format))).fold(w("left"),(e=>e.title.toLowerCase()));Ti(t,DC,{icon:`align-${n}`})},dataset:t,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},dT=(e,t)=>{const n=t(),o=F(n,(e=>e.format));return A.from(e.formatter.closest(o)).bind((e=>q(n,(t=>t.format===e)))).orThunk((()=>Ce(e.formatter.match("p"),{title:"Paragraph",format:"p"})))},uT=e=>{const t="Paragraph",n=aT(e,"block_formats",sT.SemiColon);return{tooltip:"Blocks",text:A.some(t),icon:A.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:A.none,getPreviewFor:t=>()=>{const n=e.formatter.get(t);return n?A.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):A.none()},onAction:tT(e),updateText:o=>{const r=dT(e,(()=>n.data)).fold(w(t),(e=>e.title));Ti(o,TC,{text:r})},dataset:n,shouldHide:!1,isInvalid:t=>!e.formatter.canApply(t.format)}},hT=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],mT=e=>{const t=e.split(/\s*,\s*/);return F(t,(e=>e.replace(/^['"]+|['"]+$/g,"")))},pT=e=>{const t="System Font",n=()=>{const n=e=>e?mT(e)[0]:"",r=e.queryCommandValue("FontName"),i=o.data,s=r?r.toLowerCase():"",a=q(i,(e=>{const t=e.format;return t.toLowerCase()===s||n(t).toLowerCase()===n(s).toLowerCase()})).orThunk((()=>Ce((e=>0===e.indexOf("-apple-system")&&(()=>{const t=mT(e.toLowerCase());return Y(hT,(e=>t.indexOf(e.toLowerCase())>-1))})())(s),{title:t,format:s})));return{matchOpt:a,font:r}},o=aT(e,"font_family_formats",sT.SemiColon);return{tooltip:"Fonts",text:A.some(t),icon:A.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getCurrentValue:()=>{const{matchOpt:e}=n();return e},getPreviewFor:e=>()=>A.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}}),onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontName",!1,t.format)}))},updateText:e=>{const{matchOpt:t,font:o}=n(),r=t.fold(w(o),(e=>e.title));Ti(e,TC,{text:r})},dataset:o,shouldHide:!1,isInvalid:E}},fT={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},gT=(()=>{const e="[0-9]+",t="[eE][+-]?[0-9]+",n=e=>`(?:${e})?`,o=["Infinity","[0-9]+\\."+n(e)+n(t),"\\.[0-9]+"+n(t),e+n(t)].join("|");return new RegExp(`^([+-]?(?:${o}))(.*)$`)})(),vT=(e,t)=>A.from(gT.exec(e)).bind((e=>{const n=Number(e[1]),o=e[2];return((e,t)=>L(t,(t=>L(fT[t],(t=>e===t)))))(o,t)?A.some({value:n,unit:o}):A.none()})),bT={tab:w(9),escape:w(27),enter:w(13),backspace:w(8),delete:w(46),left:w(37),up:w(38),right:w(39),down:w(40),space:w(32),home:w(36),end:w(35),pageUp:w(33),pageDown:w(34)},yT={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},wT={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},xT=(e,t)=>/[0-9.]+px$/.test(e)?((e,t)=>{const n=Math.pow(10,t);return Math.round(e*n)/n})(72*parseInt(e,10)/96,t||0)+"pt":ve(wT,e).getOr(e),_T=e=>ve(yT,e).getOr(""),ST=e=>{const t=()=>{let t=A.none();const n=o.data,r=e.queryCommandValue("FontSize");if(r)for(let e=3;t.isNone()&&e>=0;e--){const o=xT(r,e),i=_T(o);t=q(n,(e=>e.format===r||e.format===o||e.format===i))}return{matchOpt:t,size:r}},n=w(A.none),o=aT(e,"font_size_formats",sT.Space);return{tooltip:"Font sizes",text:A.some("12pt"),icon:A.none(),isSelectedFor:e=>t=>t.exists((t=>t.format===e)),getPreviewFor:n,getCurrentValue:()=>{const{matchOpt:e}=t();return e},onAction:t=>()=>{e.undoManager.transact((()=>{e.focus(),e.execCommand("FontSize",!1,t.format)}))},updateText:e=>{const{matchOpt:n,size:o}=t(),r=n.fold(w(o),(e=>e.title));Ti(e,TC,{text:r})},dataset:o,shouldHide:!1,isInvalid:E}},CT=(e,t)=>{const n="Paragraph";return{tooltip:"Formats",text:A.some(n),icon:A.none(),isSelectedFor:t=>()=>e.formatter.match(t),getCurrentValue:A.none,getPreviewFor:t=>()=>{const n=e.formatter.get(t);return void 0!==n?A.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):A.none()},onAction:tT(e),updateText:t=>{const o=e=>Ik(e)?$(e.items,o):Bk(e)?[{title:e.title,format:e.format}]:[],r=$(Vk(e),o),i=dT(e,w(r)).fold(w(n),(e=>e.title));Ti(t,TC,{text:i})},shouldHide:lg(e),isInvalid:t=>!e.formatter.canApply(t.format),dataset:t}},jT=w([Qo("toggleClass"),Qo("fetch"),ja("onExecute"),fr("getHotspot",A.some),fr("getAnchorOverrides",w({})),uc(),ja("onItemExecute"),ar("lazySink"),Qo("dom"),Sa("onOpen"),ou("splitDropdownBehaviours",[Uw,Ap,Wp]),fr("matchWidth",!1),fr("useMinWidth",!1),fr("eventOrder",{}),ar("role")].concat(sx())),kT=Tu({factory:Df,schema:[Qo("dom")],name:"arrow",defaults:()=>({buttonBehaviours:fl([Wp.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(Di)},buttonBehaviours:fl([Qp.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),ET=Tu({factory:Df,schema:[Qo("dom")],name:"button",defaults:()=>({buttonBehaviours:fl([Wp.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each((n=>{e.onExecute(n,t)}))}})}),OT=w([kT,ET,Mu({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[Qo("text")],name:"aria-descriptor"}),Du({schema:[wa()],name:"menu",defaults:e=>({onExecute:(t,n)=>{t.getSystem().getByUid(e.uid).each((o=>{e.onItemExecute(o,t,n)}))}})}),Xw()]),AT=ih({name:"SplitDropdown",configFields:jT(),partFields:OT(),factory:(e,t,n,o)=>{const r=e=>{ch.getCurrent(e).each((e=>{Ph.highlightFirst(e),Ap.focusIn(e)}))},i=t=>{tx(e,x,t,o,r,kf.HighlightMenuAndItem).get(v)},s=t=>{const n=qu(t,e,"button");return Di(n),A.some(!0)},a={...Ni([Zi(((t,n)=>{Wu(t,e,"aria-descriptor").each((e=>{const n=os("aria");xt(e.element,"id",n),xt(t.element,"aria-describedby",n)}))}))]),...ef(A.some(i))},l={repositionMenus:e=>{Qp.isOn(e)&&ix(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:l,eventOrder:{...e.eventOrder,[ai()]:["disabling","toggling","alloy.base.behaviour"]},events:a,behaviours:iu(e.splitDropdownBehaviours,[Uw.config({others:{sandbox:t=>{const n=qu(t,e,"arrow");return rx(e,t,{onOpen:()=>{Qp.on(n),Qp.on(t)},onClose:()=>{Qp.off(n),Qp.off(t)}})}}}),Ap.config({mode:"special",onSpace:s,onEnter:s,onDown:e=>(i(e),A.some(!0))}),Wp.config({}),Qp.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}}),TT=e=>({isEnabled:()=>!Sh.isDisabled(e),setEnabled:t=>Sh.set(e,!t),setText:t=>Ti(e,TC,{text:t}),setIcon:t=>Ti(e,DC,{icon:t})}),DT=e=>({setActive:t=>{Qp.set(e,t)},isActive:()=>Qp.isOn(e),isEnabled:()=>!Sh.isDisabled(e),setEnabled:t=>Sh.set(e,!t),setText:t=>Ti(e,TC,{text:t}),setIcon:t=>Ti(e,DC,{icon:t})}),MT=(e,t)=>e.map((e=>({"aria-label":t.translate(e),title:t.translate(e)}))).getOr({}),PT=os("focus-button"),RT=(e,t,n,o,r)=>{const i=t.map((e=>Mf(AC(e,"tox-tbtn",r)))),s=e.map((e=>Mf(OC(e,r.icons))));return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:MT(n,r)},components:fy([s.map((e=>e.asSpec())),i.map((e=>e.asSpec()))]),eventOrder:{[Fr()]:["focusing","alloy.base.behaviour",SC],[bi()]:[SC,"toolbar-group-button-events"]},buttonBehaviours:fl([cy(r.isDisabled),sy(),Fp(SC,[Zi(((e,t)=>jC(e))),Bi(TC,((e,t)=>{i.bind((t=>t.getOpt(e))).each((e=>{Bp.set(e,[Gs(r.translate(t.event.text))])}))})),Bi(DC,((e,t)=>{s.bind((t=>t.getOpt(e))).each((e=>{Bp.set(e,[OC(t.event.icon,r.icons)])}))})),Bi(Fr(),((e,t)=>{t.event.prevent(),Ai(e,PT)}))])].concat(o.getOr([])))}},NT=(e,t,n)=>{var o;const r=Cr(v),i=RT(e.icon,e.text,e.tooltip,A.none(),n);return Df.sketch({dom:i.dom,components:i.components,eventOrder:CC,buttonBehaviours:{...fl([Fp("toolbar-button-events",[(s={onAction:e.onAction,getApi:t.getApi},Yi(((e,t)=>{dy(s,e)((t=>{Ti(e,_C,{buttonApi:t}),s.onAction(t)}))}))),uy(t,r),hy(t,r)]),cy((()=>!e.enabled||n.isDisabled())),sy()].concat(t.toolbarButtonBehaviours)),[SC]:null===(o=i.buttonBehaviours)||void 0===o?void 0:o[SC]}});var s},LT=(e,t,n)=>NT(e,{toolbarButtonBehaviours:n.length>0?[Fp("toolbarButtonWith",n)]:[],getApi:TT,onSetup:e.onSetup},t),IT=(e,t,n)=>NT(e,{toolbarButtonBehaviours:[Bp.config({}),Qp.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Fp("toolbarToggleButtonWith",n)]:[]),getApi:DT,onSetup:e.onSetup},t),BT=(e,t,n)=>o=>$w((e=>t.fetch(e))).map((r=>A.from(fx(po(Tw(os("menu-value"),r,(n=>{t.onItemAction(e(o),n)}),t.columns,t.presets,ev.CLOSE_ON_EXECUTE,t.select.getOr(E),n),{movement:Mw(t.columns,t.presets),menuBehaviours:Zb("auto"!==t.columns?[]:[Zi(((e,n)=>{qb(e,4,uv(t.presets)).each((({numRows:t,numColumns:n})=>{Ap.setGridSize(e,t,n)}))}))])}))))),FT=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],HT=(e,t)=>(n,o,r)=>{const i=e(n).mapError((e=>Zo(e))).getOrDie();return t(i,o,r)},VT={button:HT(vb,((e,t)=>{return n=e,o=t.shared.providers,LT(n,o,[]);var n,o})),togglebutton:HT(wb,((e,t)=>{return n=e,o=t.shared.providers,IT(n,o,[]);var n,o})),menubutton:HT(pO,((e,t)=>mj(e,"tox-tbtn",t,A.none(),!1))),splitbutton:HT((e=>Uo("SplitButton",fO,e)),((e,t)=>((e,t)=>{const n=e=>({isEnabled:()=>!Sh.isDisabled(e),setEnabled:t=>Sh.set(e,!t),setIconFill:(t,n)=>{sa(e.element,`svg path[id="${t}"], rect[id="${t}"]`).each((e=>{xt(e,"fill",n)}))},setActive:t=>{xt(e.element,"aria-pressed",t),sa(e.element,"span").each((n=>{e.getSystem().getByDom(n).each((e=>Qp.set(e,t)))}))},isActive:()=>sa(e.element,"span").exists((t=>e.getSystem().getByDom(t).exists(Qp.isOn))),setText:t=>sa(e.element,"span").each((n=>e.getSystem().getByDom(n).each((e=>Ti(e,TC,{text:t}))))),setIcon:t=>sa(e.element,"span").each((n=>e.getSystem().getByDom(n).each((e=>Ti(e,DC,{icon:t})))))}),o=Cr(v),r={getApi:n,onSetup:e.onSetup};return AT.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...MT(e.tooltip,t.providers)}},onExecute:t=>{const o=n(t);o.isEnabled()&&e.onAction(o)},onItemExecute:(e,t,n)=>{},splitDropdownBehaviours:fl([ly(t.providers.isDisabled),sy(),Fp("split-dropdown-events",[Zi(((e,t)=>jC(e))),Bi(PT,Wp.focus),uy(r,o),hy(r,o)]),a_.config({})]),eventOrder:{[bi()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:BT(n,e,t.providers),parts:{menu:vv(0,e.columns,e.presets)},components:[AT.parts.button(RT(e.icon,e.text,A.none(),A.some([Qp.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),AT.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Ff("chevron-down",t.providers.icons)},buttonBehaviours:fl([ly(t.providers.isDisabled),sy(),Hf()])}),AT.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})})(e,t.shared))),grouptoolbarbutton:HT((e=>Uo("GroupToolbarButton",uO,e)),((e,t,n)=>{const o=n.ui.registry.getAll().buttons,r={[cc]:t.shared.header.isPositionedAtTop()?lc.TopToBottom:lc.BottomToTop};if(ug(n)===qf.floating)return((e,t,n,o)=>{const r=t.shared,i=Cr(v),s={toolbarButtonBehaviours:[],getApi:TT,onSetup:e.onSetup},a=[Fp("toolbar-group-button-events",[uy(s,i),hy(s,i)])];return QO.sketch({lazySink:r.getSink,fetch:()=>$w((t=>{t(F(n(e.items),uA))})),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:RT(e.icon,e.text,e.tooltip,A.some(a),r.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o}}}})})(e,t,(e=>UT(n,{buttons:o,toolbar:e,allowToolbarGroups:!1},t,A.none())),r);throw new Error("Toolbar groups are only supported when using floating toolbar mode")}))},zT={styles:(e,t)=>{const n={type:"advanced",...t.styles};return iT(e,t,CT(e,n))},fontsize:(e,t)=>iT(e,t,ST(e)),fontsizeinput:(e,t)=>((e,t,n)=>{let o=A.none();const r=eT(e,"NodeChange",(e=>{const t=e.getComponent();o=A.some(t),n.updateInputValue(t)})),i=e=>({getComponent:w(e)}),s=Cr(v),a=os("custom-number-input-events"),l=(e,t,r)=>{const i=o.map((e=>nu.getValue(e))).getOr(""),s=n.getNewValue(i,e),a=i.length-`${s}`.length,l=o.map((e=>e.element.dom.selectionStart-a)),c=o.map((e=>e.element.dom.selectionEnd-a));n.onAction(s,r),o.each((e=>{nu.setValue(e,s),t&&(l.each((t=>e.element.dom.selectionStart=t)),c.each((t=>e.element.dom.selectionEnd=t)))}))},c=(e,t)=>l(((e,t)=>e-t),e,t),d=(e,t)=>l(((e,t)=>e+t),e,t),u=e=>ot(e.element).fold(A.none,(e=>(Sl(e),A.some(!0)))),h=e=>jl(e.element)?(at(e.element).each((e=>Sl(e))),A.some(!0)):A.none(),m=(e,n,o,r)=>{const i=t.shared.providers.translate(o),s=os("altExecuting"),a=()=>e(!0);return Df.sketch({dom:{tag:"button",attributes:{title:i,"aria-label":i},classes:r.concat(n)},components:[EC(n,t.shared.providers.icons)],buttonBehaviours:fl([Fp(s,[Bi(Zr(),((t,n)=>{n.event.raw.keyCode!==bT.space()&&n.event.raw.keyCode!==bT.enter()||e(!1)})),Bi(Kr(),a),Bi(Ir(),a)])]),eventOrder:{[Zr()]:[s,"keying"],[Kr()]:[s,"alloy.base.behaviour"],[Ir()]:[s,"alloy.base.behaviour"]}})},p=Mf(m((e=>c(!1,e)),"minus","Decrease font size",["highlight-on-focus"])),f=Mf(m((e=>d(!1,e)),"plus","Increase font size",["highlight-on-focus"])),g=Mf({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[_v.sketch({inputBehaviours:fl([Fp(a,[uy({onSetup:r,getApi:i},s),hy({getApi:i},s)]),Fp("input-update-display-text",[Bi(TC,((e,t)=>{nu.setValue(e,t.event.text)})),Bi(qr(),(e=>{n.onAction(nu.getValue(e))})),Bi(Yr(),(e=>{n.onAction(nu.getValue(e))}))]),Ap.config({mode:"special",onEnter:e=>(l(x,!0,!0),A.some(!0)),onEscape:u,onUp:e=>(d(!0,!1),A.some(!0)),onDown:e=>(c(!0,!1),A.some(!0)),onLeft:(e,t)=>(t.cut(),A.none()),onRight:(e,t)=>(t.cut(),A.none())})])})],behaviours:fl([Wp.config({}),Ap.config({mode:"special",onEnter:h,onSpace:h,onEscape:u}),Fp("input-wrapper-events",[Bi(Ur(),(e=>{H([p,f],(t=>{const n=Le(t.get(e).element.dom);jl(n)&&Cl(n)}))}))])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[p.asSpec(),g.asSpec(),f.asSpec()],behaviours:fl([Wp.config({}),Ap.config({mode:"flow",focusInside:nm.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:e=>jl(e.element)?A.none():(Sl(e.element),A.some(!0))})])}})(e,t,(e=>{const t=()=>e.queryCommandValue("FontSize");return{updateInputValue:e=>Ti(e,TC,{text:t()}),onAction:(t,n)=>e.execCommand("FontSize",!1,t,{skip_focus:!n}),getNewValue:(n,o)=>{vT(n,["unsupportedLength","empty"]);const r=vT(n,["unsupportedLength","empty"]).or(vT(t(),["unsupportedLength","empty"])),i=r.map((e=>e.value)).getOr(16),s=_g(e),a=r.map((e=>e.unit)).filter((e=>""!==e)).getOr(s),l=o(i,(e=>{var t;return null!==(t={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[e])&&void 0!==t?t:{step:1}})(a).step);return`${(e=>e>=0)(l)?l:i}${a}`}}})(e)),fontfamily:(e,t)=>iT(e,t,pT(e)),blocks:(e,t)=>iT(e,t,uT(e)),align:(e,t)=>iT(e,t,cT(e))},UT=(e,t,n,o)=>{const r=(e=>{const t=e.toolbar,n=e.buttons;return!1===t?[]:void 0===t||!0===t?(e=>{const t=F(FT,(t=>{const n=z(t.items,(t=>be(e,t)||be(zT,t)));return{name:t.name,items:n}}));return z(t,(e=>e.items.length>0))})(n):i(t)?(e=>{const t=e.split("|");return F(t,(e=>({items:e.trim().split(" ")})))})(t):(e=>g(e,(e=>be(e,"name")&&be(e,"items"))))(t)?t:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(t),s=F(r,(r=>{const i=$(r.items,(r=>0===r.trim().length?[]:((e,t,n,o,r,i)=>ve(t,n.toLowerCase()).orThunk((()=>i.bind((e=>ie(e,(e=>ve(t,e+n.toLowerCase()))))))).fold((()=>ve(zT,n.toLowerCase()).map((t=>t(e,r)))),(t=>"grouptoolbarbutton"!==t.type||o?((e,t,n)=>ve(VT,e.type).fold((()=>(console.error("skipping button defined by",e),A.none())),(o=>A.some(o(e,t,n)))))(t,r,e):(console.warn(`Ignoring the '${n}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),A.none()))))(e,t.buttons,r,t.allowToolbarGroups,n,o).toArray()));return{title:A.from(e.translate(r.name)),items:i}}));return z(s,(e=>e.items.length>0))},WT=(e,t,n,o)=>{const r=t.mainUi.outerContainer,s=n.toolbar,a=n.buttons;if(g(s,i)){const t=s.map((t=>{const r={toolbar:t,buttons:a,allowToolbarGroups:n.allowToolbarGroups};return UT(e,r,o,A.none())}));zA.setToolbars(r,t)}else zA.setToolbar(r,UT(e,n,o,A.none()))},qT=An(),ZT=qT.os.isiOS()&&qT.os.version.major<=12;var GT=Object.freeze({__proto__:null,render:async(e,t,n,o,r)=>{const{mainUi:i,uiMotherships:s}=t,a=Cr(0),l=i.outerContainer;await XA(e);const d=Le(r.targetNode),u=pt(mt(d));Sd(d,i.mothership),((e,t,n)=>{$g(e)&&Sd(n.mainUi.mothership.element,n.popupUi.mothership),_d(t,n.dialogUi.mothership)})(e,u,t),e.on("PostRender",(()=>{zA.setSidebar(l,n.sidebar,Pg(e)),WT(e,t,n,o),a.set(e.getWin().innerWidth),zA.setMenubar(l,qA(e,n)),zA.setViews(l,n.views),((e,t)=>{const{uiMotherships:n}=t,o=e.dom;let r=e.getWin();const i=e.getDoc().documentElement,s=Cr(Wt(r.innerWidth,r.innerHeight)),a=Cr(Wt(i.offsetWidth,i.offsetHeight)),l=()=>{const t=s.get();t.left===r.innerWidth&&t.top===r.innerHeight||(s.set(Wt(r.innerWidth,r.innerHeight)),Xy(e))},c=()=>{const t=e.getDoc().documentElement,n=a.get();n.left===t.offsetWidth&&n.top===t.offsetHeight||(a.set(Wt(t.offsetWidth,t.offsetHeight)),Xy(e))},d=t=>{((e,t)=>{e.dispatch("ScrollContent",t)})(e,t)};o.bind(r,"resize",l),o.bind(r,"scroll",d);const u=Gl(Le(e.getBody()),"load",c);e.on("hide",(()=>{H(n,(e=>{At(e.element,"display","none")}))})),e.on("show",(()=>{H(n,(e=>{It(e.element,"display")}))})),e.on("NodeChange",c),e.on("remove",(()=>{u.unbind(),o.unbind(r,"resize",l),o.unbind(r,"scroll",d),r=null}))})(e,t)}));const h=zA.getSocket(l).getOrDie("Could not find expected socket element");if(ZT){Tt(h.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const t=((e,t)=>{let n=null;return{cancel:()=>{c(n)||(clearTimeout(n),n=null)},throttle:(...t)=>{c(n)&&(n=setTimeout((()=>{n=null,e.apply(null,t)}),20))}}})((()=>{e.dispatch("ScrollContent")})),n=Zl(h.element,"scroll",t.throttle);e.on("remove",n.unbind)}iy(e,t),e.addCommand("ToggleSidebar",((t,n)=>{zA.toggleSidebar(l,n),e.dispatch("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(()=>{var e;return null!==(e=zA.whichSidebar(l))&&void 0!==e?e:""})),e.addCommand("ToggleView",((t,n)=>{if(zA.toggleView(l,n)){const t=l.element;i.mothership.broadcastOn([Id()],{target:t}),H(s,(e=>{e.broadcastOn([Id()],{target:t})})),c(zA.whichView(l))&&(e.focus(),e.nodeChanged())}})),e.addQueryValueHandler("ToggleView",(()=>{var e;return null!==(e=zA.whichView(l))&&void 0!==e?e:""}));const m=ug(e);m!==qf.sliding&&m!==qf.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(()=>{const n=e.getWin().innerWidth;n!==a.get()&&(zA.refreshToolbar(t.mainUi.outerContainer),a.set(n))}));const p={setEnabled:e=>{ry(t,!e)},isEnabled:()=>!Sh.isDisabled(l)};return{iframeContainer:h.element.dom,editorContainer:l.element.dom,api:p}}});const $T=e=>/^[0-9\.]+(|px)$/i.test(""+e)?A.some(parseInt(""+e,10)):A.none(),YT=e=>f(e)?e+"px":e,KT=(e,t,n)=>{const o=t.filter((t=>e<t)),r=n.filter((t=>e>t));return o.or(r).getOr(e)},XT=e=>{const t=tg(e),n=ng(e),o=rg(e);return $T(t).map((e=>KT(e,n,o)))},{ToolbarLocation:QT,ToolbarMode:JT}=Kg,eD=(e,t)=>{const n=Yn(e);return{pos:t?n.y:n.bottom,bounds:n}};var tD=Object.freeze({__proto__:null,render:async(e,t,n,o,r)=>{const{mainUi:i}=t,s=Wl(),a=Le(r.targetNode),l=((e,t,n,o,r)=>{const{mainUi:i,uiMotherships:s}=n,a=Gf.DOM,l=Wg(e),c=Gg(e),d=rg(e).or(XT(e)),u=o.shared.header,h=u.isPositionedAtTop,m=ug(e),p=m===JT.sliding||m===JT.floating,f=Cr(!1),g=()=>f.get()&&!e.removed,v=e=>p?e.fold(w(0),(e=>e.components().length>1?Vt(e.components()[1].element):0)):0,b=()=>{H(s,(e=>{e.broadcastOn([Bd()],{})}))},y=n=>{if(!g())return;l||r.on((e=>{const n=d.getOrThunk((()=>{const e=$T(Mt(bt(),"margin-left")).getOr(0);return Yt(bt())-Zt(t).left+e}));At(e.element,"max-width",n+"px")}));const o=l?A.none():(()=>{if(l)return A.none();if(Zt(i.outerContainer.element).left+Kt(i.outerContainer.element)>=window.innerWidth-40||Rt(i.outerContainer.element,"width").isSome()){At(i.outerContainer.element,"position","absolute"),At(i.outerContainer.element,"left","0px"),It(i.outerContainer.element,"width");const e=Kt(i.outerContainer.element);return A.some(e)}return A.none()})();p&&zA.refreshToolbar(i.outerContainer),l||(n=>{r.on((o=>{const r=zA.getToolbar(i.outerContainer),s=v(r),a=Yn(t),{top:l,left:c}=((e,t)=>$g(e)?AE(t):A.none())(e,i.outerContainer.element).fold((()=>({top:h()?Math.max(a.y-Vt(o.element)+s,0):a.bottom,left:a.x})),(e=>{var t;const n=Yn(e),r=null!==(t=e.dom.scrollTop)&&void 0!==t?t:0,i=Ke(e,bt()),l=i?Math.max(a.y-Vt(o.element)+s,0):a.y-n.y+r-Vt(o.element)+s;return{top:h()?l:a.bottom,left:i?a.x:a.x-n.x}})),d={position:"absolute",left:Math.round(c)+"px",top:Math.round(l)+"px"},u=n.map((e=>{const t=Hn(),n=window.innerWidth-(c-t.left);return{width:Math.max(Math.min(e,n),150)+"px"}})).getOr({});Tt(i.outerContainer.element,{...d,...u})}))})(o),c&&r.on(n),b()},x=()=>!(l||!c||!g())&&r.get().exists((n=>{const o=u.getDockingMode(),s=(n=>{switch(mg(e)){case QT.auto:const e=zA.getToolbar(i.outerContainer),o=v(e),r=Vt(n.element)-o,s=Yn(t);if(s.y>r)return"top";{const e=et(t),n=Math.max(e.dom.scrollHeight,Vt(e));return s.bottom<n-r||Qn().bottom<s.bottom-r?"bottom":"top"}case QT.bottom:return"bottom";case QT.top:default:return"top"}})(n);return s!==o&&(a=s,r.on((e=>{eO.setModes(e,[a]),u.setDockingMode(a);const t=h()?lc.TopToBottom:lc.BottomToTop;xt(e.element,cc,t)})),!0);var a}));return{isVisible:g,isPositionedAtTop:h,show:()=>{f.set(!0),At(i.outerContainer.element,"display","flex"),a.addClass(e.getBody(),"mce-edit-focus"),H(s,(e=>{It(e.element,"display")})),x(),$g(e)?y((e=>eO.isDocked(e)?eO.reset(e):eO.refresh(e))):y(eO.refresh)},hide:()=>{f.set(!1),At(i.outerContainer.element,"display","none"),a.removeClass(e.getBody(),"mce-edit-focus"),H(s,(e=>{At(e.element,"display","none")}))},update:y,updateMode:()=>{x()&&y(eO.reset)},repositionPopups:b}})(e,a,t,o,s),c=gg(e);await QA(e);const d=()=>{if(s.isSet())return void l.show();s.set(zA.getHeader(i.outerContainer).getOrDie());const r=qg(e);$g(e)?(Sd(a,i.mothership),Sd(a,t.popupUi.mothership)):_d(r,i.mothership),_d(r,t.dialogUi.mothership),WT(e,t,n,o),zA.setMenubar(i.outerContainer,qA(e,n)),l.show(),((e,t,n,o)=>{const r=Cr(eD(t,n.isPositionedAtTop())),i=o=>{const{pos:i,bounds:s}=eD(t,n.isPositionedAtTop()),{pos:a,bounds:l}=r.get(),c=s.height!==l.height||s.width!==l.width;r.set({pos:i,bounds:s}),c&&Xy(e,o),n.isVisible()&&(a!==i?n.update(eO.reset):c&&(n.updateMode(),n.repositionPopups()))};o||(e.on("activate",n.show),e.on("deactivate",n.hide)),e.on("SkinLoaded ResizeWindow",(()=>n.update(eO.reset))),e.on("NodeChange keydown",(e=>{requestAnimationFrame((()=>i(e)))}));let s=0;const a=Sj((()=>n.update(eO.refresh)),33);e.on("ScrollWindow",(()=>{const e=Hn().left;e!==s&&(s=e,a.throttle()),n.updateMode()})),$g(e)&&e.on("ElementScroll",(e=>{n.update(eO.refresh)}));const l=Ul();l.set(Gl(Le(e.getBody()),"load",(e=>i(e.raw)))),e.on("remove",(()=>{l.clear()}))})(e,a,l,c),e.nodeChanged()};e.on("show",d),e.on("hide",l.hide),c||(e.on("focus",d),e.on("blur",l.hide)),e.on("init",(()=>{(e.hasFocus()||c)&&d()})),iy(e,t);const u={show:d,hide:l.hide,setEnabled:e=>{ry(t,!e)},isEnabled:()=>!Sh.isDisabled(i.outerContainer)};return{editorContainer:i.outerContainer.element.dom,api:u}}});const nD="contexttoolbar-hide",oD=(e,t)=>Bi(_C,((n,o)=>{const r=(e=>({hide:()=>Ai(e,ui()),getValue:()=>nu.getValue(e)}))(e.get(n));t.onAction(r,o.event.buttonApi)})),rD=(e,t,n)=>t.bottom-e.y>=n&&e.bottom-t.y>=n,iD=e=>{const t=(e=>{const t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){const n=ct(Le(e.startContainer),e.startOffset).element;return(We(n)?nt(n):A.some(n)).filter(Ue).map((e=>e.dom.getBoundingClientRect())).getOr(t)}return t})(e.selection.getRng());if(e.inline){const e=Hn();return $n(e.left+t.left,e.top+t.top,t.width,t.height)}{const n=Kn(Le(e.getBody()));return $n(n.x+t.left,n.y+t.top,t.width,t.height)}},sD=(e,t,n,o=0)=>{const r=Un(window),i=Yn(Le(e.getContentAreaContainer())),s=Lg(e)||Fg(e)||Vg(e),{x:a,width:l}=((e,t,n)=>{const o=Math.max(e.x+n,t.x);return{x:o,width:Math.min(e.right-n,t.right)-o}})(i,r,o);if(e.inline&&!s)return $n(a,r.y,l,r.height);{const s=t.header.isPositionedAtTop(),{y:c,bottom:d}=((e,t,n,o,r,i)=>{const s=Le(e.getContainer()),a=sa(s,".tox-editor-header").getOr(s),l=Yn(a),c=l.y>=t.bottom,d=o&&!c;if(e.inline&&d)return{y:Math.max(l.bottom+i,n.y),bottom:n.bottom};if(e.inline&&!d)return{y:n.y,bottom:Math.min(l.y-i,n.bottom)};const u="line"===r?Yn(s):t;return d?{y:Math.max(l.bottom+i,n.y),bottom:Math.min(u.bottom-i,n.bottom)}:{y:Math.max(u.y+i,n.y),bottom:Math.min(l.y-i,n.bottom)}})(e,i,r,s,n,o);return $n(a,c,l,d-c)}},aD={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},lD={maxHeightFunction:Jl(),maxWidthFunction:qO()},cD=e=>"node"===e,dD=(e,t,n,o,r)=>{const i=iD(e),s=o.lastElement().exists((e=>Ke(n,e)));return((e,t)=>{const n=e.selection.getRng(),o=ct(Le(n.startContainer),n.startOffset);return n.startContainer===n.endContainer&&n.startOffset===n.endOffset-1&&Ke(o.element,t)})(e,n)?s?Sk:bk:s?((e,n,r)=>{const s=Rt(e,"position");At(e,"position",n);const a=rD(i,Yn(t),-20)&&!o.isReposition()?jk:Sk;return s.each((t=>At(e,"position",t))),a})(t,o.getMode()):("fixed"===o.getMode()?r.y+Hn().top:r.y)+(Vt(t)+12)<=i.y?bk:yk},uD=(e,t,n,o)=>{const r=t=>(o,r,i,s,a)=>({...dD(e,s,t,n,a)({...o,y:a.y,height:a.height},r,i,s,a),alwaysFit:!0}),i=e=>cD(o)?[r(e)]:[];return t?{onLtr:e=>[tl,Ka,Xa,Qa,Ja,el].concat(i(e)),onRtl:e=>[tl,Xa,Ka,Ja,Qa,el].concat(i(e))}:{onLtr:e=>[el,tl,Qa,Ka,Ja,Xa].concat(i(e)),onRtl:e=>[el,tl,Ja,Xa,Qa,Ka].concat(i(e))}},hD=(e,t)=>{const n=z(t,(t=>t.predicate(e.dom))),{pass:o,fail:r}=V(n,(e=>"contexttoolbar"===e.type));return{contextToolbars:o,contextForms:r}},mD=os("forward-slide"),pD=os("backward-slide"),fD=os("change-slide-event"),gD="tox-pop--resizing",vD="tox-pop--transition",bD=(e,t,n,o)=>{const r=o.backstage,i=r.shared,s=An().deviceType.isTouch,a=Wl(),l=Wl(),c=Wl(),d=Xs((e=>{const t=Cr([]);return Af.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:e=>{t.set([]),Af.getContent(e).each((e=>{It(e.element,"visibility")})),Ns(e.element,gD),It(e.element,"width")},inlineBehaviours:fl([Fp("context-toolbar-events",[qi(Qr(),((e,t)=>{"width"===t.event.raw.propertyName&&(Ns(e.element,gD),It(e.element,"width"))})),Bi(fD,((e,t)=>{const n=e.element;It(n,"width");const o=Yt(n);Af.setContent(e,t.event.contents),Rs(n,gD);const r=Yt(n);At(n,"width",o+"px"),Af.getContent(e).each((e=>{t.event.focus.bind((e=>(Sl(e),El(n)))).orThunk((()=>(Ap.focusIn(e),kl(mt(n)))))})),setTimeout((()=>{At(e.element,"width",r+"px")}),0)})),Bi(mD,((e,n)=>{Af.getContent(e).each((n=>{t.set(t.get().concat([{bar:n,focus:kl(mt(e.element))}]))})),Ti(e,fD,{contents:n.event.forwardContents,focus:A.none()})})),Bi(pD,((e,n)=>{oe(t.get()).each((n=>{t.set(t.get().slice(0,t.get().length-1)),Ti(e,fD,{contents:Qs(n.bar),focus:n.focus})}))}))]),Ap.config({mode:"special",onEscape:n=>oe(t.get()).fold((()=>e.onEscape()),(e=>(Ai(n,pD),A.some(!0))))})]),lazySink:()=>no.value(e.sink)})})({sink:n,onEscape:()=>(e.focus(),A.some(!0))})),u=()=>{const t=c.get().getOr("node"),n=cD(t)?1:0;return sD(e,i,t,n)},h=()=>!(e.removed||s()&&r.isContextMenuOpen()),m=()=>{if(h()){const t=u(),n=we(c.get(),"node")?((e,t)=>t.filter((e=>vt(e)&&ze(e))).map(Kn).getOrThunk((()=>iD(e))))(e,a.get()):iD(e);return t.height<=0||!rD(n,t,.01)}return!0},p=()=>{a.clear(),l.clear(),c.clear(),Af.hide(d)},f=()=>{if(Af.isOpen(d)){const e=d.element;It(e,"display"),m()?At(e,"display","none"):(l.set(0),Af.reposition(d))}},g=t=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:fl([Ap.config({mode:"acyclic"}),Fp("pop-dialog-wrap-events",[Zi((t=>{e.shortcuts.add("ctrl+F9","focus statusbar",(()=>Ap.focusIn(t)))})),Gi((t=>{e.shortcuts.remove("ctrl+F9")}))])])}),b=Xt((()=>((e,t)=>{const n={},o=[],r=[],i={},s={},a=se(e);return H(a,(a=>{const l=e[a];"contextform"===l.type?((e,a)=>{const l=Wo(Uo("ContextForm",Eb,a));n[e]=l,l.launch.map((n=>{i["form:"+e]={...a.launch,type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:()=>{t(l)}}})),"editor"===l.scope?r.push(l):o.push(l),s[e]=l})(a,l):"contexttoolbar"===l.type&&((e,t)=>{var n;(n=t,Uo("ContextToolbar",Ob,n)).each((n=>{"editor"===t.scope?r.push(n):o.push(n),s[e]=n}))})(a,l)})),{forms:n,inNodeScope:o,inEditorScope:r,lookupTable:s,formNavigators:i}})(t,(e=>{const t=y([e]);Ti(d,mD,{forwardContents:g(t)})})))),y=t=>{const{buttons:n}=e.ui.registry.getAll(),r={...n,...b().formNavigators},s=ug(e)===qf.scrolling?qf.scrolling:qf.default,a=G(F(t,(t=>"contexttoolbar"===t.type?((t,n)=>UT(e,{buttons:t,toolbar:n.items,allowToolbarGroups:!1},o.backstage,A.some(["form:"])))(r,t):((e,t)=>((e,t)=>{const n=e.label.fold((()=>({})),(e=>({"aria-label":e}))),o=Mf(_v.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:fl([Ap.config({mode:"special",onEnter:e=>r.findPrimary(e).map((e=>(Di(e),!0))),onLeft:(e,t)=>(t.cut(),A.none()),onRight:(e,t)=>(t.cut(),A.none())})])})),r=((e,t,n)=>{const o=F(t,(t=>Mf(((e,t,n)=>(e=>"contextformtogglebutton"===e.type)(t)?((e,t,n)=>{const{primary:o,...r}=t.original,i=Wo(wb({...r,type:"togglebutton",onAction:v}));return IT(i,n,[oD(e,t)])})(e,t,n):((e,t,n)=>{const{primary:o,...r}=t.original,i=Wo(vb({...r,type:"button",onAction:v}));return LT(i,n,[oD(e,t)])})(e,t,n))(e,t,n))));return{asSpecs:()=>F(o,(e=>e.asSpec())),findPrimary:e=>ie(t,((t,n)=>t.primary?A.from(o[n]).bind((t=>t.getOpt(e))).filter(C(Sh.isDisabled)):A.none()))}})(o,e.commands,t);return[{title:A.none(),items:[o.asSpec()]},{title:A.none(),items:r.asSpecs()}]})(e,t))(t,i.providers))));return gA({type:s,uid:os("context-toolbar"),initGroups:a,onEscape:A.none,cyclicKeying:!0,providers:i.providers})},w=(t,o)=>{if(_.cancel(),!h())return;const r=y(t),p=t[0].position,f=((t,o)=>{const r="node"===t?i.anchors.node(o):i.anchors.cursor(),c=((e,t,n,o)=>"line"===t?{bubble:oc(12,0,aD),layouts:{onLtr:()=>[nl],onRtl:()=>[ol]},overrides:lD}:{bubble:oc(0,12,aD,1/12),layouts:uD(e,n,o,t),overrides:lD})(e,t,s(),{lastElement:a.get,isReposition:()=>we(l.get(),0),getMode:()=>dd.getMode(n)});return po(r,c)})(p,o);c.set(p),l.set(1);const v=d.element;It(v,"display"),(e=>we(_e(e,a.get(),Ke),!0))(o)||(Ns(v,vD),dd.reset(n,d)),Af.showWithinBounds(d,g(r),{anchor:f,transition:{classes:[vD],mode:"placement"}},(()=>A.some(u()))),o.fold(a.clear,a.set),m()&&At(v,"display","none")};let x=!1;const _=Sj((()=>{!e.hasFocus()||e.removed||x||(Ls(d.element,vD)?_.throttle():((e,t)=>{const n=Le(t.getBody()),o=e=>Ke(e,n),r=Le(t.selection.getNode());return(e=>!o(e)&&!Xe(n,e))(r)?A.none():((e,t,n)=>{const o=hD(e,t);if(o.contextForms.length>0)return A.some({elem:e,toolbars:[o.contextForms[0]]});{const t=hD(e,n);if(t.contextForms.length>0)return A.some({elem:e,toolbars:[t.contextForms[0]]});if(o.contextToolbars.length>0||t.contextToolbars.length>0){const n=(e=>{if(e.length<=1)return e;{const t=t=>L(e,(e=>e.position===t)),n=t=>z(e,(e=>e.position===t)),o=t("selection"),r=t("node");if(o||r){if(r&&o){const e=n("node"),t=F(n("selection"),(e=>({...e,position:"node"})));return e.concat(t)}return n(o?"selection":"node")}return n("line")}})(o.contextToolbars.concat(t.contextToolbars));return A.some({elem:e,toolbars:n})}return A.none()}})(r,e.inNodeScope,e.inEditorScope).orThunk((()=>((e,t,n)=>e(t)?A.none():Ar(t,(e=>{if(Ue(e)){const{contextToolbars:t,contextForms:o}=hD(e,n.inNodeScope),r=o.length>0?o:(e=>{if(e.length<=1)return e;{const t=t=>q(e,(e=>e.position===t));return t("selection").orThunk((()=>t("node"))).orThunk((()=>t("line"))).map((e=>e.position)).fold((()=>[]),(t=>z(e,(e=>e.position===t))))}})(t);return r.length>0?A.some({elem:e,toolbars:r}):A.none()}return A.none()}),e))(o,r,e)))})(b(),e).fold(p,(e=>{w(e.toolbars,A.some(e.elem))})))}),17);e.on("init",(()=>{e.on("remove",p),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",f),e.on("click keyup focus SetContent",_.throttle),e.on(nD,p),e.on("contexttoolbar-show",(t=>{const n=b();ve(n.lookupTable,t.toolbarKey).each((n=>{w([n],Ce(t.target!==e,t.target)),Af.getContent(d).each(Ap.focusIn)}))})),e.on("focusout",(t=>{Tf.setEditorTimeout(e,(()=>{El(n.element).isNone()&&El(d.element).isNone()&&p()}),0)})),e.on("SwitchMode",(()=>{e.mode.isReadOnly()&&p()})),e.on("AfterProgressState",(t=>{t.state?p():e.hasFocus()&&_.throttle()})),e.on("dragstart",(()=>{x=!0})),e.on("dragend drop",(()=>{x=!1})),e.on("NodeChange",(e=>{El(d.element).fold(_.throttle,v)}))}))},yD=(e,t)=>{const n=()=>{const n=t.getOptions(e),o=t.getCurrent(e).map(t.hash),r=Wl();return F(n,(n=>({type:"togglemenuitem",text:t.display(n),onSetup:i=>{const s=e=>{e&&(r.on((e=>e.setActive(!1))),r.set(i)),i.setActive(e)};s(we(o,t.hash(n)));const a=t.watcher(e,n,s);return()=>{r.clear(),a()}},onAction:()=>t.setCurrent(e,n)})))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:e=>e(n()),onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:n,onSetup:t.onMenuSetup})},wD={name:"lineheight",text:"Line height",icon:"line-height",getOptions:Bg,hash:e=>((e,t)=>vT(e,["fixed","relative","empty"]).map((({value:e,unit:t})=>e+t)))(e).getOr(e),display:x,watcher:(e,t,n)=>e.formatter.formatChanged("lineheight",n,!1,{value:t}).unbind,getCurrent:e=>A.from(e.queryCommandValue("LineHeight")),setCurrent:(e,t)=>e.execCommand("LineHeight",!1,t)},xD=e=>eT(e,"NodeChange",(t=>{t.setEnabled(e.queryCommandState("outdent"))})),_D=(e,t)=>n=>{n.setActive(t.get());const o=e=>{t.set(e.state),n.setActive(e.state)};return e.on("PastePlainTextToggle",o),()=>e.off("PastePlainTextToggle",o)},SD=(e,t)=>()=>{e.execCommand("mceToggleFormat",!1,t)},CD=(e,t)=>eT(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(n=>{n.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())})),jD=e=>eT(e,"VisualAid",(t=>{t.setActive(e.hasVisual)})),kD=(e,t)=>{(e=>{H([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:nT(e,t.cmd),onSetup:JA(e,t.name)})})),e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:nT(e,"JustifyNone")})})(e),(e=>{(e=>{(e=>{pC.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],((t,n)=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:JA(e,t.name),onAction:SD(e,t.name)})}));for(let t=1;t<=6;t++){const n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:JA(e,n),onAction:SD(e,n)})}})(e),(e=>{pC.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"print",text:"Print",action:"mcePrint",icon:"print"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:nT(e,t.action)})}))})(e),(e=>{pC.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:nT(e,t.action),onSetup:JA(e,t.name)})}))})(e)})(e),(e=>{pC.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:nT(e,t.action)})})),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:SD(e,"code")})})(e)})(e),((e,t)=>{((e,t)=>{const n=rT(0,t,cT(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const n=rT(0,t,pT(e));e.ui.registry.addNestedMenuItem("fontfamily",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const n={type:"advanced",...t.styles},o=rT(0,t,CT(e,n));e.ui.registry.addNestedMenuItem("styles",{text:"Formats",getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})})(e,t),((e,t)=>{const n=rT(0,t,uT(e));e.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t),((e,t)=>{const n=rT(0,t,ST(e));e.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})})(e,t)})(e,t),(e=>{(e=>{e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:CD(e,"hasUndo"),onAction:nT(e,"undo")}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:CD(e,"hasRedo"),onAction:nT(e,"redo")})})(e),(e=>{e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:CD(e,"hasUndo"),onAction:nT(e,"undo")}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:CD(e,"hasRedo"),onAction:nT(e,"redo")})})(e)})(e),(e=>{(e=>{e.addCommand("mceApplyTextcolor",((t,n)=>{((e,t,n)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()}))})(e,t,n)})),e.addCommand("mceRemoveTextcolor",(t=>{((e,t)=>{e.undoManager.transact((()=>{e.focus(),e.formatter.remove(t,{value:null},void 0,!0),e.nodeChanged()}))})(e,t)}))})(e);const t=bw(e),n=yw(e),o=Cr(t),r=Cr(n);Ew(e,"forecolor","forecolor","Text color",o),Ew(e,"backcolor","hilitecolor","Background color",r),Ow(e,"forecolor","forecolor","Text color",o),Ow(e,"backcolor","hilitecolor","Background color",r)})(e),(e=>{(e=>{e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:nT(e,"mceToggleVisualAid")})})(e),(e=>{e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:jD(e),onAction:nT(e,"mceToggleVisualAid")})})(e)})(e),(e=>{(e=>{e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:xD(e),onAction:nT(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:nT(e,"indent")})})(e)})(e),(e=>{yD(e,wD),(e=>A.from(cg(e)).map((t=>({name:"language",text:"Language",icon:"language",getOptions:w(t),hash:e=>u(e.customCode)?e.code:`${e.code}/${e.customCode}`,display:e=>e.title,watcher:(e,t,n)=>{var o;return e.formatter.formatChanged("lang",n,!1,{value:t.code,customValue:null!==(o=t.customCode)&&void 0!==o?o:null}).unbind},getCurrent:e=>{const t=Le(e.selection.getNode());return Tr(t,(e=>A.some(e).filter(Ue).bind((e=>Ct(e,"lang").map((t=>({code:t,customCode:Ct(e,"data-mce-lang").getOrUndefined(),title:""})))))))},setCurrent:(e,t)=>e.execCommand("Lang",!1,t),onToolbarSetup:t=>{const n=Ul();return t.setActive(e.formatter.match("lang",{},void 0,!0)),n.set(e.formatter.formatChanged("lang",t.setActive,!0)),n.clear}}))))(e).each((t=>yD(e,t)))})(e),(e=>{const t=Cr(Mg(e)),n=()=>e.execCommand("mceTogglePlainTextPaste");e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:n,onSetup:_D(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:n,onSetup:_D(e,t)})})(e)},ED=e=>i(e)?e.split(/[ ,]/):e,OD=e=>t=>t.options.get(e),AD=OD("contextmenu_never_use_native"),TD=OD("contextmenu_avoid_overlap"),DD=e=>{const t=e.ui.registry.getAll().contextMenus,n=e.options.get("contextmenu");return e.options.isSet("contextmenu")?n:z(n,(e=>be(t,e)))},MD=(e,t)=>({type:"makeshift",x:e,y:t}),PD=e=>"longpress"===e.type||0===e.type.indexOf("touch"),RD=e=>({type:"selection",root:Le(e.selection.getNode())}),ND=(e,t,n)=>{switch(n){case"node":return(e=>({type:"node",node:A.some(Le(e.selection.getNode())),root:Le(e.getBody())}))(e);case"point":return((e,t)=>"contextmenu"===t.type||"longpress"===t.type?e.inline?(e=>{if(PD(e)){const t=e.touches[0];return MD(t.pageX,t.pageY)}return MD(e.pageX,e.pageY)})(t):((e,t)=>{const n=Gf.DOM.getPos(e);return((e,t,n)=>MD(e.x+t,e.y+n))(t,n.x,n.y)})(e.getContentAreaContainer(),(e=>{if(PD(e)){const t=e.touches[0];return MD(t.clientX,t.clientY)}return MD(e.clientX,e.clientY)})(t)):RD(e))(e,t);case"selection":return RD(e)}},LD=(e,t,n,o,r,i)=>{const s=n(),a=ND(e,t,i);LC(s,ev.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:!1,search:A.none()}).map((e=>{t.preventDefault(),Af.showMenuAt(r,{anchor:a},{menu:{markers:pv("normal")},data:e})}))},ID={onLtr:()=>[tl,Ka,Xa,Qa,Ja,el,bk,yk,vk,fk,gk,pk],onRtl:()=>[tl,Xa,Ka,Ja,Qa,el,bk,yk,gk,pk,vk,fk]},BD={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},FD=(e,t,n,o,r,i)=>{const s=An(),a=s.os.isiOS(),l=s.os.isMacOS(),c=s.os.isAndroid(),d=s.deviceType.isTouch(),u=()=>{const s=n();((e,t,n,o,r,i,s)=>{const a=((e,t,n)=>{const o=ND(e,t,n);return{bubble:oc(0,"point"===n?12:0,BD),layouts:ID,overrides:{maxWidthFunction:qO(),maxHeightFunction:Jl()},...o}})(e,t,i);LC(n,ev.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:!0,search:A.none()}).map((n=>{t.preventDefault();const l=s?kf.HighlightMenuAndItem:kf.HighlightNone;Af.showMenuWithinBounds(r,{anchor:a},{menu:{markers:pv("normal"),highlightOnOpen:l},data:n,type:"horizontal"},(()=>A.some(sD(e,o.shared,"node"===i?"node":"selection")))),e.dispatch(nD)}))})(e,t,s,o,r,i,!(c||a||l&&d))};if((l||a)&&"node"!==i){const n=()=>{(e=>{const t=e.selection.getRng(),n=()=>{Tf.setEditorTimeout(e,(()=>{e.selection.setRng(t)}),10),i()};e.once("touchend",n);const o=e=>{e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",o,!0);const r=()=>i();e.once("longpresscancel",r);const i=()=>{e.off("touchend",n),e.off("longpresscancel",r),e.off("mousedown",o)}})(e),u()};((e,t)=>{const n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;{const o=t.touches[0],r=n.getRng();return Hc(e.getWin(),Tc.domRange(r)).exists((e=>e.left<=o.clientX&&e.right>=o.clientX&&e.top<=o.clientY&&e.bottom>=o.clientY))}})(e,t)?n():(e.once("selectionchange",n),e.once("touchend",(()=>e.off("selectionchange",n))))}else u()},HD=e=>i(e)?"|"===e:"separator"===e.type,VD={type:"separator"},zD=e=>{const t=e=>({text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut});if(i(e))return e;switch(e.type){case"separator":return VD;case"submenu":return{type:"nestedmenuitem",...t(e),getSubmenuItems:()=>{const t=e.getSubmenuItems();return i(t)?t:F(t,zD)}};default:const n=e;return{type:"menuitem",...t(n),onAction:b(n.onAction)}}},UD=(e,t)=>{if(0===t.length)return e;const n=oe(e).filter((e=>!HD(e))).fold((()=>[]),(e=>[VD]));return e.concat(n).concat(t).concat([VD])},WD=(e,t)=>!(e=>"longpress"===e.type||be(e,"touches"))(t)&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType),qD=(e,t)=>WD(e,t)?e.selection.getStart(!0):t.target,ZD=(e,t,n)=>{const o=An().deviceType.isTouch,r=Xs(Af.sketch({dom:{tag:"div"},lazySink:t,onEscape:()=>e.focus(),onShow:()=>n.setContextMenuState(!0),onHide:()=>n.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:fl([Fp("dismissContextMenu",[Bi(wi(),((t,n)=>{Ld.close(t),e.focus()}))])])})),s=()=>Af.hide(r),a=t=>{if(AD(e)&&t.preventDefault(),((e,t)=>t.ctrlKey&&!AD(e))(e,t)||(e=>0===DD(e).length)(e))return;const s=((e,t)=>{const n=TD(e),o=WD(e,t)?"selection":"point";if(De(n)){const r=qD(e,t);return xx(Le(r),n)?"node":o}return o})(e,t);(o()?FD:LD)(e,t,(()=>{const n=qD(e,t),o=e.ui.registry.getAll(),r=DD(e);return((e,t,n)=>{const o=W(t,((t,o)=>ve(e,o.toLowerCase()).map((e=>{const o=e.update(n);if(i(o))return UD(t,o.split(" "));if(o.length>0){const e=F(o,zD);return UD(t,e)}return t})).getOrThunk((()=>t.concat([o])))),[]);return o.length>0&&HD(o[o.length-1])&&o.pop(),o})(o.contextMenus,r,n)}),n,r,s)};e.on("init",(()=>{const t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow");e.on(t,s),e.on("longpress contextmenu",a)}))},GD=jr([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),$D=e=>t=>t.translate(-e.left,-e.top),YD=e=>t=>t.translate(e.left,e.top),KD=e=>(t,n)=>W(e,((e,t)=>t(e)),Wt(t,n)),XD=(e,t,n)=>e.fold(KD([YD(n),$D(t)]),KD([$D(t)]),KD([])),QD=(e,t,n)=>e.fold(KD([YD(n)]),KD([]),KD([YD(t)])),JD=(e,t,n)=>e.fold(KD([]),KD([$D(n)]),KD([YD(t),$D(n)])),eM=(e,t,n)=>{const o=e.fold(((e,t)=>({position:A.some("absolute"),left:A.some(e+"px"),top:A.some(t+"px")})),((e,t)=>({position:A.some("absolute"),left:A.some(e-n.left+"px"),top:A.some(t-n.top+"px")})),((e,t)=>({position:A.some("fixed"),left:A.some(e+"px"),top:A.some(t+"px")})));return{right:A.none(),bottom:A.none(),...o}},tM=(e,t,n,o)=>{const r=(e,r)=>(i,s)=>{const a=e(t,n,o);return r(i.getOr(a.left),s.getOr(a.top))};return e.fold(r(JD,nM),r(QD,oM),r(XD,rM))},nM=GD.offset,oM=GD.absolute,rM=GD.fixed,iM=(e,t)=>{const n=St(e,t);return u(n)?NaN:parseInt(n,10)},sM=(e,t,n,o)=>ie(e,(e=>{const r=e.sensor,i=((e,t,n,o,r,i)=>{const s=QD(e,r,i),a=QD(t,r,i);return Math.abs(s.left-a.left)<=n&&Math.abs(s.top-a.top)<=o})(t,r,e.range.left,e.range.top,n,o);return i?A.some({output:tM(e.output,t,n,o),extra:e.extra}):A.none()})),aM=(e,t,n,o,r)=>{const i=t.getSnapPoints(e);return sM(i,n,o,r).orThunk((()=>{const e=W(i,((e,t)=>{const i=t.sensor,s=((e,t,n,o,r,i)=>{const s=QD(e,r,i),a=QD(t,r,i),l=Math.abs(s.left-a.left),c=Math.abs(s.top-a.top);return Wt(l,c)})(n,i,t.range.left,t.range.top,o,r);return e.deltas.fold((()=>({deltas:A.some(s),snap:A.some(t)})),(n=>(s.left+s.top)/2<=(n.left+n.top)/2?{deltas:A.some(s),snap:A.some(t)}:e))}),{deltas:A.none(),snap:A.none()});return e.snap.map((e=>({output:tM(e.output,n,o,r),extra:e.extra})))}))},lM=(e,t,n,o,r)=>{const i=t.getSnapPoints(e);return sM(i,n,o,r)};var cM=Object.freeze({__proto__:null,snapTo:(e,t,n,o)=>{const r=t.getTarget(e.element);if(t.repositionTarget){const t=Qe(e.element),n=Hn(t),i=TE(r),s=((e,t,n)=>({coord:tM(e.output,e.output,t,n),extra:e.extra}))(o,n,i),a=eM(s.coord,0,i);Dt(r,a)}}});const dM="data-initial-z-index",uM=(e,t)=>{e.getSystem().addToGui(t),(e=>{nt(e.element).filter(Ue).each((t=>{Rt(t,"z-index").each((e=>{xt(t,dM,e)})),At(t,"z-index",Mt(e.element,"z-index"))}))})(t)},hM=e=>{(e=>{nt(e.element).filter(Ue).each((e=>{Ct(e,dM).fold((()=>It(e,"z-index")),(t=>At(e,"z-index",t))),kt(e,dM)}))})(e),e.getSystem().removeFromGui(e)},mM=(e,t,n)=>e.getSystem().build(Ax.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}));var pM=pr("snaps",[Qo("getSnapPoints"),Sa("onSensor"),Qo("leftAttr"),Qo("topAttr"),fr("lazyViewport",Qn),fr("mustSnap",!1)]);const fM=[fr("useFixed",E),Qo("blockerClass"),fr("getTarget",x),fr("onDrag",v),fr("repositionTarget",!0),fr("onDrop",v),xr("getBounds",Qn),pM],gM=(e,t)=>({bounds:e.getBounds(),height:zt(t.element),width:Kt(t.element)}),vM=(e,t,n,o,r)=>{const i=n.update(o,r),s=n.getStartData().getOrThunk((()=>gM(t,e)));i.each((n=>{((e,t,n,o)=>{const r=t.getTarget(e.element);if(t.repositionTarget){const i=Qe(e.element),s=Hn(i),a=TE(r),l=(e=>{return(t=Rt(e,"left"),n=Rt(e,"top"),o=Rt(e,"position"),t.isSome()&&n.isSome()&&o.isSome()?A.some(((e,t,n)=>("fixed"===n?rM:nM)(parseInt(e,10),parseInt(t,10)))(t.getOrDie(),n.getOrDie(),o.getOrDie())):A.none()).getOrThunk((()=>{const t=Zt(e);return oM(t.left,t.top)}));var t,n,o})(r),c=((e,t,n,o,r,i,s)=>((e,t,n,o,r)=>{const i=r.bounds,s=QD(t,n,o),a=Va(s.left,i.x,i.x+i.width-r.width),l=Va(s.top,i.y,i.y+i.height-r.height),c=oM(a,l);return t.fold((()=>{const e=JD(c,n,o);return nM(e.left,e.top)}),w(c),(()=>{const e=XD(c,n,o);return rM(e.left,e.top)}))})(0,t.fold((()=>{const e=(t=n,s=i.left,a=i.top,t.fold(((e,t)=>nM(e+s,t+a)),((e,t)=>oM(e+s,t+a)),((e,t)=>rM(e+s,t+a))));var t,s,a;const l=XD(e,o,r);return rM(l.left,l.top)}),(t=>{const s=((e,t,n,o,r,i)=>{const s=((e,t,n,o)=>((e,t)=>{const n=e.element,o=iM(n,t.leftAttr),r=iM(n,t.topAttr);return isNaN(o)||isNaN(r)?A.none():A.some(Wt(o,r))})(e,t).fold((()=>n),(e=>rM(e.left+o.left,e.top+o.top))))(e,t,n,o),a=t.mustSnap?aM(e,t,s,r,i):lM(e,t,s,r,i),l=XD(s,r,i);return((e,t,n)=>{const o=e.element;xt(o,t.leftAttr,n.left+"px"),xt(o,t.topAttr,n.top+"px")})(e,t,l),a.fold((()=>({coord:rM(l.left,l.top),extra:A.none()})),(e=>({coord:e.output,extra:e.extra})))})(e,t,n,i,o,r);return s.extra.each((n=>{t.onSensor(e,n)})),s.coord})),o,r,s))(e,t.snaps,l,s,a,o,n),d=eM(c,0,a);Dt(r,d)}t.onDrag(e,r,o)})(e,t,s,n)}))},bM=(e,t,n,o)=>{t.each(hM),n.snaps.each((t=>{((e,t)=>{((e,t)=>{const n=e.element;kt(n,t.leftAttr),kt(n,t.topAttr)})(e,t)})(e,t)}));const r=n.getTarget(e.element);o.reset(),n.onDrop(e,r)},yM=e=>(t,n)=>{const o=e=>{n.setStartData(gM(t,e))};return Ni([Bi(gi(),(e=>{n.getStartData().each((()=>o(e)))})),...e(t,n,o)])};var wM=Object.freeze({__proto__:null,getData:e=>A.from(Wt(e.x,e.y)),getDelta:(e,t)=>Wt(t.left-e.left,t.top-e.top)});const xM=(e,t,n)=>[Bi(Fr(),((o,r)=>{if(0!==r.event.raw.button)return;r.stop();const i=()=>bM(o,A.some(l),e,t),s=_x(i,200),a={drop:i,delayDrop:s.schedule,forceDrop:i,move:n=>{s.cancel(),vM(o,e,t,wM,n)}},l=mM(o,e.blockerClass,(e=>Ni([Bi(Fr(),e.forceDrop),Bi(zr(),e.drop),Bi(Hr(),((t,n)=>{e.move(n.event)})),Bi(Vr(),e.delayDrop)]))(a));n(o),uM(o,l)}))],_M=[...fM,Ea("dragger",{handlers:yM(xM)})];var SM=Object.freeze({__proto__:null,getData:e=>{const t=e.raw.touches;return 1===t.length?(e=>{const t=e[0];return A.some(Wt(t.clientX,t.clientY))})(t):A.none()},getDelta:(e,t)=>Wt(t.left-e.left,t.top-e.top)});const CM=(e,t,n)=>{const o=Wl(),r=n=>{bM(n,o.get(),e,t),o.clear()};return[Bi(Nr(),((i,s)=>{s.stop();const a=()=>r(i),l={drop:a,delayDrop:v,forceDrop:a,move:n=>{vM(i,e,t,SM,n)}},c=mM(i,e.blockerClass,(e=>Ni([Bi(Nr(),e.forceDrop),Bi(Ir(),e.drop),Bi(Br(),e.drop),Bi(Lr(),((t,n)=>{e.move(n.event)}))]))(l));o.set(c),n(i),uM(i,c)})),Bi(Lr(),((n,o)=>{o.stop(),vM(n,e,t,SM,o.event)})),Bi(Ir(),((e,t)=>{t.stop(),r(e)})),Bi(Br(),r)]},jM=_M,kM=[...fM,Ea("dragger",{handlers:yM(CM)})],EM=[...fM,Ea("dragger",{handlers:yM(((e,t,n)=>[...xM(e,t,n),...CM(e,t,n)]))})];var OM=Object.freeze({__proto__:null,mouse:jM,touch:kM,mouseOrTouch:EM}),AM=Object.freeze({__proto__:null,init:()=>{let e=A.none(),t=A.none();const n=w({});return xs({readState:n,reset:()=>{e=A.none(),t=A.none()},update:(t,n)=>t.getData(n).bind((n=>((t,n)=>{const o=e.map((e=>t.getDelta(e,n)));return e=A.some(n),o})(t,n))),getStartData:()=>t,setStartData:e=>{t=A.some(e)}})}});const TM=yl({branchKey:"mode",branches:OM,name:"dragging",active:{events:(e,t)=>e.dragger.handlers(e,t)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:A.from(e.extra)})},state:AM,apis:cM}),DM=(e,t,n,o,r,i)=>e.fold((()=>TM.snap({sensor:oM(n-20,o-20),range:Wt(r,i),output:oM(A.some(n),A.some(o)),extra:{td:t}})),(e=>{const r=n-20,i=o-20,s=e.element.dom.getBoundingClientRect();return TM.snap({sensor:oM(r,i),range:Wt(40,40),output:oM(A.some(n-s.width/2),A.some(o-s.height/2)),extra:{td:t}})})),MM=(e,t,n)=>({getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(e,o)=>{const r=o.td;((e,t)=>e.exists((e=>Ke(e,t))))(t.get(),r)||(t.set(r),n(r))},mustSnap:!0}),PM=e=>Mf(Df.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:fl([TM.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),a_.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}));var RM;!function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"}(RM||(RM={}));const NM=(e,t,n)=>{const o=Le(e.getContainer()),r=((e,t,n,o,r)=>{const i={height:KT(o+t.top,og(e),ig(e))};return n===RM.Both&&(i.width=KT(r+t.left,ng(e),rg(e))),i})(e,t,n,Vt(o),Yt(o));le(r,((e,t)=>{f(e)&&At(o,t,YT(e))})),(e=>{e.dispatch("ResizeEditor")})(e)},LM=(e,t,n,o)=>{const r=Wt(20*n,20*o);return NM(e,r,t),A.some(!0)},IM=(e,t)=>({dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const n=(()=>{const n=[];return Ag(e)&&n.push(((e,t,n)=>{var o;const r=null!==(o=t.delimiter)&&void 0!==o?o:"";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:fl([Ap.config({mode:"flow",selector:"div[role=button]"}),Sh.config({disabled:n.isDisabled}),sy(),Lx.config({}),Bp.config({}),Fp("elementPathEvents",[Zi(((t,o)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",(()=>Ap.focusIn(t))),e.on("NodeChange",(o=>{const i=(t=>{const n=[];let o=t.length;for(;o-- >0;){const i=t[o];if(1===i.nodeType&&"BR"!==(r=i).nodeName&&!r.getAttribute("data-mce-bogus")&&"bookmark"!==r.getAttribute("data-mce-type")){const t=Jy(e,i);if(t.isDefaultPrevented()||n.push({name:t.name,element:i}),t.isPropagationStopped())break}}var r;return n})(o.parents),s=i.length>0?W(i,((t,o,i)=>{const s=((t,o,r)=>Df.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":r,"aria-level":r+1}},components:[Gs(t)],action:t=>{e.focus(),e.selection.select(o),e.nodeChanged()},buttonBehaviours:fl([ay(n.isDisabled),sy()])}))(o.name,o.element,i);return 0===i?t.concat([s]):t.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Gs(` ${r} `)]},s])}),[]):[];Bp.set(t,s)}))}))])]),components:[]}})(e,{},t)),e.hasPlugin("wordcount")&&n.push(((e,t)=>{const n=(e,n,o)=>Bp.set(e,[Gs(t.translate(["{0} "+o,n[o]]))]);return Df.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:fl([ay(t.isDisabled),sy(),Lx.config({}),Bp.config({}),nu.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Fp("wordcount-events",[Yi((e=>{const t=nu.getValue(e),o="words"===t.mode?"characters":"words";nu.setValue(e,{mode:o,count:t.count}),n(e,t.count,o)})),Zi((t=>{e.on("wordCountUpdate",(e=>{const{mode:o}=nu.getValue(t);nu.setValue(t,{mode:o,count:e.wordCount}),n(t,e.wordCount,o)}))}))])]),eventOrder:{[ai()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(e,t)),Tg(e)&&n.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Pf.translate(["Powered by {0}","Tiny"])},innerHtml:'<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>\n</svg>\n'.trim()},behaviours:fl([Wp.config({})])}]}),n.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:n}]:[]})(),o=((e,t)=>{const n=(e=>{const t=Dg(e);return!1===t?RM.None:"both"===t?RM.Both:RM.Vertical})(e);return n===RM.None?A.none():A.some(zf("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},behaviours:[TM.config({mode:"mouse",repositionTarget:!1,onDrag:(t,o,r)=>NM(e,r,n),blockerClass:"tox-blocker"}),Ap.config({mode:"special",onLeft:()=>LM(e,n,-1,0),onRight:()=>LM(e,n,1,0),onUp:()=>LM(e,n,0,-1),onDown:()=>LM(e,n,0,1)}),Lx.config({}),Wp.config({})]},t.icons))})(e,t);return n.concat(o.toArray())})()}),BM=(e,t)=>t.get().getOrDie(`UI for ${e} has not been rendered`),FM=(e,t)=>{const n=e.inline,o=n?tD:GT,r=Gg(e)?dO:OE,i=(()=>{const e=Wl(),t=Wl(),n=Wl();return{dialogUi:e,popupUi:t,mainUi:n,getUiMotherships:()=>{const n=e.get().map((e=>e.mothership)),o=t.get().map((e=>e.mothership));return n.fold((()=>o.toArray()),(e=>o.fold((()=>[e]),(t=>Ke(e.element,t.element)?[e]:[e,t]))))},lazyGetInOuterOrDie:(e,t)=>()=>n.get().bind((e=>t(e.outerContainer))).getOrDie(`Could not find ${e} element in OuterContainer`)}})(),s=Wl(),a=Wl(),l=Wl(),c=An().deviceType.isTouch()?["tox-platform-touch"]:[],d=zg(e),u=ug(e),h=Mf({dom:{tag:"div",classes:["tox-anchorbar"]}}),m=()=>i.mainUi.get().map((e=>e.outerContainer)).bind(zA.getHeader),p=i.lazyGetInOuterOrDie("anchor bar",h.getOpt),f=i.lazyGetInOuterOrDie("toolbar",zA.getToolbar),g=i.lazyGetInOuterOrDie("throbber",zA.getThrobber),v=((e,t,n)=>{const o=Cr(!1),r=(e=>{const t=Cr(zg(e)?"bottom":"top");return{isPositionedAtTop:()=>"top"===t.get(),getDockingMode:t.get,setDockingMode:t.set}})(t),i={icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:Pf.translate,isDisabled:()=>t.mode.isReadOnly()||!t.ui.isEnabled(),getOption:t.options.get},s=pE(t),a=(e=>{const t=t=>()=>e.formatter.match(t),n=t=>()=>{const n=e.formatter.get(t);return void 0!==n?A.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):A.none()},o=Cr([]),r=Cr([]),i=Cr(!1);return e.on("PreInit",(r=>{const i=Vk(e),s=Uk(e,i,t,n);o.set(s)})),e.on("addStyleModifications",(o=>{const s=Uk(e,o.items,t,n);r.set(s),i.set(o.replace)})),{getData:()=>{const e=i.get()?[]:o.get(),t=r.get();return e.concat(t)}}})(t),l=(e=>({colorPicker:Mk(e),hasCustomColors:Pk(e),getColors:Rk(e),getColorCols:Nk(e)}))(t),c=(e=>({isDraggableModal:Lk(e)}))(t),d={shared:{providers:i,anchors:Dk(t,n,r.isPositionedAtTop),header:r},urlinput:s,styles:a,colorinput:l,dialog:c,isContextMenuOpen:()=>o.get(),setContextMenuState:e=>o.set(e)},u={...d,shared:{...d.shared,interpreter:e=>sk(e,{},u),getSink:e.popup}},h={...d,shared:{...d.shared,interpreter:e=>sk(e,{},h),getSink:e.dialog}};return{popup:u,dialog:h}})({popup:()=>no.fromOption(i.popupUi.get().map((e=>e.sink)),"(popup) UI has not been rendered"),dialog:()=>no.fromOption(i.dialogUi.get().map((e=>e.sink)),"UI has not been rendered")},e,p),b=()=>{const t=(()=>{const t={attributes:{[cc]:d?lc.BottomToTop:lc.TopToBottom}},n=zA.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:v.popup,onEscape:()=>{e.focus()}}),o=zA.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:v.popup.shared.getSink,providers:v.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:t=>{((e,t)=>{e.dispatch("ToggleToolbarDrawer",{state:t})})(e,t)},type:u,lazyToolbar:f,lazyHeader:()=>m().getOrDie("Could not find header element"),...t}),r=zA.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:v.popup.shared.providers,onEscape:()=>{e.focus()},type:u}),i=Vg(e),s=Fg(e),a=Lg(e),l=Rg(e),c=zA.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),p=i||s||a,g=l?[c,n]:[n];return zA.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(p?[]:["tox-editor-header--empty"]),...t},components:G([a?g:[],i?[r]:s?[o]:[],Wg(e)?[]:[h.asSpec()]]),sticky:Gg(e),editor:e,sharedBackstage:v.popup.shared})})(),o={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[zA.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),zA.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},r=zA.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:v.popup}),i=zA.parts.viewWrapper({backstage:v.popup}),a=Og(e)&&!n?A.some(IM(e,v.popup.shared.providers)):A.none(),l=G([d?[]:[t],n?[]:[o],d?[t]:[]]),p=zA.parts.editorContainer({components:G([l,n?[]:a.toArray()])}),g=Zg(e),b={role:"application",...Pf.isRtl()?{dir:"rtl"}:{},...g?{"aria-hidden":"true"}:{}},y=Xs(zA.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(d?["tox-tinymce--toolbar-bottom"]:[]).concat(c),styles:{visibility:"hidden",...g?{opacity:"0",border:"0"}:{}},attributes:b},components:[p,...n?[]:[i],r],behaviours:fl([sy(),Sh.config({disableClass:"tox-tinymce--disabled"}),Ap.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),w=Tx(y);return s.set(w),{mothership:w,outerContainer:y}},y=t=>{const n=YT((e=>{const t=(e=>{const t=eg(e),n=og(e),o=ig(e);return $T(t).map((e=>KT(e,n,o)))})(e);return t.getOr(eg(e))})(e)),o=YT((e=>XT(e).getOr(tg(e)))(e));return e.inline||(Lt("div","width",o)&&At(t.element,"width",o),Lt("div","height",n)?At(t.element,"height",n):At(t.element,"height","400px")),n};return{popups:{backstage:v.popup,getMothership:()=>BM("popups",l)},dialogs:{backstage:v.dialog,getMothership:()=>BM("dialogs",a)},renderUI:()=>{const n=b(),s=(()=>{const t=qg(e),n=Ke(bt(),t)&&"grid"===Mt(t,"display"),o={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(c),attributes:{...Pf.isRtl()?{dir:"rtl"}:{}}},behaviours:fl([dd.config({useFixed:()=>r.isDocked(m)})])},i={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ni([Bi(vi(),(e=>{At(e.element,"width",document.body.clientWidth+"px")}))])},s=Xs(po(o,n?i:{})),l=Tx(s);return a.set(l),{sink:s,mothership:l}})(),d=$g(e)?(()=>{const e={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(c),attributes:{...Pf.isRtl()?{dir:"rtl"}:{}}},behaviours:fl([dd.config({useFixed:()=>r.isDocked(m),getBounds:()=>t.getPopupSinkBounds()})])},n=Xs(e),o=Tx(n);return l.set(o),{sink:n,mothership:o}})():(e=>(l.set(e.mothership),e))(s);return i.dialogUi.set(s),i.popupUi.set(d),i.mainUi.set(n),(t=>{const{mainUi:n,popupUi:i,uiMotherships:s}=t;ce(hg(e),((t,n)=>{e.ui.registry.addGroupToolbarButton(n,t)}));const{buttons:a,menuItems:l,contextToolbars:c,sidebars:d,views:h}=e.ui.registry.getAll(),p=Hg(e),f={menuItems:l,menus:Yg(e),menubar:bg(e),toolbar:p.getOrThunk((()=>yg(e))),allowToolbarGroups:u===qf.floating,buttons:a,sidebar:d,views:h};var b;b=n.outerContainer,e.addShortcut("alt+F9","focus menubar",(()=>{zA.focusMenubar(b)})),e.addShortcut("alt+F10","focus toolbar",(()=>{zA.focusToolbar(b)})),e.addCommand("ToggleToolbarDrawer",((e,t)=>{(null==t?void 0:t.skipFocus)?zA.toggleToolbarDrawerWithoutFocusing(b):zA.toggleToolbarDrawer(b)})),e.addQueryStateHandler("ToggleToolbarDrawer",(()=>zA.isToolbarDrawerToggled(b))),((e,t,n)=>{const o=(e,o)=>{H([t,...n],(t=>{t.broadcastEvent(e,o)}))},r=(e,o)=>{H([t,...n],(t=>{t.broadcastOn([e],o)}))},i=e=>r(Id(),{target:e.target}),s=Wn(),a=Zl(s,"touchstart",i),l=Zl(s,"touchmove",(e=>o(pi(),e))),c=Zl(s,"touchend",(e=>o(fi(),e))),d=Zl(s,"mousedown",i),u=Zl(s,"mouseup",(e=>{0===e.raw.button&&r(Fd(),{target:e.target})})),h=e=>r(Id(),{target:Le(e.target)}),m=e=>{0===e.button&&r(Fd(),{target:Le(e.target)})},p=()=>{H(e.editorManager.get(),(t=>{e!==t&&t.dispatch("DismissPopups",{relatedTarget:e})}))},f=e=>o(gi(),$l(e)),g=e=>{r(Bd(),{}),o(vi(),$l(e))},v=mt(Le(e.getElement())),b=Gl(v,"scroll",(n=>{requestAnimationFrame((()=>{if(null!=e.getContainer()){const r=yx(e,t.element).map((e=>[e.element,...e.others])).getOr([]);L(r,(e=>Ke(e,n.target)))&&(e.dispatch("ElementScroll",{target:n.target.dom}),o(Ci(),n))}}))})),y=()=>r(Bd(),{}),w=t=>{t.state&&r(Id(),{target:Le(e.getContainer())})},x=e=>{r(Id(),{target:Le(e.relatedTarget.getContainer())})};e.on("PostRender",(()=>{e.on("click",h),e.on("tap",h),e.on("mouseup",m),e.on("mousedown",p),e.on("ScrollWindow",f),e.on("ResizeWindow",g),e.on("ResizeEditor",y),e.on("AfterProgressState",w),e.on("DismissPopups",x)})),e.on("remove",(()=>{e.off("click",h),e.off("tap",h),e.off("mouseup",m),e.off("mousedown",p),e.off("ScrollWindow",f),e.off("ResizeWindow",g),e.off("ResizeEditor",y),e.off("AfterProgressState",w),e.off("DismissPopups",x),d.unbind(),a.unbind(),l.unbind(),c.unbind(),u.unbind(),b.unbind()})),e.on("detach",(()=>{H([t,...n],jd),H([t,...n],(e=>e.destroy()))}))})(e,n.mothership,s),r.setup(e,v.popup.shared,m),kD(e,v.popup),ZD(e,v.popup.shared.getSink,v.popup),(e=>{const{sidebars:t}=e.ui.registry.getAll();H(se(t),(n=>{const o=t[n],r=()=>we(A.from(e.queryCommandValue("ToggleSidebar")),n);e.ui.registry.addToggleButton(n,{icon:o.icon,tooltip:o.tooltip,onAction:t=>{e.execCommand("ToggleSidebar",!1,n),t.setActive(r())},onSetup:t=>{t.setActive(r());const n=()=>t.setActive(r());return e.on("ToggleSidebar",n),()=>{e.off("ToggleSidebar",n)}}})}))})(e),LO(e,g,v.popup.shared),bD(e,c,i.sink,{backstage:v.popup}),((e,t)=>{const n=Cr([]),o=Cr([]),r=Cr(!1),i=Wl(),s=Wl(),a=e=>{const n=Kn(e);return DM(u.getOpt(t),e,n.x,n.y,n.width,n.height)},l=e=>{const n=Kn(e);return DM(h.getOpt(t),e,n.right,n.bottom,n.width,n.height)},c=MM((()=>F(n.get(),(e=>a(e)))),i,(t=>{s.get().each((n=>{e.dispatch("TableSelectorChange",{start:t,finish:n})}))})),d=MM((()=>F(o.get(),(e=>l(e)))),s,(t=>{i.get().each((n=>{e.dispatch("TableSelectorChange",{start:n,finish:t})}))})),u=PM(c),h=PM(d),m=Xs(u.asSpec()),p=Xs(h.asSpec()),f=(t,n,o,r)=>{const i=o(n);TM.snapTo(t,i),((t,n,o,i)=>{const s=n.dom.getBoundingClientRect();It(t.element,"display");const a=tt(Le(e.getBody())).dom.innerHeight,l=s[r]<0,c=((e,t)=>e[r]>t)(s,a);(l||c)&&At(t.element,"display","none")})(t,n)},g=e=>f(m,e,a,"top"),v=e=>f(p,e,l,"bottom");An().deviceType.isTouch()&&(e.on("TableSelectionChange",(e=>{r.get()||(vd(t,m),vd(t,p),r.set(!0)),i.set(e.start),s.set(e.finish),e.otherCells.each((t=>{n.set(t.upOrLeftCells),o.set(t.downOrRightCells),g(e.start),v(e.finish)}))})),e.on("ResizeEditor ResizeWindow ScrollContent",(()=>{i.get().each(g),s.get().each(v)})),e.on("TableSelectionClear",(()=>{r.get()&&(wd(m),wd(p),r.set(!1)),i.clear(),s.clear()})))})(e,i.sink);const w={targetNode:e.getElement(),height:y(n.outerContainer)};return o.render(e,t,f,v.popup,w)})({popupUi:d,dialogUi:s,mainUi:n,uiMotherships:i.getUiMotherships()})}}},HM=w([Qo("lazySink"),ar("dragBlockClass"),xr("getBounds",Qn),fr("useTabstopAt",O),fr("firstTabstop",0),fr("eventOrder",{}),ou("modalBehaviours",[Ap]),Ca("onExecute"),ka("onEscape")]),VM={sketch:x},zM=w([Mu({name:"draghandle",overrides:(e,t)=>({behaviours:fl([TM.config({mode:"mouse",getTarget:e=>ra(e,'[role="dialog"]').getOr(e),blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),Tu({schema:[Qo("dom")],name:"title"}),Tu({factory:VM,schema:[Qo("dom")],name:"close"}),Tu({factory:VM,schema:[Qo("dom")],name:"body"}),Mu({factory:VM,schema:[Qo("dom")],name:"footer"}),Du({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[fr("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),fr("components",[])],name:"blocker"})]),UM=ih({name:"ModalDialog",configFields:HM(),partFields:zM(),factory:(e,t,n,o)=>{const r=Wl(),i=os("modal-events"),s={...e.eventOrder,[bi()]:[i].concat(e.eventOrder["alloy.system.attached"]||[])};return{uid:e.uid,dom:e.dom,components:t,apis:{show:t=>{r.set(t);const n=e.lazySink(t).getOrDie(),i=o.blocker(),s=n.getSystem().build({...i,components:i.components.concat([Qs(t)]),behaviours:fl([Wp.config({}),Fp("dialog-blocker-events",[qi(Wr(),(()=>{Ap.focusIn(t)}))])])});vd(n,s),Ap.focusIn(t)},hide:e=>{r.clear(),nt(e.element).each((t=>{e.getSystem().getByDom(t).each((e=>{wd(e)}))}))},getBody:t=>qu(t,e,"body"),getFooter:t=>qu(t,e,"footer"),setIdle:e=>{PO.unblock(e)},setBusy:(e,t)=>{PO.block(e,t)}},eventOrder:s,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:iu(e.modalBehaviours,[Bp.config({}),Ap.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),PO.config({getRoot:r.get}),Fp(i,[Zi((t=>{((e,t)=>{const n=Ct(e,"id").fold((()=>{const e=os("dialog-label");return xt(t,"id",e),e}),x);xt(e,"aria-labelledby",n)})(t.element,qu(t,e,"title").element),((e,t)=>{const n=A.from(St(e,"id")).fold((()=>{const e=os("dialog-describe");return xt(t,"id",e),e}),x);xt(e,"aria-describedby",n)})(t.element,qu(t,e,"body").element)}))])])}},apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,n)=>{e.setBusy(t,n)},setIdle:(e,t)=>{e.setIdle(t)}}}),WM=Oo([Fv,Hv].concat(Nb)),qM=Lo,ZM=[hb("button"),Jv,yr("align","end",["start","end"]),ab,sb,ur("buttonType",["primary","secondary"])],GM=[...ZM,zv],$M=[nr("type",["submit","cancel","custom"]),...GM],YM=[nr("type",["menu"]),Qv,eb,Jv,sr("items",WM),...ZM],KM=[...ZM,nr("type",["togglebutton"]),tr("tooltip"),Wv,Qv,wr("active",!1)],XM=Go("type",{submit:$M,cancel:$M,custom:$M,menu:YM,togglebutton:KM}),QM=[Fv,zv,nr("level",["info","warn","error","success"]),Wv,fr("url","")],JM=Oo(QM),eP=[Fv,zv,sb,hb("button"),Jv,ib,ur("buttonType",["primary","secondary","toolbar"]),ab],tP=Oo(eP),nP=[Fv,Hv],oP=nP.concat([tb]),rP=nP.concat([Vv,sb]),iP=Oo(rP),sP=Lo,aP=oP.concat([lb("auto")]),lP=Oo(aP),cP=Do([qv,zv,Wv]),dP=oP.concat([br("storageKey","default")]),uP=Oo(dP),hP=No,mP=Oo(oP),pP=No,fP=nP.concat([br("tag","textarea"),tr("scriptId"),tr("scriptUrl"),gr("settings",void 0,Fo)]),gP=nP.concat([br("tag","textarea"),or("init")]),vP=Vo((e=>Uo("customeditor.old",Eo(gP),e).orThunk((()=>Uo("customeditor.new",Eo(fP),e))))),bP=No,yP=Oo(oP),wP=Ao(So),xP=e=>[Fv,er("columns"),e],_P=[Fv,tr("html"),yr("presets","presentation",["presentation","document"])],SP=Oo(_P),CP=oP.concat([wr("sandboxed",!0),wr("transparent",!0)]),jP=Oo(CP),kP=No,EP=Oo(nP.concat([dr("height")])),OP=Oo([tr("url"),cr("zoom"),cr("cachedWidth"),cr("cachedHeight")]),AP=oP.concat([dr("inputMode"),dr("placeholder"),wr("maximized",!1),sb]),TP=Oo(AP),DP=No,MP=e=>[Fv,Vv,e],PP=[zv,qv],RP=[zv,sr("items",$o(0,(()=>NP)))],NP=To([Oo(PP),Oo(RP)]),LP=oP.concat([sr("items",NP),sb]),IP=Oo(LP),BP=No,FP=oP.concat([ir("items",[zv,qv]),vr("size",1),sb]),HP=Oo(FP),VP=No,zP=oP.concat([wr("constrain",!0),sb]),UP=Oo(zP),WP=Oo([tr("width"),tr("height")]),qP=nP.concat([Vv,vr("min",0),vr("max",0)]),ZP=Oo(qP),GP=Ro,$P=[Fv,sr("header",No),sr("cells",Ao(No))],YP=Oo($P),KP=oP.concat([dr("placeholder"),wr("maximized",!1),sb]),XP=Oo(KP),QP=No,JP=[nr("type",["directory","leaf"]),Uv,tr("id"),lr("menu",mO)],eR=Oo(JP),tR=JP.concat([sr("children",$o(0,(()=>Ho("type",{directory:nR,leaf:eR}))))]),nR=Oo(tR),oR=Ho("type",{directory:nR,leaf:eR}),rR=[Fv,sr("items",oR),hr("onLeafAction")],iR=Oo(rR),sR=oP.concat([yr("filetype","file",["image","media","file"]),sb]),aR=Oo(sR),lR=Oo([qv,cb]),cR=e=>Yo("items","items",{tag:"required",process:{}},Ao(Vo((t=>Uo(`Checking item of ${e}`,dR,t).fold((e=>no.error(Zo(e))),(e=>no.value(e))))))),dR=ko((()=>{return Ho("type",{alertbanner:JM,bar:Oo((e=cR("bar"),[Fv,e])),button:tP,checkbox:iP,colorinput:uP,colorpicker:mP,dropzone:yP,grid:Oo(xP(cR("grid"))),iframe:jP,input:TP,listbox:IP,selectbox:HP,sizeinput:UP,slider:ZP,textarea:XP,urlinput:aR,customeditor:vP,htmlpanel:SP,imagepreview:EP,collection:lP,label:Oo(MP(cR("label"))),table:YP,tree:iR,panel:hR});var e})),uR=[Fv,fr("classes",[]),sr("items",dR)],hR=Oo(uR),mR=[hb("tab"),Uv,sr("items",dR)],pR=[Fv,ir("tabs",mR)],fR=Oo(pR),gR=GM,vR=XM,bR=Oo([tr("title"),Jo("body",Ho("type",{panel:hR,tabpanel:fR})),br("size","normal"),sr("buttons",vR),fr("initialData",{}),xr("onAction",v),xr("onChange",v),xr("onSubmit",v),xr("onClose",v),xr("onCancel",v),xr("onTabChange",v)]),yR=Oo([nr("type",["cancel","custom"]),...gR]),wR=Oo([tr("title"),tr("url"),cr("height"),cr("width"),mr("buttons",yR),xr("onAction",v),xr("onCancel",v),xr("onClose",v),xr("onMessage",v)]),xR=e=>s(e)?[e].concat($(ge(e),xR)):l(e)?$(e,xR):[],_R=e=>i(e.type)&&i(e.name),SR={checkbox:sP,colorinput:hP,colorpicker:pP,dropzone:wP,input:DP,iframe:kP,imagepreview:OP,selectbox:VP,sizeinput:WP,slider:GP,listbox:BP,size:WP,textarea:QP,urlinput:lR,customeditor:bP,collection:cP,togglemenuitem:qM},CR=e=>{const t=(e=>z(xR(e),_R))(e),n=$(t,(e=>(e=>A.from(SR[e.type]))(e).fold((()=>[]),(t=>[Jo(e.name,t)]))));return Oo(n)},jR=e=>{var t;return{internalDialog:Wo(Uo("dialog",bR,e)),dataValidator:CR(e),initialData:null!==(t=e.initialData)&&void 0!==t?t:{}}},kR={open:(e,t)=>{const n=jR(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:(e,t)=>e(Wo(Uo("dialog",wR,t))),redial:e=>jR(e)};var ER=Object.freeze({__proto__:null,events:(e,t)=>{const n=(n,o)=>{e.updateState.each((e=>{const r=e(n,o);t.set(r)})),e.renderComponents.each((r=>{const i=r(o,t.get());(e.reuseDom?Dp:Tp)(n,i)}))};return Ni([Bi(si(),((t,o)=>{const r=o;if(!r.universal){const o=e.channel;N(r.channels,o)&&n(t,r.data)}})),Zi(((t,o)=>{e.initialData.each((e=>{n(t,e)}))}))])}}),OR=Object.freeze({__proto__:null,getState:(e,t,n)=>n}),AR=[Qo("channel"),ar("renderComponents"),ar("updateState"),ar("initialData"),wr("reuseDom",!0)];const TR=vl({fields:AR,name:"reflecting",active:ER,apis:OR,state:Object.freeze({__proto__:null,init:()=>{const e=Cr(A.none());return{readState:()=>e.get().getOr("none"),get:e.get,set:e.set,clear:()=>e.set(A.none())}}})}),DR=e=>{const t=[],n={};return le(e,((e,o)=>{e.fold((()=>{t.push(o)}),(e=>{n[o]=e}))})),t.length>0?no.error(t):no.value(n)},MR=(e,t,n)=>{const o=Mf(XS.sketch((o=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:F(e.items,(e=>rk(o,e,t,n)))}))));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:fl([Ap.config({mode:"acyclic",useTabstopAt:C(xC)}),(r=o,ch.config({find:r.getOpt})),lC(o,{postprocess:e=>DR(e).fold((e=>(console.error(e),{})),x)})])};var r},PR=rh({name:"TabButton",configFields:[fr("uid",void 0),Qo("value"),Yo("dom","dom",bo((()=>({attributes:{role:"tab",id:os("aria"),"aria-selected":"false"}}))),Mo()),ar("action"),fr("domModification",{}),ou("tabButtonBehaviours",[Wp,Ap,nu]),Qo("view")],factory:(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:ef(e.action),behaviours:iu(e.tabButtonBehaviours,[Wp.config({}),Ap.config({mode:"execution",useSpace:!0,useEnter:!0}),nu.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification})}),RR=w([Qo("tabs"),Qo("dom"),fr("clickToDismiss",!1),ou("tabbarBehaviours",[Ph,Ap]),xa(["tabClass","selectedClass"])]),NR=Pu({factory:PR,name:"tabs",unit:"tab",overrides:e=>{const t=(e,t)=>{Ph.dehighlight(e,t),Ti(e,ki(),{tabbar:e,button:t})},n=(e,t)=>{Ph.highlight(e,t),Ti(e,ji(),{tabbar:e,button:t})};return{action:o=>{const r=o.getSystem().getByUid(e.uid).getOrDie(),i=Ph.isHighlighted(r,o);(i&&e.clickToDismiss?t:i?v:n)(r,o)},domModification:{classes:[e.markers.tabClass]}}}}),LR=w([NR]),IR=ih({name:"Tabbar",configFields:RR(),partFields:LR(),factory:(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:iu(e.tabbarBehaviours,[Ph.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(e,t)=>{xt(t.element,"aria-selected","true")},onDehighlight:(e,t)=>{xt(t.element,"aria-selected","false")}}),Ap.config({mode:"flow",getInitial:e=>Ph.getHighlighted(e).map((e=>e.element)),selector:"."+e.markers.tabClass,executeOnMove:!0})])})}),BR=rh({name:"Tabview",configFields:[ou("tabviewBehaviours",[Bp])],factory:(e,t)=>({uid:e.uid,dom:e.dom,behaviours:iu(e.tabviewBehaviours,[Bp.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),FR=w([fr("selectFirst",!0),Sa("onChangeTab"),Sa("onDismissTab"),fr("tabs",[]),ou("tabSectionBehaviours",[])]),HR=Tu({factory:IR,schema:[Qo("dom"),rr("markers",[Qo("tabClass"),Qo("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),VR=Tu({factory:BR,name:"tabview"}),zR=w([HR,VR]),UR=ih({name:"TabSection",configFields:FR(),partFields:zR(),factory:(e,t,n,o)=>{const r=(t,n)=>{Wu(t,e,"tabbar").each((e=>{n(e).each(Di)}))};return{uid:e.uid,dom:e.dom,components:t,behaviours:ru(e.tabSectionBehaviours),events:Ni(G([e.selectFirst?[Zi(((e,t)=>{r(e,Ph.getFirst)}))]:[],[Bi(ji(),((t,n)=>{(t=>{const n=nu.getValue(t);Wu(t,e,"tabview").each((o=>{q(e.tabs,(e=>e.value===n)).each((n=>{const r=n.view();Ct(t.element,"id").each((e=>{xt(o.element,"aria-labelledby",e)})),Bp.set(o,r),e.onChangeTab(o,t,r)}))}))})(n.event.button)})),Bi(ki(),((t,n)=>{const o=n.event.button;e.onDismissTab(t,o)}))]])),apis:{getViewItems:t=>Wu(t,e,"tabview").map((e=>Bp.contents(e))).getOr([]),showTab:(e,t)=>{r(e,(e=>{const n=Ph.getCandidates(e);return q(n,(e=>nu.getValue(e)===t)).filter((t=>!Ph.isHighlighted(e,t)))}))}}}},apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,n)=>{e.showTab(t,n)}}}),WR=(e,t)=>{At(e,"height",t+"px"),At(e,"flex-basis",t+"px")},qR=(e,t,n)=>{ra(e,'[role="dialog"]').each((e=>{sa(e,'[role="tablist"]').each((o=>{n.get().map((n=>(At(t,"height","0"),At(t,"flex-basis","0"),Math.min(n,((e,t,n)=>{const o=et(e).dom,r=ra(e,".tox-dialog-wrap").getOr(e);let i;i="fixed"===Mt(r,"position")?Math.max(o.clientHeight,window.innerHeight):Math.max(o.offsetHeight,o.scrollHeight);const s=Vt(t),a=t.dom.offsetLeft>=n.dom.offsetLeft+Yt(n)?Math.max(Vt(n),s):s,l=parseInt(Mt(e,"margin-top"),10)||0,c=parseInt(Mt(e,"margin-bottom"),10)||0;return i-(Vt(e)+l+c-a)})(e,t,o))))).each((e=>{WR(t,e)}))}))}))},ZR=e=>sa(e,'[role="tabpanel"]'),GR="send-data-to-section",$R="send-data-to-view",YR=(e,t,n)=>{const o=Cr({}),r=e=>{const t=nu.getValue(e),n=DR(t).getOr({}),r=o.get(),i=po(r,n);o.set(i)},i=e=>{const t=o.get();nu.setValue(e,t)},s=Cr(null),a=F(e.tabs,(e=>({value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Gs(n.shared.providers.translate(e.title))],view:()=>[XS.sketch((o=>({dom:{tag:"div",classes:["tox-form"]},components:F(e.items,(e=>rk(o,e,t,n))),formBehaviours:fl([Ap.config({mode:"acyclic",useTabstopAt:C(xC)}),Fp("TabView.form.events",[Zi(i),Gi(r)]),xl.config({channels:Er([{key:GR,value:{onReceive:r}},{key:$R,value:{onReceive:i}}])})])})))]}))),l=(e=>{const t=Wl(),n=[Zi((n=>{const o=n.element;ZR(o).each((r=>{At(r,"visibility","hidden"),n.getSystem().getByDom(r).toOptional().each((n=>{const o=((e,t,n)=>F(e,((o,r)=>{Bp.set(n,e[r].view());const i=t.dom.getBoundingClientRect();return Bp.set(n,[]),i.height})))(e,r,n),i=(e=>ne(ee(e,((e,t)=>e>t?-1:e<t?1:0))))(o);i.fold(t.clear,t.set)})),qR(o,r,t),It(r,"visibility"),((e,t)=>{ne(e).each((e=>UR.showTab(t,e.value)))})(e,n),requestAnimationFrame((()=>{qR(o,r,t)}))}))})),Bi(vi(),(e=>{const n=e.element;ZR(n).each((e=>{qR(n,e,t)}))})),Bi(Kx,((e,n)=>{const o=e.element;ZR(o).each((e=>{const n=kl(mt(e));At(e,"visibility","hidden");const r=Rt(e,"height").map((e=>parseInt(e,10)));It(e,"height"),It(e,"flex-basis");const i=e.dom.getBoundingClientRect().height;r.forall((e=>i>e))?(t.set(i),qR(o,e,t)):r.each((t=>{WR(e,t)})),It(e,"visibility"),n.each(Sl)}))}))];return{extraEvents:n,selectFirst:!1}})(a);return UR.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(e,t,n)=>{const o=nu.getValue(t);Ti(e,Yx,{name:o,oldName:s.get()}),s.set(o)},tabs:a,components:[UR.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[IR.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:fl([Lx.config({})])}),UR.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:l.selectFirst,tabSectionBehaviours:fl([Fp("tabpanel",l.extraEvents),Ap.config({mode:"acyclic"}),ch.config({find:e=>ne(UR.getViewItems(e))}),dC(A.none(),(e=>(e.getSystem().broadcastOn([GR],{}),o.get())),((e,t)=>{o.set(t),e.getSystem().broadcastOn([$R],{})}))])})},KR=os("update-dialog"),XR=os("update-title"),QR=os("update-body"),JR=os("update-footer"),eN=os("body-send-message"),tN=(e,t,n,o,r)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...n.map((e=>({id:e}))).getOr({}),...r?{"aria-live":"polite"}:{}}},components:[],behaviours:fl([rC(0),TR.config({channel:`${QR}-${t}`,updateState:(e,t)=>A.some({isTabPanel:()=>"tabpanel"===t.body.type}),renderComponents:e=>{const t=e.body;return"tabpanel"===t.type?[YR(t,e.initialData,o)]:[MR(t,e.initialData,o)]},initialData:e})])});function nN(e){return nN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nN(e)}function oN(e,t){return oN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},oN(e,t)}function rN(e,t,n){return rN=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&oN(r,n.prototype),r},rN.apply(null,arguments)}function iN(e){return function(e){if(Array.isArray(e))return sN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return sN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sN(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var aN=Object.hasOwnProperty,lN=Object.setPrototypeOf,cN=Object.isFrozen,dN=Object.getPrototypeOf,uN=Object.getOwnPropertyDescriptor,hN=Object.freeze,mN=Object.seal,pN=Object.create,fN="undefined"!=typeof Reflect&&Reflect,gN=fN.apply,vN=fN.construct;gN||(gN=function(e,t,n){return e.apply(t,n)}),hN||(hN=function(e){return e}),mN||(mN=function(e){return e}),vN||(vN=function(e,t){return rN(e,iN(t))});var bN,yN=AN(Array.prototype.forEach),wN=AN(Array.prototype.pop),xN=AN(Array.prototype.push),_N=AN(String.prototype.toLowerCase),SN=AN(String.prototype.match),CN=AN(String.prototype.replace),jN=AN(String.prototype.indexOf),kN=AN(String.prototype.trim),EN=AN(RegExp.prototype.test),ON=(bN=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vN(bN,t)});function AN(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return gN(e,t,o)}}function TN(e,t){lN&&lN(e,null);for(var n=t.length;n--;){var o=t[n];if("string"==typeof o){var r=_N(o);r!==o&&(cN(t)||(t[n]=r),o=r)}e[o]=!0}return e}function DN(e){var t,n=pN(null);for(t in e)gN(aN,e,[t])&&(n[t]=e[t]);return n}function MN(e,t){for(;null!==e;){var n=uN(e,t);if(n){if(n.get)return AN(n.get);if("function"==typeof n.value)return AN(n.value)}e=dN(e)}return function(e){return console.warn("fallback value for",e),null}}var PN=hN(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),RN=hN(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),NN=hN(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),LN=hN(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),IN=hN(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),BN=hN(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),FN=hN(["#text"]),HN=hN(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),VN=hN(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),zN=hN(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),UN=hN(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),WN=mN(/\{\{[\w\W]*|[\w\W]*\}\}/gm),qN=mN(/<%[\w\W]*|[\w\W]*%>/gm),ZN=mN(/^data-[\-\w.\u00B7-\uFFFF]/),GN=mN(/^aria-[\-\w]+$/),$N=mN(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),YN=mN(/^(?:\w+script|data):/i),KN=mN(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),XN=mN(/^html$/i),QN=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,n=function(t){return e(t)};if(n.version="2.3.8",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var o=t.document,r=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,l=t.Element,c=t.NodeFilter,d=t.NamedNodeMap,u=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,h=t.HTMLFormElement,m=t.DOMParser,p=t.trustedTypes,f=l.prototype,g=MN(f,"cloneNode"),v=MN(f,"nextSibling"),b=MN(f,"childNodes"),y=MN(f,"parentNode");if("function"==typeof s){var w=r.createElement("template");w.content&&w.content.ownerDocument&&(r=w.content.ownerDocument)}var x=function(e,t){if("object"!==nN(e)||"function"!=typeof e.createPolicy)return null;var n=null,o="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(o)&&(n=t.currentScript.getAttribute(o));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}}(p,o),_=x?x.createHTML(""):"",S=r,C=S.implementation,j=S.createNodeIterator,k=S.createDocumentFragment,E=S.getElementsByTagName,O=o.importNode,A={};try{A=DN(r).documentMode?r.documentMode:{}}catch(e){}var T={};n.isSupported="function"==typeof y&&C&&void 0!==C.createHTMLDocument&&9!==A;var D,M,P=WN,R=qN,N=ZN,L=GN,I=YN,B=KN,F=$N,H=null,V=TN({},[].concat(iN(PN),iN(RN),iN(NN),iN(IN),iN(FN))),z=null,U=TN({},[].concat(iN(HN),iN(VN),iN(zN),iN(UN))),W=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,Z=null,G=!0,$=!0,Y=!1,K=!1,X=!1,Q=!1,J=!1,ee=!1,te=!1,ne=!1,oe=!0,re=!0,ie=!1,se={},ae=null,le=TN({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ce=null,de=TN({},["audio","video","img","source","image","track"]),ue=null,he=TN({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",pe="http://www.w3.org/2000/svg",fe="http://www.w3.org/1999/xhtml",ge=fe,ve=!1,be=["application/xhtml+xml","text/html"],ye=null,we=r.createElement("form"),xe=function(e){return e instanceof RegExp||e instanceof Function},_e=function(e){ye&&ye===e||(e&&"object"===nN(e)||(e={}),e=DN(e),H="ALLOWED_TAGS"in e?TN({},e.ALLOWED_TAGS):V,z="ALLOWED_ATTR"in e?TN({},e.ALLOWED_ATTR):U,ue="ADD_URI_SAFE_ATTR"in e?TN(DN(he),e.ADD_URI_SAFE_ATTR):he,ce="ADD_DATA_URI_TAGS"in e?TN(DN(de),e.ADD_DATA_URI_TAGS):de,ae="FORBID_CONTENTS"in e?TN({},e.FORBID_CONTENTS):le,q="FORBID_TAGS"in e?TN({},e.FORBID_TAGS):{},Z="FORBID_ATTR"in e?TN({},e.FORBID_ATTR):{},se="USE_PROFILES"in e&&e.USE_PROFILES,G=!1!==e.ALLOW_ARIA_ATTR,$=!1!==e.ALLOW_DATA_ATTR,Y=e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=e.SAFE_FOR_TEMPLATES||!1,X=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,J=e.FORCE_BODY||!1,oe=!1!==e.SANITIZE_DOM,re=!1!==e.KEEP_CONTENT,ie=e.IN_PLACE||!1,F=e.ALLOWED_URI_REGEXP||F,ge=e.NAMESPACE||fe,e.CUSTOM_ELEMENT_HANDLING&&xe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&xe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(W.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),D=D=-1===be.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,M="application/xhtml+xml"===D?function(e){return e}:_N,K&&($=!1),te&&(ee=!0),se&&(H=TN({},iN(FN)),z=[],!0===se.html&&(TN(H,PN),TN(z,HN)),!0===se.svg&&(TN(H,RN),TN(z,VN),TN(z,UN)),!0===se.svgFilters&&(TN(H,NN),TN(z,VN),TN(z,UN)),!0===se.mathMl&&(TN(H,IN),TN(z,zN),TN(z,UN))),e.ADD_TAGS&&(H===V&&(H=DN(H)),TN(H,e.ADD_TAGS)),e.ADD_ATTR&&(z===U&&(z=DN(z)),TN(z,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&TN(ue,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(ae===le&&(ae=DN(ae)),TN(ae,e.FORBID_CONTENTS)),re&&(H["#text"]=!0),X&&TN(H,["html","head","body"]),H.table&&(TN(H,["tbody"]),delete q.tbody),hN&&hN(e),ye=e)},Se=TN({},["mi","mo","mn","ms","mtext"]),Ce=TN({},["foreignobject","desc","title","annotation-xml"]),je=TN({},["title","style","font","a","script"]),ke=TN({},RN);TN(ke,NN),TN(ke,LN);var Ee=TN({},IN);TN(Ee,BN);var Oe=function(e){xN(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=_}catch(t){e.remove()}}},Ae=function(e,t){try{xN(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){xN(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!z[e])if(ee||te)try{Oe(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Te=function(e){var t,n;if(J)e="<remove></remove>"+e;else{var o=SN(e,/^[\r\n\t ]+/);n=o&&o[0]}"application/xhtml+xml"===D&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=x?x.createHTML(e):e;if(ge===fe)try{t=(new m).parseFromString(i,D)}catch(e){}if(!t||!t.documentElement){t=C.createDocument(ge,"template",null);try{t.documentElement.innerHTML=ve?"":i}catch(e){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(r.createTextNode(n),s.childNodes[0]||null),ge===fe?E.call(t,X?"html":"body")[0]:X?t.documentElement:s},De=function(e){return j.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Me=function(e){return"object"===nN(a)?e instanceof a:e&&"object"===nN(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Pe=function(e,t,o){T[e]&&yN(T[e],(function(e){e.call(n,t,o,ye)}))},Re=function(e){var t;if(Pe("beforeSanitizeElements",e,null),function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)}(e))return Oe(e),!0;if(EN(/[\u0080-\uFFFF]/,e.nodeName))return Oe(e),!0;var o=M(e.nodeName);if(Pe("uponSanitizeElement",e,{tagName:o,allowedTags:H}),e.hasChildNodes()&&!Me(e.firstElementChild)&&(!Me(e.content)||!Me(e.content.firstElementChild))&&EN(/<[/\w]/g,e.innerHTML)&&EN(/<[/\w]/g,e.textContent))return Oe(e),!0;if("select"===o&&EN(/<template/i,e.innerHTML))return Oe(e),!0;if(!H[o]||q[o]){if(!q[o]&&Le(o)){if(W.tagNameCheck instanceof RegExp&&EN(W.tagNameCheck,o))return!1;if(W.tagNameCheck instanceof Function&&W.tagNameCheck(o))return!1}if(re&&!ae[o]){var r=y(e)||e.parentNode,i=b(e)||e.childNodes;if(i&&r)for(var s=i.length-1;s>=0;--s)r.insertBefore(g(i[s],!0),v(e))}return Oe(e),!0}return e instanceof l&&!function(e){var t=y(e);t&&t.tagName||(t={namespaceURI:fe,tagName:"template"});var n=_N(e.tagName),o=_N(t.tagName);return e.namespaceURI===pe?t.namespaceURI===fe?"svg"===n:t.namespaceURI===me?"svg"===n&&("annotation-xml"===o||Se[o]):Boolean(ke[n]):e.namespaceURI===me?t.namespaceURI===fe?"math"===n:t.namespaceURI===pe?"math"===n&&Ce[o]:Boolean(Ee[n]):e.namespaceURI===fe&&!(t.namespaceURI===pe&&!Ce[o])&&!(t.namespaceURI===me&&!Se[o])&&!Ee[n]&&(je[n]||!ke[n])}(e)?(Oe(e),!0):"noscript"!==o&&"noembed"!==o||!EN(/<\/no(script|embed)/i,e.innerHTML)?(K&&3===e.nodeType&&(t=e.textContent,t=CN(t,P," "),t=CN(t,R," "),e.textContent!==t&&(xN(n.removed,{element:e.cloneNode()}),e.textContent=t)),Pe("afterSanitizeElements",e,null),!1):(Oe(e),!0)},Ne=function(e,t,n){if(oe&&("id"===t||"name"===t)&&(n in r||n in we))return!1;if($&&!Z[t]&&EN(N,t));else if(G&&EN(L,t));else if(!z[t]||Z[t]){if(!(Le(e)&&(W.tagNameCheck instanceof RegExp&&EN(W.tagNameCheck,e)||W.tagNameCheck instanceof Function&&W.tagNameCheck(e))&&(W.attributeNameCheck instanceof RegExp&&EN(W.attributeNameCheck,t)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(t))||"is"===t&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&EN(W.tagNameCheck,n)||W.tagNameCheck instanceof Function&&W.tagNameCheck(n))))return!1}else if(ue[t]);else if(EN(F,CN(n,B,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==jN(n,"data:")||!ce[e])if(Y&&!EN(I,CN(n,B,"")));else if(n)return!1;return!0},Le=function(e){return e.indexOf("-")>0},Ie=function(e){var t,n,o,r;Pe("beforeSanitizeAttributes",e,null);var i=e.attributes;if(i){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z};for(r=i.length;r--;){var a=t=i[r],l=a.name,c=a.namespaceURI;n="value"===l?t.value:kN(t.value),o=M(l);var d=n;if(s.attrName=o,s.attrValue=n,s.keepAttr=!0,s.forceKeepAttr=void 0,Pe("uponSanitizeAttribute",e,s),n=s.attrValue,!s.forceKeepAttr)if(s.keepAttr)if(EN(/\/>/i,n))Ae(l,e);else{K&&(n=CN(n,P," "),n=CN(n,R," "));var u=M(e.nodeName);if(Ne(u,o,n)){if(n!==d)try{c?e.setAttributeNS(c,l,n):e.setAttribute(l,n)}catch(t){Ae(l,e)}}else Ae(l,e)}else Ae(l,e)}Pe("afterSanitizeAttributes",e,null)}},Be=function e(t){var n,o=De(t);for(Pe("beforeSanitizeShadowDOM",t,null);n=o.nextNode();)Pe("uponSanitizeShadowNode",n,null),Re(n)||(n.content instanceof i&&e(n.content),Ie(n));Pe("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,r){var s,l,c,d,u;if((ve=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Me(e)){if("function"!=typeof e.toString)throw ON("toString is not a function");if("string"!=typeof(e=e.toString()))throw ON("dirty is not a string, aborting")}if(!n.isSupported){if("object"===nN(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Me(e))return t.toStaticHTML(e.outerHTML)}return e}if(Q||_e(r),n.removed=[],"string"==typeof e&&(ie=!1),ie){if(e.nodeName){var h=M(e.nodeName);if(!H[h]||q[h])throw ON("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof a)1===(l=(s=Te("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?s=l:s.appendChild(l);else{if(!ee&&!K&&!X&&-1===e.indexOf("<"))return x&&ne?x.createHTML(e):e;if(!(s=Te(e)))return ee?null:ne?_:""}s&&J&&Oe(s.firstChild);for(var m=De(ie?e:s);c=m.nextNode();)3===c.nodeType&&c===d||Re(c)||(c.content instanceof i&&Be(c.content),Ie(c),d=c);if(d=null,ie)return e;if(ee){if(te)for(u=k.call(s.ownerDocument);s.firstChild;)u.appendChild(s.firstChild);else u=s;return z.shadowroot&&(u=O.call(o,u,!0)),u}var p=X?s.outerHTML:s.innerHTML;return X&&H["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&EN(XN,s.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+p),K&&(p=CN(p,P," "),p=CN(p,R," ")),x&&ne?x.createHTML(p):p},n.setConfig=function(e){_e(e),Q=!0},n.clearConfig=function(){ye=null,Q=!1},n.isValidAttribute=function(e,t,n){ye||_e({});var o=M(e),r=M(t);return Ne(o,r,n)},n.addHook=function(e,t){"function"==typeof t&&(T[e]=T[e]||[],xN(T[e],t))},n.removeHook=function(e){if(T[e])return wN(T[e])},n.removeHooks=function(e){T[e]&&(T[e]=[])},n.removeAllHooks=function(){T={}},n}();const JN=e=>QN().sanitize(e),eL=Yf.deviceType.isTouch(),tL=(e,t)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}),nL=(e,t)=>UM.parts.close(Df.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:fl([Lx.config({})])})),oL=()=>UM.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),rL=(e,t)=>UM.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:RO(`<p>${JN(t.translate(e))}</p>`)}]}]}),iL=e=>UM.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),sL=(e,t)=>[Ax.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),Ax.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})],aL=e=>{const t="tox-dialog",n=t+"-wrap",o=n+"__backdrop",r=t+"__disable-scroll";return UM.sketch({lazySink:e.lazySink,onEscape:t=>(e.onEscape(t),A.some(!0)),useTabstopAt:e=>!xC(e),firstTabstop:e.firstTabstop,dom:{tag:"div",classes:[t].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:RO(`<div class="${n}"></div>`),components:[{dom:{tag:"div",classes:eL?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:n,modalBehaviours:fl([Wp.config({}),Fp("dialog-events",e.dialogEvents.concat([qi(Wr(),((e,t)=>{Ap.focusIn(e)}))])),Fp("scroll-lock",[Zi((()=>{Rs(bt(),r)})),Gi((()=>{Ns(bt(),r)}))]),...e.extraBehaviours]),eventOrder:{[ai()]:["dialog-events"],[bi()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[yi()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})},lL=e=>Df.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},buttonBehaviours:fl([Lx.config({})]),components:[zf("close",{tag:"div",classes:["tox-icon"]},e.icons)],action:e=>{Ai(e,Wx)}}),cL=(e,t,n,o)=>({dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...n.map((e=>({id:e}))).getOr({})}},components:[],behaviours:fl([TR.config({channel:`${XR}-${t}`,initialData:e,renderComponents:e=>[Gs(o.translate(e.title))]})])}),dL=()=>({dom:RO('<div class="tox-dialog__draghandle"></div>')}),uL=(e,t,n)=>((e,t,n)=>{const o=UM.parts.title(cL(e,t,A.none(),n)),r=UM.parts.draghandle(dL()),i=UM.parts.close(lL(n)),s=[o].concat(e.draggable?[r]:[]).concat([i]);return Ax.sketch({dom:RO('<div class="tox-dialog__header"></div>'),components:s})})({title:n.shared.providers.translate(e),draggable:n.dialog.isDraggableModal()},t,n.shared.providers),hL=(e,t,n)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:RO('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),mL=(e,t,n)=>({onClose:()=>n.closeWindow(),onBlock:n=>{UM.setBusy(e(),((e,o)=>hL(n.message,o,t)))},onUnblock:()=>{UM.setIdle(e())}}),pL=(e,t,n,o)=>Xs(aL({...e,firstTabstop:1,lazySink:o.shared.getSink,extraBehaviours:[TR.config({channel:`${KR}-${e.id}`,updateState:(e,t)=>A.some(t),initialData:t}),uC({}),...e.extraBehaviours],onEscape:e=>{Ai(e,Wx)},dialogEvents:n,eventOrder:{[si()]:[TR.name(),xl.name()],[bi()]:["scroll-lock",TR.name(),"messages","dialog-events","alloy.base.behaviour"],[yi()]:["alloy.base.behaviour","dialog-events","messages",TR.name(),"scroll-lock"]}})),fL=(e,t={})=>F(e,(e=>"menu"===e.type?(e=>{const n=F(e.items,(e=>{const n=ve(t,e.name).getOr(Cr(!1));return{...e,storage:n}}));return{...e,items:n}})(e):e)),gL=e=>W(e,((e,t)=>"menu"===t.type?W(t.items,((e,t)=>(e[t.name]=t.storage,e)),e):e),{}),vL=(e,t)=>[zi(Wr(),wC),e(Ux,((e,n,o,r)=>{kl(mt(r.element)).fold(v,Cl),t.onClose(),n.onClose()})),e(Wx,((e,t,n,o)=>{t.onCancel(e),Ai(o,Ux)})),Bi($x,((e,n)=>t.onUnblock())),Bi(Gx,((e,n)=>t.onBlock(n.event)))],bL=(e,t,n)=>{const o=(t,n)=>Bi(t,((t,o)=>{r(t,((r,i)=>{n(e(),r,o.event,t)}))})),r=(e,t)=>{TR.getState(e).get().each((n=>{t(n.internalDialog,e)}))};return[...vL(o,t),o(Zx,((e,t)=>t.onSubmit(e))),o(zx,((e,t,n)=>{t.onChange(e,{name:n.name})})),o(qx,((e,t,o,r)=>{const i=()=>Ap.focusIn(r),s=e=>jt(e,"disabled")||Ct(e,"aria-disabled").exists((e=>"true"===e)),a=mt(r.element),l=kl(a);t.onAction(e,{name:o.name,value:o.value}),kl(a).fold(i,(e=>{s(e)||l.exists((t=>Xe(e,t)&&s(t)))?i():n().toOptional().filter((t=>!Xe(t.element,e))).each(i)}))})),o(Yx,((e,t,n)=>{t.onTabChange(e,{newTabName:n.name,oldTabName:n.oldName})})),Gi((t=>{const n=e();nu.setValue(t,n.getData())}))]},yL=(e,t)=>{const n=t.map((e=>e.footerButtons)).getOr([]),o=V(n,(e=>"start"===e.align)),r=(e,t)=>Ax.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${e}`]},components:F(t,(e=>e.memento.asSpec()))});return[r("start",o.pass),r("end",o.fail)]},wL=(e,t,n)=>({dom:RO('<div class="tox-dialog__footer"></div>'),components:[],behaviours:fl([TR.config({channel:`${JR}-${t}`,initialData:e,updateState:(e,t)=>{const o=F(t.buttons,(e=>{const t=Mf(((e,t)=>zj(e,e.type,t))(e,n));return{name:e.name,align:e.align,memento:t}}));return A.some({lookupByName:t=>((e,t,n)=>q(t,(e=>e.name===n)).bind((t=>t.memento.getOpt(e))))(e,o,t),footerButtons:o})},renderComponents:yL})])}),xL=(e,t,n)=>UM.parts.footer(wL(e,t,n)),_L=(e,t)=>{if(e.getRoot().getSystem().isConnected()){const n=ch.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return XS.getField(n,t).orThunk((()=>{const n=e.getFooter();return TR.getState(n).get().bind((e=>e.lookupByName(t)))}))}return A.none()},SL=(e,t,n)=>{const o=t=>{const n=e.getRoot();n.getSystem().isConnected()&&t(n)},r={getData:()=>{const t=e.getRoot(),o=t.getSystem().isConnected()?e.getFormWrapper():t;return{...nu.getValue(o),...ce(n,(e=>e.get()))}},setData:t=>{o((o=>{const i=r.getData(),s=po(i,t),a=((e,t)=>{const n=e.getRoot();return TR.getState(n).get().map((e=>Wo(Uo("data",e.dataValidator,t)))).getOr(t)})(e,s),l=e.getFormWrapper();nu.setValue(l,a),le(n,((e,t)=>{be(s,t)&&e.set(s[t])}))}))},setEnabled:(t,n)=>{_L(e,t).each(n?Sh.enable:Sh.disable)},focus:t=>{_L(e,t).each(Wp.focus)},block:e=>{if(!i(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");o((t=>{Ti(t,Gx,{message:e})}))},unblock:()=>{o((e=>{Ai(e,$x)}))},showTab:t=>{o((n=>{const o=e.getBody();TR.getState(o).get().exists((e=>e.isTabPanel()))&&ch.getCurrent(o).each((e=>{UR.showTab(e,t)}))}))},redial:i=>{o((o=>{const s=e.getId(),a=t(i),l=fL(a.internalDialog.buttons,n);o.getSystem().broadcastOn([`${KR}-${s}`],a),o.getSystem().broadcastOn([`${XR}-${s}`],a.internalDialog),o.getSystem().broadcastOn([`${QR}-${s}`],a.internalDialog),o.getSystem().broadcastOn([`${JR}-${s}`],{...a.internalDialog,buttons:l}),r.setData(a.initialData)}))},close:()=>{o((e=>{Ai(e,Ux)}))},toggleFullscreen:e.toggleFullscreen};return r};var CL=tinymce.util.Tools.resolve("tinymce.util.URI");const jL=["insertContent","setContent","execCommand","close","block","unblock"],kL=e=>s(e)&&-1!==jL.indexOf(e.mceAction),EL=(e,t,n,o)=>{const r=os("dialog"),a=uL(e.title,r,o),l=(e=>{const t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[bC({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:fl([Lx.config({}),Wp.config({})])})]}],behaviours:fl([Ap.config({mode:"acyclic",useTabstopAt:C(xC)})])};return UM.parts.body(t)})(e),c=e.buttons.bind((e=>0===e.length?A.none():A.some(xL({buttons:e},r,o)))),u=((e,t)=>{const n=(e,t)=>Bi(e,((e,n)=>{o(e,((o,r)=>{t(w,o,n.event,e)}))})),o=(e,t)=>{TR.getState(e).get().each((n=>{t(n,e)}))};return[...vL(n,t),n(qx,((e,t,n)=>{t.onAction(e,{name:n.name})}))]})(0,mL((()=>y),o.shared.providers,t)),h={...e.height.fold((()=>({})),(e=>({height:e+"px","max-height":e+"px"}))),...e.width.fold((()=>({})),(e=>({width:e+"px","max-width":e+"px"})))},p=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],f=new CL(e.url,{base_uri:new CL(window.location.href)}),g=`${f.protocol}://${f.host}${f.port?":"+f.port:""}`,v=Ul(),b=[Fp("messages",[Zi((()=>{const t=Zl(Le(window),"message",(t=>{if(f.isSameOrigin(new CL(t.raw.origin))){const o=t.raw.data;kL(o)?((e,t,n)=>{switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":const o=!!d(n.ui)&&n.ui;e.execCommand(n.cmd,o,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock()}})(n,w,o):(e=>!kL(e)&&s(e)&&be(e,"mceAction"))(o)&&e.onMessage(w,o)}}));v.set(t)})),Gi(v.clear)]),xl.config({channels:{[eN]:{onReceive:(e,t)=>{sa(e.element,"iframe").each((e=>{const n=e.dom.contentWindow;m(n)&&n.postMessage(t,g)}))}}}})],y=pL({id:r,header:a,body:l,footer:c,extraClasses:p,extraBehaviours:b,extraStyles:h},e,u,o),w=(e=>{const t=t=>{e.getSystem().isConnected()&&t(e)};return{block:e=>{if(!i(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t((t=>{Ti(t,Gx,{message:e})}))},unblock:()=>{t((e=>{Ai(e,$x)}))},close:()=>{t((e=>{Ai(e,Ux)}))},sendMessage:e=>{t((t=>{t.getSystem().broadcastOn([eN],e)}))}}})(y);return{dialog:y,instanceApi:w}},OL=(e,t,n)=>t&&n?[]:[eO.config({contextual:{lazyContext:()=>A.some(Yn(Le(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:t=>yx(e,t.element).map((e=>({bounds:wx(e),optScrollEnv:A.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Zt(e.element).top})}))).getOrThunk((()=>({bounds:Qn(),optScrollEnv:A.none()})))})],AL=e=>{const t=e.editor,n=Gg(t),o=(e=>{const t=e.shared;return{open:(n,o)=>{const r=()=>{UM.hide(l),o()},i=Mf(zj({name:"close-alert",text:"OK",primary:!0,buttonType:A.some("primary"),align:"end",enabled:!0,icon:A.none()},"cancel",e)),s=oL(),a=nL(r,t.providers),l=Xs(aL({lazySink:()=>t.getSink(),header:tL(s,a),body:rL(n,t.providers),footer:A.some(iL(sL([],[i.asSpec()]))),onEscape:r,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Bi(Wx,r)],eventOrder:{}}));UM.show(l);const c=i.get(l);Wp.focus(c)}}})(e.backstages.dialog),r=(e=>{const t=e.shared;return{open:(n,o)=>{const r=e=>{UM.hide(c),o(e)},i=Mf(zj({name:"yes",text:"Yes",primary:!0,buttonType:A.some("primary"),align:"end",enabled:!0,icon:A.none()},"submit",e)),s=zj({name:"no",text:"No",primary:!1,buttonType:A.some("secondary"),align:"end",enabled:!0,icon:A.none()},"cancel",e),a=oL(),l=nL((()=>r(!1)),t.providers),c=Xs(aL({lazySink:()=>t.getSink(),header:tL(a,l),body:rL(n,t.providers),footer:A.some(iL(sL([],[s,i.asSpec()]))),onEscape:()=>r(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Bi(Wx,(()=>r(!1))),Bi(Zx,(()=>r(!0)))],eventOrder:{}}));UM.show(c);const d=i.get(c);Wp.focus(d)}}})(e.backstages.dialog),i=(o,r,i,s=!1)=>kR.open(((o,a,l)=>{const c=Wo(Uo("data",l,a)),d=Wl(),u=e.backstages.popup.shared.header.isPositionedAtTop(),h=()=>d.on((e=>{Af.reposition(e),eO.refresh(e)})),m=((e,t,n,o)=>{const r=os("dialog"),i=os("dialog-label"),s=os("dialog-content"),a=e.internalDialog,l=Mf(((e,t,n,o)=>Ax.sketch({dom:RO('<div class="tox-dialog__header"></div>'),components:[cL(e,t,A.some(n),o),dL(),lL(o)],containerBehaviours:fl([TM.config({mode:"mouse",blockerClass:"blocker",getTarget:e=>aa(e,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:a.title,draggable:!0},r,i,n.shared.providers)),c=Mf(((e,t,n,o,r)=>tN(e,t,A.some(n),o,r))({body:a.body,initialData:a.initialData},r,s,n,o)),d=fL(a.buttons),u=gL(d),h=Mf(((e,t,n)=>wL(e,t,n))({buttons:d},r,n)),m=bL((()=>g),{onBlock:e=>{PO.block(f,((t,o)=>hL(e.message,o,n.shared.providers)))},onUnblock:()=>{PO.unblock(f)},onClose:()=>t.closeWindow()},n.shared.getSink),p="tox-dialog-inline",f=Xs({dom:{tag:"div",classes:["tox-dialog",p],attributes:{role:"dialog","aria-labelledby":i,"aria-describedby":s}},eventOrder:{[si()]:[TR.name(),xl.name()],[ai()]:["execute-on-form"],[bi()]:["reflecting","execute-on-form"]},behaviours:fl([Ap.config({mode:"cyclic",onEscape:e=>(Ai(e,Ux),A.some(!0)),useTabstopAt:e=>!xC(e)&&("button"!==He(e)||"disabled"!==St(e,"disabled")),firstTabstop:1}),TR.config({channel:`${KR}-${r}`,updateState:(e,t)=>A.some(t),initialData:e}),Wp.config({}),Fp("execute-on-form",m.concat([qi(Wr(),((e,t)=>{Ap.focusIn(e)}))])),PO.config({getRoot:()=>A.some(f)}),Bp.config({}),uC({})]),components:[l.asSpec(),c.asSpec(),h.asSpec()]}),g=SL({getId:w(r),getRoot:w(f),getFooter:()=>h.get(f),getBody:()=>c.get(f),getFormWrapper:()=>{const e=c.get(f);return ch.getCurrent(e).getOr(e)},toggleFullscreen:()=>{const e="tox-dialog--fullscreen",t=Le(f.element.dom);Fs(t,[e])?(Bs(t,[e]),Is(t,[p])):(Bs(t,[p]),Is(t,[e]))}},t.redial,u);return{dialog:f,instanceApi:g}})({dataValidator:l,initialData:c,internalDialog:o},{redial:kR.redial,closeWindow:()=>{d.on(Af.hide),t.off("ResizeEditor",h),d.clear(),i(m.instanceApi)}},e.backstages.popup,s),p=Xs(Af.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...u?{}:{fireRepositionEventInstead:{}},inlineBehaviours:fl([Fp("window-manager-inline-events",[Bi(wi(),((e,t)=>{Ai(m.dialog,Wx)}))]),...OL(t,n,u)]),isExtraPart:(e,t)=>(e=>xx(e,".tox-alert-dialog")||xx(e,".tox-confirm-dialog"))(t)}));return d.set(p),Af.showWithinBounds(p,Qs(m.dialog),{anchor:r},(()=>{const e=t.inline?bt():Le(t.getContainer()),n=Yn(e);return A.some(n)})),n&&u||(eO.refresh(p),t.on("ResizeEditor",h)),m.instanceApi.setData(c),Ap.focusIn(m.dialog),m.instanceApi}),o);return{open:(t,n,o)=>void 0!==n&&"toolbar"===n.inline?i(t,e.backstages.popup.shared.anchors.inlineDialog(),o,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?i(t,e.backstages.popup.shared.anchors.cursor(),o,n.ariaAttrs):((t,n)=>kR.open(((t,o,r)=>{const i=o,s=((e,t,n)=>{const o=os("dialog"),r=e.internalDialog,i=uL(r.title,o,n),s=((e,t,n)=>{const o=tN(e,t,A.none(),n,!1);return UM.parts.body(o)})({body:r.body,initialData:r.initialData},o,n),a=fL(r.buttons),l=gL(a),c=xL({buttons:a},o,n),d=bL((()=>f),mL((()=>m),n.shared.providers,t),n.shared.getSink),u=(e=>{switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}})(r.size),h={id:o,header:i,body:s,footer:A.some(c),extraClasses:u,extraBehaviours:[],extraStyles:{}},m=pL(h,e,d,n),p={getId:w(o),getRoot:w(m),getBody:()=>UM.getBody(m),getFooter:()=>UM.getFooter(m),getFormWrapper:()=>{const e=UM.getBody(m);return ch.getCurrent(e).getOr(e)},toggleFullscreen:()=>{const e="tox-dialog--fullscreen",t=Le(m.element.dom);Ls(t,e)?(Ns(t,e),Is(t,u)):(Bs(t,u),Rs(t,e))}},f=SL(p,t.redial,l);return{dialog:m,instanceApi:f}})({dataValidator:r,initialData:i,internalDialog:t},{redial:kR.redial,closeWindow:()=>{UM.hide(s.dialog),n(s.instanceApi)}},e.backstages.dialog);return UM.show(s.dialog),s.instanceApi.setData(i),s.instanceApi}),t))(t,o),openUrl:(n,o)=>((n,o)=>kR.openUrl((n=>{const r=EL(n,{closeWindow:()=>{UM.hide(r.dialog),o(r.instanceApi)}},t,e.backstages.dialog);return UM.show(r.dialog),r.instanceApi}),n))(n,o),alert:(e,t)=>{o.open(e,t)},close:e=>{e.close()},confirm:(e,t)=>{r.open(e,t)}}};Jn.add("silver",(e=>{(e=>{Qf(e),(e=>{const t=e.options.register,n=e=>g(e,i)?{value:hw(e),valid:!0}:{valid:!1,message:"Must be an array of strings."};t("color_map",{processor:n,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),t("color_map_background",{processor:n}),t("color_map_foreground",{processor:n}),t("color_cols",{processor:"number",default:dw(vw(e,"default").length)}),t("color_cols_foreground",{processor:"number",default:uw(e,vw(e,lw).length)}),t("color_cols_background",{processor:"number",default:uw(e,vw(e,cw).length)}),t("custom_colors",{processor:"boolean",default:!0}),t("color_default_foreground",{processor:"string",default:pw}),t("color_default_background",{processor:"string",default:pw})})(e),(e=>{const t=e.options.register;t("contextmenu_avoid_overlap",{processor:"string",default:""}),t("contextmenu_never_use_native",{processor:"boolean",default:!1}),t("contextmenu",{processor:e=>!1===e?{value:[],valid:!0}:i(e)||g(e,i)?{value:ED(e),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(e)})(e);let t=()=>Qn();const{dialogs:n,popups:o,renderUI:r}=FM(e,{getPopupSinkBounds:()=>t()});gx(e,o.backstage.shared);const s=AL({editor:e,backstages:{popup:o.backstage,dialog:n.backstage}});return{renderUI:async()=>{const n=await r();return yx(e,o.getMothership().element).each((e=>{t=()=>wx(e)})),n},getWindowManagerImpl:w(s),getNotificationManagerImpl:()=>((e,t,n)=>{const o=t.backstage.shared,r=()=>{const t=Yn(Le(e.getContentAreaContainer())),n=Qn(),o=Va(n.x,t.x,t.right),r=Va(n.y,t.y,t.bottom),i=Math.max(t.right,n.right),s=Math.max(t.bottom,n.bottom);return A.some($n(o,r,i-o,s-r))};return{open:(t,i)=>{const s=()=>{i(),Af.hide(l)},a=Xs(Wf.sketch({text:t.text,level:N(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:t.icon,closeButton:t.closeButton,onAction:s,iconProvider:o.providers.icons,translationProvider:o.providers.translate})),l=Xs(Af.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:o.getSink,fireDismissalEventInstead:{},...o.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));n.add(l),f(t.timeout)&&t.timeout>0&&Tf.setEditorTimeout(e,(()=>{s()}),t.timeout);const c={close:s,reposition:()=>{const t=Qs(a),n={maxHeightFunction:Jl()},i=e.notificationManager.getNotifications();if(i[0]===c){const e={...o.anchors.banner(),overrides:n};Af.showWithinBounds(l,t,{anchor:e},r)}else R(i,c).each((e=>{const o=i[e-1].getEl(),s={type:"node",root:bt(),node:A.some(Le(o)),overrides:n,layouts:{onRtl:()=>[tl],onLtr:()=>[tl]}};Af.showWithinBounds(l,t,{anchor:s},r)}))},text:e=>{Wf.updateText(a,e)},settings:t,getEl:()=>a.element.dom,progressBar:{value:e=>{Wf.updateProgress(a,e)}}};return c},close:e=>{e.close()},getArgs:e=>e.settings}})(e,{backstage:o.backstage},o.getMothership())}}))}()},"./node_modules/tinymce/tinymce.js":e=>{!function(){"use strict";var t=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},n=function(e){return{eq:e}},o=n((function(e,t){return e===t})),r=function(e){return n((function(t,n){if(t.length!==n.length)return!1;for(var o=t.length,r=0;r<o;r++)if(!e.eq(t[r],n[r]))return!1;return!0}))},i=function(e,t){return function(e,t){return n((function(n,o){return e.eq(t(n),t(o))}))}(r(e),(function(e){return function(e,t){return Array.prototype.slice.call(e).sort(t)}(e,t)}))},s=function(e){return n((function(t,n){var r=Object.keys(t),s=Object.keys(n);if(!i(o).eq(r,s))return!1;for(var a=r.length,l=0;l<a;l++){var c=r[l];if(!e.eq(t[c],n[c]))return!1}return!0}))},a=n((function(e,n){if(e===n)return!0;var o=t(e);return o===t(n)&&(function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)}(o)?e===n:"array"===o?r(a).eq(e,n):"object"===o&&s(a).eq(e,n))}));const l=Object.getPrototypeOf,c=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},d=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&c(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":t})(t)===e,u=e=>t=>typeof t===e,h=e=>t=>e===t,m=(e,t)=>f(e)&&c(e,t,((e,t)=>l(e)===t)),p=d("string"),f=d("object"),g=e=>m(e,Object),v=d("array"),b=h(null),y=u("boolean"),w=h(void 0),x=e=>null==e,_=e=>!x(e),S=u("function"),C=u("number"),j=(e,t)=>{if(v(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},k=()=>{},E=(e,t)=>(...n)=>e(t.apply(null,n)),O=(e,t)=>n=>e(t(n)),A=e=>()=>e,T=e=>e,D=(e,t)=>e===t;function M(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const P=e=>t=>!e(t),R=e=>()=>{throw new Error(e)},N=e=>e(),L=e=>{e()},I=A(!1),B=A(!0);class F{constructor(e,t){this.tag=e,this.value=t}static some(e){return new F(!0,e)}static none(){return F.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?F.some(e(this.value)):F.none()}bind(e){return this.tag?e(this.value):F.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:F.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return _(e)?F.some(e):F.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}F.singletonNone=new F(!1);const H=Array.prototype.slice,V=Array.prototype.indexOf,z=Array.prototype.push,U=(e,t)=>V.call(e,t),W=(e,t)=>U(e,t)>-1,q=(e,t)=>{for(let n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},Z=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},G=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},$=(e,t)=>{for(let n=e.length-1;n>=0;n--){t(e[n],n)}},Y=(e,t)=>{const n=[],o=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];(t(i,r)?n:o).push(i)}return{pass:n,fail:o}},K=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},X=(e,t,n)=>($(e,((e,o)=>{n=t(n,e,o)})),n),Q=(e,t,n)=>(G(e,((e,o)=>{n=t(n,e,o)})),n),J=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return F.some(r);if(n(r,o))break}return F.none()},ee=(e,t)=>J(e,t,I),te=(e,t)=>{for(let n=0,o=e.length;n<o;n++){if(t(e[n],n))return F.some(n)}return F.none()},ne=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!v(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);z.apply(t,e[n])}return t},oe=(e,t)=>ne(Z(e,t)),re=(e,t)=>{for(let n=0,o=e.length;n<o;++n){if(!0!==t(e[n],n))return!1}return!0},ie=e=>{const t=H.call(e,0);return t.reverse(),t},se=(e,t)=>K(e,(e=>!W(t,e))),ae=(e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n},le=(e,t)=>{const n=H.call(e,0);return n.sort(t),n},ce=(e,t)=>t>=0&&t<e.length?F.some(e[t]):F.none(),de=e=>ce(e,0),ue=e=>ce(e,e.length-1),he=S(Array.from)?Array.from:e=>H.call(e),me=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return F.none()},pe=Object.keys,fe=Object.hasOwnProperty,ge=(e,t)=>{const n=pe(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},ve=(e,t)=>be(e,((e,n)=>({k:n,v:t(e,n)}))),be=(e,t)=>{const n={};return ge(e,((e,o)=>{const r=t(e,o);n[r.k]=r.v})),n},ye=e=>(t,n)=>{e[n]=t},we=(e,t,n,o)=>{ge(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))},xe=(e,t)=>{const n={};return we(e,t,ye(n),k),n},_e=(e,t)=>{const n=[];return ge(e,((e,o)=>{n.push(t(e,o))})),n},Se=e=>_e(e,T),Ce=(e,t)=>je(e,t)?F.from(e[t]):F.none(),je=(e,t)=>fe.call(e,t),ke=(e,t)=>je(e,t)&&void 0!==e[t]&&null!==e[t],Ee=e=>{const t={};return G(e,(e=>{t[e]={}})),pe(t)},Oe=e=>void 0!==e.length,Ae=Array.isArray,Te=(e,t,n)=>{if(!e)return!1;if(n=n||e,Oe(e)){for(let o=0,r=e.length;o<r;o++)if(!1===t.call(n,e[o],o,e))return!1}else for(const o in e)if(je(e,o)&&!1===t.call(n,e[o],o,e))return!1;return!0},De=(e,t)=>{const n=[];return Te(e,((o,r)=>{n.push(t(o,r,e))})),n},Me=(e,t)=>{const n=[];return Te(e,((o,r)=>{t&&!t(o,r,e)||n.push(o)})),n},Pe=(e,t,n,o)=>{let r=w(n)?e[0]:n;for(let n=0;n<e.length;n++)r=t.call(o,r,e[n],n);return r},Re=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++)if(t.call(n,e[o],o,e))return o;return-1},Ne=e=>e[e.length-1],Le=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},Ie=()=>Be(0,0),Be=(e,t)=>({major:e,minor:t}),Fe={nu:Be,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?Ie():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return Be(o(1),o(2))})(e,n)},unknown:Ie},He=(e,t)=>{const n=String(t).toLowerCase();return ee(e,(e=>e.search(n)))},Ve=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,ze=(e,t)=>We(e,t)?((e,t)=>e.substring(t))(e,t.length):e,Ue=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!w(o)||r+t.length<=o)},We=(e,t)=>Ve(e,t,0),qe=(e,t)=>Ve(e,t,e.length-t.length),Ze=e=>t=>t.replace(e,""),Ge=Ze(/^\s+|\s+$/g),$e=Ze(/^\s+/g),Ye=Ze(/\s+$/g),Ke=e=>e.length>0,Xe=e=>!Ke(e),Qe=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?F.none():F.some(n)},Je=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,et=e=>t=>Ue(t,e),tt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Ue(e,"edge/")&&Ue(e,"chrome")&&Ue(e,"safari")&&Ue(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Je],search:e=>Ue(e,"chrome")&&!Ue(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Ue(e,"msie")||Ue(e,"trident")},{name:"Opera",versionRegexes:[Je,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:et("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:et("firefox")},{name:"Safari",versionRegexes:[Je,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Ue(e,"safari")||Ue(e,"mobile/"))&&Ue(e,"applewebkit")}],nt=[{name:"Windows",search:et("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Ue(e,"iphone")||Ue(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:et("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:et("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:et("linux"),versionRegexes:[]},{name:"Solaris",search:et("sunos"),versionRegexes:[]},{name:"FreeBSD",search:et("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:et("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ot={browsers:A(tt),oses:A(nt)},rt="Edge",it="Chromium",st="Opera",at="Firefox",lt="Safari",ct=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(rt),isChromium:o(it),isIE:o("IE"),isOpera:o(st),isFirefox:o(at),isSafari:o(lt)}},dt={unknown:()=>ct({current:void 0,version:Fe.unknown()}),nu:ct,edge:A(rt),chromium:A(it),ie:A("IE"),opera:A(st),firefox:A(at),safari:A(lt)},ut="Windows",ht="Android",mt="Linux",pt="macOS",ft="Solaris",gt="FreeBSD",vt="ChromeOS",bt=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(ut),isiOS:o("iOS"),isAndroid:o(ht),isMacOS:o(pt),isLinux:o(mt),isSolaris:o(ft),isFreeBSD:o(gt),isChromeOS:o(vt)}},yt={unknown:()=>bt({current:void 0,version:Fe.unknown()}),nu:bt,windows:A(ut),ios:A("iOS"),android:A(ht),linux:A(mt),macos:A(pt),solaris:A(ft),freebsd:A(gt),chromeos:A(vt)},wt=(e,t,n)=>{const o=ot.browsers(),r=ot.oses(),i=t.bind((e=>((e,t)=>me(t.brands,(t=>{const n=t.brand.toLowerCase();return ee(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:Fe.nu(parseInt(t.version,10),0)})))})))(o,e))).orThunk((()=>((e,t)=>He(e,t).map((e=>{const n=Fe.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e))).fold(dt.unknown,dt.nu),s=((e,t)=>He(e,t).map((e=>{const n=Fe.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e).fold(yt.unknown,yt.nu),a=((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!r,s=e.isiOS()||e.isAndroid(),a=s||o("(pointer:coarse)"),l=r||!i&&s&&o("(min-device-width:768px)"),c=i||s&&!l,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),u=!c&&!l&&!d;return{isiPad:A(r),isiPhone:A(i),isTablet:A(l),isPhone:A(c),isTouch:A(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:A(d),isDesktop:A(u)}})(s,i,e,n);return{browser:i,os:s,deviceType:a}},xt=e=>window.matchMedia(e).matches;let _t=Le((()=>wt(navigator.userAgent,F.from(navigator.userAgentData),xt)));const St=()=>_t(),Ct=navigator.userAgent,jt=St(),kt=jt.browser,Et=jt.os,Ot=jt.deviceType,At=-1!==Ct.indexOf("Windows Phone"),Tt={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:kt.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!kt.isIE(),windowsPhone:At,browser:{current:kt.current,version:kt.version,isChromium:kt.isChromium,isEdge:kt.isEdge,isFirefox:kt.isFirefox,isIE:kt.isIE,isOpera:kt.isOpera,isSafari:kt.isSafari},os:{current:Et.current,version:Et.version,isAndroid:Et.isAndroid,isChromeOS:Et.isChromeOS,isFreeBSD:Et.isFreeBSD,isiOS:Et.isiOS,isLinux:Et.isLinux,isMacOS:Et.isMacOS,isSolaris:Et.isSolaris,isWindows:Et.isWindows},deviceType:{isDesktop:Ot.isDesktop,isiPad:Ot.isiPad,isiPhone:Ot.isiPhone,isPhone:Ot.isPhone,isTablet:Ot.isTablet,isTouch:Ot.isTouch,isWebView:Ot.isWebView}},Dt=/^\s*|\s*$/g,Mt=e=>x(e)?"":(""+e).replace(Dt,""),Pt=function(e,t,n,o){o=o||this,e&&(n&&(e=e[n]),Te(e,((e,r)=>!1!==t.call(o,e,r,n)&&(Pt(e,t,n,o),!0))))},Rt={trim:Mt,isArray:Ae,is:(e,t)=>t?!("array"!==t||!Ae(e))||typeof e===t:void 0!==e,toArray:e=>{if(Ae(e))return e;{const t=[];for(let n=0,o=e.length;n<o;n++)t[n]=e[n];return t}},makeMap:(e,t,n={})=>{const o=p(e)?e.split(t||","):e||[];let r=o.length;for(;r--;)n[o[r]]={};return n},each:Te,map:De,grep:Me,inArray:(e,t)=>{if(e)for(let n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},hasOwn:je,extend:(e,...t)=>{for(let n=0;n<t.length;n++){const o=t[n];for(const t in o)if(je(o,t)){const n=o[t];void 0!==n&&(e[t]=n)}}return e},walk:Pt,resolve:(e,t=window)=>{const n=e.split(".");for(let e=0,o=n.length;e<o&&(t=t[n[e]]);e++);return t},explode:(e,t)=>v(e)?e:""===e?[]:De(e.split(t||","),Mt),_addCacheSuffix:e=>{const t=Tt.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},Nt=(e,t,n=D)=>e.exists((e=>n(e,t))),Lt=(e,t,n)=>e.isSome()&&t.isSome()?F.some(n(e.getOrDie(),t.getOrDie())):F.none(),It=(e,t)=>e?F.some(t):F.none(),Bt="undefined"!=typeof window?window:Function("return this;")(),Ft=(e,t)=>((e,t)=>{let n=null!=t?t:Bt;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),Ht=(e,t)=>{const n=((e,t)=>Ft(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},Vt=Object.getPrototypeOf,zt=e=>{const t=Ft("ownerDocument.defaultView",e);return f(e)&&((e=>Ht("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Vt(e).constructor.name))},Ut=e=>e.dom.nodeName.toLowerCase(),Wt=e=>e.dom.nodeType,qt=e=>t=>Wt(t)===e,Zt=qt(1),Gt=qt(3),$t=qt(9),Yt=qt(11),Kt=e=>t=>Zt(t)&&Ut(t)===e,Xt=(e,t,n)=>{if(!(p(n)||y(n)||C(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Qt=(e,t,n)=>{Xt(e.dom,t,n)},Jt=(e,t)=>{const n=e.dom;ge(t,((e,t)=>{Xt(n,t,e)}))},en=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},tn=(e,t)=>F.from(en(e,t)),nn=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},on=(e,t)=>{e.dom.removeAttribute(t)},rn=e=>Q(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),sn=(e,t)=>{const n=en(e,t);return void 0===n||""===n?[]:n.split(" ")},an=e=>void 0!==e.dom.classList,ln=e=>sn(e,"class"),cn=(e,t)=>((e,t,n)=>{const o=sn(e,t).concat([n]);return Qt(e,t,o.join(" ")),!0})(e,"class",t),dn=(e,t)=>((e,t,n)=>{const o=K(sn(e,t),(e=>e!==n));return o.length>0?Qt(e,t,o.join(" ")):on(e,t),!1})(e,"class",t),un=(e,t)=>{an(e)?e.dom.classList.add(t):cn(e,t)},hn=e=>{0===(an(e)?e.dom.classList:ln(e)).length&&on(e,"class")},mn=(e,t)=>{if(an(e)){e.dom.classList.remove(t)}else dn(e,t);hn(e)},pn=(e,t)=>{const n=an(e)?e.dom.classList.toggle(t):((e,t)=>W(ln(e),t)?dn(e,t):cn(e,t))(e,t);return hn(e),n},fn=(e,t)=>an(e)&&e.dom.classList.contains(t),gn=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},vn={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return gn(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return gn(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return gn(n)},fromDom:gn,fromPoint:(e,t,n)=>F.from(e.dom.elementFromPoint(t,n)).map(gn)},bn=(e,t)=>{const n=[],o=e=>(n.push(e),t(e));let r=t(e);do{r=r.bind(o)}while(r.isSome());return n},yn=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},wn=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,xn=(e,t)=>e.dom===t.dom,_n=(e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)},Sn=e=>vn.fromDom(e.dom.ownerDocument),Cn=e=>$t(e)?e:Sn(e),jn=e=>vn.fromDom(Cn(e).dom.defaultView),kn=e=>F.from(e.dom.parentNode).map(vn.fromDom),En=e=>F.from(e.dom.parentElement).map(vn.fromDom),On=(e,t)=>{const n=S(t)?t:I;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=vn.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r},An=e=>F.from(e.dom.previousSibling).map(vn.fromDom),Tn=e=>F.from(e.dom.nextSibling).map(vn.fromDom),Dn=e=>ie(bn(e,An)),Mn=e=>bn(e,Tn),Pn=e=>Z(e.dom.childNodes,vn.fromDom),Rn=(e,t)=>{const n=e.dom.childNodes;return F.from(n[t]).map(vn.fromDom)},Nn=e=>Rn(e,0),Ln=e=>Rn(e,e.dom.childNodes.length-1),In=e=>e.dom.childNodes.length,Bn=e=>Yt(e)&&_(e.dom.host),Fn=S(Element.prototype.attachShadow)&&S(Node.prototype.getRootNode),Hn=A(Fn),Vn=Fn?e=>vn.fromDom(e.dom.getRootNode()):Cn,zn=e=>Bn(e)?e:(e=>{const t=e.dom.head;if(null==t)throw new Error("Head is not available yet");return vn.fromDom(t)})(Cn(e)),Un=e=>vn.fromDom(e.dom.host),Wn=e=>{if(Hn()&&_(e.target)){const t=vn.fromDom(e.target);if(Zt(t)&&qn(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return de(t)}}return F.from(e.target)},qn=e=>_(e.dom.shadowRoot),Zn=e=>{const t=Gt(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=Vn(e);return Bn(t)?F.some(t):F.none()})(vn.fromDom(t)).fold((()=>n.body.contains(t)),O(Zn,Un))};var Gn=(e,t,n,o,r)=>e(n,o)?F.some(n):S(r)&&r(n)?F.none():t(n,o,r);const $n=(e,t,n)=>{let o=e.dom;const r=S(n)?n:I;for(;o.parentNode;){o=o.parentNode;const e=vn.fromDom(o);if(t(e))return F.some(e);if(r(e))break}return F.none()},Yn=(e,t,n)=>Gn(((e,t)=>t(e)),$n,e,t,n),Kn=(e,t)=>ee(e.dom.childNodes,(e=>t(vn.fromDom(e)))).map(vn.fromDom),Xn=(e,t,n)=>$n(e,(e=>yn(e,t)),n),Qn=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return wn(n)?F.none():F.from(n.querySelector(e)).map(vn.fromDom)})(t,e),Jn=(e,t,n)=>Gn(((e,t)=>yn(e,t)),Xn,e,t,n),eo=(e,t=!1)=>{return Zn(e)?e.dom.isContentEditable:(n=e,Jn(n,"[contenteditable]")).fold(A(t),(e=>"true"===to(e)));var n},to=e=>e.dom.contentEditable,no=e=>void 0!==e.style&&S(e.style.getPropertyValue),oo=(e,t,n)=>{if(!p(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);no(e)&&e.style.setProperty(t,n)},ro=(e,t,n)=>{const o=e.dom;oo(o,t,n)},io=(e,t)=>{const n=e.dom;ge(t,((e,t)=>{oo(n,t,e)}))},so=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||Zn(e)?o:ao(n,t)},ao=(e,t)=>no(e)?e.style.getPropertyValue(t):"",lo=(e,t)=>{const n=e.dom,o=ao(n,t);return F.from(o).filter((e=>e.length>0))},co=e=>{const t={},n=e.dom;if(no(n))for(let e=0;e<n.style.length;e++){const o=n.style.item(e);t[o]=n.style[o]}return t},uo=(e,t)=>{((e,t)=>{no(e)&&e.style.removeProperty(t)})(e.dom,t),Nt(tn(e,"style").map(Ge),"")&&on(e,"style")},ho=(e,t)=>{kn(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},mo=(e,t)=>{Tn(e).fold((()=>{kn(e).each((e=>{fo(e,t)}))}),(e=>{ho(e,t)}))},po=(e,t)=>{Nn(e).fold((()=>{fo(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},fo=(e,t)=>{e.dom.appendChild(t.dom)},go=(e,t)=>{ho(e,t),fo(t,e)},vo=(e,t)=>{G(t,(t=>{fo(e,t)}))},bo=e=>{e.dom.textContent="",G(Pn(e),(e=>{yo(e)}))},yo=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},wo=e=>{const t=Pn(e);var n,o;t.length>0&&(n=e,G(o=t,((e,t)=>{const r=0===t?n:o[t-1];mo(r,e)}))),yo(e)},xo=e=>Z(e,vn.fromDom),_o=e=>e.dom.innerHTML,So=(e,t)=>{const n=Sn(e).dom,o=vn.fromDom(n.createDocumentFragment()),r=((e,t)=>{const n=(t||document).createElement("div");return n.innerHTML=e,Pn(vn.fromDom(n))})(t,n);vo(o,r),bo(e),fo(e,o)},Co=(e,t)=>n=>{e(n)&&t((e=>{const t=vn.fromDom(Wn(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=E(o,n);return((e,t,n,o,r,i,s)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:i,raw:s}))(t,e.clientX,e.clientY,n,o,r,e)})(n))},jo=(e,t,n,o)=>((e,t,n,o,r)=>{const i=Co(n,o);return e.dom.addEventListener(t,i,r),{unbind:M(ko,e,t,i,r)}})(e,t,n,o,!1),ko=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},Eo=(e,t)=>({left:e,top:t,translate:(n,o)=>Eo(e+n,t+o)}),Oo=Eo,Ao=(e,t)=>void 0!==e?e:void 0!==t?t:0,To=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?Oo(n.offsetLeft,n.offsetTop):Zn(e)?(e=>{const t=e.getBoundingClientRect();return Oo(t.left,t.top)})(t):Oo(0,0)},Do=e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Oo(n,o)},Mo=(e,t)=>{St().browser.isSafari()&&S(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Po=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Ro=e=>{const t=void 0===e?window:e,n=t.document,o=Do(vn.fromDom(n));return(e=>{const t=void 0===e?window:e;return St().browser.isFirefox()?F.none():F.from(t.visualViewport)})(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return Po(o.left,o.top,n,r)}),(e=>Po(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},No=(e,t)=>{let n=[];return G(Pn(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(No(e,t))})),n},Lo=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return wn(n)?[]:Z(n.querySelectorAll(e),vn.fromDom)})(t,e),Io=(e,t,n)=>Xn(e,t,n).isSome();class Bo{constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node}prev(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(e,t,n,o){if(e){if(!o&&e[t])return e[t];if(e!==this.rootNode){let t=e[n];if(t)return t;for(let o=e.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(t=o[n],t)return t}}}findPreviousNode(e,t){if(e){const n=e.previousSibling;if(this.rootNode&&n===this.rootNode)return;if(n){if(!t)for(let e=n.lastChild;e;e=e.lastChild)if(!e.lastChild)return e;return n}const o=e.parentNode;if(o&&o!==this.rootNode)return o}}}const Fo=e=>t=>!!t&&t.nodeType===e,Ho=e=>!!e&&!Object.getPrototypeOf(e),Vo=Fo(1),zo=e=>{const t=e.toLowerCase();return e=>_(e)&&e.nodeName.toLowerCase()===t},Uo=e=>{const t=e.map((e=>e.toLowerCase()));return e=>{if(e&&e.nodeName){const n=e.nodeName.toLowerCase();return W(t,n)}return!1}},Wo=(e,t)=>{const n=t.toLowerCase().split(" ");return t=>{if(Vo(t)){const o=t.ownerDocument.defaultView;if(o)for(let r=0;r<n.length;r++){const i=o.getComputedStyle(t,null);if((i?i.getPropertyValue(e):null)===n[r])return!0}}return!1}},qo=e=>t=>Vo(t)&&t.hasAttribute(e),Zo=e=>Vo(e)&&e.hasAttribute("data-mce-bogus"),Go=e=>Vo(e)&&"TABLE"===e.tagName,$o=e=>t=>{if(Vo(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},Yo=Uo(["textarea","input"]),Ko=Fo(3),Xo=Fo(4),Qo=Fo(7),Jo=Fo(8),er=Fo(9),tr=Fo(11),nr=zo("br"),or=zo("img"),rr=$o("true"),ir=$o("false"),sr=Uo(["td","th"]),ar=Uo(["td","th","caption"]),lr=Uo(["video","audio","object","embed"]),cr=zo("li"),dr="\ufeff",ur="",hr=e=>e===dr,mr=((e,t)=>{const n=t=>e(t)?F.from(t.dom.nodeValue):F.none();return{get:o=>{if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}})(Gt,"text"),pr=e=>mr.get(e),fr=e=>mr.getOption(e),gr=["pre"].concat(["h1","h2","h3","h4","h5","h6"]),vr=e=>{let t;return n=>(t=t||ae(e,B),je(t,Ut(n)))},br=vr(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),yr=e=>Zt(e)&&!br(e),wr=e=>Zt(e)&&"br"===Ut(e),xr=vr(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),_r=vr(["ul","ol","dl"]),Sr=vr(["li","dd","dt"]),Cr=vr(["thead","tbody","tfoot"]),jr=vr(["td","th"]),kr=vr(["pre","script","textarea","style"]),Er=vr(gr),Or=e=>Er(e)||yr(e),Ar=e=>{const t=Lo(e,"br"),n=K((e=>{const t=[];let n=e.dom;for(;n;)t.push(vn.fromDom(n)),n=n.lastChild;return t})(e).slice(-1),wr);t.length===n.length&&G(n,yo)},Tr=()=>{const e=vn.fromTag("br");return Qt(e,"data-mce-bogus","1"),e},Dr=e=>{bo(e),fo(e,Tr())},Mr=e=>{Ln(e).each((t=>{An(t).each((n=>{br(e)&&wr(t)&&br(n)&&yo(t)}))}))},Pr=dr,Rr=hr,Nr=e=>e.replace(/\uFEFF/g,""),Lr=Vo,Ir=Ko,Br=e=>(Ir(e)&&(e=e.parentNode),Lr(e)&&e.hasAttribute("data-mce-caret")),Fr=e=>Ir(e)&&Rr(e.data),Hr=e=>Br(e)||Fr(e),Vr=e=>e.firstChild!==e.lastChild||!nr(e.firstChild),zr=e=>{const t=e.container();return!!Ko(t)&&(t.data.charAt(e.offset())===Pr||e.isAtStart()&&Fr(t.previousSibling))},Ur=e=>{const t=e.container();return!!Ko(t)&&(t.data.charAt(e.offset()-1)===Pr||e.isAtEnd()&&Fr(t.nextSibling))},Wr=e=>Ir(e)&&e.data[0]===Pr,qr=e=>Ir(e)&&e.data[e.data.length-1]===Pr,Zr=e=>e&&e.hasAttribute("data-mce-caret")?((e=>{var t;const n=e.getElementsByTagName("br"),o=n[n.length-1];Zo(o)&&(null===(t=o.parentNode)||void 0===t||t.removeChild(o))})(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Gr=e=>Br(e.startContainer),$r=rr,Yr=ir,Kr=nr,Xr=Ko,Qr=Uo(["script","style","textarea"]),Jr=Uo(["img","input","textarea","hr","iframe","video","audio","object","embed"]),ei=Uo(["table"]),ti=Hr,ni=e=>!ti(e)&&(Xr(e)?!Qr(e.parentNode):Jr(e)||Kr(e)||ei(e)||oi(e)),oi=e=>!(e=>Vo(e)&&"true"===e.getAttribute("unselectable"))(e)&&Yr(e),ri=(e,t)=>ni(e)&&((e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(oi(n))return!1;if($r(n))return!0}return!0})(e,t),ii=/^[ \t\r\n]*$/,si=e=>ii.test(e),ai=e=>"\n"===e||"\r"===e,li=(e,t=4,n=!0,o=!0)=>{const r=((e,t)=>t<=0?"":new Array(t+1).join(e))(" ",t),i=e.replace(/\t/g,r),s=Q(i,((e,t)=>(e=>-1!==" \f\t\v".indexOf(e))(t)||t===ur?e.pcIsSpace||""===e.str&&n||e.str.length===i.length-1&&o||((e,t)=>t<e.length&&t>=0&&ai(e[t]))(i,e.str.length+1)?{pcIsSpace:!1,str:e.str+ur}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:ai(t),str:e.str+t}),{pcIsSpace:!1,str:""});return s.str},ci=(e,t)=>Ko(e)&&si(e.data)&&!((e,t)=>{const n=vn.fromDom(t),o=vn.fromDom(e);return Io(o,"pre,code",M(xn,n))})(e,t),di=(e,t)=>ni(e)&&!ci(e,t)||(e=>Vo(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")))(e)||ui(e),ui=qo("data-mce-bookmark"),hi=qo("data-mce-bogus"),mi=(pi="data-mce-bogus",fi="all",e=>Vo(e)&&e.getAttribute(pi)===fi);var pi,fi;const gi=(e,t=!0)=>((e,t)=>{let n=0;if(di(e,e))return!1;{let o=e.firstChild;if(!o)return!0;const r=new Bo(o,e);do{if(t){if(mi(o)){o=r.next(!0);continue}if(hi(o)){o=r.next();continue}}if(nr(o))n++,o=r.next();else{if(di(o,e))return!1;o=r.next()}}while(o);return n<=1}})(e.dom,t),vi="data-mce-block",bi=e=>(e=>K(pe(e),(e=>!/[A-Z]/.test(e))))(e).join(","),yi=(e,t)=>_(t.querySelector(e))?(t.setAttribute(vi,"true"),"inline-boundary"===t.getAttribute("data-mce-selected")&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(vi),!1),wi=(e,t)=>{const n=bi(e.getTransparentElements()),o=bi(e.getBlockElements());return K(t.querySelectorAll(n),(e=>yi(o,e)))},xi=(e,t)=>{var n;const o=t?"lastChild":"firstChild";for(let t=e[o];t;t=t[o])if(gi(vn.fromDom(t)))return void(null===(n=t.parentNode)||void 0===n||n.removeChild(t))},_i=(e,t,n)=>{const o=e.getBlockElements(),r=vn.fromDom(t),i=e=>Ut(e)in o,s=e=>xn(e,r);G(xo(n),(t=>{$n(t,i,s).each((n=>{const o=((e,t)=>K(Pn(e),t))(t,(t=>i(t)&&!e.isValidChild(Ut(n),Ut(t))));if(o.length>0){const t=En(n);G(o,(e=>{$n(e,i,s).each((t=>{((e,t)=>{const n=document.createRange(),o=e.parentNode;if(o){n.setStartBefore(e),n.setEndBefore(t);const r=n.extractContents();xi(r,!0),n.setStartAfter(t),n.setEndAfter(e);const i=n.extractContents();xi(i,!1),gi(vn.fromDom(r))||o.insertBefore(r,e),gi(vn.fromDom(t))||o.insertBefore(t,e),gi(vn.fromDom(i))||o.insertBefore(i,e),o.removeChild(e)}})(t.dom,e.dom)}))})),t.each((t=>wi(e,t.dom)))}}))}))},Si=(e,t)=>{const n=wi(e,t);_i(e,t,n),((e,t,n)=>{G([...n,...Oi(e,t)?[t]:[]],(t=>G(Lo(vn.fromDom(t),t.nodeName.toLowerCase()),(t=>{Ai(e,t.dom)&&wo(t)}))))})(e,t,n)},Ci=(e,t)=>{if(Ei(e,t)){const n=bi(e.getBlockElements());yi(n,t)}},ji=e=>e.hasAttribute(vi),ki=(e,t)=>je(e.getTransparentElements(),t),Ei=(e,t)=>Vo(t)&&ki(e,t.nodeName),Oi=(e,t)=>Ei(e,t)&&ji(t),Ai=(e,t)=>Ei(e,t)&&!ji(t),Ti=(e,t)=>1===t.type&&ki(e,t.name)&&w(t.attr(vi)),Di=St().browser,Mi=e=>ee(e,Zt),Pi=(e,t)=>e.children&&W(e.children,t),Ri=(e,t,n)=>{let o=0,r=0;const i=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===so(vn.fromDom(e),"position")){const n=t.getBoundingClientRect();return o=n.left+(i.documentElement.scrollLeft||e.scrollLeft)-i.documentElement.clientLeft,r=n.top+(i.documentElement.scrollTop||e.scrollTop)-i.documentElement.clientTop,{x:o,y:r}}let s=t;for(;s&&s!==n&&s.nodeType&&!Pi(s,n);){const e=s;o+=e.offsetLeft||0,r+=e.offsetTop||0,s=e.offsetParent}for(s=t.parentNode;s&&s!==n&&s.nodeType&&!Pi(s,n);)o-=s.scrollLeft||0,r-=s.scrollTop||0,s=s.parentNode;r+=(e=>Di.isFirefox()&&"table"===Ut(e)?Mi(Pn(e)).filter((e=>"caption"===Ut(e))).bind((e=>Mi(Mn(e)).map((t=>{const n=t.dom.offsetTop,o=e.dom.offsetTop,r=e.dom.offsetHeight;return n<=o?-r:0})))).getOr(0):0)(vn.fromDom(t))}return{x:o,y:r}},Ni=(e,t={})=>{let n=0;const o={},r=vn.fromDom(e),i=Cn(r),s=e=>new Promise(((s,a)=>{let l;const c=Rt._addCacheSuffix(e),d=(e=>Ce(o,e).getOrThunk((()=>({id:"mce-u"+n++,passed:[],failed:[],count:0}))))(c);o[c]=d,d.count++;const u=(e,t)=>{G(e,L),d.status=t,d.passed=[],d.failed=[],l&&(l.onload=null,l.onerror=null,l=null)},h=()=>u(d.passed,2),m=()=>u(d.failed,3);if(s&&d.passed.push(s),a&&d.failed.push(a),1===d.status)return;if(2===d.status)return void h();if(3===d.status)return void m();d.status=1;const p=vn.fromTag("link",i.dom);var f;Jt(p,{rel:"stylesheet",type:"text/css",id:d.id}),t.contentCssCors&&Qt(p,"crossOrigin","anonymous"),t.referrerPolicy&&Qt(p,"referrerpolicy",t.referrerPolicy),l=p.dom,l.onload=h,l.onerror=m,f=p,fo(zn(r),f),Qt(p,"href",c)})),a=e=>{const t=Rt._addCacheSuffix(e);Ce(o,t).each((e=>{0===--e.count&&(delete o[t],(e=>{const t=zn(r);Qn(t,"#"+e).each(yo)})(e.id))}))};return{load:s,loadAll:e=>Promise.allSettled(Z(e,(e=>s(e).then(A(e))))).then((e=>{const t=Y(e,(e=>"fulfilled"===e.status));return t.fail.length>0?Promise.reject(Z(t.fail,(e=>e.reason))):Z(t.pass,(e=>e.value))})),unload:a,unloadAll:e=>{G(e,(e=>{a(e)}))},_setReferrerPolicy:e=>{t.referrerPolicy=e},_setContentCssCors:e=>{t.contentCssCors=e}}},Li=(()=>{const e=new WeakMap;return{forElement:(t,n)=>{const o=Vn(t).dom;return F.from(e.get(o)).getOrThunk((()=>{const t=Ni(o,n);return e.set(o,t),t}))}}})(),Ii=(e,t)=>_(e)&&(di(e,t)||yr(vn.fromDom(e))),Bi=e=>(e=>"span"===e.nodeName.toLowerCase())(e)&&"bookmark"===e.getAttribute("data-mce-type"),Fi=(e,t)=>Ko(e)&&e.data.length>0&&((e,t)=>{const n=new Bo(e,t).prev(!1),o=new Bo(e,t).next(!1),r=w(n)||Ii(n,t),i=w(o)||Ii(o,t);return r&&i})(e,t),Hi=(e,t,n)=>{var o;const r=n||t;if(Vo(t)&&Bi(t))return t;const i=t.childNodes;for(let t=i.length-1;t>=0;t--)Hi(e,i[t],r);if(Vo(t)){const e=t.childNodes;1===e.length&&Bi(e[0])&&(null===(o=t.parentNode)||void 0===o||o.insertBefore(e[0],t))}return(e=>tr(e)||er(e))(t)||di(t,r)||(e=>!!Vo(e)&&e.childNodes.length>0)(t)||Fi(t,r)||e.remove(t),t},Vi=Rt.makeMap,zi=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ui=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wi=/[<>&\"\']/g,qi=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Zi={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},Gi={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},$i={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Yi=(e,t)=>{const n={};if(e){const o=e.split(",");t=t||10;for(let e=0;e<o.length;e+=2){const r=String.fromCharCode(parseInt(o[e],t));if(!Gi[r]){const t="&"+o[e+1]+";";n[r]=t,n[t]=r}}return n}},Ki=Yi("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Xi=(e,t)=>e.replace(t?zi:Ui,(e=>Gi[e]||e)),Qi=(e,t)=>e.replace(t?zi:Ui,(e=>e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Gi[e]||"&#"+e.charCodeAt(0)+";")),Ji=(e,t,n)=>{const o=n||Ki;return e.replace(t?zi:Ui,(e=>Gi[e]||o[e]||e))},es={encodeRaw:Xi,encodeAllRaw:e=>(""+e).replace(Wi,(e=>Gi[e]||e)),encodeNumeric:Qi,encodeNamed:Ji,getEncodeFunc:(e,t)=>{const n=Yi(t)||Ki,o=(e,t)=>e.replace(t?zi:Ui,(e=>void 0!==Gi[e]?Gi[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";")),r=(e,t)=>Ji(e,t,n),i=Vi(e.replace(/\+/g,","));return i.named&&i.numeric?o:i.named?t?r:Ji:i.numeric?Qi:Xi},decode:e=>e.replace(qi,((e,t)=>t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Zi[t]||String.fromCharCode(t):$i[e]||Ki[e]||(e=>{const t=vn.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e})(e)))},ts={},ns={},os={},rs=Rt.makeMap,is=Rt.each,ss=Rt.extend,as=Rt.explode,ls=Rt.inArray,cs=(e,t)=>(e=Rt.trim(e))?e.split(t||" "):[],ds=(e,t={})=>{const n=rs(e," ",rs(e.toUpperCase()," "));return ss(n,t)},us=e=>ds("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),hs=(e,t)=>{if(e){const n={};return p(e)&&(e={"*":e}),is(e,((e,o)=>{n[o]=n[o.toUpperCase()]="map"===t?rs(e,/[, ]/):as(e,/[, ]/)})),n}},ms=(e={})=>{var t;const n={},o={};let r=[];const i={},s={},a=(t,n,o)=>{const r=e[t];if(r)return rs(r,/[, ]/,rs(r.toUpperCase(),/[, ]/));{let e=ns[t];return e||(e=ds(n,o),ns[t]=e),e}},l=null!==(t=e.schema)&&void 0!==t?t:"html5",c=(e=>{const t={};let n,o,r,i;const s=(e,o="",r="")=>{const i=cs(r),s=cs(e);let a=s.length;for(;a--;){const e=cs([n,o].join(" "));t[s[a]]={attributes:ae(e,(()=>({}))),attributesOrder:e,children:ae(i,A(os))}}},a=(e,n)=>{const o=cs(e),r=cs(n);let i=o.length;for(;i--;){const e=t[o[i]];for(let t=0,n=r.length;t<n;t++)e.attributes[r[t]]={},e.attributesOrder.push(r[t])}};if(ts[e])return ts[e];n="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen");if("html5-strict"!==e){n+=" xml:lang";const e="acronym applet basefont big font strike tt";r=[r,e].join(" "),is(cs(e),(e=>{s(e,"",r)}));const t="center dir isindex noframes";o=[o,t].join(" "),i=[o,r].join(" "),is(cs(t),(e=>{s(e,"",i)}))}return i=i||[o,r].join(" "),s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),s("address dt dd div caption","",i),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),s("blockquote","cite",i),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",i),s("dl","","dt dd"),s("a","href target rel media hreflang type",i),s("q","cite",r),s("ins del","cite datetime",i),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",i),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),s("param","name value"),s("map","name",[i,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",i),s("th","colspan rowspan headers scope abbr",i),s("form","accept-charset action autocomplete enctype method name novalidate target",i),s("fieldset","disabled form name",[i,"legend"].join(" ")),s("label","form for",r),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?i:r),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[i,"li"].join(" ")),s("noscript","",i),"html4"!==e&&(s("wbr"),s("ruby","",[r,"rt rp"].join(" ")),s("figcaption","",i),s("mark rt rp summary bdi","",r),s("canvas","width height",i),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[r,"option"].join(" ")),s("article section nav aside main header footer","",i),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[i,"figcaption"].join(" ")),s("time","datetime",r),s("dialog","open",i),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",r),s("progress","value max",r),s("meter","value min max low high optimum",r),s("details","open",[i,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(a("script","language xml:space"),a("style","xml:space"),a("object","declare classid code codebase codetype archive standby align border hspace vspace"),a("embed","align name hspace vspace"),a("param","valuetype type"),a("a","charset name rev shape coords"),a("br","clear"),a("applet","codebase archive code object alt name width height align hspace vspace"),a("img","name longdesc align border hspace vspace"),a("iframe","longdesc frameborder marginwidth marginheight scrolling align"),a("font basefont","size color face"),a("input","usemap align"),a("select"),a("textarea"),a("h1 h2 h3 h4 h5 h6 div p legend caption","align"),a("ul","type compact"),a("li","type"),a("ol dl menu dir","compact"),a("pre","width xml:space"),a("hr","align noshade size width"),a("isindex","prompt"),a("table","summary width frame rules cellspacing cellpadding align bgcolor"),a("col","width align char charoff valign"),a("colgroup","width align char charoff valign"),a("thead","align char charoff valign"),a("tr","align char charoff valign bgcolor"),a("th","axis align char charoff valign nowrap bgcolor width height"),a("form","accept"),a("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),a("tfoot","align char charoff valign"),a("tbody","align char charoff valign"),a("area","nohref"),a("body","background bgcolor text link vlink alink")),"html4"!==e&&(a("input button select textarea","autofocus"),a("input textarea","placeholder"),a("a","download"),a("link script img","crossorigin"),a("img","loading"),a("iframe","sandbox seamless allow allowfullscreen loading")),"html4"!==e&&G([t.video,t.audio],(e=>{delete e.children.audio,delete e.children.video})),is(cs("a form meter progress dfn"),(e=>{t[e]&&delete t[e].children[e]})),delete t.caption.children.table,delete t.script,ts[e]=t,t})(l);!1===e.verify_html&&(e.valid_elements="*[*]");const d=hs(e.valid_styles),u=hs(e.invalid_styles,"map"),h=hs(e.valid_classes,"map"),m=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),p=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),f=a("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),g=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),v="td th iframe video audio object script code",b=a("non_empty_elements",v+" pre",f),y=a("move_caret_before_on_enter_elements",v+" table",f),w=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),x=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",w),_=a("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),S=a("transparent_elements","a ins del canvas map");is("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),(e=>{s[e]=new RegExp("</"+e+"[^>]*>","gi")}));const C=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),j=e=>{const t=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,i=/[*?+]/;if(e){const s=cs(e,",");let a,l;n["@"]&&(a=n["@"].attributes,l=n["@"].attributesOrder);for(let e=0,c=s.length;e<c;e++){let c=t.exec(s[e]);if(c){const e=c[1],t=c[2],s=c[3],d=c[5],u={},h=[],m={attributes:u,attributesOrder:h};if("#"===e&&(m.paddEmpty=!0),"-"===e&&(m.removeEmpty=!0),"!"===c[4]&&(m.removeEmptyAttrs=!0),a&&(ge(a,((e,t)=>{u[t]=e})),l&&h.push(...l)),d){const e=cs(d,"|");for(let t=0,n=e.length;t<n;t++)if(c=o.exec(e[t]),c){const e={},t=c[1],n=c[2].replace(/[\\:]:/g,":"),o=c[3],r=c[4];if("!"===t&&(m.attributesRequired=m.attributesRequired||[],m.attributesRequired.push(n),e.required=!0),"-"===t){delete u[n],h.splice(ls(h,n),1);continue}if(o&&("="===o&&(m.attributesDefault=m.attributesDefault||[],m.attributesDefault.push({name:n,value:r}),e.defaultValue=r),"~"===o&&(m.attributesForced=m.attributesForced||[],m.attributesForced.push({name:n,value:r}),e.forcedValue=r),"<"===o&&(e.validValues=rs(r,"?"))),i.test(n)){const t=e;m.attributePatterns=m.attributePatterns||[],t.pattern=C(n),m.attributePatterns.push(t)}else u[n]||h.push(n),u[n]=e}}if(a||"@"!==t||(a=u,l=h),s&&(m.outputName=t,n[s]=m),i.test(t)){const e=m;e.pattern=C(t),r.push(e)}else n[t]=m}}}},k=e=>{r=[],G(pe(n),(e=>{delete n[e]})),j(e),is(c,((e,t)=>{o[t]=e.children}))},E=e=>{const t=/^(~)?(.+)$/;e&&(delete ns.text_block_elements,delete ns.block_elements,is(cs(e,","),(e=>{const r=t.exec(e);if(r){const e="~"===r[1],t=e?"span":"div",s=r[2];if(o[s]=o[t],i[s]=t,b[s.toUpperCase()]={},b[s]={},e||(x[s.toUpperCase()]={},x[s]={}),!n[s]){let e=n[t];e=ss({},e),delete e.removeEmptyAttrs,delete e.removeEmpty,n[s]=e}is(o,((e,n)=>{e[t]&&(o[n]=e=ss({},o[n]),e[s]=e[t])}))}})))},O=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete ts[l],e&&is(cs(e,","),(e=>{const n=t.exec(e);if(n){const e=n[1];let t;t=e?o[n[2]]:o[n[2]]={"#comment":{}},t=o[n[2]],is(cs(n[3],"|"),(n=>{"-"===e?delete t[n]:t[n]={}}))}}))},T=e=>{const t=n[e];if(t)return t;let o=r.length;for(;o--;){const t=r[o];if(t.pattern.test(e))return t}};e.valid_elements?k(e.valid_elements):(is(c,((e,t)=>{n[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},o[t]=e.children})),is(cs("strong/b em/i"),(e=>{const t=cs(e,"/");n[t[1]].outputName=t[0]})),is(_,((t,o)=>{n[o]&&(e.padd_empty_block_inline_children&&(n[o].paddInEmptyBlock=!0),n[o].removeEmpty=!0)})),is(cs("ol ul blockquote a table tbody"),(e=>{n[e]&&(n[e].removeEmpty=!0)})),is(cs("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(e=>{n[e].paddEmpty=!0})),is(cs("span"),(e=>{n[e].removeEmptyAttrs=!0}))),E(e.custom_elements),O(e.valid_children),j(e.extended_valid_elements),O("+ol[ul|ol],+ul[ul|ol]"),is({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},((e,t)=>{n[t]&&(n[t].parentsRequired=cs(e))})),e.invalid_elements&&is(as(e.invalid_elements),(e=>{n[e]&&delete n[e]})),T("span")||j("span[!data-mce-type|*]");const D=A(d),M=A(u),P=A(h),R=A(g),N=A(x),L=A(w),I=A(_),B=A(Object.seal(f)),F=A(p),H=A(b),V=A(y),z=A(m),U=A(S),W=A(Object.seal(s)),q=A(i);return{type:l,children:o,elements:n,getValidStyles:D,getValidClasses:P,getBlockElements:N,getInvalidStyles:M,getVoidElements:B,getTextBlockElements:L,getTextInlineElements:I,getBoolAttrs:R,getElementRule:T,getSelfClosingElements:F,getNonEmptyElements:H,getMoveCaretBeforeOnEnterElements:V,getWhitespaceElements:z,getTransparentElements:U,getSpecialElements:W,isValidChild:(e,t)=>{const n=o[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:(e,t)=>{const n=T(e);if(n){if(!t)return!0;{if(n.attributes[t])return!0;const e=n.attributePatterns;if(e){let n=e.length;for(;n--;)if(e[n].pattern.test(t))return!0}}}return!1},getCustomElements:q,addValidElements:j,setValidElements:k,addCustomElements:E,addValidChildren:O}},ps=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,o=/\s*([^:]+):\s*([^;]+);?/g,r=/\s+$/,i={};let s,a;const l=dr;t&&(s=t.getValidStyles(),a=t.getInvalidStyles());const c="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(let e=0;e<c.length;e++)i[c[e]]=l+e,i[l+e]=c[e];const d={parse:t=>{const s={};let a=!1;const c=e.url_converter,u=e.url_converter_scope||d,h=(e,t,n)=>{const o=s[e+"-top"+t];if(!o)return;const r=s[e+"-right"+t];if(!r)return;const i=s[e+"-bottom"+t];if(!i)return;const a=s[e+"-left"+t];if(!a)return;const l=[o,r,i,a];let c=l.length-1;for(;c--&&l[c]===l[c+1];);c>-1&&n||(s[e+t]=-1===c?l[0]:l.join(" "),delete s[e+"-top"+t],delete s[e+"-right"+t],delete s[e+"-bottom"+t],delete s[e+"-left"+t])},m=e=>{const t=s[e];if(!t)return;const n=t.split(" ");let o=n.length;for(;o--;)if(n[o]!==n[0])return!1;return s[e]=n[0],!0},p=e=>(a=!0,i[e]),f=(e,t)=>(a&&(e=e.replace(/\uFEFF[0-9]/g,(e=>i[e]))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e),g=e=>String.fromCharCode(parseInt(e.slice(1),16)),v=e=>e.replace(/\\[0-9a-f]+/gi,g),b=(t,n,o,r,i,s)=>{if(i=i||s)return"'"+(i=f(i)).replace(/\'/g,"\\'")+"'";if(n=f(n||o||r||""),!e.allow_script_urls){const t=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(t))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t))return""}return c&&(n=c.call(u,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){let i;for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,p).replace(/\"[^\"]+\"|\'[^\']+\'/g,(e=>e.replace(/[;:]/g,p)));i=o.exec(t);){o.lastIndex=i.index+i[0].length;let t=i[1].replace(r,"").toLowerCase(),c=i[2].replace(r,"");if(t&&c){if(t=v(t),c=v(c),-1!==t.indexOf(l)||-1!==t.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===t||/expression\s*\(|\/\*|\*\//.test(c)))continue;"font-weight"===t&&"700"===c?c="bold":"color"!==t&&"background-color"!==t||(c=c.toLowerCase()),c=c.replace(n,b),s[t]=a?f(c,!0):c}}h("border","",!0),h("border","-width"),h("border","-color"),h("border","-style"),h("padding",""),h("margin",""),y="border",x="border-style",_="border-color",m(w="border-width")&&m(x)&&m(_)&&(s[y]=s[w]+" "+s[x]+" "+s[_],delete s[w],delete s[x],delete s[_]),"medium none"===s.border&&delete s.border,"none"===s["border-image"]&&delete s["border-image"]}var y,w,x,_;return s},serialize:(e,t)=>{let n="";const o=(t,o)=>{const r=o[t];if(r)for(let t=0,o=r.length;t<o;t++){const o=r[t],i=e[o];i&&(n+=(n.length>0?" ":"")+o+": "+i+";")}};return t&&s?(o("*",s),o(t,s)):ge(e,((e,o)=>{e&&((e,t)=>{if(!a||!t)return!0;let n=a["*"];return!(n&&n[e]||(n=a[t],n&&n[e]))})(o,t)&&(n+=(n.length>0?" ":"")+o+": "+e+";")})),n}};return d},fs={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},gs=e=>x(e.preventDefault)||(e=>e instanceof Event||S(e.initEvent))(e),vs=(e,t)=>{const n=null!=t?t:{};for(const t in e)je(fs,t)||(n[t]=e[t]);return _(e.composedPath)&&(n.composedPath=()=>e.composedPath()),n},bs=(e,t,n,o)=>{var r;const i=vs(t,o);return i.type=e,x(i.target)&&(i.target=null!==(r=i.srcElement)&&void 0!==r?r:n),gs(t)&&(i.preventDefault=()=>{i.defaultPrevented=!0,i.isDefaultPrevented=B,S(t.preventDefault)&&t.preventDefault()},i.stopPropagation=()=>{i.cancelBubble=!0,i.isPropagationStopped=B,S(t.stopPropagation)&&t.stopPropagation()},i.stopImmediatePropagation=()=>{i.isImmediatePropagationStopped=B,i.stopPropagation()},(e=>e.isDefaultPrevented===B||e.isDefaultPrevented===I)(i)||(i.isDefaultPrevented=!0===i.defaultPrevented?B:I,i.isPropagationStopped=!0===i.cancelBubble?B:I,i.isImmediatePropagationStopped=I)),i},ys=/^(?:mouse|contextmenu)|click/,ws=(e,t,n,o)=>{e.addEventListener(t,n,o||!1)},xs=(e,t,n,o)=>{e.removeEventListener(t,n,o||!1)},_s=(e,t)=>{const n=bs(e.type,e,document,t);if((e=>_(e)&&ys.test(e.type))(e)&&w(e.pageX)&&!w(e.clientX)){const t=n.target.ownerDocument||document,o=t.documentElement,r=t.body,i=n;i.pageX=e.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),i.pageY=e.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)}return n},Ss=(e,t,n)=>{const o=e.document,r={type:"ready"};if(n.domLoaded)return void t(r);const i=()=>{xs(e,"DOMContentLoaded",i),xs(e,"load",i),n.domLoaded||(n.domLoaded=!0,t(r)),e=null};"complete"===o.readyState||"interactive"===o.readyState&&o.body?i():ws(e,"DOMContentLoaded",i),n.domLoaded||ws(e,"load",i)};class Cs{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(e,t,n,o){const r=this;let i;const s=window,a=e=>{r.executeHandlers(_s(e||s.event),l)};if(!e||Ko(e)||Jo(e))return n;let l;e[r.expando]?l=e[r.expando]:(l=r.count++,e[r.expando]=l,r.events[l]={}),o=o||e;const c=t.split(" ");let d=c.length;for(;d--;){let t=c[d],u=a,h=!1,m=!1;"DOMContentLoaded"===t&&(t="ready"),r.domLoaded&&"ready"===t&&"complete"===e.readyState?n.call(o,_s({type:t})):(r.hasFocusIn||"focusin"!==t&&"focusout"!==t||(h=!0,m="focusin"===t?"focus":"blur",u=e=>{const t=_s(e||s.event);t.type="focus"===t.type?"focusin":"focusout",r.executeHandlers(t,l)}),i=r.events[l][t],i?"ready"===t&&r.domLoaded?n(_s({type:t})):i.push({func:n,scope:o}):(r.events[l][t]=i=[{func:n,scope:o}],i.fakeName=m,i.capture=h,i.nativeHandler=u,"ready"===t?Ss(e,u,r):ws(e,m||t,u,h)))}return e=i=null,n}unbind(e,t,n){if(!e||Ko(e)||Jo(e))return this;const o=e[this.expando];if(o){let r=this.events[o];if(t){const o=t.split(" ");let i=o.length;for(;i--;){const t=o[i],s=r[t];if(s){if(n){let e=s.length;for(;e--;)if(s[e].func===n){const n=s.nativeHandler,o=s.fakeName,i=s.capture,a=s.slice(0,e).concat(s.slice(e+1));a.nativeHandler=n,a.fakeName=o,a.capture=i,r[t]=a}}n&&0!==s.length||(delete r[t],xs(e,s.fakeName||t,s.nativeHandler,s.capture))}}}else ge(r,((t,n)=>{xs(e,t.fakeName||n,t.nativeHandler,t.capture)})),r={};for(const e in r)if(je(r,e))return this;delete this.events[o];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}fire(e,t,n){return this.dispatch(e,t,n)}dispatch(e,t,n){if(!e||Ko(e)||Jo(e))return this;const o=_s({type:t,target:e},n);do{const t=e[this.expando];t&&this.executeHandlers(o,t),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!o.isPropagationStopped());return this}clean(e){if(!e||Ko(e)||Jo(e))return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e);const t=e.getElementsByTagName("*");let n=t.length;for(;n--;)(e=t[n])[this.expando]&&this.unbind(e)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(e,t){const n=this.events[t],o=n&&n[e.type];if(o)for(let t=0,n=o.length;t<n;t++){const n=o[t];if(n&&!1===n.func.call(n.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}Cs.Event=new Cs;const js=Rt.each,ks=Rt.grep,Es="data-mce-style",Os=Rt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),As=(e,t,n)=>{x(n)||""===n?on(e,t):Qt(e,t,n)},Ts=e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),Ds=(e,t)=>{let n=0;if(e)for(let o=e.nodeType,r=e.previousSibling;r;r=r.previousSibling){const e=r.nodeType;(!t||!Ko(r)||e!==o&&r.data.length)&&(n++,o=e)}return n},Ms=(e,t)=>{const n=en(t,"style"),o=e.serialize(e.parse(n),Ut(t));As(t,Es,o)},Ps=(e,t,n)=>{const o=Ts(t);x(n)||""===n?uo(e,o):ro(e,o,((e,t)=>C(e)?je(Os,t)?e+"":e+"px":e)(n,o))},Rs=(e,t={})=>{const n={},o=window,r={};let i=0;const s=Li.forElement(vn.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),a=[],l=t.schema?t.schema:ms({}),c=ps({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),d=t.ownEvents?new Cs:Cs.Event,u=l.getBlockElements(),h=t=>t&&e&&p(t)?e.getElementById(t):t,m=e=>{const t=h(e);return _(t)?vn.fromDom(t):null},f=(e,t,n="")=>{let o;const r=m(e);if(_(r)&&Zt(r)){const e=$[t];o=e&&e.get?e.get(r.dom,t):en(r,t)}return _(o)?o:n},g=e=>{const t=h(e);return x(t)?[]:t.attributes},b=(e,n,o)=>{D(e,(e=>{if(Vo(e)){const r=vn.fromDom(e),i=""===o?null:o,s=en(r,n),a=$[n];a&&a.set?a.set(r.dom,i,n):As(r,n,i),s!==i&&t.onSetAttrib&&t.onSetAttrib({attrElm:r.dom,attrName:n,attrValue:i})}}))},y=()=>t.root_element||e.body,w=(t,n)=>Ri(e.body,h(t),n),C=(e,t,n)=>{const o=h(e);if(!x(o)&&Vo(o))return n?so(vn.fromDom(o),Ts(t)):("float"===(t=t.replace(/-(\D)/g,((e,t)=>t.toUpperCase())))&&(t="cssFloat"),o.style?o.style[t]:void 0)},j=e=>{const t=h(e);if(!t)return{w:0,h:0};let n=C(t,"width"),o=C(t,"height");return n&&-1!==n.indexOf("px")||(n="0"),o&&-1!==o.indexOf("px")||(o="0"),{w:parseInt(n,10)||t.offsetWidth||t.clientWidth,h:parseInt(o,10)||t.offsetHeight||t.clientHeight}},E=(e,t)=>{if(!e)return!1;const n=v(e)?e:[e];return q(n,(e=>yn(vn.fromDom(e),t)))},O=(e,t,n,o)=>{const r=[];let i=h(e);o=void 0===o;const s=n||("BODY"!==y().nodeName?y().parentNode:null);if(p(t))if("*"===t)t=Vo;else{const e=t;t=t=>E(t,e)}for(;i&&!(i===s||x(i.nodeType)||er(i)||tr(i));){if(!t||t(i)){if(!o)return[i];r.push(i)}i=i.parentNode}return o?r:null},T=(e,t,n)=>{let o=t;if(e){p(t)&&(o=e=>E(e,t));for(let t=e[n];t;t=t[n])if(S(o)&&o(t))return t}return null},D=function(e,t,n){const o=null!=n?n:this;if(v(e)){const n=[];return js(e,((e,r)=>{const i=h(e);i&&n.push(t.call(o,i,r))})),n}{const n=h(e);return!!n&&t.call(o,n)}},M=(e,t)=>{D(e,(e=>{ge(t,((t,n)=>{b(e,n,t)}))}))},P=(e,t)=>{D(e,(e=>{const n=vn.fromDom(e);So(n,t)}))},R=(t,n,o,r,i)=>D(t,(t=>{const s=p(n)?e.createElement(n):n;return _(o)&&M(s,o),r&&(!p(r)&&r.nodeType?s.appendChild(r):p(r)&&P(s,r)),i?s:t.appendChild(s)})),N=(t,n,o)=>R(e.createElement(t),t,n,o,!0),L=es.encodeAllRaw,I=(e,t)=>D(e,(e=>{const n=vn.fromDom(e);return t&&G(Pn(n),(e=>{Gt(e)&&0===e.dom.length?yo(e):ho(n,e)})),yo(n),n.dom})),B=(e,t,n)=>{D(e,(e=>{if(Vo(e)){const o=vn.fromDom(e),r=t.split(" ");G(r,(e=>{if(_(n)){(n?un:mn)(o,e)}else pn(o,e)}))}}))},F=(e,t,n)=>D(t,(o=>{var r;const i=v(t)?e.cloneNode(!0):e;return n&&js(ks(o.childNodes),(e=>{i.appendChild(e)})),null===(r=o.parentNode)||void 0===r||r.replaceChild(i,o),o})),H=e=>{if(Vo(e)){const t="a"===e.nodeName.toLowerCase()&&!f(e,"href")&&f(e,"id");if(f(e,"name")||f(e,"data-mce-bookmark")||t)return!0}return!1},V=()=>e.createRange(),z=(n,r,i,s)=>{if(v(n)){let e=n.length;const t=[];for(;e--;)t[e]=z(n[e],r,i,s);return t}return!t.collect||n!==e&&n!==o||a.push([n,r,i,s]),d.bind(n,r,i,s||Z)},U=(t,n,r)=>{if(v(t)){let e=t.length;const o=[];for(;e--;)o[e]=U(t[e],n,r);return o}if(a.length>0&&(t===e||t===o)){let e=a.length;for(;e--;){const[o,i,s]=a[e];t!==o||n&&n!==i||r&&r!==s||d.unbind(o,i,s)}}return d.unbind(t,n,r)},W=e=>{if(e&&Vo(e)){const t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},Z={doc:e,settings:t,win:o,files:r,stdMode:!0,boxModel:!0,styleSheetLoader:s,boundEvents:a,styles:c,schema:l,events:d,isBlock:e=>p(e)?je(u,e):Vo(e)&&(je(u,e.nodeName)||Oi(l,e)),root:null,clone:(e,t)=>e.cloneNode(t),getRoot:y,getViewPort:e=>{const t=Ro(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:e=>{const t=h(e),n=w(t),o=j(t);return{x:n.x,y:n.y,w:o.w,h:o.h}},getSize:j,getParent:(e,t,n)=>{const o=O(e,t,n,!1);return o&&o.length>0?o[0]:null},getParents:O,get:h,getNext:(e,t)=>T(e,t,"nextSibling"),getPrev:(e,t)=>T(e,t,"previousSibling"),select:(n,o)=>{var r,i;const s=null!==(i=null!==(r=h(o))&&void 0!==r?r:t.root_element)&&void 0!==i?i:e;return S(s.querySelectorAll)?he(s.querySelectorAll(n)):[]},is:E,add:R,create:N,createHTML:(e,t,n="")=>{let o="<"+e;for(const e in t)ke(t,e)&&(o+=" "+e+'="'+L(t[e])+'"');return Xe(n)&&je(l.getVoidElements(),e)?o+" />":o+">"+n+"</"+e+">"},createFragment:t=>{const n=e.createElement("div"),o=e.createDocumentFragment();let r;for(o.appendChild(n),t&&(n.innerHTML=t);r=n.firstChild;)o.appendChild(r);return o.removeChild(n),o},remove:I,setStyle:(e,n,o)=>{D(e,(e=>{const r=vn.fromDom(e);Ps(r,n,o),t.update_styles&&Ms(c,r)}))},getStyle:C,setStyles:(e,n)=>{D(e,(e=>{const o=vn.fromDom(e);ge(n,((e,t)=>{Ps(o,t,e)})),t.update_styles&&Ms(c,o)}))},removeAllAttribs:e=>D(e,(e=>{const t=e.attributes;for(let n=t.length-1;n>=0;n--)e.removeAttributeNode(t.item(n))})),setAttrib:b,setAttribs:M,getAttrib:f,getPos:w,parseStyle:e=>c.parse(e),serializeStyle:(e,t)=>c.serialize(e,t),addStyle:t=>{if(Z!==Rs.DOM&&e===document){if(n[t])return;n[t]=!0}let o=e.getElementById("mceDefaultStyles");if(!o){o=e.createElement("style"),o.id="mceDefaultStyles",o.type="text/css";const t=e.head;t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o)}o.styleSheet?o.styleSheet.cssText+=t:o.appendChild(e.createTextNode(t))},loadCSS:e=>{e||(e=""),G(e.split(","),(e=>{r[e]=!0,s.load(e).catch(k)}))},addClass:(e,t)=>{B(e,t,!0)},removeClass:(e,t)=>{B(e,t,!1)},hasClass:(e,t)=>{const n=m(e),o=t.split(" ");return _(n)&&re(o,(e=>fn(n,e)))},toggleClass:B,show:e=>{D(e,(e=>uo(vn.fromDom(e),"display")))},hide:e=>{D(e,(e=>ro(vn.fromDom(e),"display","none")))},isHidden:e=>{const t=m(e);return _(t)&&Nt(lo(t,"display"),"none")},uniqueId:e=>(e||"mce_")+i++,setHTML:P,getOuterHTML:e=>{const t=m(e);return _(t)?Vo(t.dom)?t.dom.outerHTML:(e=>{const t=vn.fromTag("div"),n=vn.fromDom(e.dom.cloneNode(!0));return fo(t,n),_o(t)})(t):""},setOuterHTML:(e,t)=>{D(e,(e=>{Vo(e)&&(e.outerHTML=t)}))},decode:es.decode,encode:L,insertAfter:(e,t)=>{const n=h(t);return D(e,(e=>{const t=null==n?void 0:n.parentNode,o=null==n?void 0:n.nextSibling;return t&&(o?t.insertBefore(e,o):t.appendChild(e)),e}))},replace:F,rename:(e,t)=>{if(e.nodeName!==t.toUpperCase()){const n=N(t);return js(g(e),(t=>{b(n,t.nodeName,f(e,t.nodeName))})),F(n,e,!0),n}return e},findCommonAncestor:(e,t)=>{let n=e;for(;n;){let e=t;for(;e&&n!==e;)e=e.parentNode;if(n===e)break;n=n.parentNode}return!n&&e.ownerDocument?e.ownerDocument.documentElement:n},run:D,getAttribs:g,isEmpty:(e,t)=>{let n=0;if(H(e))return!1;const o=e.firstChild;if(o){const r=new Bo(o,e),i=l?l.getWhitespaceElements():{},s=t||(l?l.getNonEmptyElements():null);let a=o;do{if(Vo(a)){const e=a.getAttribute("data-mce-bogus");if(e){a=r.next("all"===e);continue}const t=a.nodeName.toLowerCase();if(s&&s[t]){if("br"===t){n++,a=r.next();continue}return!1}if(H(a))return!1}if(Jo(a))return!1;if(Ko(a)&&!si(a.data))return!1;if(Ko(a)&&a.parentNode&&i[a.parentNode.nodeName]&&si(a.data))return!1;a=r.next()}while(a)}return n<=1},createRng:V,nodeIndex:Ds,split:(e,t,n)=>{let o,r,i=V();if(e&&t&&e.parentNode&&t.parentNode){const s=e.parentNode;return i.setStart(s,Ds(e)),i.setEnd(t.parentNode,Ds(t)),o=i.extractContents(),i=V(),i.setStart(t.parentNode,Ds(t)+1),i.setEnd(s,Ds(e)+1),r=i.extractContents(),s.insertBefore(Hi(Z,o),e),n?s.insertBefore(n,e):s.insertBefore(t,e),s.insertBefore(Hi(Z,r),e),I(e),n||t}},bind:z,unbind:U,fire:(e,t,n)=>d.dispatch(e,t,n),dispatch:(e,t,n)=>d.dispatch(e,t,n),getContentEditable:W,getContentEditableParent:e=>{const t=y();let n=null;for(let o=e;o&&o!==t&&(n=W(o),null===n);o=o.parentNode);return n},isEditable:e=>{if(_(e)){const t=Vo(e)?e:e.parentElement,n="true"===W(y());return _(t)&&eo(vn.fromDom(t),n)}return!1},destroy:()=>{if(a.length>0){let e=a.length;for(;e--;){const[t,n,o]=a[e];d.unbind(t,n,o)}}ge(r,((e,t)=>{s.unload(t),delete r[t]}))},isChildOf:(e,t)=>e===t||t.contains(e),dumpRng:e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},$=((e,t,n)=>{const o=t.keep_values,r={set:(e,o,r)=>{const i=vn.fromDom(e);S(t.url_converter)&&_(o)&&(o=t.url_converter.call(t.url_converter_scope||n(),String(o),r,e)),As(i,"data-mce-"+r,o),As(i,r,o)},get:(e,t)=>{const n=vn.fromDom(e);return en(n,"data-mce-"+t)||en(n,t)}},i={style:{set:(t,n)=>{const r=vn.fromDom(t);o&&As(r,Es,n),on(r,"style"),p(n)&&io(r,e.parse(n))},get:t=>{const n=vn.fromDom(t),o=en(n,Es)||en(n,"style");return e.serialize(e.parse(o),Ut(n))}}};return o&&(i.href=i.src=r),i})(c,t,A(Z));return Z};Rs.DOM=Rs(document),Rs.nodeIndex=Ds;const Ns=Rs.DOM;class Ls{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise(((t,n)=>{const o=Ns;let r;const i=()=>{o.remove(s),r&&(r.onerror=r.onload=r=null)},s=o.uniqueId();r=document.createElement("script"),r.id=s,r.type="text/javascript",r.src=Rt._addCacheSuffix(e),this.settings.referrerPolicy&&o.setAttrib(r,"referrerpolicy",this.settings.referrerPolicy),r.onload=()=>{i(),t()},r.onerror=()=>{i(),n("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(r)}))}isDone(e){return 2===this.states[e]}markDone(e){this.states[e]=2}add(e){const t=this;t.queue.push(e);return void 0===t.states[e]&&(t.states[e]=0),new Promise(((n,o)=>{t.scriptLoadedCallbacks[e]||(t.scriptLoadedCallbacks[e]=[]),t.scriptLoadedCallbacks[e].push({resolve:n,reject:o})}))}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){const e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){const t=this,n=(e,n)=>{Ce(t.scriptLoadedCallbacks,n).each((t=>{G(t,(t=>t[e](n)))})),delete t.scriptLoadedCallbacks[n]},o=e=>{const t=K(e,(e=>"rejected"===e.status));return t.length>0?Promise.reject(oe(t,(({reason:e})=>v(e)?e:[e]))):Promise.resolve()},r=e=>Promise.allSettled(Z(e,(e=>2===t.states[e]?(n("resolve",e),Promise.resolve()):3===t.states[e]?(n("reject",e),Promise.reject(e)):(t.states[e]=1,t.loadScript(e).then((()=>{t.states[e]=2,n("resolve",e);const i=t.queue;return i.length>0?(t.queue=[],r(i).then(o)):Promise.resolve()}),(()=>(t.states[e]=3,n("reject",e),Promise.reject(e)))))))),i=e=>(t.loading=!0,r(e).then((e=>{t.loading=!1;const n=t.queueLoadedCallbacks.shift();return F.from(n).each(L),o(e)}))),s=Ee(e);return t.loading?new Promise(((e,n)=>{t.queueLoadedCallbacks.push((()=>i(s).then(e,n)))})):i(s)}}Ls.ScriptLoader=new Ls;const Is=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Bs={},Fs=Is("en"),Hs=()=>Ce(Bs,Fs.get()),Vs={getData:()=>ve(Bs,(e=>({...e}))),setCode:e=>{e&&Fs.set(e)},getCode:()=>Fs.get(),add:(e,t)=>{let n=Bs[e];n||(Bs[e]=n={}),ge(t,((e,t)=>{n[t.toLowerCase()]=e}))},translate:e=>{const t=Hs().getOr({}),n=e=>S(e)?Object.prototype.toString.call(e):o(e)?"":""+e,o=e=>""===e||null==e,r=e=>{const o=n(e);return Ce(t,o.toLowerCase()).map(n).getOr(o)},i=e=>e.replace(/{context:\w+}$/,"");if(o(e))return"";if(f(s=e)&&je(s,"raw"))return n(e.raw);var s;if((e=>v(e)&&e.length>1)(e)){const t=e.slice(1);return i(r(e[0]).replace(/\{([0-9]+)\}/g,((e,o)=>je(t,o)?n(t[o]):e)))}return i(r(e))},isRtl:()=>Hs().bind((e=>Ce(e,"_dir"))).exists((e=>"rtl"===e)),hasCode:e=>je(Bs,e)},zs=()=>{const e=[],t={},n={},o=[],r=(e,t)=>{const n=K(o,(n=>n.name===e&&n.state===t));G(n,(e=>e.resolve()))},i=e=>je(t,e),s=(e,n)=>{const o=Vs.getCode();!o||n&&-1===(","+(n||"")+",").indexOf(","+o+",")||Ls.ScriptLoader.add(t[e]+"/langs/"+o+".js")},a=(e,t="added")=>"added"===t&&(e=>je(n,e))(e)||"loaded"===t&&i(e)?Promise.resolve():new Promise((n=>{o.push({name:e,state:t,resolve:n})}));return{items:e,urls:t,lookup:n,get:e=>{if(n[e])return n[e].instance},requireLangPack:(e,t)=>{!1!==zs.languageLoad&&(i(e)?s(e,t):a(e,"loaded").then((()=>s(e,t))))},add:(t,o)=>(e.push(o),n[t]={instance:o},r(t,"added"),o),remove:e=>{delete t[e],delete n[e]},createUrl:(e,t)=>p(t)?p(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,load:(e,o)=>{if(t[e])return Promise.resolve();let i=p(o)?o:o.prefix+o.resource+o.suffix;0!==i.indexOf("/")&&-1===i.indexOf("://")&&(i=zs.baseURL+"/"+i),t[e]=i.substring(0,i.lastIndexOf("/"));const s=()=>(r(e,"loaded"),Promise.resolve());return n[e]?s():Ls.ScriptLoader.add(i).then(s)},waitFor:a}};zs.languageLoad=!0,zs.baseURL="",zs.PluginManager=zs(),zs.ThemeManager=zs(),zs.ModelManager=zs();const Us=e=>{const t=Is(F.none()),n=()=>t.get().each((e=>clearInterval(e)));return{clear:()=>{n(),t.set(F.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:o=>{n(),t.set(F.some(setInterval(o,e)))}}},Ws=()=>{const e=(e=>{const t=Is(F.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(F.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(F.some(e))}}})(k);return{...e,on:t=>e.get().each(t)}},qs=(e,t)=>{let n=null;return{cancel:()=>{b(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{b(n)&&(n=setTimeout((()=>{n=null,e.apply(null,o)}),t))}}},Zs=(e,t)=>{let n=null;const o=()=>{b(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:(...r)=>{o(),n=setTimeout((()=>{n=null,e.apply(null,r)}),t)}}},Gs=A("mce-annotation"),$s=A("data-mce-annotation"),Ys=A("data-mce-annotation-uid"),Ks=A("data-mce-annotation-active"),Xs=A("data-mce-annotation-classes"),Qs=A("data-mce-annotation-attrs"),Js=e=>t=>xn(t,e),ea=(e,t)=>{const n=e.selection.getRng(),o=vn.fromDom(n.startContainer),r=vn.fromDom(e.getBody()),i=t.fold((()=>"."+Gs()),(e=>`[${$s()}="${e}"]`)),s=Rn(o,n.startOffset).getOr(o);return Jn(s,i,Js(r)).bind((t=>tn(t,`${Ys()}`).bind((n=>tn(t,`${$s()}`).map((t=>{const o=na(e,n);return{uid:n,name:t,elements:o}}))))))},ta=(e,t)=>nn(e,"data-mce-bogus")||Io(e,'[data-mce-bogus="all"]',Js(t)),na=(e,t)=>{const n=vn.fromDom(e.getBody()),o=Lo(n,`[${Ys()}="${t}"]`);return K(o,(e=>!ta(e,n)))},oa=(e,t)=>{const n=vn.fromDom(e.getBody()),o=Lo(n,`[${$s()}="${t}"]`),r={};return G(o,(e=>{if(!ta(e,n)){const t=en(e,Ys()),n=Ce(r,t).getOr([]);r[t]=n.concat([e])}})),r},ra=(e,t)=>{const n=Is({}),o=()=>({listeners:[],previous:Ws()}),r=(e,t)=>{i(e,(e=>(t(e),e)))},i=(e,t)=>{const r=n.get(),i=t(Ce(r,e).getOrThunk(o));r[e]=i,n.set(r)},s=(t,n)=>{G(na(e,t),(e=>{n?Qt(e,Ks(),"true"):on(e,Ks())}))},a=Zs((()=>{const n=le(t.getNames());G(n,(t=>{i(t,(n=>{const o=n.previous.get();return ea(e,F.some(t)).fold((()=>{o.each((e=>{(e=>{r(e,(t=>{G(t.listeners,(t=>t(!1,e)))}))})(t),n.previous.clear(),s(e,!1)}))}),(({uid:e,name:t,elements:i})=>{Nt(o,e)||(o.each((e=>s(e,!1))),((e,t,n)=>{r(e,(o=>{G(o.listeners,(o=>o(!0,e,{uid:t,nodes:Z(n,(e=>e.dom))})))}))})(t,e,i),n.previous.set(e),s(e,!0))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);e.on("remove",(()=>{a.cancel()})),e.on("NodeChange",(()=>{a.throttle()}));return{addListener:(e,t)=>{i(e,(e=>({previous:e.previous,listeners:e.listeners.concat([t])})))}}};let ia=0;const sa=e=>{const t=(new Date).getTime(),n=Math.floor(1e9*Math.random());return ia++,e+"_"+n+ia+String(t)},aa=(e,t)=>vn.fromDom(e.dom.cloneNode(t)),la=e=>aa(e,!1),ca=e=>aa(e,!0),da=(e,t)=>{const n=((e,t)=>{const n=vn.fromTag(t),o=rn(e);return Jt(n,o),n})(e,t);mo(e,n);const o=Pn(e);return vo(n,o),yo(e),n},ua=(e,t,n=I)=>{const o=new Bo(e,t),r=e=>{let t;do{t=o[e]()}while(t&&!Ko(t)&&!n(t));return F.from(t).filter(Ko)};return{current:()=>F.from(o.current()).filter(Ko),next:()=>r("next"),prev:()=>r("prev"),prev2:()=>r("prev2")}},ha=(e,t)=>{const n=t||(t=>e.isBlock(t)||nr(t)||ir(t)),o=(e,t,n,r)=>{if(Ko(e)){const n=r(e,t,e.data);if(-1!==n)return F.some({container:e,offset:n})}return n().bind((e=>o(e.container,e.offset,n,r)))};return{backwards:(t,r,i,s)=>{const a=ua(t,null!=s?s:e.getRoot(),n);return o(t,r,(()=>a.prev().map((e=>({container:e,offset:e.length})))),i).getOrNull()},forwards:(t,r,i,s)=>{const a=ua(t,null!=s?s:e.getRoot(),n);return o(t,r,(()=>a.next().map((e=>({container:e,offset:0})))),i).getOrNull()}}},ma=Math.round,pa=e=>e?{left:ma(e.left),top:ma(e.top),bottom:ma(e.bottom),right:ma(e.right),width:ma(e.width),height:ma(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},fa=(e,t)=>(e=pa(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),ga=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,va=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&ga(t.top-e.bottom,e,t)},ba=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&ga(t.bottom-e.top,e,t),ya=(e,t,n)=>{const o=Math.max(Math.min(t,e.left+e.width),e.left),r=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-o)*(t-o)+(n-r)*(n-r))},wa=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},xa=(e,t)=>{if(Vo(e)&&e.hasChildNodes()){const n=e.childNodes,o=((e,t,n)=>Math.min(Math.max(e,t),n))(t,0,n.length-1);return n[o]}return e},_a=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),Sa=e=>p(e)&&e.charCodeAt(0)>=768&&_a.test(e),Ca=Vo,ja=ni,ka=Wo("display","block table"),Ea=Wo("float","left right"),Oa=((...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0})(Ca,ja,P(Ea)),Aa=P(Wo("white-space","pre pre-line pre-wrap")),Ta=Ko,Da=nr,Ma=Rs.nodeIndex,Pa=(e,t)=>t<0&&Vo(e)&&e.hasChildNodes()?void 0:xa(e,t),Ra=e=>e?e.createRange():Rs.DOM.createRng(),Na=e=>p(e)&&/[\r\n\t ]/.test(e),La=e=>!!e.setStart&&!!e.setEnd,Ia=e=>{const t=e.startContainer,n=e.startOffset;if(Na(e.toString())&&Aa(t.parentNode)&&Ko(t)){const e=t.data;if(Na(e[n-1])||Na(e[n+1]))return!0}return!1},Ba=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,Fa=e=>{var t;let n;const o=e.getClientRects();return n=o.length>0?pa(o[0]):pa(e.getBoundingClientRect()),!La(e)&&Da(e)&&Ba(n)?(e=>{const t=e.ownerDocument,n=Ra(t),o=t.createTextNode(ur),r=e.parentNode;r.insertBefore(o,e),n.setStart(o,0),n.setEnd(o,1);const i=pa(n.getBoundingClientRect());return r.removeChild(o),i})(e):Ba(n)&&La(e)&&null!==(t=(e=>{const t=e.startContainer,n=e.endContainer,o=e.startOffset,r=e.endOffset;if(t===n&&Ko(n)&&0===o&&1===r){const t=e.cloneRange();return t.setEndAfter(n),Fa(t)}return null})(e))&&void 0!==t?t:n},Ha=(e,t)=>{const n=fa(e,t);return n.width=1,n.right=n.left+1,n},Va=e=>{const t=[],n=e=>{var n,o;0!==e.height&&(t.length>0&&(n=e,o=t[t.length-1],n.left===o.left&&n.top===o.top&&n.bottom===o.bottom&&n.right===o.right)||t.push(e))},o=(e,t)=>{const o=Ra(e.ownerDocument);if(t<e.data.length){if(Sa(e.data[t]))return;if(Sa(e.data[t-1])&&(o.setStart(e,t),o.setEnd(e,t+1),!Ia(o)))return void n(Ha(Fa(o),!1))}t>0&&(o.setStart(e,t-1),o.setEnd(e,t),Ia(o)||n(Ha(Fa(o),!1))),t<e.data.length&&(o.setStart(e,t),o.setEnd(e,t+1),Ia(o)||n(Ha(Fa(o),!0)))},r=e.container(),i=e.offset();if(Ta(r))return o(r,i),t;if(Ca(r))if(e.isAtEnd()){const e=Pa(r,i);Ta(e)&&o(e,e.data.length),Oa(e)&&!Da(e)&&n(Ha(Fa(e),!1))}else{const s=Pa(r,i);if(Ta(s)&&o(s,0),Oa(s)&&e.isAtEnd())return n(Ha(Fa(s),!1)),t;const a=Pa(e.container(),e.offset()-1);Oa(a)&&!Da(a)&&(ka(a)||ka(s)||!Oa(s))&&n(Ha(Fa(a),!1)),Oa(s)&&n(Ha(Fa(s),!0))}return t},za=(e,t,n)=>{const o=()=>(n||(n=Va(za(e,t))),n);return{container:A(e),offset:A(t),toRange:()=>{const n=Ra(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},getClientRects:o,isVisible:()=>o().length>0,isAtStart:()=>(Ta(e),0===t),isAtEnd:()=>Ta(e)?t>=e.data.length:t>=e.childNodes.length,isEqual:n=>n&&e===n.container()&&t===n.offset(),getNode:n=>Pa(e,n?t-1:t)}};za.fromRangeStart=e=>za(e.startContainer,e.startOffset),za.fromRangeEnd=e=>za(e.endContainer,e.endOffset),za.after=e=>za(e.parentNode,Ma(e)+1),za.before=e=>za(e.parentNode,Ma(e)),za.isAbove=(e,t)=>Lt(de(t.getClientRects()),ue(e.getClientRects()),va).getOr(!1),za.isBelow=(e,t)=>Lt(ue(t.getClientRects()),de(e.getClientRects()),ba).getOr(!1),za.isAtStart=e=>!!e&&e.isAtStart(),za.isAtEnd=e=>!!e&&e.isAtEnd(),za.isTextPosition=e=>!!e&&Ko(e.container()),za.isElementPosition=e=>!za.isTextPosition(e);const Ua=(e,t)=>{Ko(t)&&0===t.data.length&&e.remove(t)},Wa=(e,t,n)=>{tr(n)?((e,t,n)=>{const o=F.from(n.firstChild),r=F.from(n.lastChild);t.insertNode(n),o.each((t=>Ua(e,t.previousSibling))),r.each((t=>Ua(e,t.nextSibling)))})(e,t,n):((e,t,n)=>{t.insertNode(n),Ua(e,n.previousSibling),Ua(e,n.nextSibling)})(e,t,n)},qa=Ko,Za=Zo,Ga=Rs.nodeIndex,$a=e=>{const t=e.parentNode;return Za(t)?$a(t):t},Ya=e=>e?Pe(e.childNodes,((e,t)=>(Za(t)&&"BR"!==t.nodeName?e=e.concat(Ya(t)):e.push(t),e)),[]):[],Ka=e=>t=>e===t,Xa=e=>(qa(e)?"text()":e.nodeName.toLowerCase())+"["+(e=>{let t,n;t=Ya($a(e)),n=Re(t,Ka(e),e),t=t.slice(0,n+1);const o=Pe(t,((e,n,o)=>(qa(n)&&qa(t[o-1])&&e++,e)),0);return t=Me(t,Uo([e.nodeName])),n=Re(t,Ka(e),e),n-o})(e)+"]",Qa=(e,t)=>{let n,o=[],r=t.container(),i=t.offset();if(qa(r))n=((e,t)=>{let n=e;for(;(n=n.previousSibling)&&qa(n);)t+=n.data.length;return t})(r,i);else{const e=r.childNodes;i>=e.length?(n="after",i=e.length-1):n="before",r=e[i]}o.push(Xa(r));let s=((e,t,n)=>{const o=[];for(let r=t.parentNode;r&&r!==e&&(!n||!n(r));r=r.parentNode)o.push(r);return o})(e,r);return s=Me(s,P(Zo)),o=o.concat(De(s,(e=>Xa(e)))),o.reverse().join("/")+","+n},Ja=(e,t)=>{if(!t)return null;const n=t.split(","),o=n[0].split("/"),r=n.length>1?n[1]:"before",i=Pe(o,((e,t)=>{const n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return n?("text()"===n[1]&&(n[1]="#text"),((e,t,n)=>{let o=Ya(e);return o=Me(o,((e,t)=>!qa(e)||!qa(o[t-1]))),o=Me(o,Uo([t])),o[n]})(e,n[1],parseInt(n[2],10))):null}),e);if(!i)return null;if(!qa(i)&&i.parentNode){let e;return e="after"===r?Ga(i)+1:Ga(i),za(i.parentNode,e)}return((e,t)=>{let n=e,o=0;for(;qa(n);){const r=n.data.length;if(t>=o&&t<=o+r){e=n,t-=o;break}if(!qa(n.nextSibling)){e=n,t=r;break}o+=r,n=n.nextSibling}return qa(e)&&t>e.data.length&&(t=e.data.length),za(e,t)})(i,parseInt(r,10))},el=ir,tl=(e,t,n,o,r)=>{const i=r?o.startContainer:o.endContainer;let s=r?o.startOffset:o.endOffset;const a=[],l=e.getRoot();if(Ko(i))a.push(n?((e,t,n)=>{let o=e(t.data.slice(0,n)).length;for(let n=t.previousSibling;n&&Ko(n);n=n.previousSibling)o+=e(n.data).length;return o})(t,i,s):s);else{let t=0;const o=i.childNodes;s>=o.length&&o.length&&(t=1,s=Math.max(0,o.length-1)),a.push(e.nodeIndex(o[s],n)+t)}for(let t=i;t&&t!==l;t=t.parentNode)a.push(e.nodeIndex(t,n));return a},nl=(e,t,n)=>{let o=0;return Rt.each(e.select(t),(e=>"all"===e.getAttribute("data-mce-bogus")?void 0:e!==n&&void o++)),o},ol=(e,t)=>{let n=t?e.startContainer:e.endContainer,o=t?e.startOffset:e.endOffset;if(Vo(n)&&"TR"===n.nodeName){const r=n.childNodes;n=r[Math.min(t?o:o-1,r.length-1)],n&&(o=t?0:n.childNodes.length,t?e.setStart(n,o):e.setEnd(n,o))}},rl=e=>(ol(e,!0),ol(e,!1),e),il=(e,t)=>{if(Vo(e)&&(e=xa(e,t),el(e)))return e;if(Hr(e)){Ko(e)&&Br(e)&&(e=e.parentNode);let t=e.previousSibling;if(el(t))return t;if(t=e.nextSibling,el(t))return t}},sl=(e,t,n)=>{const o=n.getNode(),r=n.getRng();if("IMG"===o.nodeName||el(o)){const e=o.nodeName;return{name:e,index:nl(n.dom,e,o)}}const i=(e=>il(e.startContainer,e.startOffset)||il(e.endContainer,e.endOffset))(r);if(i){const e=i.tagName;return{name:e,index:nl(n.dom,e,i)}}return((e,t,n,o)=>{const r=t.dom,i=tl(r,e,n,o,!0),s=t.isForward(),a=Gr(o)?{isFakeCaret:!0}:{};return t.isCollapsed()?{start:i,forward:s,...a}:{start:i,end:tl(r,e,n,o,!1),forward:s,...a}})(e,n,t,r)},al=(e,t,n)=>{const o={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",o,"&#xFEFF;"):e.create("span",o)},ll=(e,t)=>{const n=e.dom;let o=e.getRng();const r=n.uniqueId(),i=e.isCollapsed(),s=e.getNode(),a=s.nodeName,l=e.isForward();if("IMG"===a)return{name:a,index:nl(n,a,s)};const c=rl(o.cloneRange());if(!i){c.collapse(!1);const e=al(n,r+"_end",t);Wa(n,c,e)}o=rl(o),o.collapse(!0);const d=al(n,r+"_start",t);return Wa(n,o,d),e.moveToBookmark({id:r,keep:!0,forward:l}),{id:r,forward:l}},cl=(e,t,n=!1)=>2===t?sl(Nr,n,e):3===t?(e=>{const t=e.getRng();return{start:Qa(e.dom.getRoot(),za.fromRangeStart(t)),end:Qa(e.dom.getRoot(),za.fromRangeEnd(t)),forward:e.isForward()}})(e):t?(e=>({rng:e.getRng(),forward:e.isForward()}))(e):ll(e,!1),dl=M(sl,T,!0),ul=e=>{const t=t=>t(e),n=A(e),o=()=>r,r={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:B,isError:I,map:t=>ml.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:t=>{t(e)},toOptional:()=>F.some(e)};return r},hl=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:I,isError:B,map:t,mapError:t=>ml.error(t(e)),bind:t,exists:I,forall:B,getOr:T,or:T,getOrThunk:N,orThunk:N,getOrDie:R(String(e)),each:k,toOptional:F.none};return n},ml={value:ul,error:hl,fromOption:(e,t)=>e.fold((()=>hl(t)),ul)},pl=e=>{if(!v(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return G(e,((o,r)=>{const i=pe(o);if(1!==i.length)throw new Error("one and only one name per case");const s=i[0],a=o[s];if(void 0!==n[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!v(a))throw new Error("case arguments must be an array");t.push(s),n[s]=(...n)=>{const o=n.length;if(o!==a.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+a.length+" ("+a+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[r].apply(null,n)},match:e=>{const o=pe(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!re(t,(e=>W(o,e))))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:s,params:n})}}}})),n};pl([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const fl=e=>"inline-command"===e.type||"inline-format"===e.type,gl=e=>"block-command"===e.type||"block-format"===e.type,vl=e=>{const t=t=>ml.error({message:t,pattern:e}),n=(n,o,r)=>{if(void 0!==e.format){let r;if(v(e.format)){if(!re(e.format,p))return t(n+" pattern has non-string items in the `format` array");r=e.format}else{if(!p(e.format))return t(n+" pattern has non-string `format` parameter");r=[e.format]}return ml.value(o(r))}return void 0!==e.cmd?p(e.cmd)?ml.value(r(e.cmd,e.value)):t(n+" pattern has non-string `cmd` parameter"):t(n+" pattern is missing both `format` and `cmd` parameters")};if(!f(e))return t("Raw pattern is not an object");if(!p(e.start))return t("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!p(e.end))return t("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return t("Inline pattern has empty `start` and `end` parameters");let o=e.start,r=e.end;return 0===r.length&&(r=o,o=""),n("Inline",(e=>({type:"inline-format",start:o,end:r,format:e})),((e,t)=>({type:"inline-command",start:o,end:r,cmd:e,value:t})))}return void 0!==e.replacement?p(e.replacement)?0===e.start.length?t("Replacement pattern has empty `start` parameter"):ml.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):0===e.start.length?t("Block pattern has empty `start` parameter"):n("Block",(t=>({type:"block-format",start:e.start,format:t[0]})),((t,n)=>({type:"block-command",start:e.start,cmd:t,value:n})))},bl=e=>K(e,gl),yl=e=>K(e,fl),wl=e=>{const t=(e=>{const t=[],n=[];return G(e,(e=>{e.fold((e=>{t.push(e)}),(e=>{n.push(e)}))})),{errors:t,values:n}})(Z(e,vl));return G(t.errors,(e=>console.error(e.message,e.pattern))),t.values},xl=St().deviceType,_l=xl.isTouch(),Sl=Rs.DOM,Cl=e=>m(e,RegExp),jl=e=>t=>t.options.get(e),kl=e=>p(e)||f(e),El=(e,t="")=>n=>{const o=p(n);if(o){if(-1!==n.indexOf("=")){const r=(e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Q(t,((e,t)=>{const n=t.split("="),o=n[0],r=n.length>1?n[1]:o;return e[Ge(o)]=Ge(r),e}),{})})(n);return{value:Ce(r,e.id).getOr(t),valid:o}}return{value:n,valid:o}}return{valid:!1,message:"Must be a string."}},Ol=jl("iframe_attrs"),Al=jl("doctype"),Tl=jl("document_base_url"),Dl=jl("body_id"),Ml=jl("body_class"),Pl=jl("content_security_policy"),Rl=jl("br_in_pre"),Nl=jl("forced_root_block"),Ll=jl("forced_root_block_attrs"),Il=jl("newline_behavior"),Bl=jl("br_newline_selector"),Fl=jl("no_newline_selector"),Hl=jl("keep_styles"),Vl=jl("end_container_on_empty_block"),zl=jl("automatic_uploads"),Ul=jl("images_reuse_filename"),Wl=jl("images_replace_blob_uris"),ql=jl("icons"),Zl=jl("icons_url"),Gl=jl("images_upload_url"),$l=jl("images_upload_base_path"),Yl=jl("images_upload_credentials"),Kl=jl("images_upload_handler"),Xl=jl("content_css_cors"),Ql=jl("referrer_policy"),Jl=jl("language"),ec=jl("language_url"),tc=jl("indent_use_margin"),nc=jl("indentation"),oc=jl("content_css"),rc=jl("content_style"),ic=jl("font_css"),sc=jl("directionality"),ac=jl("inline_boundaries_selector"),lc=jl("object_resizing"),cc=jl("resize_img_proportional"),dc=jl("placeholder"),uc=jl("event_root"),hc=jl("service_message"),mc=jl("theme"),pc=jl("theme_url"),fc=jl("model"),gc=jl("model_url"),vc=jl("inline_boundaries"),bc=jl("formats"),yc=jl("preview_styles"),wc=jl("format_empty_lines"),xc=jl("format_noneditable_selector"),_c=jl("custom_ui_selector"),Sc=jl("inline"),Cc=jl("hidden_input"),jc=jl("submit_patch"),kc=jl("add_form_submit_trigger"),Ec=jl("add_unload_trigger"),Oc=jl("custom_undo_redo_levels"),Ac=jl("disable_nodechange"),Tc=jl("readonly"),Dc=jl("content_css_cors"),Mc=jl("plugins"),Pc=jl("external_plugins"),Rc=jl("block_unsupported_drop"),Nc=jl("visual"),Lc=jl("visual_table_class"),Ic=jl("visual_anchor_class"),Bc=jl("iframe_aria_text"),Fc=jl("setup"),Hc=jl("init_instance_callback"),Vc=jl("urlconverter_callback"),zc=jl("auto_focus"),Uc=jl("browser_spellcheck"),Wc=jl("protect"),qc=jl("paste_block_drop"),Zc=jl("paste_data_images"),Gc=jl("paste_preprocess"),$c=jl("paste_postprocess"),Yc=jl("paste_webkit_styles"),Kc=jl("paste_remove_styles_if_webkit"),Xc=jl("paste_merge_formats"),Qc=jl("smart_paste"),Jc=jl("paste_as_text"),ed=jl("paste_tab_spaces"),td=jl("allow_html_data_urls"),nd=jl("text_patterns"),od=jl("text_patterns_lookup"),rd=jl("noneditable_class"),id=jl("editable_class"),sd=jl("noneditable_regexp"),ad=jl("preserve_cdata"),ld=jl("highlight_on_focus"),cd=jl("xss_sanitization"),dd=e=>Rt.explode(e.options.get("images_file_types")),ud=jl("table_tab_navigation"),hd=Vo,md=Ko,pd=e=>{const t=e.parentNode;t&&t.removeChild(e)},fd=e=>{const t=Nr(e);return{count:e.length-t.length,text:t}},gd=e=>{let t;for(;-1!==(t=e.data.lastIndexOf(Pr));)e.deleteData(t,1)},vd=(e,t)=>(xd(e),t),bd=(e,t)=>{const n=t.container(),o=((e,t)=>{const n=U(e,t);return-1===n?F.none():F.some(n)})(he(n.childNodes),e).map((e=>e<t.offset()?za(n,t.offset()-1):t)).getOr(t);return xd(e),o},yd=(e,t)=>md(e)&&t.container()===e?((e,t)=>{const n=fd(e.data.substr(0,t.offset())),o=fd(e.data.substr(t.offset()));return(n.text+o.text).length>0?(gd(e),za(e,t.offset()-n.count)):t})(e,t):vd(e,t),wd=(e,t)=>za.isTextPosition(t)?yd(e,t):((e,t)=>t.container()===e.parentNode?bd(e,t):vd(e,t))(e,t),xd=e=>{hd(e)&&Hr(e)&&(Vr(e)?e.removeAttribute("data-mce-caret"):pd(e)),md(e)&&(gd(e),0===e.data.length&&pd(e))},_d=ir,Sd=lr,Cd=sr,jd=(e,t,n)=>{const o=fa(t.getBoundingClientRect(),n);let r,i;if("BODY"===e.tagName){const t=e.ownerDocument.documentElement;r=e.scrollLeft||t.scrollLeft,i=e.scrollTop||t.scrollTop}else{const t=e.getBoundingClientRect();r=e.scrollLeft-t.left,i=e.scrollTop-t.top}o.left+=r,o.right+=r,o.top+=i,o.bottom+=i,o.width=1;let s=t.offsetWidth-t.clientWidth;return s>0&&(n&&(s*=-1),o.left+=s,o.right+=s),o},kd=(e,t,n,o)=>{const r=Ws();let i,s;const a=Nl(e),l=e.dom,c=()=>{(e=>{var t,n;const o=Lo(vn.fromDom(e),"*[contentEditable=false],video,audio,embed,object");for(let e=0;e<o.length;e++){const r=o[e].dom;let i=r.previousSibling;if(qr(i)){const e=i.data;1===e.length?null===(t=i.parentNode)||void 0===t||t.removeChild(i):i.deleteData(e.length-1,1)}i=r.nextSibling,Wr(i)&&(1===i.data.length?null===(n=i.parentNode)||void 0===n||n.removeChild(i):i.deleteData(0,1))}})(t),s&&(xd(s),s=null),r.on((e=>{l.remove(e.caret),r.clear()})),i&&(clearInterval(i),i=void 0)},d=()=>{i=setInterval((()=>{r.on((e=>{o()?l.toggleClass(e.caret,"mce-visual-caret-hidden"):l.addClass(e.caret,"mce-visual-caret-hidden")}))}),500)};return{show:(e,o)=>{let i;if(c(),Cd(o))return null;if(!n(o))return s=((e,t)=>{var n;const o=(null!==(n=e.ownerDocument)&&void 0!==n?n:document).createTextNode(Pr),r=e.parentNode;if(t){const t=e.previousSibling;if(Ir(t)){if(Hr(t))return t;if(qr(t))return t.splitText(t.data.length-1)}null==r||r.insertBefore(o,e)}else{const t=e.nextSibling;if(Ir(t)){if(Hr(t))return t;if(Wr(t))return t.splitText(1),t}e.nextSibling?null==r||r.insertBefore(o,e.nextSibling):null==r||r.appendChild(o)}return o})(o,e),i=o.ownerDocument.createRange(),Od(s.nextSibling)?(i.setStart(s,0),i.setEnd(s,0)):(i.setStart(s,1),i.setEnd(s,1)),i;{const n=((e,t,n)=>{var o;const r=(null!==(o=t.ownerDocument)&&void 0!==o?o:document).createElement(e);r.setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(Tr().dom);const i=t.parentNode;return n?null==i||i.insertBefore(r,t):t.nextSibling?null==i||i.insertBefore(r,t.nextSibling):null==i||i.appendChild(r),r})(a,o,e),c=jd(t,o,e);l.setStyle(n,"top",c.top),s=n;const u=l.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});l.setStyles(u,{...c}),l.add(t,u),r.set({caret:u,element:o,before:e}),e&&l.addClass(u,"mce-visual-caret-before"),d(),i=o.ownerDocument.createRange(),i.setStart(n,0),i.setEnd(n,0)}return i},hide:c,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{r.on((e=>{const n=jd(t,e.element,e.before);l.setStyles(e.caret,{...n})}))},destroy:()=>clearInterval(i)}},Ed=()=>Tt.browser.isFirefox(),Od=e=>_d(e)||Sd(e),Ad=e=>(Od(e)||Go(e)&&Ed())&&En(vn.fromDom(e)).exists(eo),Td=rr,Dd=ir,Md=lr,Pd=Wo("display","block table table-cell table-caption list-item"),Rd=Hr,Nd=Br,Ld=Vo,Id=Ko,Bd=ni,Fd=e=>e>0,Hd=e=>e<0,Vd=(e,t)=>{let n;for(;n=e(t);)if(!Nd(n))return n;return null},zd=(e,t,n,o,r)=>{const i=new Bo(e,o),s=Dd(e)||Nd(e);let a;if(Hd(t)){if(s&&(a=Vd(i.prev.bind(i),!0),n(a)))return a;for(;a=Vd(i.prev.bind(i),r);)if(n(a))return a}if(Fd(t)){if(s&&(a=Vd(i.next.bind(i),!0),n(a)))return a;for(;a=Vd(i.next.bind(i),r);)if(n(a))return a}return null},Ud=(e,t)=>{for(;e&&e!==t;){if(Pd(e))return e;e=e.parentNode}return null},Wd=(e,t,n)=>Ud(e.container(),n)===Ud(t.container(),n),qd=(e,t)=>{if(!t)return F.none();const n=t.container(),o=t.offset();return Ld(n)?F.from(n.childNodes[o+e]):F.none()},Zd=(e,t)=>{var n;const o=(null!==(n=t.ownerDocument)&&void 0!==n?n:document).createRange();return e?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),o},Gd=(e,t,n)=>Ud(t,e)===Ud(n,e),$d=(e,t,n)=>{const o=e?"previousSibling":"nextSibling";let r=n;for(;r&&r!==t;){let e=r[o];if(e&&Rd(e)&&(e=e[o]),Dd(e)||Md(e)){if(Gd(t,e,r))return e;break}if(Bd(e))break;r=r.parentNode}return null},Yd=M(Zd,!0),Kd=M(Zd,!1),Xd=(e,t,n)=>{let o;const r=M($d,!0,t),i=M($d,!1,t),s=n.startContainer,a=n.startOffset;if(Br(s)){const e=Id(s)?s.parentNode:s,t=e.getAttribute("data-mce-caret");if("before"===t&&(o=e.nextSibling,Ad(o)))return Yd(o);if("after"===t&&(o=e.previousSibling,Ad(o)))return Kd(o)}if(!n.collapsed)return n;if(Ko(s)){if(Rd(s)){if(1===e){if(o=i(s),o)return Yd(o);if(o=r(s),o)return Kd(o)}if(-1===e){if(o=r(s),o)return Kd(o);if(o=i(s),o)return Yd(o)}return n}if(qr(s)&&a>=s.data.length-1)return 1===e&&(o=i(s),o)?Yd(o):n;if(Wr(s)&&a<=1)return-1===e&&(o=r(s),o)?Kd(o):n;if(a===s.data.length)return o=i(s),o?Yd(o):n;if(0===a)return o=r(s),o?Kd(o):n}return n},Qd=(e,t)=>qd(e?0:-1,t).filter(Dd),Jd=(e,t,n)=>{const o=Xd(e,t,n);return-1===e?za.fromRangeStart(o):za.fromRangeEnd(o)},eu=e=>F.from(e.getNode()).map(vn.fromDom),tu=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},nu=(e,t)=>{const n=Wd(e,t);return!(n||!nr(e.getNode()))||n};var ou;!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(ou||(ou={}));const ru=ir,iu=Ko,su=Vo,au=nr,lu=ni,cu=e=>Jr(e)||(e=>!!oi(e)&&!Q(he(e.getElementsByTagName("*")),((e,t)=>e||$r(t)),!1))(e),du=ri,uu=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,hu=(e,t)=>{if(Fd(e)){if(lu(t.previousSibling)&&!iu(t.previousSibling))return za.before(t);if(iu(t))return za(t,0)}if(Hd(e)){if(lu(t.nextSibling)&&!iu(t.nextSibling))return za.after(t);if(iu(t))return za(t,t.data.length)}return Hd(e)?au(t)?za.before(t):za.after(t):za.before(t)},mu=(e,t,n)=>{let o,r,i,s;if(!su(n)||!t)return null;if(t.isEqual(za.after(n))&&n.lastChild){if(s=za.after(n.lastChild),Hd(e)&&lu(n.lastChild)&&su(n.lastChild))return au(n.lastChild)?za.before(n.lastChild):s}else s=t;const a=s.container();let l=s.offset();if(iu(a)){if(Hd(e)&&l>0)return za(a,--l);if(Fd(e)&&l<a.length)return za(a,++l);o=a}else{if(Hd(e)&&l>0&&(r=uu(a,l-1),lu(r)))return!cu(r)&&(i=zd(r,e,du,r),i)?iu(i)?za(i,i.data.length):za.after(i):iu(r)?za(r,r.data.length):za.before(r);if(Fd(e)&&l<a.childNodes.length&&(r=uu(a,l),lu(r)))return au(r)?((e,t)=>{const n=t.nextSibling;return n&&lu(n)?iu(n)?za(n,0):za.before(n):mu(ou.Forwards,za.after(t),e)})(n,r):!cu(r)&&(i=zd(r,e,du,r),i)?iu(i)?za(i,0):za.before(i):iu(r)?za(r,0):za.after(r);o=r||s.getNode()}if(o&&(Fd(e)&&s.isAtEnd()||Hd(e)&&s.isAtStart())&&(o=zd(o,e,B,n,!0),du(o,n)))return hu(e,o);r=o?zd(o,e,du,n):o;const c=Ne(K(((e,t)=>{const n=[];let o=e;for(;o&&o!==t;)n.push(o),o=o.parentNode;return n})(a,n),ru));return!c||r&&c.contains(r)?r?hu(e,r):null:(s=Fd(e)?za.after(c):za.before(c),s)},pu=e=>({next:t=>mu(ou.Forwards,t,e),prev:t=>mu(ou.Backwards,t,e)}),fu=e=>za.isTextPosition(e)?0===e.offset():ni(e.getNode()),gu=e=>{if(za.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}return ni(e.getNode(!0))},vu=(e,t)=>!za.isTextPosition(e)&&!za.isTextPosition(t)&&e.getNode()===t.getNode(!0),bu=(e,t,n)=>{return e?!vu(t,n)&&(o=t,!(!za.isTextPosition(o)&&nr(o.getNode())))&&gu(t)&&fu(n):!vu(n,t)&&fu(t)&&gu(n);var o},yu=(e,t,n)=>{const o=pu(t);return F.from(e?o.next(n):o.prev(n))},wu=(e,t,n)=>yu(e,t,n).bind((o=>Wd(n,o,t)&&bu(e,n,o)?yu(e,t,o):F.some(o))),xu=(e,t,n,o)=>wu(e,t,n).bind((n=>o(n)?xu(e,t,n,o):F.some(n))),_u=(e,t)=>{const n=e?t.firstChild:t.lastChild;return Ko(n)?F.some(za(n,e?0:n.data.length)):n?ni(n)?F.some(e?za.before(n):nr(o=n)?za.before(o):za.after(o)):((e,t,n)=>{const o=e?za.before(n):za.after(n);return yu(e,t,o)})(e,t,n):F.none();var o},Su=M(yu,!0),Cu=M(yu,!1),ju=M(_u,!0),ku=M(_u,!1),Eu="_mce_caret",Ou=e=>Vo(e)&&e.id===Eu,Au=(e,t)=>{let n=t;for(;n&&n!==e;){if(Ou(n))return n;n=n.parentNode}return null},Tu=e=>je(e,"name"),Du=e=>Rt.isArray(e.start),Mu=e=>!(!Tu(e)&&y(e.forward))||e.forward,Pu=(e,t)=>(Vo(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),Ru=(e,t)=>ku(e).fold(I,(e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0))),Nu=(e,t,n)=>!(!(e=>!e.hasChildNodes())(t)||!Au(e,t))&&(((e,t)=>{var n;const o=(null!==(n=e.ownerDocument)&&void 0!==n?n:document).createTextNode(Pr);e.appendChild(o),t.setStart(o,0),t.setEnd(o,0)})(t,n),!0),Lu=(e,t,n,o)=>{const r=n[t?"start":"end"],i=e.getRoot();if(r){let e=i,n=r[0];for(let t=r.length-1;e&&t>=1;t--){const n=e.childNodes;if(Nu(i,e,o))return!0;if(r[t]>n.length-1)return!!Nu(i,e,o)||Ru(e,o);e=n[r[t]]}Ko(e)&&(n=Math.min(r[0],e.data.length)),Vo(e)&&(n=Math.min(r[0],e.childNodes.length)),t?o.setStart(e,n):o.setEnd(e,n)}return!0},Iu=e=>Ko(e)&&e.data.length>0,Bu=(e,t,n)=>{const o=e.get(n.id+"_"+t),r=null==o?void 0:o.parentNode,i=n.keep;if(o&&r){let s,a;if("start"===t?i?o.hasChildNodes()?(s=o.firstChild,a=1):Iu(o.nextSibling)?(s=o.nextSibling,a=0):Iu(o.previousSibling)?(s=o.previousSibling,a=o.previousSibling.data.length):(s=r,a=e.nodeIndex(o)+1):(s=r,a=e.nodeIndex(o)):i?o.hasChildNodes()?(s=o.firstChild,a=1):Iu(o.previousSibling)?(s=o.previousSibling,a=o.previousSibling.data.length):(s=r,a=e.nodeIndex(o)):(s=r,a=e.nodeIndex(o)),!i){const r=o.previousSibling,i=o.nextSibling;let l;for(Rt.each(Rt.grep(o.childNodes),(e=>{Ko(e)&&(e.data=e.data.replace(/\uFEFF/g,""))}));l=e.get(n.id+"_"+t);)e.remove(l,!0);if(Ko(i)&&Ko(r)&&!Tt.browser.isOpera()){const t=r.data.length;r.appendData(i.data),e.remove(i),s=r,a=t}}return F.some(za(s,a))}return F.none()},Fu=(e,t)=>{const n=e.dom;if(t){if(Du(t))return((e,t)=>{const n=e.createRng();return Lu(e,!0,t,n)&&Lu(e,!1,t,n)?F.some({range:n,forward:Mu(t)}):F.none()})(n,t);if((e=>p(e.start))(t))return((e,t)=>{const n=F.from(Ja(e.getRoot(),t.start)),o=F.from(Ja(e.getRoot(),t.end));return Lt(n,o,((n,o)=>{const r=e.createRng();return r.setStart(n.container(),n.offset()),r.setEnd(o.container(),o.offset()),{range:r,forward:Mu(t)}}))})(n,t);if((e=>je(e,"id"))(t))return((e,t)=>{const n=Bu(e,"start",t),o=Bu(e,"end",t);return Lt(n,o.or(n),((n,o)=>{const r=e.createRng();return r.setStart(Pu(e,n.container()),n.offset()),r.setEnd(Pu(e,o.container()),o.offset()),{range:r,forward:Mu(t)}}))})(n,t);if(Tu(t))return((e,t)=>F.from(e.select(t.name)[t.index]).map((t=>{const n=e.createRng();return n.selectNode(t),{range:n,forward:!0}})))(n,t);if((e=>je(e,"rng"))(t))return F.some({range:t.rng,forward:Mu(t)})}return F.none()},Hu=(e,t,n)=>cl(e,t,n),Vu=(e,t)=>{Fu(e,t).each((({range:t,forward:n})=>{e.setRng(t,n)}))},zu=e=>Vo(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type"),Uu=(Wu=ur,e=>Wu===e);var Wu;const qu=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),Zu=e=>!qu(e)&&!Uu(e)&&!hr(e),Gu=e=>ze(e,"#").toUpperCase(),$u=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Yu=e=>(e=>({value:Gu(e)}))($u(e.red)+$u(e.green)+$u(e.blue)),Ku=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Xu=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Qu=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),Ju=(e,t,n,o)=>{const r=parseInt(e,10),i=parseInt(t,10),s=parseInt(n,10),a=parseFloat(o);return Qu(r,i,s,a)},eh=e=>(e=>{if("transparent"===e)return F.some(Qu(0,0,0,0));const t=Ku.exec(e);if(null!==t)return F.some(Ju(t[1],t[2],t[3],"1"));const n=Xu.exec(e);return null!==n?F.some(Ju(n[1],n[2],n[3],n[4])):F.none()})(e).map(Yu).map((e=>"#"+e.value)).getOr(e),th=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},nh=e=>K((e=>oe(e,(e=>{const t=wa(e);return t?[vn.fromDom(t)]:[]})))(e),jr),oh=(e,t)=>{const n=Lo(t,"td[data-mce-selected],th[data-mce-selected]");return n.length>0?n:nh(e)},rh=e=>oh(th(e.selection.getSel()),vn.fromDom(e.getBody())),ih=(e,t)=>Xn(e,"table",t),sh=e=>Nn(e).fold(A([e]),(t=>[e].concat(sh(t)))),ah=e=>Ln(e).fold(A([e]),(t=>"br"===Ut(t)?An(t).map((t=>[e].concat(ah(t)))).getOr([]):[e].concat(ah(t)))),lh=(e,t)=>Lt((e=>{const t=e.startContainer,n=e.startOffset;return Ko(t)?0===n?F.some(vn.fromDom(t)):F.none():F.from(t.childNodes[n]).map(vn.fromDom)})(t),(e=>{const t=e.endContainer,n=e.endOffset;return Ko(t)?n===t.data.length?F.some(vn.fromDom(t)):F.none():F.from(t.childNodes[n-1]).map(vn.fromDom)})(t),((t,n)=>{const o=ee(sh(e),M(xn,t)),r=ee(ah(e),M(xn,n));return o.isSome()&&r.isSome()})).getOr(!1),ch=(e,t,n,o)=>{const r=n,i=new Bo(n,r),s=xe(e.schema.getMoveCaretBeforeOnEnterElements(),((e,t)=>!W(["td","th","table"],t.toLowerCase())));let a=n;do{if(Ko(a)&&0!==Rt.trim(a.data).length)return void(o?t.setStart(a,0):t.setEnd(a,a.data.length));if(s[a.nodeName])return void(o?t.setStartBefore(a):"BR"===a.nodeName?t.setEndBefore(a):t.setEndAfter(a))}while(a=o?i.next():i.prev());"BODY"===r.nodeName&&(o?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},dh=e=>{const t=e.selection.getSel();return _(t)&&t.rangeCount>0},uh=(e,t)=>{const n=rh(e);n.length>0?G(n,(n=>{const o=n.dom,r=e.dom.createRng();r.setStartBefore(o),r.setEndAfter(o),t(r,!0)})):t(e.selection.getRng(),!1)},hh=(e,t,n)=>{const o=ll(e,t);n(o),e.moveToBookmark(o)},mh=e=>C(null==e?void 0:e.nodeType),ph=e=>Vo(e)&&!zu(e)&&!Ou(e)&&!Zo(e),fh=e=>!0===e.isContentEditable,gh=(e,t,n)=>{const{selection:o,dom:r}=e,i=o.getNode(),s=ir(i);hh(o,!0,(()=>{t()}));s&&ir(i)&&r.isChildOf(i,e.getBody())?e.selection.select(i):n(o.getStart())&&vh(r,o)},vh=(e,t)=>{var n,o;const r=t.getRng(),{startContainer:i,startOffset:s}=r;if(!((e,t)=>{if(ph(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),o=parseInt(n,10);return!isNaN(o)&&o>0}return!1})(e,t.getNode())&&Vo(i)){const a=i.childNodes,l=e.getRoot();let c;if(s<a.length){const t=a[s];c=new Bo(t,null!==(n=e.getParent(t,e.isBlock))&&void 0!==n?n:l)}else{const t=a[a.length-1];c=new Bo(t,null!==(o=e.getParent(t,e.isBlock))&&void 0!==o?o:l),c.next(!0)}for(let n=c.current();n;n=c.next()){if("false"===e.getContentEditable(n))return;if(Ko(n)&&!xh(n))return r.setStart(n,0),void t.setRng(r)}}},bh=(e,t,n)=>{if(e){const o=t?"nextSibling":"previousSibling";for(e=n?e:e[o];e;e=e[o])if(Vo(e)||!xh(e))return e}},yh=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Oi(e,t),wh=(e,t,n)=>e.schema.isValidChild(t,n),xh=(e,t=!1)=>{if(_(e)&&Ko(e)){const n=t?e.data.replace(/ /g,""):e.data;return si(n)}return!1},_h=(e,t)=>{const n=e.dom;return ph(t)&&"false"===n.getContentEditable(t)&&((e,t)=>{const n="[data-mce-cef-wrappable]",o=xc(e),r=Xe(o)?n:`${n},${o}`;return yn(vn.fromDom(t),r)})(e,t)&&0===n.select('[contenteditable="true"]',t).length},Sh=(e,t)=>S(e)?e(t):(_(t)&&(e=e.replace(/%(\w+)/g,((e,n)=>t[n]||e))),e),Ch=(e,t)=>(t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),jh=(e,t)=>{if(x(e))return null;{let n=String(e);return"color"!==t&&"backgroundColor"!==t||(n=eh(n)),"fontWeight"===t&&700===e&&(n="bold"),"fontFamily"===t&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},kh=(e,t,n)=>{const o=e.getStyle(t,n);return jh(o,n)},Eh=(e,t)=>{let n;return e.getParent(t,(t=>!!Vo(t)&&(n=e.getStyle(t,"text-decoration"),!!n&&"none"!==n))),n},Oh=(e,t,n)=>e.getParents(t,n,e.getRoot()),Ah=(e,t,n)=>{const o=e.formatter.get(t);return _(o)&&q(o,n)},Th=(e,t,n)=>{const o=["inline","block","selector","attributes","styles","classes"],r=e=>xe(e,((e,t)=>q(o,(e=>e===t))));return Ah(e,t,(t=>{const o=r(t);return Ah(e,n,(e=>{const t=r(e);return((e,t,n=a)=>s(n).eq(e,t))(o,t)}))}))},Dh=e=>ke(e,"block"),Mh=e=>ke(e,"selector"),Ph=e=>ke(e,"inline"),Rh=e=>Mh(e)&&!1!==e.expand&&!Ph(e),Nh=zu,Lh=Oh,Ih=xh,Bh=yh,Fh=(e,t)=>{let n=t;for(;n;){if(Vo(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},Hh=(e,t,n,o)=>{const r=t.data;if(e){for(let e=n;e>0;e--)if(o(r.charAt(e-1)))return e}else for(let e=n;e<r.length;e++)if(o(r.charAt(e)))return e;return-1},Vh=(e,t,n)=>Hh(e,t,n,(e=>Uu(e)||qu(e))),zh=(e,t,n)=>Hh(e,t,n,Zu),Uh=(e,t,n,o,r,i)=>{let s;const a=e.getParent(n,e.isBlock)||t,l=(t,n,o)=>{const i=ha(e),l=r?i.backwards:i.forwards;return F.from(l(t,n,((e,t)=>Nh(e.parentNode)?-1:(s=e,o(r,e,t))),a))};return l(n,o,Vh).bind((e=>i?l(e.container,e.offset+(r?-1:0),zh):F.some(e))).orThunk((()=>s?F.some({container:s,offset:r?0:s.length}):F.none()))},Wh=(e,t,n,o,r)=>{const i=o[r];Ko(o)&&Xe(o.data)&&i&&(o=i);const s=Lh(e,o);for(let o=0;o<s.length;o++)for(let r=0;r<t.length;r++){const i=t[r];if((!_(i.collapsed)||i.collapsed===n.collapsed)&&(Mh(i)&&e.is(s[o],i.selector)))return s[o]}return o},qh=(e,t,n,o)=>{var r;let i=n;const s=e.getRoot(),a=t[0];if(Dh(a)&&(i=a.wrapper?null:e.getParent(n,a.block,s)),!i){const t=null!==(r=e.getParent(n,"LI,TD,TH"))&&void 0!==r?r:s;i=e.getParent(Ko(n)?n.parentNode:n,(t=>t!==s&&Bh(e.schema,t)),t)}if(i&&Dh(a)&&a.wrapper&&(i=Lh(e,i,"ul,ol").reverse()[0]||i),!i)for(i=n;i&&i[o]&&!e.isBlock(i[o])&&(i=i[o],!Ch(i,"br")););return i||n},Zh=(e,t,n,o)=>{const r=n.parentNode;return!_(n[o])&&(!(r!==t&&!x(r)&&!e.isBlock(r))||Zh(e,t,r,o))},Gh=(e,t,n,o,r)=>{let i=n;const s=r?"previousSibling":"nextSibling",a=e.getRoot();if(Ko(n)&&!Ih(n)&&(r?o>0:o<n.data.length))return n;for(;i;){if(!t[0].block_expand&&e.isBlock(i))return i;for(let t=i[s];t;t=t[s]){const n=Ko(t)&&!Zh(e,a,t,s);if(!Nh(t)&&(!nr(l=t)||!l.getAttribute("data-mce-bogus")||l.nextSibling)&&!Ih(t,n))return i}if(i===a||i.parentNode===a){n=i;break}i=i.parentNode}var l;return n},$h=e=>Nh(e.parentNode)||Nh(e),Yh=(e,t,n,o=!1)=>{let{startContainer:r,startOffset:i,endContainer:s,endOffset:a}=t;const l=n[0];if(Vo(r)&&r.hasChildNodes()&&(r=xa(r,i),Ko(r)&&(i=0)),Vo(s)&&s.hasChildNodes()&&(s=xa(s,t.collapsed?a:a-1),Ko(s)&&(a=s.data.length)),r=Fh(e,r),s=Fh(e,s),$h(r)&&(r=Nh(r)?r:r.parentNode,r=t.collapsed?r.previousSibling||r:r.nextSibling||r,Ko(r)&&(i=t.collapsed?r.length:0)),$h(s)&&(s=Nh(s)?s:s.parentNode,s=t.collapsed?s.nextSibling||s:s.previousSibling||s,Ko(s)&&(a=t.collapsed?0:s.length)),t.collapsed){Uh(e,e.getRoot(),r,i,!0,o).each((({container:e,offset:t})=>{r=e,i=t}));Uh(e,e.getRoot(),s,a,!1,o).each((({container:e,offset:t})=>{s=e,a=t}))}return(Ph(l)||l.block_expand)&&(Ph(l)&&Ko(r)&&0!==i||(r=Gh(e,n,r,i,!0)),Ph(l)&&Ko(s)&&a!==s.data.length||(s=Gh(e,n,s,a,!1))),Rh(l)&&(r=Wh(e,n,t,r,"previousSibling"),s=Wh(e,n,t,s,"nextSibling")),(Dh(l)||Mh(l))&&(r=qh(e,n,r,"previousSibling"),s=qh(e,n,s,"nextSibling"),Dh(l)&&(e.isBlock(r)||(r=Gh(e,n,r,i,!0)),e.isBlock(s)||(s=Gh(e,n,s,a,!1)))),Vo(r)&&r.parentNode&&(i=e.nodeIndex(r),r=r.parentNode),Vo(s)&&s.parentNode&&(a=e.nodeIndex(s)+1,s=s.parentNode),{startContainer:r,startOffset:i,endContainer:s,endOffset:a}},Kh=(e,t,n)=>{var o;const r=t.startOffset,i=xa(t.startContainer,r),s=t.endOffset,a=xa(t.endContainer,s-1),l=e=>{const t=e[0];Ko(t)&&t===i&&r>=t.data.length&&e.splice(0,1);const n=e[e.length-1];return 0===s&&e.length>0&&n===a&&Ko(n)&&e.splice(e.length-1,1),e},c=(e,t,n)=>{const o=[];for(;e&&e!==n;e=e[t])o.push(e);return o},d=(t,n)=>e.getParent(t,(e=>e.parentNode===n),n),u=(e,t,o)=>{const r=o?"nextSibling":"previousSibling";for(let i=e,s=i.parentNode;i&&i!==t;i=s){s=i.parentNode;const t=c(i===e?i:i[r],r);t.length&&(o||t.reverse(),n(l(t)))}};if(i===a)return n(l([i]));const h=null!==(o=e.findCommonAncestor(i,a))&&void 0!==o?o:e.getRoot();if(e.isChildOf(i,a))return u(i,h,!0);if(e.isChildOf(a,i))return u(a,h);const m=d(i,h)||i,p=d(a,h)||a;u(i,m,!0);const f=c(m===i?m:m.nextSibling,"nextSibling",p===a?p.nextSibling:p);f.length&&n(l(f)),u(a,p)},Xh=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],Qh=(e,t,n,o)=>kn(t).fold((()=>"skipping"),(r=>"br"===o||(e=>Gt(e)&&pr(e)===Pr)(t)?"valid":(e=>Zt(e)&&fn(e,Gs()))(t)?"existing":Ou(t.dom)?"caret":q(Xh,(e=>yn(t,e)))?"valid-block":wh(e,n,o)&&wh(e,Ut(r),n)?"valid":"invalid-child")),Jh=(e,t,n,o,r,i)=>{const{uid:s=t,...a}=n;un(e,Gs()),Qt(e,`${Ys()}`,s),Qt(e,`${$s()}`,o);const{attributes:l={},classes:c=[]}=r(s,a);if(Jt(e,l),((e,t)=>{G(t,(t=>{un(e,t)}))})(e,c),i){c.length>0&&Qt(e,`${Xs()}`,c.join(","));const t=pe(l);t.length>0&&Qt(e,`${Qs()}`,t.join(","))}},em=e=>{mn(e,Gs()),on(e,`${Ys()}`),on(e,`${$s()}`),on(e,`${Ks()}`);const t=tn(e,`${Qs()}`).map((e=>e.split(","))).getOr([]),n=tn(e,`${Xs()}`).map((e=>e.split(","))).getOr([]);var o;G(t,(t=>on(e,t))),o=e,G(n,(e=>{mn(o,e)})),on(e,`${Xs()}`),on(e,`${Qs()}`)},tm=(e,t,n,o,r)=>{const i=vn.fromTag("span",e);return Jh(i,t,n,o,r,!1),i},nm=(e,t,n,o,r,i)=>{const s=[],a=tm(e.getDoc(),n,i,o,r),l=Ws(),c=()=>{l.clear()},d=e=>{G(e,u)},u=t=>{switch(Qh(e,t,"span",Ut(t))){case"invalid-child":{c();const e=Pn(t);d(e),c();break}case"valid-block":c(),Jh(t,n,i,o,r,!0);break;case"valid":{const e=l.get().getOrThunk((()=>{const e=la(a);return s.push(e),l.set(e),e}));go(t,e);break}}};return Kh(e.dom,t,(e=>{c(),(e=>{const t=Z(e,vn.fromDom);d(t)})(e)})),s},om=(e,t,n,o)=>{e.undoManager.transact((()=>{const r=e.selection,i=r.getRng(),s=rh(e).length>0,a=sa("mce-annotation");if(i.collapsed&&!s&&((e,t)=>{const n=Yh(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)})(e,i),r.getRng().collapsed&&!s){const i=tm(e.getDoc(),a,o,t,n.decorate);So(i,ur),r.getRng().insertNode(i.dom),r.select(i.dom)}else hh(r,!1,(()=>{uh(e,(r=>{nm(e,r,a,t,n.decorate,o)}))}))}))},rm=e=>{const t=(()=>{const e={};return{register:(t,n)=>{e[t]={name:t,settings:n}},lookup:t=>Ce(e,t).map((e=>e.settings)),getNames:()=>pe(e)}})();((e,t)=>{const n=$s(),o=e=>F.from(e.attr(n)).bind(t.lookup),r=e=>{var t,n;e.attr(Ys(),null),e.attr($s(),null),e.attr(Ks(),null);const o=F.from(e.attr(Qs())).map((e=>e.split(","))).getOr([]),r=F.from(e.attr(Xs())).map((e=>e.split(","))).getOr([]);G(o,(t=>e.attr(t,null)));const i=null!==(n=null===(t=e.attr("class"))||void 0===t?void 0:t.split(" "))&&void 0!==n?n:[],s=se(i,[Gs()].concat(r));e.attr("class",s.length>0?s.join(" "):null),e.attr(Xs(),null),e.attr(Qs(),null)};e.serializer.addTempAttr(Ks()),e.serializer.addAttributeFilter(n,(e=>{for(const t of e)o(t).each((e=>{!1===e.persistent&&("span"===t.name?t.unwrap():r(t))}))}))})(e,t);const n=ra(e,t),o=Kt("span"),r=e=>{G(e,(e=>{o(e)?wo(e):em(e)}))};return{register:(e,n)=>{t.register(e,n)},annotate:(n,o)=>{t.lookup(n).each((t=>{om(e,n,t,o)}))},annotationChanged:(e,t)=>{n.addListener(e,t)},remove:t=>{ea(e,F.some(t)).each((({elements:t})=>{const n=e.selection.getBookmark();r(t),e.selection.moveToBookmark(n)}))},removeAll:t=>{const n=e.selection.getBookmark();ge(oa(e,t),((e,t)=>{r(e)})),e.selection.moveToBookmark(n)},getAll:t=>{const n=oa(e,t);return ve(n,(e=>Z(e,(e=>e.dom))))}}},im=e=>({getBookmark:M(Hu,e),moveToBookmark:M(Vu,e)});im.isBookmarkNode=zu;const sm=(e,t,n)=>!n.collapsed&&q(n.getClientRects(),(n=>((e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom)(n,e,t))),am=(e,t,n)=>{e.dispatch(t,n)},lm=(e,t,n,o)=>{e.dispatch("FormatApply",{format:t,node:n,vars:o})},cm=(e,t,n,o)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:o})},dm=(e,t)=>e.dispatch("SetContent",t),um=(e,t)=>e.dispatch("GetContent",t),hm=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),mm={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||mm.metaKeyPressed(e),metaKeyPressed:e=>Tt.os.isMacOS()||Tt.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},pm="data-mce-selected",fm=Math.abs,gm=Math.round,vm={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},bm=(e,t)=>{const n=t.dom,o=t.getDoc(),r=document,i=t.getBody();let s,a,l,c,d,u,h,m,p,f,g,v,b,y,w;const x=e=>_(e)&&(or(e)||n.is(e,"figure.image")),S=e=>lr(e)||n.hasClass(e,"mce-preview-object"),C=e=>{const n=e.target;((e,t)=>{if((e=>"longpress"===e.type||0===e.type.indexOf("touch"))(e)){const n=e.touches[0];return x(e.target)&&!sm(n.clientX,n.clientY,t)}return x(e.target)&&!sm(e.clientX,e.clientY,t)})(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},j=e=>n.hasClass(e,"mce-preview-object")&&_(e.firstElementChild)?[e,e.firstElementChild]:n.is(e,"figure.image")?[e.querySelector("img")]:[e],k=e=>{const o=lc(t);return!!o&&("false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&(n.hasClass(e,"mce-preview-object")&&_(e.firstElementChild)?yn(vn.fromDom(e.firstElementChild),o):yn(vn.fromDom(e),o))))},E=(e,o,r)=>{if(_(r)){const i=j(e);G(i,(e=>{e.style[o]||!t.schema.isValid(e.nodeName.toLowerCase(),o)?n.setStyle(e,o,r):n.setAttrib(e,o,""+r)}))}},O=(e,t,n)=>{E(e,"width",t),E(e,"height",n)},A=e=>{let o,r,d,_,C;o=e.screenX-u,r=e.screenY-h,v=o*c[2]+m,b=r*c[3]+p,v=v<5?5:v,b=b<5?5:b,d=(x(s)||S(s))&&!1!==cc(t)?!mm.modifierPressed(e):mm.modifierPressed(e),d&&(fm(o)>fm(r)?(b=gm(v*f),v=gm(b/f)):(v=gm(b/f),b=gm(v*f))),O(a,v,b),_=c.startPos.x+o,C=c.startPos.y+r,_=_>0?_:0,C=C>0?C:0,n.setStyles(l,{left:_,top:C,display:"block"}),l.innerHTML=v+" &times; "+b,c[2]<0&&a.clientWidth<=v&&n.setStyle(a,"left",undefined+(m-v)),c[3]<0&&a.clientHeight<=b&&n.setStyle(a,"top",undefined+(p-b)),o=i.scrollWidth-y,r=i.scrollHeight-w,o+r!==0&&n.setStyles(l,{left:_-o,top:C-r}),g||(((e,t,n,o,r)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:o,origin:r})})(t,s,m,p,"corner-"+c.name),g=!0)},T=()=>{const e=g;g=!1,e&&(E(s,"width",v),E(s,"height",b)),n.unbind(o,"mousemove",A),n.unbind(o,"mouseup",T),r!==o&&(n.unbind(r,"mousemove",A),n.unbind(r,"mouseup",T)),n.remove(a),n.remove(l),n.remove(d),D(s),e&&(((e,t,n,o,r)=>{e.dispatch("ObjectResized",{target:t,width:n,height:o,origin:r})})(t,s,v,b,"corner-"+c.name),n.setAttrib(s,"style",n.getAttrib(s,"style"))),t.nodeChanged()},D=e=>{L();const g=n.getPos(e,i),x=g.x,_=g.y,C=e.getBoundingClientRect(),E=C.width||C.right-C.left,D=C.height||C.bottom-C.top;s!==e&&(P(),s=e,v=b=0);const M=t.dispatch("ObjectSelected",{target:e});k(e)&&!M.isDefaultPrevented()?ge(vm,((e,t)=>{const g=g=>{const v=j(s)[0];var b;u=g.screenX,h=g.screenY,m=v.clientWidth,p=v.clientHeight,f=p/m,c=e,c.name=t,c.startPos={x:E*e[0]+x,y:D*e[1]+_},y=i.scrollWidth,w=i.scrollHeight,d=n.add(i,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(d,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),a=S(b=s)?n.create("img",{src:Tt.transparentSrc}):b.cloneNode(!0),n.addClass(a,"mce-clonedresizable"),n.setAttrib(a,"data-mce-bogus","all"),a.contentEditable="false",n.setStyles(a,{left:x,top:_,margin:0}),O(a,E,D),a.removeAttribute(pm),i.appendChild(a),n.bind(o,"mousemove",A),n.bind(o,"mouseup",T),r!==o&&(n.bind(r,"mousemove",A),n.bind(r,"mouseup",T)),l=n.add(i,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},m+" &times; "+p)};let v=n.get("mceResizeHandle"+t);v&&n.remove(v),v=n.add(i,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),n.bind(v,"mousedown",(e=>{e.stopImmediatePropagation(),e.preventDefault(),g(e)})),e.elm=v,n.setStyles(v,{left:E*e[0]+x-v.offsetWidth/2,top:D*e[1]+_-v.offsetHeight/2})})):P(!1)},M=qs(D,0),P=(e=!0)=>{M.cancel(),L(),s&&e&&s.removeAttribute(pm),ge(vm,((e,t)=>{const o=n.get("mceResizeHandle"+t);o&&(n.unbind(o),n.remove(o))}))},R=(e,t)=>n.isChildOf(e,t),N=o=>{if(g||t.removed||t.composing)return;const r="mousedown"===o.type?o.target:e.getNode(),s=Jn(vn.fromDom(r),"table,img,figure.image,hr,video,span.mce-preview-object").map((e=>e.dom)).filter((e=>n.isEditable(e.parentElement))).getOrUndefined(),a=_(s)?n.getAttrib(s,pm,"1"):"1";if(G(n.select(`img[${pm}],hr[${pm}]`),(e=>{e.removeAttribute(pm)})),_(s)&&R(s,i)){I();const t=e.getStart(!0);if(R(t,s)&&R(e.getEnd(!0),s))return n.setAttrib(s,pm,a),void M.throttle(s)}P()},L=()=>{ge(vm,(e=>{e.elm&&(n.unbind(e.elm),delete e.elm)}))},I=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};t.on("init",(()=>{I(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",N),t.on("keyup compositionend",(e=>{s&&"TABLE"===s.nodeName&&N(e)})),t.on("hide blur",P),t.on("contextmenu longpress",C,!0)})),t.on("remove",L);return{isResizable:k,showResizeRect:D,hideResizeRect:P,updateResizeRect:N,destroy:()=>{M.cancel(),s=a=d=null}}},ym=(e,t,n)=>{const o=e.document.createRange();var r;return r=o,t.fold((e=>{r.setStartBefore(e.dom)}),((e,t)=>{r.setStart(e.dom,t)}),(e=>{r.setStartAfter(e.dom)})),((e,t)=>{t.fold((t=>{e.setEndBefore(t.dom)}),((t,n)=>{e.setEnd(t.dom,n)}),(t=>{e.setEndAfter(t.dom)}))})(o,n),o},wm=(e,t,n,o,r)=>{const i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(o.dom,r),i},xm=pl([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),_m=(e,t,n)=>t(vn.fromDom(n.startContainer),n.startOffset,vn.fromDom(n.endContainer),n.endOffset),Sm=(e,t)=>{const n=((e,t)=>t.match({domRange:e=>({ltr:A(e),rtl:F.none}),relative:(t,n)=>({ltr:Le((()=>ym(e,t,n))),rtl:Le((()=>F.some(ym(e,n,t))))}),exact:(t,n,o,r)=>({ltr:Le((()=>wm(e,t,n,o,r))),rtl:Le((()=>F.some(wm(e,o,r,t,n))))})}))(e,t);return((e,t)=>{const n=t.ltr();if(n.collapsed)return t.rtl().filter((e=>!1===e.collapsed)).map((e=>xm.rtl(vn.fromDom(e.endContainer),e.endOffset,vn.fromDom(e.startContainer),e.startOffset))).getOrThunk((()=>_m(0,xm.ltr,n)));return _m(0,xm.ltr,n)})(0,n)};xm.ltr,xm.rtl;const Cm=(e,t,n,o)=>({start:e,soffset:t,finish:n,foffset:o}),jm=(e,t,n)=>{var o,r;return F.from(null===(r=(o=e.dom).caretPositionFromPoint)||void 0===r?void 0:r.call(o,t,n)).bind((t=>{if(null===t.offsetNode)return F.none();const n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),F.some(n)}))},km=(e,t,n)=>{var o,r;return F.from(null===(r=(o=e.dom).caretRangeFromPoint)||void 0===r?void 0:r.call(o,t,n))},Em=document.caretPositionFromPoint?jm:document.caretRangeFromPoint?km:F.none,Om=pl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Am={before:Om.before,on:Om.on,after:Om.after,cata:(e,t,n,o)=>e.fold(t,n,o),getStart:e=>e.fold(T,T,T)},Tm=pl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Dm={domRange:Tm.domRange,relative:Tm.relative,exact:Tm.exact,exactFromRange:e=>Tm.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>vn.fromDom(e.startContainer),relative:(e,t)=>Am.getStart(e),exact:(e,t,n,o)=>e}))(e);return jn(t)},range:Cm},Mm=(e,t)=>{const n=Ut(e);return"input"===n?Am.after(e):W(["br","img"],n)?0===t?Am.before(e):Am.after(e):Am.on(e,t)},Pm=(e,t)=>{const n=e.fold(Am.before,Mm,Am.after),o=t.fold(Am.before,Mm,Am.after);return Dm.relative(n,o)},Rm=(e,t,n,o)=>{const r=Mm(e,t),i=Mm(n,o);return Dm.relative(r,i)},Nm=(e,t)=>{const n=(t||document).createDocumentFragment();return G(e,(e=>{n.appendChild(e.dom)})),vn.fromDom(n)},Lm=e=>{const t=Dm.getWin(e).dom,n=(e,n,o,r)=>wm(t,e,n,o,r),o=(e=>e.match({domRange:e=>{const t=vn.fromDom(e.startContainer),n=vn.fromDom(e.endContainer);return Rm(t,e.startOffset,n,e.endOffset)},relative:Pm,exact:Rm}))(e);return Sm(t,o).match({ltr:n,rtl:n})},Im=(e,t,n)=>((e,t,n)=>{const o=vn.fromDom(e.document);return Em(o,t,n).map((e=>Cm(vn.fromDom(e.startContainer),e.startOffset,vn.fromDom(e.endContainer),e.endOffset)))})(e,t,n),Bm=(e,t,n)=>{const o=jn(vn.fromDom(n));return Im(o.dom,e,t).map((e=>{const t=n.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t})).getOrUndefined()},Fm=(e,t)=>_(e)&&_(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,Hm=(e,t,n)=>null!==((e,t,n)=>{let o=e;for(;o&&o!==t;){if(n(o))return o;o=o.parentNode}return null})(e,t,n),Vm=(e,t,n)=>Hm(e,t,(e=>e.nodeName===n)),zm=(e,t)=>Hr(e)&&!Hm(e,t,Ou),Um=(e,t,n)=>{const o=t.parentNode;if(o){const r=new Bo(t,e.getParent(o,e.isBlock)||e.getRoot());let i;for(;i=r[n?"prev":"next"]();)if(nr(i))return!0}return!1},Wm=(e,t,n,o,r)=>{const i=e.getRoot(),s=e.schema.getNonEmptyElements(),a=r.parentNode;let l,c;if(!a)return F.none();const d=e.getParent(a,e.isBlock)||i;if(o&&nr(r)&&t&&e.isEmpty(d))return F.some(za(a,e.nodeIndex(r)));const u=new Bo(r,d);for(;c=u[o?"prev":"next"]();){if("false"===e.getContentEditableParent(c)||zm(c,i))return F.none();if(Ko(c)&&c.data.length>0)return Vm(c,i,"A")?F.none():F.some(za(c,o?c.data.length:0));if(e.isBlock(c)||s[c.nodeName.toLowerCase()])return F.none();l=c}return Jo(l)?F.none():n&&l?F.some(za(l,0)):F.none()},qm=(e,t,n,o)=>{const r=e.getRoot();let i,s=!1,a=n?o.startContainer:o.endContainer,l=n?o.startOffset:o.endOffset;const c=Vo(a)&&l===a.childNodes.length,d=e.schema.getNonEmptyElements();let u=n;if(Hr(a))return F.none();if(Vo(a)&&l>a.childNodes.length-1&&(u=!1),er(a)&&(a=r,l=0),a===r){if(u&&(i=a.childNodes[l>0?l-1:0],i)){if(Hr(i))return F.none();if(d[i.nodeName]||Go(i))return F.none()}if(a.hasChildNodes()){if(l=Math.min(!u&&l>0?l-1:l,a.childNodes.length-1),a=a.childNodes[l],l=Ko(a)&&c?a.data.length:0,!t&&a===r.lastChild&&Go(a))return F.none();if(((e,t)=>{let n=t;for(;n&&n!==e;){if(ir(n))return!0;n=n.parentNode}return!1})(r,a)||Hr(a))return F.none();if(a.hasChildNodes()&&!Go(a)){i=a;const t=new Bo(a,r);do{if(ir(i)||Hr(i)){s=!1;break}if(Ko(i)&&i.data.length>0){l=u?0:i.data.length,a=i,s=!0;break}if(d[i.nodeName.toLowerCase()]&&!ar(i)){l=e.nodeIndex(i),a=i.parentNode,u||l++,s=!0;break}}while(i=u?t.next():t.prev())}}}return t&&(Ko(a)&&0===l&&Wm(e,c,t,!0,a).each((e=>{a=e.container(),l=e.offset(),s=!0})),Vo(a)&&(i=a.childNodes[l],i||(i=a.childNodes[l-1]),!i||!nr(i)||((e,t)=>{var n;return(null===(n=e.previousSibling)||void 0===n?void 0:n.nodeName)===t})(i,"A")||Um(e,i,!1)||Um(e,i,!0)||Wm(e,c,t,!0,i).each((e=>{a=e.container(),l=e.offset(),s=!0})))),u&&!t&&Ko(a)&&l===a.data.length&&Wm(e,c,t,!1,a).each((e=>{a=e.container(),l=e.offset(),s=!0})),s&&a?F.some(za(a,l)):F.none()},Zm=(e,t)=>{const n=t.collapsed,o=t.cloneRange(),r=za.fromRangeStart(t);return qm(e,n,!0,o).each((e=>{n&&za.isAbove(r,e)||o.setStart(e.container(),e.offset())})),n||qm(e,n,!1,o).each((e=>{o.setEnd(e.container(),e.offset())})),n&&o.collapse(!0),Fm(t,o)?F.none():F.some(o)},Gm=(e,t)=>e.splitText(t),$m=e=>{let t=e.startContainer,n=e.startOffset,o=e.endContainer,r=e.endOffset;if(t===o&&Ko(t)){if(n>0&&n<t.data.length)if(o=Gm(t,n),t=o.previousSibling,r>n){r-=n;const e=Gm(o,r).previousSibling;t=o=e,r=e.data.length,n=0}else r=0}else if(Ko(t)&&n>0&&n<t.data.length&&(t=Gm(t,n),n=0),Ko(o)&&r>0&&r<o.data.length){const e=Gm(o,r).previousSibling;o=e,r=e.data.length}return{startContainer:t,startOffset:n,endContainer:o,endOffset:r}},Ym=e=>({walk:(t,n)=>Kh(e,t,n),split:$m,expand:(t,n={type:"word"})=>{if("word"===n.type){const n=Yh(e,t,[{inline:"span"}]),o=e.createRng();return o.setStart(n.startContainer,n.startOffset),o.setEnd(n.endContainer,n.endOffset),o}return t},normalize:t=>Zm(e,t).fold(I,(e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0)))});Ym.compareRanges=Fm,Ym.getCaretRangeFromPoint=Bm,Ym.getSelectedNode=wa,Ym.getNode=xa;const Km=((e,t)=>{const n=n=>{const o=t(n);if(o<=0||null===o){const t=so(n,e);return parseFloat(t)||0}return o},o=(e,t)=>Q(t,((t,n)=>{const o=so(e,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?t:t+r}),0);return{set:(t,n)=>{if(!C(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const o=t.dom;no(o)&&(o.style[e]=n+"px")},get:n,getOuter:n,aggregate:o,max:(e,t,n)=>{const r=o(e,n);return t>r?t-r:0}}})("height",(e=>{const t=e.dom;return Zn(e)?t.getBoundingClientRect().height:t.offsetHeight})),Xm=()=>vn.fromDom(document),Qm=(e,t)=>e.view(t).fold(A([]),(t=>{const n=e.owner(t),o=Qm(e,n);return[t].concat(o)}));var Jm=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?F.none():F.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(vn.fromDom)},owner:e=>Cn(e)});const ep=e=>{const t=Xm(),n=Do(t),o=((e,t)=>{const n=t.owner(e);return Qm(t,n)})(e,Jm),r=To(e),i=X(o,((e,t)=>{const n=To(t);return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0});return Oo(i.left+r.left+n.left,i.top+r.top+n.top)},tp=e=>"textarea"===Ut(e),np=(e,t)=>{const n=(e=>{const t=e.dom.ownerDocument,n=t.body,o=t.defaultView,r=t.documentElement;if(n===e.dom)return Oo(n.offsetLeft,n.offsetTop);const i=Ao(null==o?void 0:o.pageYOffset,r.scrollTop),s=Ao(null==o?void 0:o.pageXOffset,r.scrollLeft),a=Ao(r.clientTop,n.clientTop),l=Ao(r.clientLeft,n.clientLeft);return To(e).translate(s-l,i-a)})(e),o=(e=>Km.get(e))(e);return{element:e,bottom:n.top+o,height:o,pos:n,cleanup:t}},op=(e,t)=>{const n=((e,t)=>{const n=Pn(e);if(0===n.length||tp(e))return{element:e,offset:t};if(t<n.length&&!tp(n[t]))return{element:n[t],offset:0};{const o=n[n.length-1];return tp(o)?{element:e,offset:t}:"img"===Ut(o)?{element:o,offset:1}:Gt(o)?{element:o,offset:pr(o).length}:{element:o,offset:Pn(o).length}}})(e,t),o=vn.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>');return ho(n.element,o),np(o,(()=>yo(o)))},rp=(e,t,n,o)=>{lp(e,((r,i)=>sp(e,t,n,o)),n)},ip=(e,t,n,o,r)=>{const i={elm:o.element.dom,alignToTop:r};if(((e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented())(e,i))return;n(t,Do(t).top,o,r),((e,t)=>{e.dispatch("AfterScrollIntoView",t)})(e,i)},sp=(e,t,n,o)=>{const r=vn.fromDom(e.getBody()),i=vn.fromDom(e.getDoc());r.dom.offsetWidth;const s=op(vn.fromDom(n.startContainer),n.startOffset);ip(e,i,t,s,o),s.cleanup()},ap=(e,t,n,o)=>{const r=vn.fromDom(e.getDoc());ip(e,r,n,(e=>np(vn.fromDom(e),k))(t),o)},lp=(e,t,n)=>{const o=n.startContainer,r=n.startOffset,i=n.endContainer,s=n.endOffset;t(vn.fromDom(o),vn.fromDom(i));const a=e.dom.createRng();a.setStart(o,r),a.setEnd(i,s),e.selection.setRng(n)},cp=(e,t)=>e.element.dom.scrollIntoView({block:t?"start":"end"}),dp=(e,t,n,o)=>{const r=t+e,i=n.pos.top,s=n.bottom,a=s-i>=t;if(i<e)cp(n,!1!==o);else if(i>r){cp(n,a?!1!==o:!0===o)}else s>r&&!a&&cp(n,!0===o)},up=(e,t,n,o)=>{const r=jn(e).dom.innerHeight;dp(t,r,n,o)},hp=(e,t,n,o)=>{const r=jn(e).dom.innerHeight;dp(t,r,n,o);const i=ep(n.element),s=Ro(window);i.top<s.y?Mo(n.element,!1!==o):i.top>s.bottom&&Mo(n.element,!0===o)},mp=(e,t,n)=>rp(e,up,t,n),pp=(e,t,n)=>ap(e,t,up,n),fp=(e,t,n)=>rp(e,hp,t,n),gp=(e,t,n)=>ap(e,t,hp,n),vp=(e,t,n)=>{(e.inline?mp:fp)(e,t,n)},bp=e=>e.dom.focus(),yp=e=>{const t=Vn(e).dom;return e.dom===t.activeElement},wp=(e=Xm())=>F.from(e.dom.activeElement).map(vn.fromDom),xp=(e,t)=>{const n=Gt(t)?pr(t).length:Pn(t).length+1;return e>n?n:e<0?0:e},_p=e=>Dm.range(e.start,xp(e.soffset,e.start),e.finish,xp(e.foffset,e.finish)),Sp=(e,t)=>!Ho(t.dom)&&(_n(e,t)||xn(e,t)),Cp=e=>t=>Sp(e,t.start)&&Sp(e,t.finish),jp=e=>Dm.range(vn.fromDom(e.startContainer),e.startOffset,vn.fromDom(e.endContainer),e.endOffset),kp=e=>(e=>{const t=e.getSelection();return(t&&0!==t.rangeCount?F.from(t.getRangeAt(0)):F.none()).map(jp)})(jn(e).dom).filter(Cp(e)),Ep=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),F.some(t)}catch(e){return F.none()}},Op=e=>{const t=(e=>e.inline||Tt.browser.isFirefox())(e)?kp(vn.fromDom(e.getBody())):F.none();e.bookmark=t.isSome()?t:e.bookmark},Ap=e=>(e.bookmark?e.bookmark:F.none()).bind((t=>((e,t)=>F.from(t).filter(Cp(e)).map(_p))(vn.fromDom(e.getBody()),t))).bind(Ep),Tp={isEditorUIElement:e=>{const t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},Dp={setEditorTimeout:(e,t,n)=>((e,t)=>(C(t)||(t=0),setTimeout(e,t)))((()=>{e.removed||t()}),n),setEditorInterval:(e,t,n)=>{const o=((e,t)=>(C(t)||(t=0),setInterval(e,t)))((()=>{e.removed?clearInterval(o):t()}),n);return o}},Mp=e=>{const t=qs((()=>{Op(e)}),0);e.on("init",(()=>{e.inline&&((e,t)=>{const n=()=>{t.throttle()};Rs.DOM.bind(document,"mouseup",n),e.on("remove",(()=>{Rs.DOM.unbind(document,"mouseup",n)}))})(e,t),((e,t)=>{((e,t)=>{e.on("mouseup touchend",(e=>{t.throttle()}))})(e,t),e.on("keyup NodeChange AfterSetSelectionRange",(t=>{(e=>"nodechange"===e.type&&e.selectionChange)(t)||Op(e)}))})(e,t)})),e.on("remove",(()=>{t.cancel()}))};let Pp;const Rp=Rs.DOM,Np=e=>{const t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},Lp=(e,t)=>{const n=_c(e),o=Rp.getParent(t,(t=>(e=>Vo(e)&&Tp.isEditorUIElement(e))(t)||!!n&&e.dom.is(t,n)));return null!==o},Ip=e=>{try{const t=Vn(vn.fromDom(e.getElement()));return wp(t).fold((()=>document.body),(e=>e.dom))}catch(e){return document.body}},Bp=(e,t)=>{const n=t.editor;Mp(n);const o=(e,t)=>{if(ld(e)&&!0!==e.inline){t(vn.fromDom(e.getContainer()),"tox-edit-focus")}};n.on("focusin",(()=>{const t=e.focusedEditor;Np(Ip(n))&&o(n,un),t!==n&&(t&&t.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:t}),n.focus(!0))})),n.on("focusout",(()=>{Dp.setEditorTimeout(n,(()=>{const t=e.focusedEditor;Np(Ip(n))&&t===n||o(n,mn),Lp(n,Ip(n))||t!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),Pp||(Pp=t=>{const n=e.activeEditor;n&&Wn(t).each((t=>{const o=t;o.ownerDocument===document&&(o===document.body||Lp(n,o)||e.focusedEditor!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null))}))},Rp.bind(document,"focusin",Pp))},Fp=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Pp&&(Rp.unbind(document,"focusin",Pp),Pp=null)},Hp=(e,t)=>(e=>e.collapsed?F.from(xa(e.startContainer,e.startOffset)).map(vn.fromDom):F.none())(t).bind((t=>Cr(t)?F.some(t):_n(e,t)?F.none():F.some(e))),Vp=(e,t)=>{Hp(vn.fromDom(e.getBody()),t).bind((e=>ju(e.dom))).fold((()=>{e.selection.normalize()}),(t=>e.selection.setRng(t.toRange())))},zp=e=>{if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},Up=e=>{return yp(e)||(t=e,wp(Vn(t)).filter((e=>t.dom.contains(e.dom)))).isSome();var t},Wp=e=>e.inline?(e=>{const t=e.getBody();return t&&Up(vn.fromDom(t))})(e):(e=>_(e.iframeElement)&&yp(vn.fromDom(e.iframeElement)))(e),qp=e=>Wp(e)||(e=>{const t=Vn(vn.fromDom(e.getElement()));return wp(t).filter((t=>!Np(t.dom)&&Lp(e,t.dom))).isSome()})(e),Zp=e=>e.editorManager.setActive(e),Gp=(e,t)=>{e.removed||(t?Zp(e):(e=>{const t=e.selection,n=e.getBody();let o=t.getRng();e.quirks.refreshContentEditable(),_(e.bookmark)&&!Wp(e)&&Ap(e).each((t=>{e.selection.setRng(t),o=t}));const r=((e,t)=>e.dom.getParent(t,(t=>"true"===e.dom.getContentEditable(t))))(e,t.getNode());if(r&&e.dom.isChildOf(r,n))return zp(r),Vp(e,o),void Zp(e);e.inline||(Tt.browser.isOpera()||zp(n),e.getWin().focus()),(Tt.browser.isFirefox()||e.inline)&&(zp(n),Vp(e,o)),Zp(e)})(e))},$p=(e,t,n,o,r)=>{const i=n?t.startContainer:t.endContainer,s=n?t.startOffset:t.endOffset;return F.from(i).map(vn.fromDom).map((e=>o&&t.collapsed?e:Rn(e,r(e,s)).getOr(e))).bind((e=>Zt(e)?F.some(e):kn(e).filter(Zt))).map((e=>e.dom)).getOr(e)},Yp=(e,t,n=!1)=>$p(e,t,!0,n,((e,t)=>Math.min(In(e),t))),Kp=(e,t,n=!1)=>$p(e,t,!1,n,((e,t)=>t>0?t-1:t)),Xp=(e,t)=>{const n=e;for(;e&&Ko(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},Qp=(e,t)=>Z(t,(t=>{const n=e.dispatch("GetSelectionRange",{range:t});return n.range!==t?n.range:t})),Jp=e=>{return Zt(t=e)&&zt(t.dom)&&"false"===en(e,"contenteditable");var t},ef=["img","br"],tf=e=>{const t=fr(e).filter((e=>0!==e.trim().length||e.indexOf(ur)>-1)).isSome();return t||W(ef,Ut(e))||Jp(e)},nf=e=>((e,t)=>{const n=e=>{for(let o=0;o<e.childNodes.length;o++){const r=vn.fromDom(e.childNodes[o]);if(t(r))return F.some(r);const i=n(e.childNodes[o]);if(i.isSome())return i}return F.none()};return n(e.dom)})(e,tf),of=(e,t)=>{const n=e=>{const o=Pn(e);for(let e=o.length-1;e>=0;e--){const r=o[e];if(t(r))return F.some(r);const i=n(r);if(i.isSome())return i}return F.none()};return n(e)},rf="[data-mce-autocompleter]",sf=(e,t)=>{if(af(vn.fromDom(e.getBody())).isNone()){const o=vn.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());fo(o,vn.fromDom(t.extractContents())),t.insertNode(o.dom),kn(o).each((e=>e.dom.normalize())),(n=o,of(n,tf)).map((t=>{e.selection.setCursorLocation(t.dom,(e=>"img"===Ut(e)?1:fr(e).fold((()=>Pn(e).length),(e=>e.length)))(t))}))}var n},af=e=>Qn(e,rf),lf={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},cf=(e,t,n)=>{const o=n?"lastChild":"firstChild",r=n?"prev":"next";if(e[o])return e[o];if(e!==t){let n=e[r];if(n)return n;for(let o=e.parent;o&&o!==t;o=o.parent)if(n=o[r],n)return n}},df=e=>{var t;const n=null!==(t=e.value)&&void 0!==t?t:"";if(!si(n))return!1;const o=e.parent;return!o||"span"===o.name&&!o.attr("style")||!/^[ ]+$/.test(n)},uf=e=>{const t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class hf{constructor(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}static create(e,t){const n=new hf(e,lf[e]||1);return t&&ge(t,((e,t)=>{n.attr(t,e)})),n}replace(e){const t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t}attr(e,t){const n=this;if(!p(e))return _(e)&&ge(e,((e,t)=>{n.attr(t,e)})),n;const o=n.attributes;if(o){if(void 0!==t){if(null===t){if(e in o.map){delete o.map[e];let t=o.length;for(;t--;)if(o[t].name===e)return o.splice(t,1),n}return n}if(e in o.map){let n=o.length;for(;n--;)if(o[n].name===e){o[n].value=t;break}}else o.push({name:e,value:t});return o.map[e]=t,n}return o.map[e]}}clone(){const e=this,t=new hf(e.name,e.type),n=e.attributes;if(n){const e=[];e.map={};for(let t=0,o=n.length;t<o;t++){const o=n[t];"id"!==o.name&&(e[e.length]={name:o.name,value:o.value},e.map[o.name]=o.value)}t.attributes=e}return t.value=e.value,t}wrap(e){const t=this;return t.parent&&(t.parent.insert(e,t),e.append(t)),t}unwrap(){const e=this;for(let t=e.firstChild;t;){const n=t.next;e.insert(t,e,!0),t=n}e.remove()}remove(){const e=this,t=e.parent,n=e.next,o=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):o&&(o.next=n),t.lastChild===e?(t.lastChild=o,o&&(o.next=null)):n&&(n.prev=o),e.parent=e.next=e.prev=null),e}append(e){const t=this;e.parent&&e.remove();const n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e}insert(e,t,n){e.parent&&e.remove();const o=t.parent||this;return n?(t===o.firstChild?o.firstChild=e:t.prev&&(t.prev.next=e),e.prev=t.prev,e.next=t,t.prev=e):(t===o.lastChild?o.lastChild=e:t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e),e.parent=o,e}getAll(e){const t=this,n=[];for(let o=t.firstChild;o;o=cf(o,t))o.name===e&&n.push(o);return n}children(){const e=[];for(let t=this.firstChild;t;t=t.next)e.push(t);return e}empty(){const e=this;if(e.firstChild){const t=[];for(let n=e.firstChild;n;n=cf(n,e))t.push(n);let n=t.length;for(;n--;){const e=t[n];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return e.firstChild=e.lastChild=null,e}isEmpty(e,t={},n){var o;const r=this;let i=r.firstChild;if(uf(r))return!1;if(i)do{if(1===i.type){if(i.attr("data-mce-bogus"))continue;if(e[i.name])return!1;if(uf(i))return!1}if(8===i.type)return!1;if(3===i.type&&!df(i))return!1;if(3===i.type&&i.parent&&t[i.parent.name]&&si(null!==(o=i.value)&&void 0!==o?o:""))return!1;if(n&&n(i))return!1}while(i=cf(i,r));return!0}walk(e){return cf(this,null,e)}}const mf=(e,t,n=0)=>{const o=e.toLowerCase();if(-1!==o.indexOf("[if ",n)&&((e,t)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t)))(o,n)){const e=o.indexOf("[endif]",n);return o.indexOf(">",e)}if(t){const e=o.indexOf(">",n);return-1!==e?e:o.length}{const t=/--!?>/g;t.lastIndex=n;const r=t.exec(e);return r?r.index+r[0].length:o.length}},pf=(e,t,n)=>{const o=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,r=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=e.getVoidElements();let s=1,a=n;for(;0!==s;)for(o.lastIndex=a;;){const e=o.exec(t);if(null===e)return a;if("!"===e[1]){a=We(e[2],"--")?mf(t,!1,e.index+3):mf(t,!0,e.index+1);break}{r.lastIndex=o.lastIndex;const n=r.exec(t);if(b(n)||n.index!==o.lastIndex)continue;"/"===e[1]?s-=1:je(i,e[2])||(s+=1),a=o.lastIndex+n[0].length;break}}return a},ff=(e,t)=>{const n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,o=e.schema;let r=((e,t)=>{const n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")})(e.getTempAttrs(),t);const i=o.getVoidElements();let s;for(;s=n.exec(r);){const e=n.lastIndex,t=s[0].length;let a;a=i[s[1]]?e:pf(o,r,e),r=r.substring(0,e-t)+r.substring(a),n.lastIndex=e-t}return Nr(r)},gf=ff,vf=e=>{const t=Lo(e,"[data-mce-bogus]");G(t,(e=>{"all"===en(e,"data-mce-bogus")?yo(e):wr(e)?(ho(e,vn.fromText(dr)),yo(e)):wo(e)}))},bf=e=>{const t=Lo(e,"input");G(t,(e=>{on(e,"name")}))},yf=(e,t)=>{const n=e.getDoc(),o=Vn(vn.fromDom(e.getBody())),r=vn.fromTag("div",n);Qt(r,"data-mce-bogus","all"),io(r,{position:"fixed",left:"-9999999px",top:"0"}),So(r,t.innerHTML),vf(r),bf(r);const i=(e=>Bn(e)?e:vn.fromDom(Cn(e).dom.body))(o);fo(i,r);const s=Nr(r.dom.innerText);return yo(r),s},wf=(e,t,n)=>{let o;o="raw"===t.format?Rt.trim(gf(e.serializer,n.innerHTML)):"text"===t.format?yf(e,n):"tree"===t.format?e.serializer.serialize(n,t):((e,t)=>{const n=Nl(e),o=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/${n}>[\r\n]*|<br \\/>[\r\n]*)$`);return t.replace(o,"")})(e,e.serializer.serialize(n,t));return"text"!==t.format&&!kr(vn.fromDom(n))&&p(o)?Rt.trim(o):o},xf=Rt.makeMap,_f=e=>{const t=[],n=(e=e||{}).indent,o=xf(e.indent_before||""),r=xf(e.indent_after||""),i=es.getEncodeFunc(e.entity_encoding||"raw",e.entities),s="xhtml"!==e.element_format;return{start:(e,a,l)=>{if(n&&o[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}if(t.push("<",e),a)for(let e=0,n=a.length;e<n;e++){const n=a[e];t.push(" ",n.name,'="',i(n.value,!0),'"')}if(t[t.length]=!l||s?">":" />",l&&n&&r[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}},end:e=>{let o;t.push("</",e,">"),n&&r[e]&&t.length>0&&(o=t[t.length-1],o.length>0&&"\n"!==o&&t.push("\n"))},text:(e,n)=>{e.length>0&&(t[t.length]=n?e:i(e))},cdata:e=>{t.push("<![CDATA[",e,"]]>")},comment:e=>{t.push("\x3c!--",e,"--\x3e")},pi:(e,o)=>{o?t.push("<?",e," ",i(o),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:e=>{t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Sf=(e={},t=ms())=>{const n=_f(e);e.validate=!("validate"in e)||e.validate;return{serialize:o=>{const r=e.validate,i={3:e=>{var t;n.text(null!==(t=e.value)&&void 0!==t?t:"",e.raw)},8:e=>{var t;n.comment(null!==(t=e.value)&&void 0!==t?t:"")},7:e=>{n.pi(e.name,e.value)},10:e=>{var t;n.doctype(null!==(t=e.value)&&void 0!==t?t:"")},4:e=>{var t;n.cdata(null!==(t=e.value)&&void 0!==t?t:"")},11:e=>{let t=e;if(t=t.firstChild)do{s(t)}while(t=t.next)}};n.reset();const s=e=>{var o;const a=i[e.type];if(a)a(e);else{const i=e.name,a=i in t.getVoidElements();let l=e.attributes;if(r&&l&&l.length>1){const n=[];n.map={};const o=t.getElementRule(e.name);if(o){for(let e=0,t=o.attributesOrder.length;e<t;e++){const t=o.attributesOrder[e];if(t in l.map){const e=l.map[t];n.map[t]=e,n.push({name:t,value:e})}}for(let e=0,t=l.length;e<t;e++){const t=l[e].name;if(!(t in n.map)){const e=l.map[t];n.map[t]=e,n.push({name:t,value:e})}}l=n}}if(n.start(i,l,a),!a){let t=e.firstChild;if(t){"pre"!==i&&"textarea"!==i||3!==t.type||"\n"!==(null===(o=t.value)||void 0===o?void 0:o[0])||n.text("\n",!0);do{s(t)}while(t=t.next)}n.end(i)}}};return 1!==o.type||e.inner?3===o.type?i[3](o):i[11](o):s(o),n.getContent()}}},Cf=new Set;G(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],(e=>{Cf.add(e)}));const jf=["font","text-decoration","text-emphasis"],kf=(e,t)=>pe(e.parseStyle(e.getAttrib(t,"style"))),Ef=(e,t)=>re(kf(e,t),(e=>!(e=>Cf.has(e))(e))),Of=(e,t,n)=>{const o=kf(e,t),r=kf(e,n),i=o=>{var r,i;const s=null!==(r=e.getStyle(t,o))&&void 0!==r?r:"",a=null!==(i=e.getStyle(n,o))&&void 0!==i?i:"";return Ke(s)&&Ke(a)&&s!==a};return q(o,(e=>{const t=t=>q(t,(t=>t===e));if(!t(r)&&t(jf)){const e=K(r,(e=>q(jf,(t=>We(e,t)))));return q(e,i)}return i(e)}))},Af=(e,t,n)=>F.from(n.container()).filter(Ko).exists((o=>{const r=e?0:-1;return t(o.data.charAt(n.offset()+r))})),Tf=M(Af,!0,qu),Df=M(Af,!1,qu),Mf=e=>{const t=e.container();return Ko(t)&&(0===t.data.length||Rr(t.data)&&im.isBookmarkNode(t.parentNode))},Pf=(e,t)=>n=>qd(e?0:-1,n).filter(t).isSome(),Rf=e=>or(e)&&"block"===so(vn.fromDom(e),"display"),Nf=e=>ir(e)&&!(e=>Vo(e)&&"all"===e.getAttribute("data-mce-bogus"))(e),Lf=Pf(!0,Rf),If=Pf(!1,Rf),Bf=Pf(!0,lr),Ff=Pf(!1,lr),Hf=Pf(!0,Go),Vf=Pf(!1,Go),zf=Pf(!0,Nf),Uf=Pf(!1,Nf),Wf=(e,t)=>((e,t,n)=>_n(t,e)?On(e,(e=>n(e)||xn(e,t))).slice(0,-1):[])(e,t,I),qf=(e,t)=>[e].concat(Wf(e,t)),Zf=(e,t,n)=>xu(e,t,n,Mf),Gf=(e,t)=>ee(qf(vn.fromDom(t.container()),e),br),$f=(e,t,n)=>Zf(e,t.dom,n).forall((e=>Gf(t,n).fold((()=>!Wd(e,n,t.dom)),(o=>!Wd(e,n,t.dom)&&_n(o,vn.fromDom(e.container())))))),Yf=(e,t,n)=>Gf(t,n).fold((()=>Zf(e,t.dom,n).forall((e=>!Wd(e,n,t.dom)))),(t=>Zf(e,t.dom,n).isNone())),Kf=M(Yf,!1),Xf=M(Yf,!0),Qf=M($f,!1),Jf=M($f,!0),eg=e=>eu(e).exists(wr),tg=(e,t,n)=>{const o=K(qf(vn.fromDom(n.container()),t),br),r=de(o).getOr(t);return yu(e,r.dom,n).filter(eg)},ng=(e,t)=>eu(t).exists(wr)||tg(!0,e,t).isSome(),og=(e,t)=>(e=>F.from(e.getNode(!0)).map(vn.fromDom))(t).exists(wr)||tg(!1,e,t).isSome(),rg=M(tg,!1),ig=M(tg,!0),sg=e=>za.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),ag=(e,t)=>{const n=K(qf(vn.fromDom(t.container()),e),br);return de(n).getOr(e)},lg=(e,t)=>sg(t)?Df(t):Df(t)||Cu(ag(e,t).dom,t).exists(Df),cg=(e,t)=>sg(t)?Tf(t):Tf(t)||Su(ag(e,t).dom,t).exists(Tf),dg=e=>eu(e).bind((e=>Yn(e,Zt))).exists((e=>(e=>W(["pre","pre-wrap"],e))(so(e,"white-space")))),ug=(e,t)=>((e,t)=>Cu(e.dom,t).isNone())(e,t)||((e,t)=>Su(e.dom,t).isNone())(e,t)||Kf(e,t)||Xf(e,t)||og(e,t)||ng(e,t),hg=(e,t)=>n=>{return o=new Bo(n,e)[t](),_(o)&&ir(o)&&Pd(o);var o},mg=(e,t)=>!dg(t)&&(Kf(e,t)||Qf(e,t)||og(e,t)||lg(e,t)||((e,t)=>{const n=Cu(e.dom,t).getOr(t),o=hg(e.dom,"prev");return t.isAtStart()&&(o(t.container())||o(n.container()))})(e,t)),pg=(e,t)=>!dg(t)&&(Xf(e,t)||Jf(e,t)||ng(e,t)||cg(e,t)||((e,t)=>{const n=Su(e.dom,t).getOr(t),o=hg(e.dom,"next");return t.isAtEnd()&&(o(t.container())||o(n.container()))})(e,t)),fg=(e,t)=>mg(e,t)||pg(e,(e=>{const t=e.container(),n=e.offset();return Ko(t)&&n<t.data.length?za(t,n+1):e})(t)),gg=(e,t)=>Uu(e.charAt(t)),vg=(e,t)=>qu(e.charAt(t)),bg=(e,t,n)=>{const o=t.data,r=za(t,0);return n||!gg(o,0)||fg(e,r)?!!(n&&vg(o,0)&&mg(e,r))&&(t.data=ur+o.slice(1),!0):(t.data=" "+o.slice(1),!0)},yg=e=>{const t=e.data,n=(e=>{const t=e.split("");return Z(t,((e,n)=>Uu(e)&&n>0&&n<t.length-1&&Zu(t[n-1])&&Zu(t[n+1])?" ":e)).join("")})(t);return n!==t&&(e.data=n,!0)},wg=(e,t,n)=>{const o=t.data,r=za(t,o.length-1);return n||!gg(o,o.length-1)||fg(e,r)?!!(n&&vg(o,o.length-1)&&pg(e,r))&&(t.data=o.slice(0,-1)+ur,!0):(t.data=o.slice(0,-1)+" ",!0)},xg=(e,t)=>{const n=t.container();if(!Ko(n))return F.none();if((e=>{const t=e.container();return Ko(t)&&Ue(t.data,ur)})(t)){const o=bg(e,n,!1)||yg(n)||wg(e,n,!1);return It(o,t)}if(fg(e,t)){const o=bg(e,n,!0)||wg(e,n,!0);return It(o,t)}return F.none()},_g=(e,t,n)=>{if(0===n)return;const o=vn.fromDom(e),r=$n(o,br).getOr(o),i=e.data.slice(t,t+n),s=t+n>=e.data.length&&pg(r,za(e,e.data.length)),a=0===t&&mg(r,za(e,0));e.replaceData(t,n,li(i,4,a,s))},Sg=(e,t)=>{const n=e.data.slice(t),o=n.length-$e(n).length;_g(e,t,o)},Cg=(e,t)=>{const n=e.data.slice(0,t),o=n.length-Ye(n).length;_g(e,t-o,o)},jg=(e,t,n,o=!0)=>{const r=Ye(e.data).length,i=o?e:t,s=o?t:e;return o?i.appendData(s.data):i.insertData(0,s.data),yo(vn.fromDom(s)),n&&Sg(i,r),i},kg=(e,t)=>((e,t)=>{const n=e.container(),o=e.offset();return!za.isTextPosition(e)&&n===t.parentNode&&o>za.before(t).offset()})(t,e)?za(t.container(),t.offset()-1):t,Eg=e=>{return ni(e.previousSibling)?F.some((t=e.previousSibling,Ko(t)?za(t,t.data.length):za.after(t))):e.previousSibling?ku(e.previousSibling):F.none();var t},Og=e=>{return ni(e.nextSibling)?F.some((t=e.nextSibling,Ko(t)?za(t,0):za.before(t))):e.nextSibling?ju(e.nextSibling):F.none();var t},Ag=(e,t)=>Eg(t).orThunk((()=>Og(t))).orThunk((()=>((e,t)=>F.from(t.previousSibling?t.previousSibling:t.parentNode).bind((t=>Cu(e,za.before(t)))).orThunk((()=>Su(e,za.after(t)))))(e,t))),Tg=(e,t)=>Og(t).orThunk((()=>Eg(t))).orThunk((()=>((e,t)=>Su(e,za.after(t)).orThunk((()=>Cu(e,za.before(t)))))(e,t))),Dg=(e,t,n)=>((e,t,n)=>e?Tg(t,n):Ag(t,n))(e,t,n).map(M(kg,n)),Mg=(e,t,n)=>{n.fold((()=>{e.focus()}),(n=>{e.selection.setRng(n.toRange(),t)}))},Pg=(e,t)=>t&&je(e.schema.getBlockElements(),Ut(t)),Rg=e=>{if(gi(e)){const t=vn.fromHtml('<br data-mce-bogus="1">');return bo(e),fo(e,t),F.some(za.before(t.dom))}return F.none()},Ng=(e,t,n)=>{const o=An(e).filter(Gt),r=Tn(e).filter(Gt);return yo(e),(i=o,s=r,a=t,l=(e,t,o)=>{const r=e.dom,i=t.dom,s=r.data.length;return jg(r,i,n),o.container()===i?za(r,s):o},i.isSome()&&s.isSome()&&a.isSome()?F.some(l(i.getOrDie(),s.getOrDie(),a.getOrDie())):F.none()).orThunk((()=>(n&&(o.each((e=>Cg(e.dom,e.dom.length))),r.each((e=>Sg(e.dom,0)))),t)));var i,s,a,l},Lg=(e,t,n,o=!0)=>{const r=Dg(t,e.getBody(),n.dom),i=$n(n,M(Pg,e),(s=e.getBody(),e=>e.dom===s));var s;const a=Ng(n,r,((e,t)=>je(e.schema.getTextInlineElements(),Ut(t)))(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):i.bind(Rg).fold((()=>{o&&Mg(e,t,a)}),(n=>{o&&Mg(e,t,F.some(n))}))},Ig=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Bg=(e,t)=>yn(vn.fromDom(t),ac(e))&&!Oi(e.schema,t)&&e.dom.isEditable(t),Fg=e=>{var t;return"rtl"===Rs.DOM.getStyle(e,"direction",!0)||(e=>Ig.test(e))(null!==(t=e.textContent)&&void 0!==t?t:"")},Hg=(e,t,n)=>{const o=((e,t,n)=>K(Rs.DOM.getParents(n.container(),"*",t),e))(e,t,n);return F.from(o[o.length-1])},Vg=(e,t)=>{const n=t.container(),o=t.offset();return e?Fr(n)?Ko(n.nextSibling)?za(n.nextSibling,0):za.after(n):zr(t)?za(n,o+1):t:Fr(n)?Ko(n.previousSibling)?za(n.previousSibling,n.previousSibling.data.length):za.before(n):Ur(t)?za(n,o-1):t},zg=M(Vg,!0),Ug=M(Vg,!1),Wg=(e,t)=>{const n=e=>e.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},qg=e=>Wg(e,"Delete"),Zg=e=>xr(e)||Sr(e),Gg=(e,t)=>_n(e,t)?Yn(t,Zg,(e=>t=>Nt(kn(t),e,xn))(e)):F.none(),$g=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},Yg=e=>{var t;return(8===Wt(t=e)||"#comment"===Ut(t)?An(e):Ln(e)).bind(Yg).orThunk((()=>F.some(e)))},Kg=(e,t,n,o=!0)=>{var r;t.deleteContents();const i=Yg(n).getOr(n),s=vn.fromDom(null!==(r=e.dom.getParent(i.dom,e.dom.isBlock))&&void 0!==r?r:n.dom);if(s.dom===e.getBody()?$g(e,o):gi(s)&&(Dr(s),o&&e.selection.setCursorLocation(s.dom,0)),!xn(n,s)){const e=Nt(kn(s),n)?[]:kn(a=s).map(Pn).map((e=>K(e,(e=>!xn(a,e))))).getOr([]);G(e.concat(Pn(n)),(e=>{xn(e,s)||_n(e,s)||!gi(e)||yo(e)}))}var a},Xg=e=>Lo(e,"td,th"),Qg=(e,t)=>({start:e,end:t}),Jg=pl([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),ev=(e,t)=>Jn(vn.fromDom(e),"td,th",t),tv=e=>!xn(e.start,e.end),nv=(e,t)=>ih(e.start,t).bind((n=>ih(e.end,t).bind((e=>It(xn(n,e),n))))),ov=e=>t=>nv(t,e).map((e=>((e,t,n)=>({rng:e,table:t,cells:n}))(t,e,Xg(e)))),rv=(e,t,n,o)=>{if(n.collapsed||!e.forall(tv))return F.none();if(t.isSameTable){const t=e.bind(ov(o));return F.some({start:t,end:t})}{const e=ev(n.startContainer,o),t=ev(n.endContainer,o),r=e.bind((e=>t=>ih(t,e).bind((e=>ue(Xg(e)).map((e=>Qg(t,e))))))(o)).bind(ov(o)),i=t.bind((e=>t=>ih(t,e).bind((e=>de(Xg(e)).map((e=>Qg(e,t))))))(o)).bind(ov(o));return F.some({start:r,end:i})}},iv=(e,t)=>te(e,(e=>xn(e,t))),sv=e=>Lt(iv(e.cells,e.rng.start),iv(e.cells,e.rng.end),((t,n)=>e.cells.slice(t,n+1))),av=(e,t,n)=>e.exists((e=>((e,t)=>!tv(e)&&nv(e,t).exists((e=>{const t=e.dom.rows;return 1===t.length&&1===t[0].cells.length})))(e,n)&&lh(e.start,t))),lv=(e,t)=>{const{startTable:n,endTable:o}=t,r=e.cloneRange();return n.each((e=>r.setStartAfter(e.dom))),o.each((e=>r.setEndBefore(e.dom))),r},cv=(e,t)=>{const n=(e=>t=>xn(e,t))(e),o=((e,t)=>{const n=ev(e.startContainer,t),o=ev(e.endContainer,t);return Lt(n,o,Qg)})(t,n),r=((e,t)=>{const n=e=>ih(vn.fromDom(e),t),o=n(e.startContainer),r=n(e.endContainer),i=o.isSome(),s=r.isSome(),a=Lt(o,r,xn).getOr(!1);return{startTable:o,endTable:r,isStartInTable:i,isEndInTable:s,isSameTable:a,isMultiTable:!a&&i&&s}})(t,n);return av(o,t,n)?o.map((e=>Jg.singleCellTable(t,e.start))):r.isMultiTable?((e,t,n,o)=>rv(e,t,n,o).bind((({start:e,end:o})=>{const r=e.bind(sv).getOr([]),i=o.bind(sv).getOr([]);if(r.length>0&&i.length>0){const e=lv(n,t);return F.some(Jg.multiTable(r,i,e))}return F.none()})))(o,r,t,n):((e,t,n,o)=>rv(e,t,n,o).bind((({start:e,end:t})=>e.or(t))).bind((e=>{const{isSameTable:o}=t,r=sv(e).getOr([]);if(o&&e.cells.length===r.length)return F.some(Jg.fullTable(e.table));if(r.length>0){if(o)return F.some(Jg.partialTable(r,F.none()));{const e=lv(n,t);return F.some(Jg.partialTable(r,F.some({...t,rng:e})))}}return F.none()})))(o,r,t,n)},dv=e=>G(e,(e=>{on(e,"contenteditable"),Dr(e)})),uv=(e,t,n,o)=>{const r=n.cloneRange();o?(r.setStart(n.startContainer,n.startOffset),r.setEndAfter(t.dom.lastChild)):(r.setStartBefore(t.dom.firstChild),r.setEnd(n.endContainer,n.endOffset)),fv(e,r,t,!1).each((e=>e()))},hv=e=>{const t=rh(e),n=vn.fromDom(e.selection.getNode());sr(n.dom)&&gi(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&q(t,(e=>xn(e,n)))&&Qt(n,"data-mce-selected","1")},mv=(e,t,n)=>F.some((()=>{const o=e.selection.getRng(),r=n.bind((({rng:n,isStartInTable:r})=>{const i=((e,t)=>F.from(e.dom.getParent(t,e.dom.isBlock)).map(vn.fromDom))(e,r?n.endContainer:n.startContainer);n.deleteContents(),((e,t,n)=>{n.each((n=>{t?yo(n):(Dr(n),e.selection.setCursorLocation(n.dom,0))}))})(e,r,i.filter(gi));const s=r?t[0]:t[t.length-1];return uv(e,s,o,r),gi(s)?F.none():F.some(r?t.slice(1):t.slice(0,-1))})).getOr(t);dv(r),hv(e)})),pv=(e,t,n,o)=>F.some((()=>{const r=e.selection.getRng(),i=t[0],s=n[n.length-1];uv(e,i,r,!0),uv(e,s,r,!1);const a=gi(i)?t:t.slice(1),l=gi(s)?n:n.slice(0,-1);dv(a.concat(l)),o.deleteContents(),hv(e)})),fv=(e,t,n,o=!0)=>F.some((()=>{Kg(e,t,n,o)})),gv=(e,t)=>F.some((()=>Lg(e,!1,t))),vv=(e,t,n,o)=>yv(t,o).fold((()=>((e,t,n)=>cv(t,n).bind((t=>t.fold(M(fv,e),M(gv,e),M(mv,e),M(pv,e)))))(e,t,n)),(t=>((e,t)=>wv(e,t))(e,t))),bv=(e,t)=>ee(qf(t,e),jr),yv=(e,t)=>ee(qf(t,e),Kt("caption")),wv=(e,t)=>F.some((()=>{Dr(t),e.selection.setCursorLocation(t.dom,0)})),xv=(e,t,n,o,r)=>wu(n,e.getBody(),r).fold((()=>F.some(k)),(i=>((e,t,n,o)=>ju(e.dom).bind((r=>ku(e.dom).map((e=>t?n.isEqual(r)&&o.isEqual(e):n.isEqual(e)&&o.isEqual(r))))).getOr(!0))(o,n,r,i)?((e,t)=>wv(e,t))(e,o):((e,t,n)=>yv(e,vn.fromDom(n.getNode())).fold((()=>F.some(k)),(e=>It(!xn(e,t),k))))(t,o,i))),_v=(e,t,n,o)=>{const r=za.fromRangeStart(e.selection.getRng());return bv(n,o).bind((o=>gi(o)?wv(e,o):((e,t,n,o,r)=>wu(n,e.getBody(),r).bind((e=>bv(t,vn.fromDom(e.getNode())).bind((e=>xn(e,o)?F.none():F.some(k))))))(e,n,t,o,r)))},Sv=(e,t)=>e?Hf(t):Vf(t),Cv=(e,t,n)=>{const o=vn.fromDom(e.getBody());return yv(o,n).fold((()=>_v(e,t,o,n).orThunk((()=>It(((e,t)=>{const n=za.fromRangeStart(e.selection.getRng());return Sv(t,n)||yu(t,e.getBody(),n).exists((e=>Sv(t,e)))})(e,t),k)))),(n=>((e,t,n,o)=>{const r=za.fromRangeStart(e.selection.getRng());return gi(o)?wv(e,o):xv(e,n,t,o,r)})(e,t,o,n)))},jv=(e,t)=>{const n=vn.fromDom(e.selection.getStart(!0)),o=rh(e);return e.selection.isCollapsed()&&0===o.length?Cv(e,t,n):((e,t,n)=>{const o=vn.fromDom(e.getBody()),r=e.selection.getRng();return 0!==n.length?mv(e,n,F.none()):vv(e,o,r,t)})(e,n,o)},kv=(e,t)=>{let n=t;for(;n&&n!==e;){if(rr(n)||ir(n))return n;n=n.parentNode}return null},Ev=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],Ov=Rt.each,Av=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),o=e=>q(Ev,(t=>We(e,t)))||n.has(e);return{compare:(e,n)=>{if(e.nodeName!==n.nodeName||e.nodeType!==n.nodeType)return!1;const r=e=>{const n={};return Ov(t.getAttribs(e),(r=>{const i=r.nodeName.toLowerCase();"style"===i||o(i)||(n[i]=t.getAttrib(e,i))})),n},i=(e,t)=>{for(const n in e)if(je(e,n)){const o=t[n];if(w(o))return!1;if(e[n]!==o)return!1;delete t[n]}for(const e in t)if(je(t,e))return!1;return!0};if(Vo(e)&&Vo(n)){if(!i(r(e),r(n)))return!1;if(!i(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style"))))return!1}return!zu(e)&&!zu(n)},isAttributeInternal:o}},Tv=(e,t,n,o)=>{const r=n.name;for(let t=0,i=e.length;t<i;t++){const i=e[t];if(i.name===r){const e=o.nodes[r];e?e.nodes.push(n):o.nodes[r]={filter:i,nodes:[n]}}}if(n.attributes)for(let e=0,r=t.length;e<r;e++){const r=t[e],i=r.name;if(i in n.attributes.map){const e=o.attributes[i];e?e.nodes.push(n):o.attributes[i]={filter:r,nodes:[n]}}}},Dv=(e,t)=>{const n=(e,n)=>{ge(e,(e=>{const o=he(e.nodes);G(e.filter.callbacks,(r=>{for(let t=o.length-1;t>=0;t--){const r=o[t];(n?void 0!==r.attr(e.filter.name):r.name===e.filter.name)&&!x(r.parent)||o.splice(t,1)}o.length>0&&r(o,e.filter.name,t)}))}))};n(e.nodes,!1),n(e.attributes,!0)},Mv=(e,t,n,o={})=>{const r=((e,t,n)=>{const o={nodes:{},attributes:{}};return n.firstChild&&((e,t)=>{let n=e;for(;n=n.walk();)t(n)})(n,(n=>{Tv(e,t,n,o)})),o})(e,t,n);Dv(r,o)},Pv=(e,t,n)=>{if(e.insert&&t(n)){const e=new hf("br",1);e.attr("data-mce-bogus","1"),n.empty().append(e)}else n.empty().append(new hf("#text",3)).value=ur},Rv=(e,t)=>{const n=null==e?void 0:e.firstChild;return _(n)&&n===e.lastChild&&n.name===t},Nv=(e,t,n,o)=>o.isEmpty(t,n,(t=>((e,t)=>{const n=e.getElementRule(t.name);return!0===(null==n?void 0:n.paddEmpty)})(e,t))),Lv=e=>{let t;for(let n=e;n;n=n.parent){const e=n.attr("contenteditable");if("false"===e)break;"true"===e&&(t=n)}return F.from(t)},Iv=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const o=e.children();for(const e of o)n&&!t.isValidChild(n.name,e.name)&&Iv(e,t,n);e.unwrap()}},Bv=(e,t,n,o=k)=>{const r=t.getTextBlockElements(),i=t.getNonEmptyElements(),s=t.getWhitespaceElements(),a=Rt.makeMap("tr,td,th,tbody,thead,tfoot,table"),l=new Set,c=e=>e!==n&&!a[e.name];for(let n=0;n<e.length;n++){const a=e[n];let d,u,h;if(!a.parent||l.has(a))continue;if(r[a.name]&&"li"===a.parent.name){let e=a.next;for(;e&&r[e.name];)e.name="li",l.add(e),a.parent.insert(e,a.parent),e=e.next;a.unwrap();continue}const m=[a];for(d=a.parent;d&&!t.isValidChild(d.name,a.name)&&c(d);d=d.parent)m.push(d);if(d&&m.length>1)if(t.isValidChild(d.name,a.name)){m.reverse(),u=m[0].clone(),o(u);let e=u;for(let n=0;n<m.length-1;n++){t.isValidChild(e.name,m[n].name)&&n>0?(h=m[n].clone(),o(h),e.append(h)):h=e;for(let e=m[n].firstChild;e&&e!==m[n+1];){const t=e.next;h.append(e),e=t}e=h}Nv(t,i,s,u)?d.insert(a,m[0],!0):(d.insert(u,m[0],!0),d.insert(a,u)),d=m[0],(Nv(t,i,s,d)||Rv(d,"br"))&&d.empty().remove()}else Iv(a,t);else if(a.parent){if("li"===a.name){let e=a.prev;if(e&&("ul"===e.name||"ol"===e.name)){e.append(a);continue}if(e=a.next,e&&("ul"===e.name||"ol"===e.name)&&e.firstChild){e.insert(a,e.firstChild,!0);continue}const t=new hf("ul",1);o(t),a.wrap(t);continue}if(t.isValidChild(a.parent.name,"div")&&t.isValidChild("div",a.name)){const e=new hf("div",1);o(e),a.wrap(e)}else Iv(a,t)}}},Fv=(e,t,n=t.parent)=>!(!n||!e.children[t.name]||e.isValidChild(n.name,t.name))||!(!n||"a"!==t.name||!((e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1})(n,"a")),Hv=e=>{const t=za.fromRangeStart(e),n=za.fromRangeEnd(e),o=e.commonAncestorContainer;return yu(!1,o,n).map((r=>!Wd(t,n,o)&&Wd(t,r,o)?((e,t,n,o)=>{const r=document.createRange();return r.setStart(e,t),r.setEnd(n,o),r})(t.container(),t.offset(),r.container(),r.offset()):e)).getOr(e)},Vv=e=>e.collapsed?e:Hv(e),zv=(e,t)=>e.getBlockElements()[t.name]&&(e=>_(e.firstChild)&&e.firstChild===e.lastChild)(t)&&(e=>"br"===e.name||e.value===ur)(t.firstChild),Uv=(e,t)=>{let n=t.firstChild,o=t.lastChild;return n&&"meta"===n.name&&(n=n.next),o&&"mce_marker"===o.attr("id")&&(o=o.prev),((e,t)=>{const n=e.getNonEmptyElements();return _(t)&&(t.isEmpty(n)||zv(e,t))})(e,o)&&(o=null==o?void 0:o.prev),!(!n||n!==o)&&("ul"===n.name||"ol"===n.name)},Wv=e=>_(null==e?void 0:e.firstChild)&&e.firstChild===e.lastChild&&(e=>e.data===ur||nr(e))(e.firstChild),qv=e=>{return e.length>0&&(!(t=e[e.length-1]).firstChild||Wv(t))?e.slice(0,-1):e;var t},Zv=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},Gv=(e,t)=>{const n=za.after(e),o=pu(t).prev(n);return o?o.toRange():null},$v=(e,t,n)=>{const o=e.parentNode;return o&&Rt.each(t,(t=>{o.insertBefore(t,e)})),((e,t)=>{const n=za.before(e),o=pu(t).next(n);return o?o.toRange():null})(e,n)},Yv=(e,t,n,o)=>{const r=((e,t,n)=>{const o=t.serialize(n);return(e=>{var t,n;const o=e.firstChild,r=e.lastChild;return o&&"META"===o.nodeName&&(null===(t=o.parentNode)||void 0===t||t.removeChild(o)),r&&"mce_marker"===r.id&&(null===(n=r.parentNode)||void 0===n||n.removeChild(r)),e})(e.createFragment(o))})(t,e,o),i=Zv(t,n.startContainer),s=qv((a=r.firstChild,K(null!==(l=null==a?void 0:a.childNodes)&&void 0!==l?l:[],(e=>"LI"===e.nodeName))));var a,l;const c=t.getRoot(),d=e=>{const o=za.fromRangeStart(n),r=pu(t.getRoot()),s=1===e?r.prev(o):r.next(o),a=null==s?void 0:s.getNode();return!a||Zv(t,a)!==i};return i?d(1)?$v(i,s,c):d(2)?((e,t,n,o)=>(o.insertAfter(t.reverse(),e),Gv(t[0],n)))(i,s,c,t):((e,t,n,o)=>{const r=((e,t)=>{const n=t.cloneRange(),o=t.cloneRange();return n.setStartBefore(e),o.setEndAfter(e),[n.cloneContents(),o.cloneContents()]})(e,o),i=e.parentNode;return i&&(i.insertBefore(r[0],e),Rt.each(t,(t=>{i.insertBefore(t,e)})),i.insertBefore(r[1],e),i.removeChild(e)),Gv(t[t.length-1],n)})(i,s,c,n):null},Kv=["pre"],Xv=sr,Qv=(e,t)=>{var n,o,r;let i;const s=e.dom,a=e.selection;if(!t)return;a.scrollIntoView(t);const l=kv(e.getBody(),t);if(l&&"false"===s.getContentEditable(l))return s.remove(t),void a.select(l);let c=s.createRng();const d=t.previousSibling;if(Ko(d)){c.setStart(d,null!==(o=null===(n=d.nodeValue)||void 0===n?void 0:n.length)&&void 0!==o?o:0);const e=t.nextSibling;Ko(e)&&(d.appendData(e.data),null===(r=e.parentNode)||void 0===r||r.removeChild(e))}else c.setStartBefore(t),c.setEndBefore(t);const u=s.getParent(t,s.isBlock);s.remove(t),u&&s.isEmpty(u)&&(bo(vn.fromDom(u)),c.setStart(u,0),c.setEnd(u,0),Xv(u)||(e=>!!e.getAttribute("data-mce-fragment"))(u)||!(i=(t=>{let n=za.fromRangeStart(t);return n=pu(e.getBody()).next(n),null==n?void 0:n.toRange()})(c))?s.add(u,s.create("br",{"data-mce-bogus":"1"})):(c=i,s.remove(u))),a.setRng(c)},Jv=e=>{const t=e.dom,n=Vv(e.selection.getRng());e.selection.setRng(n);const o=t.getParent(n.startContainer,Xv);((e,t,n)=>{if(_(n))return n===e.getParent(t.endContainer,Xv)&&lh(vn.fromDom(n),t);return!1})(t,n,o)?fv(e,n,vn.fromDom(o)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset==1&&Ko(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},eb=(e,t,n)=>{var o,r;const i=e.selection,s=e.dom,a=e.parser,l=n.merge,c=Sf({validate:!0},e.schema),d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,d);let u=i.getRng();const h=u.startContainer,m=e.getBody();h===m&&i.isCollapsed()&&s.isBlock(m.firstChild)&&((e,t)=>_(t)&&!e.schema.getVoidElements()[t.nodeName])(e,m.firstChild)&&s.isEmpty(m.firstChild)&&(u=s.createRng(),u.setStart(m.firstChild,0),u.setEnd(m.firstChild,0),i.setRng(u)),i.isCollapsed()||Jv(e);const p=i.getNode(),f={context:p.nodeName.toLowerCase(),data:n.data,insert:!0},g=a.parse(t,f);if(!0===n.paste&&Uv(e.schema,g)&&((e,t)=>!!Zv(e,t))(s,p))return u=Yv(c,s,i.getRng(),g),u&&i.setRng(u),t;!0===n.paste&&((e,t,n,o)=>{var r;const i=t.firstChild,s=t.lastChild,a=i===("bookmark"===s.attr("data-mce-type")?s.prev:s),l=W(Kv,i.name);if(a&&l){const t="false"!==i.attr("contenteditable"),s=(null===(r=e.getParent(n,e.isBlock))||void 0===r?void 0:r.nodeName.toLowerCase())===i.name,a=F.from(kv(o,n)).forall(rr);return t&&s&&a}return!1})(s,g,p,e.getBody())&&(null===(o=g.firstChild)||void 0===o||o.unwrap()),(e=>{let t=e;for(;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")})(g);let v=g.lastChild;if(v&&"mce_marker"===v.attr("id")){const t=v;for(v=v.prev;v;v=v.walk(!0))if(3===v.type||!s.isBlock(v.name)){v.parent&&e.schema.isValidChild(v.parent.name,"span")&&v.parent.insert(t,v,"br"===v.name);break}}if(e._selectionOverrides.showBlockCaretContainer(p),f.invalid){e.selection.setContent(d);let n,o=i.getNode();const l=e.getBody();for(er(o)?o=n=l:n=o;n&&n!==l;)o=n,n=n.parentNode;t=o===l?l.innerHTML:s.getOuterHTML(o);const u=a.parse(t),h=(e=>{for(let t=e;t;t=t.walk())if("mce_marker"===t.attr("id"))return F.some(t);return F.none()})(u),m=h.bind(Lv).getOr(u);h.each((e=>e.replace(g)));const p=g.children(),f=null!==(r=g.parent)&&void 0!==r?r:u;g.unwrap();const v=K(p,(t=>Fv(e.schema,t,f)));Bv(v,e.schema,m),Mv(a.getNodeFilters(),a.getAttributeFilters(),u),t=c.serialize(u),o===l?s.setHTML(l,t):s.setOuterHTML(o,t)}else t=c.serialize(g),((e,t,n)=>{var o;if("all"===n.getAttribute("data-mce-bogus"))null===(o=n.parentNode)||void 0===o||o.insertBefore(e.dom.createFragment(t),n);else{const o=n.firstChild,r=n.lastChild;!o||o===r&&"BR"===o.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}})(e,t,p);var b;return((e,t)=>{const n=e.schema.getTextInlineElements(),o=e.dom;if(t){const t=e.getBody(),r=Av(e);Rt.each(o.select("*[data-mce-fragment]"),(e=>{if(_(n[e.nodeName.toLowerCase()])&&Ef(o,e))for(let n=e.parentElement;_(n)&&n!==t&&!Of(o,e,n);n=n.parentElement)if(r.compare(n,e)){o.remove(e,!0);break}}))}})(e,l),Qv(e,s.get("mce_marker")),b=e.getBody(),Rt.each(b.getElementsByTagName("*"),(e=>{e.removeAttribute("data-mce-fragment")})),((e,t)=>{F.from(e.getParent(t,"td,th")).map(vn.fromDom).each(Mr)})(s,i.getStart()),((e,t,n)=>{const o=On(vn.fromDom(n),(e=>xn(e,vn.fromDom(t))));ce(o,o.length-2).filter(Zt).fold((()=>Si(e,t)),(t=>Si(e,t.dom)))})(e.schema,e.getBody(),i.getStart()),t},tb=e=>e instanceof hf,nb=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),!0!==n&&(e=>{Wp(e)&&ju(e.getBody()).each((t=>{const n=t.getNode(),o=Go(n)?ju(n).getOr(t):t;e.selection.setRng(o.toRange())}))})(e)},ob=(e,t,n)=>F.from(e.getBody()).map((o=>tb(t)?((e,t,n,o)=>{Mv(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const r=Sf({validate:!1},e.schema).serialize(n),i=kr(vn.fromDom(t))?r:Rt.trim(r);return nb(e,i,o.no_selection),{content:n,html:i}})(e,o,t,n):((e,t,n,o)=>{if(0===n.length||/^\s+$/.test(n)){const r='<br data-mce-bogus="1">';"TABLE"===t.nodeName?n="<tr><td>"+r+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+r+"</li>");const i=Nl(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),i.toLowerCase())?(n=r,n=e.dom.createHTML(i,Ll(e),n)):n||(n=r),nb(e,n,o.no_selection),{content:n,html:n}}{"raw"!==o.format&&(n=Sf({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const r=kr(vn.fromDom(t))?n:Rt.trim(n);return nb(e,r,o.no_selection),{content:r,html:r}}})(e,o,t,n))).getOr({content:t,html:tb(n.content)?"":n.content}),rb=(e,t)=>((e,t)=>{const n=e.dom;return n.parentNode?Kn(vn.fromDom(n.parentNode),(n=>!xn(e,n)&&t(n))):F.none()})(e,t).isSome(),ib=e=>S(e)?e:I,sb=(e,t,n)=>{const o=t(e),r=ib(n);return o.orThunk((()=>r(e)?F.none():((e,t,n)=>{let o=e.dom;const r=ib(n);for(;o.parentNode;){o=o.parentNode;const e=vn.fromDom(o),n=t(e);if(n.isSome())return n;if(r(e))break}return F.none()})(e,t,r)))},ab=Ch,lb=(e,t,n)=>{const o=e.formatter.get(n);if(o)for(let n=0;n<o.length;n++){const r=o[n];if(Mh(r)&&!1===r.inherit&&e.dom.is(t,r.selector))return!0}return!1},cb=(e,t,n,o,r)=>{const i=e.dom.getRoot();if(t===i)return!1;const s=e.dom.getParent(t,(t=>!!lb(e,t,n)||(t.parentNode===i||!!hb(e,t,n,o,!0))));return!!hb(e,s,n,o,r)},db=(e,t,n)=>!(!Ph(n)||!ab(t,n.inline))||(!(!Dh(n)||!ab(t,n.block))||!!Mh(n)&&(Vo(t)&&e.is(t,n.selector))),ub=(e,t,n,o,r,i)=>{const s=n[o],a="attributes"===o;if(S(n.onmatch))return n.onmatch(t,n,o);if(s)if(Oe(s)){for(let n=0;n<s.length;n++)if(a?e.getAttrib(t,s[n]):kh(e,t,s[n]))return!0}else for(const o in s)if(je(s,o)){const l=a?e.getAttrib(t,o):kh(e,t,o),c=Sh(s[o],i),d=x(l)||Xe(l);if(d&&x(c))continue;if(r&&d&&!n.exact)return!1;if((!r||n.exact)&&!ab(l,jh(c,o)))return!1}return!0},hb=(e,t,n,o,r)=>{const i=e.formatter.get(n),s=e.dom;if(i&&Vo(t))for(let n=0;n<i.length;n++){const a=i[n];if(db(e.dom,t,a)&&ub(s,t,a,"attributes",r,o)&&ub(s,t,a,"styles",r,o)){const n=a.classes;if(n)for(let r=0;r<n.length;r++)if(!e.dom.hasClass(t,Sh(n[r],o)))return;return a}}},mb=(e,t,n,o,r)=>{if(o)return cb(e,o,t,n,r);if(o=e.selection.getNode(),cb(e,o,t,n,r))return!0;const i=e.selection.getStart();return!(i===o||!cb(e,i,t,n,r))},pb=(e,t)=>{const n=t=>xn(t,vn.fromDom(e.getBody()));return F.from(e.selection.getStart(!0)).bind((o=>sb(vn.fromDom(o),(n=>me(t,(t=>((t,n)=>hb(e,t.dom,n)?F.some(n):F.none())(n,t)))),n))).getOrNull()},fb=(e,t,n)=>Q(n,((n,o)=>{const r=((e,t)=>Ah(e,t,(e=>{const t=e=>S(e)||e.length>1&&"%"===e.charAt(0);return q(["styles","attributes"],(n=>Ce(e,n).exists((e=>{const n=v(e)?e:Se(e);return q(n,t)}))))})))(e,o);return e.formatter.matchNode(t,o,{},r)?n.concat([o]):n}),[]),gb=Pr,vb=e=>(e=>{const t=[];let n=e;for(;n;){if(Ko(n)&&n.data!==gb||n.childNodes.length>1)return[];Vo(n)&&t.push(n),n=n.firstChild}return t})(e).length>0,bb=e=>{if(e){const t=new Bo(e,e);for(let e=t.current();e;e=t.next())if(Ko(e))return e}return null},yb=e=>{const t=vn.fromTag("span");return Jt(t,{id:Eu,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&fo(t,vn.fromText(gb)),t},wb=(e,t,n=!0)=>{const o=e.dom,r=e.selection;if(vb(t))Lg(e,!1,vn.fromDom(t),n);else{const e=r.getRng(),n=o.getParent(t,o.isBlock),i=e.startContainer,s=e.startOffset,a=e.endContainer,l=e.endOffset,c=(e=>{const t=bb(e);return t&&t.data.charAt(0)===gb&&t.deleteData(0,1),t})(t);o.remove(t,!0),i===c&&s>0&&e.setStart(c,s-1),a===c&&l>0&&e.setEnd(c,l-1),n&&o.isEmpty(n)&&Dr(vn.fromDom(n)),r.setRng(e)}},xb=(e,t,n=!0)=>{const o=e.dom,r=e.selection;if(t)wb(e,t,n);else if(!(t=Au(e.getBody(),r.getStart())))for(;t=o.get(Eu);)wb(e,t,!1)},_b=(e,t)=>(e.appendChild(t),t),Sb=(e,t)=>{var n;const o=X(e,((e,t)=>_b(e,t.cloneNode(!1))),t),r=null!==(n=o.ownerDocument)&&void 0!==n?n:document;return _b(o,r.createTextNode(gb))},Cb=(e,t,n,o)=>{const r=e.dom,i=e.selection;let s=!1;const a=e.formatter.get(t);if(!a)return;const l=i.getRng(),c=l.startContainer,d=l.startOffset;let u=c;Ko(c)&&(d!==c.data.length&&(s=!0),u=u.parentNode);const h=[];let m;for(;u;){if(hb(e,u,t,n,o)){m=u;break}u.nextSibling&&(s=!0),h.push(u),u=u.parentNode}if(m)if(s){const s=i.getBookmark();l.collapse(!0);let c=Yh(r,l,a,!0);c=$m(c),e.formatter.remove(t,n,c,o),i.moveToBookmark(s)}else{const s=Au(e.getBody(),m),a=yb(!1).dom;((e,t,n)=>{var o,r;const i=e.dom,s=i.getParent(n,M(yh,e.schema));s&&i.isEmpty(s)?null===(o=n.parentNode)||void 0===o||o.replaceChild(t,n):(Ar(vn.fromDom(n)),i.isEmpty(n)?null===(r=n.parentNode)||void 0===r||r.replaceChild(t,n):i.insertAfter(t,n))})(e,a,null!=s?s:m);const l=((e,t,n,o,r,i)=>{const s=e.formatter,a=e.dom,l=K(pe(s.get()),(e=>e!==o&&!Ue(e,"removeformat"))),c=fb(e,n,l);if(K(c,(t=>!Th(e,t,o))).length>0){const e=n.cloneNode(!1);return a.add(t,e),s.remove(o,r,e,i),a.remove(e),F.some(e)}return F.none()})(e,a,m,t,n,o),c=Sb(h.concat(l.toArray()),a);s&&wb(e,s,!1),i.setCursorLocation(c,1),r.isEmpty(m)&&r.remove(m)}},jb=e=>{e.on("mouseup keydown",(t=>{((e,t)=>{const n=e.selection,o=e.getBody();xb(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==gb||xb(e,Au(o,n.getStart())),37!==t&&39!==t||xb(e,Au(o,n.getStart()))})(e,t.keyCode)}))},kb=e=>{const t=yb(!1),n=Sb(e,t.dom);return{caretContainer:t,caretPosition:za(n,0)}},Eb=(e,t)=>{const{caretContainer:n,caretPosition:o}=kb(t);return ho(vn.fromDom(e),n),yo(vn.fromDom(e)),o},Ob=(e,t)=>{const n=e.schema.getTextInlineElements();return je(n,Ut(t))&&!Ou(t.dom)&&!Zo(t.dom)},Ab=e=>Ou(e.dom)&&vb(e.dom),Tb={},Db=Uo(["pre"]);((e,t)=>{Tb[e]||(Tb[e]=[]),Tb[e].push(t)})("pre",(e=>{const t=e.selection.getRng();if(!t.collapsed){const t=e.selection.getSelectedBlocks(),n=K(K(t,Db),(e=>t=>{const n=t.previousSibling;return Db(n)&&W(e,n)})(t));G(n,(e=>{((e,t)=>{const n=vn.fromDom(t),o=Cn(n).dom;yo(n),vo(vn.fromDom(e),[vn.fromTag("br",o),vn.fromTag("br",o),...Pn(n)])})(e.previousSibling,e)}))}}));const Mb=["fontWeight","fontStyle","color","fontSize","fontFamily"],Pb=e=>ee(e,(e=>Ph(e)&&"span"===e.inline&&(e=>f(e.styles)&&q(pe(e.styles),(e=>W(Mb,e))))(e))),Rb=(e,t)=>{const n=e.get(t);return v(n)?Pb(n):F.none()},Nb=(e,t)=>Cu(t,za.fromRangeStart(e)).isNone(),Lb=(e,t)=>!1===Su(t,za.fromRangeEnd(e)).exists((e=>!nr(e.getNode())||Su(t,e).isSome())),Ib=e=>t=>cr(t)&&e.isEditable(t),Bb=e=>K((e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(1===t.length)return Nb(n,t[0])&&Lb(n,t[0])?t:[];{const e=de(t).filter((e=>Nb(n,e))).toArray(),o=ue(t).filter((e=>Lb(n,e))).toArray(),r=t.slice(1,-1);return e.concat(r).concat(o)}})(e),Ib(e.dom)),Fb=e=>K(e.getSelectedBlocks(),Ib(e.dom)),Hb=Rt.each,Vb=e=>Vo(e)&&!zu(e)&&!Ou(e)&&!Zo(e),zb=(e,t)=>{for(let n=e;n;n=n[t]){if(Ko(n)&&Ke(n.data))return e;if(Vo(n)&&!zu(n))return n}return e},Ub=(e,t,n)=>{const o=Av(e),r=Vo(t)&&fh(t),i=Vo(n)&&fh(n);if(r&&i){const r=zb(t,"previousSibling"),i=zb(n,"nextSibling");if(o.compare(r,i)){for(let e=r.nextSibling;e&&e!==i;){const t=e;e=e.nextSibling,r.appendChild(t)}return e.dom.remove(i),Rt.each(Rt.grep(i.childNodes),(e=>{r.appendChild(e)})),r}}return n},Wb=(e,t,n,o)=>{var r;if(o&&!1!==t.merge_siblings){const t=null!==(r=Ub(e,bh(o),o))&&void 0!==r?r:o;Ub(e,t,bh(t,!0))}},qb=(e,t,n)=>{Hb(e.childNodes,(e=>{Vb(e)&&(t(e)&&n(e),e.hasChildNodes()&&qb(e,t,n))}))},Zb=(e,t)=>n=>!(!n||!kh(e,n,t)),Gb=(e,t,n)=>o=>{e.setStyle(o,t,n),""===o.getAttribute("style")&&o.removeAttribute("style"),((e,t)=>{"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)})(e,o)},$b=pl([{keep:[]},{rename:["name"]},{removed:[]}]),Yb=/^(src|href|style)$/,Kb=Rt.each,Xb=Ch,Qb=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),Jb=(e,t,n)=>{let o=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"];if(Vo(o)){const e=o.childNodes.length-1;!n&&r&&r--,o=o.childNodes[r>e?e:r]}return Ko(o)&&n&&r>=o.data.length&&(o=new Bo(o,e.getBody()).next()||o),Ko(o)&&!n&&0===r&&(o=new Bo(o,e.getBody()).prev()||o),o},ey=(e,t)=>{const n=t?"firstChild":"lastChild",o=e[n];return(e=>/^(TR|TH|TD)$/.test(e.nodeName))(e)&&o?"TR"===e.nodeName&&o[n]||o:e},ty=(e,t,n,o)=>{var r;const i=e.create(n,o);return null===(r=t.parentNode)||void 0===r||r.insertBefore(i,t),i.appendChild(t),i},ny=(e,t,n,o,r)=>{const i=vn.fromDom(t),s=vn.fromDom(e.create(o,r)),a=n?Mn(i):Dn(i);return vo(s,a),n?(ho(i,s),po(s,i)):(mo(i,s),fo(s,i)),s.dom},oy=(e,t,n)=>{const o=t.parentNode;let r;const i=e.dom,s=Nl(e);Dh(n)&&o===i.getRoot()&&(n.list_block&&Xb(t,n.list_block)||G(he(t.childNodes),(t=>{wh(e,s,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=ty(i,t,s),i.setAttribs(r,Ll(e))):r=null}))),(e=>Mh(e)&&Ph(e)&&Nt(Ce(e,"mixed"),!0))(n)&&!Xb(n.inline,t)||i.remove(t,!0)},ry=(e,t,n)=>C(e)?{name:t,value:null}:{name:e,value:Sh(t,n)},iy=(e,t)=>{""===e.getAttrib(t,"style")&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},sy=(e,t,n,o,r)=>{let i=!1;Kb(n.styles,((s,a)=>{const{name:l,value:c}=ry(a,s,o),d=jh(c,l);(n.remove_similar||b(c)||!Vo(r)||Xb(kh(e,r,l),d))&&e.setStyle(t,l,""),i=!0})),i&&iy(e,t)},ay=(e,t,n,o,r)=>{const i=e.dom,s=Av(e),a=e.schema;if(Ph(t)&&ki(a,t.inline)&&Oi(a,o)&&o.parentElement===e.getBody())return oy(e,o,t),$b.removed();if(!t.ceFalseOverride&&o&&"false"===i.getContentEditableParent(o))return $b.keep();if(o&&!db(i,o,t)&&!((e,t)=>t.links&&"A"===e.nodeName)(o,t))return $b.keep();const l=o,c=t.preserve_attributes;if(Ph(t)&&"all"===t.remove&&v(c)){const e=K(i.getAttribs(l),(e=>W(c,e.name.toLowerCase())));if(i.removeAllAttribs(l),G(e,(e=>i.setAttrib(l,e.name,e.value))),e.length>0)return $b.rename("span")}if("all"!==t.remove){sy(i,l,t,n,r),Kb(t.attributes,((e,o)=>{const{name:s,value:a}=ry(o,e,n);if(t.remove_similar||b(a)||!Vo(r)||Xb(i.getAttrib(r,s),a)){if("class"===s){const e=i.getAttrib(l,s);if(e){let t="";if(G(e.split(/\s+/),(e=>{/mce\-\w+/.test(e)&&(t+=(t?" ":"")+e)})),t)return void i.setAttrib(l,s,t)}}if(Yb.test(s)&&l.removeAttribute("data-mce-"+s),"style"===s&&Uo(["li"])(l)&&"none"===i.getStyle(l,"list-style-type"))return l.removeAttribute(s),void i.setStyle(l,"list-style-type","none");"class"===s&&l.removeAttribute("className"),l.removeAttribute(s)}})),Kb(t.classes,(e=>{e=Sh(e,n),Vo(r)&&!i.hasClass(r,e)||i.removeClass(l,e)}));const e=i.getAttribs(l);for(let t=0;t<e.length;t++){const n=e[t].nodeName;if(!s.isAttributeInternal(n))return $b.keep()}}return"none"!==t.remove?(oy(e,l,t),$b.removed()):$b.keep()},ly=(e,t,n,o,r)=>ay(e,t,n,o,r).fold(I,(t=>(e.dom.rename(o,t),!0)),B),cy=(e,t,n,o)=>ay(e,t,n,o,o).fold(A(o),(t=>(e.dom.createFragment().appendChild(o),e.dom.rename(o,t))),A(null)),dy=(e,t,n,o,r)=>{const i=e.formatter.get(t),s=i[0],a=e.dom,l=e.selection,c=o=>{const a=((e,t,n,o,r)=>{let i;return t.parentNode&&G(Oh(e.dom,t.parentNode).reverse(),(t=>{if(!i&&Vo(t)&&"_start"!==t.id&&"_end"!==t.id){const s=hb(e,t,n,o,r);s&&!1!==s.split&&(i=t)}})),i})(e,o,t,n,r);return((e,t,n,o,r,i,s,a)=>{var l,c;let d,u;const h=e.dom;if(n){const m=n.parentNode;for(let n=o.parentNode;n&&n!==m;n=n.parentNode){let o=h.clone(n,!1);for(let n=0;n<t.length&&(o=cy(e,t[n],a,o),null!==o);n++);o&&(d&&o.appendChild(d),u||(u=o),d=o)}!i||s.mixed&&h.isBlock(n)||(o=null!==(l=h.split(n,o))&&void 0!==l?l:o),d&&u&&(null===(c=r.parentNode)||void 0===c||c.insertBefore(d,r),u.appendChild(r),Ph(s)&&Wb(e,s,0,d))}return o})(e,i,a,o,o,!0,s,n)},d=t=>q(i,(o=>ly(e,o,n,t,t))),u=t=>{const n=he(t.childNodes),o=d(t)||q(i,(e=>db(a,t,e))),r=t.parentNode;if(!o&&_(r)&&Rh(s)&&d(r),s.deep&&n.length)for(let e=0;e<n.length;e++)u(n[e]);G(["underline","line-through","overline"],(n=>{Vo(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&Eh(a,t.parentNode)===n&&ly(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},void 0,t)}))},h=e=>{const t=a.get(e?"_start":"_end");if(t){let n=t[e?"firstChild":"lastChild"];return(e=>zu(e)&&Vo(e)&&("_start"===e.id||"_end"===e.id))(n)&&(n=n[e?"firstChild":"lastChild"]),Ko(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),a.remove(t,!0),n}return null},m=t=>{let n,o,r=Yh(a,t,i,t.collapsed);if(s.split){if(r=$m(r),n=Jb(e,r,!0),o=Jb(e,r),n!==o){if(n=ey(n,!0),o=ey(o,!1),Qb(a,n,o)){const e=F.from(n.firstChild).getOr(n);return c(ny(a,e,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void h(!0)}if(Qb(a,o,n)){const e=F.from(o.lastChild).getOr(o);return c(ny(a,e,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void h(!1)}n=ty(a,n,"span",{id:"_start","data-mce-type":"bookmark"}),o=ty(a,o,"span",{id:"_end","data-mce-type":"bookmark"});const e=a.createRng();e.setStartAfter(n),e.setEndBefore(o),Kh(a,e,(e=>{G(e,(e=>{zu(e)||zu(e.parentNode)||c(e)}))})),c(n),c(o),n=h(!0),o=h()}else n=o=c(n);r.startContainer=n.parentNode?n.parentNode:n,r.startOffset=a.nodeIndex(n),r.endContainer=o.parentNode?o.parentNode:o,r.endOffset=a.nodeIndex(o)+1}Kh(a,r,(e=>{G(e,u)}))};if(o){if(mh(o)){const e=a.createRng();e.setStartBefore(o),e.setEndAfter(o),m(e)}else m(o);cm(e,t,o,n)}else l.isCollapsed()&&Ph(s)&&!rh(e).length?Cb(e,t,n,r):(gh(e,(()=>uh(e,m)),(o=>Ph(s)&&mb(e,t,n,o))),e.nodeChanged()),((e,t,n)=>{"removeformat"===t?G(Fb(e.selection),(t=>{G(Mb,(n=>e.dom.setStyle(t,n,""))),iy(e.dom,t)})):Rb(e.formatter,t).each((t=>{G(Fb(e.selection),(o=>sy(e.dom,o,t,n,null)))}))})(e,t,n),cm(e,t,o,n)},uy=Rt.each,hy=(e,t,n,o)=>{uy(t,(t=>{Ph(t)&&uy(e.dom.select(t.inline,o),(o=>{Vb(o)&&ly(e,t,n,o,t.exact?o:null)})),((e,t,n)=>{if(t.clear_child_styles){const o=t.links?"*:not(a)":"*";Hb(e.select(o,n),(n=>{Vb(n)&&fh(n)&&Hb(t.styles,((t,o)=>{e.setStyle(n,o,"")}))}))}})(e.dom,t,o)}))},my=Rt.each,py=(e,t,n,o)=>{if(my(n.styles,((n,r)=>{e.setStyle(t,r,Sh(n,o))})),n.styles){const n=e.getAttrib(t,"style");n&&e.setAttrib(t,"data-mce-style",n)}},fy=(e,t,n,o)=>{const r=e.formatter.get(t),i=r[0],s=!o&&e.selection.isCollapsed(),a=e.dom,l=e.selection,c=(e,t=i)=>{S(t.onformat)&&t.onformat(e,t,n,o),py(a,e,t,n),my(t.attributes,((t,o)=>{a.setAttrib(e,o,Sh(t,n))})),my(t.classes,(t=>{const o=Sh(t,n);a.hasClass(e,o)||a.addClass(e,o)}))},d=(e,t)=>{let n=!1;return my(e,(e=>!!Mh(e)&&("false"===a.getContentEditable(t)&&!e.ceFalseOverride||(!(!_(e.collapsed)||e.collapsed===s)||(!(a.is(t,e.selector)&&!Ou(t))||(c(t,e),n=!0,!1)))))),n},u=e=>{if(p(e)){const t=a.create(e);return c(t),t}return null},h=(o,s,a)=>{const l=[];let h=!0;const m=i.inline||i.block,p=u(m),f=o=>(e=>Dh(e)&&!0===e.wrapper)(i)&&hb(e,o,t,n),g=(t,n,o)=>{const r=(e=>Dh(e)&&!0!==e.wrapper)(i)&&yh(e.schema,t)&&wh(e,n,m);return o&&r};Kh(o,s,(t=>{let n;const s=t=>{let u=!1,v=h,b=!1;const y=t.parentNode,w=y.nodeName.toLowerCase(),x=o.getContentEditable(t);_(x)&&(v=h,h="true"===x,u=!0,b=_h(e,t));const S=h&&!u;if(nr(t)&&!((e,t,n,o)=>{if(wc(e)&&Ph(t)&&n.parentNode){const t=us(e.schema),r=rb(vn.fromDom(n),(e=>Ou(e.dom)));return ke(t,o)&&gi(vn.fromDom(n.parentNode),!1)&&!r}return!1})(e,i,t,w))return n=null,void(Dh(i)&&o.remove(t));if(f(t))n=null;else{if(g(t,w,S)){const e=o.rename(t,m);return c(e),l.push(e),void(n=null)}if(Mh(i)){let e=d(r,t);if(!e&&_(y)&&Rh(i)&&(e=d(r,y)),!Ph(i)||e)return void(n=null)}_(p)&&((t,n,r,s)=>{const l=t.nodeName.toLowerCase(),c=wh(e,m,l)&&wh(e,n,m),d=!a&&Ko(t)&&Rr(t.data),u=Ou(t),h=!Ph(i)||!o.isBlock(t);return(r||s)&&c&&!d&&!u&&h})(t,w,S,b)?(n||(n=o.clone(p,!1),y.insertBefore(n,t),l.push(n)),b&&u&&(h=v),n.appendChild(t)):(n=null,G(he(t.childNodes),s),u&&(h=v),n=null)}};G(t,s)})),!0===i.links&&G(l,(e=>{const t=e=>{"A"===e.nodeName&&c(e,i),G(he(e.childNodes),t)};t(e)})),G(l,(s=>{const a=(e=>{let t=0;return G(e.childNodes,(e=>{(e=>_(e)&&Ko(e)&&0===e.length)(e)||zu(e)||t++})),t})(s);!(l.length>1)&&o.isBlock(s)||0!==a?(Ph(i)||Dh(i)&&i.wrapper)&&(i.exact||1!==a||(s=(e=>{const t=ee(e.childNodes,ph).filter((e=>"false"!==o.getContentEditable(e)&&db(o,e,i)));return t.map((t=>{const n=o.clone(t,!1);return c(n),o.replace(n,e,!0),o.remove(t,!0),n})).getOr(e)})(s)),hy(e,r,n,s),((e,t,n,o,r)=>{const i=r.parentNode;hb(e,i,n,o)&&ly(e,t,o,r)||t.merge_with_parents&&i&&e.dom.getParent(i,(i=>!!hb(e,i,n,o)&&(ly(e,t,o,r),!0)))})(e,i,t,n,s),((e,t,n,o)=>{if(t.styles&&t.styles.backgroundColor){const r=Zb(e,"fontSize");qb(o,(e=>r(e)&&fh(e)),Gb(e,"backgroundColor",Sh(t.styles.backgroundColor,n)))}})(o,i,n,s),((e,t,n,o)=>{const r=t=>{if(Vo(t)&&Vo(t.parentNode)&&fh(t)){const n=Eh(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Rt.walk(o,r,"childNodes"),r(o))})(o,i,0,s),((e,t,n,o)=>{if(Ph(t)&&("sub"===t.inline||"sup"===t.inline)){const n=Zb(e,"fontSize");qb(o,(e=>n(e)&&fh(e)),Gb(e,"fontSize",""));const r=K(e.select("sup"===t.inline?"sub":"sup",o),fh);e.remove(r,!0)}})(o,i,0,s),Wb(e,i,0,s)):o.remove(s,!0)}))},m=mh(o)?o:l.getNode();if("false"===a.getContentEditable(m)&&!_h(e,m))return d(r,o=m),void lm(e,t,o,n);if(i){if(o)if(mh(o)){if(!d(r,o)){const e=a.createRng();e.setStartBefore(o),e.setEndAfter(o),h(a,Yh(a,e,r),!0)}}else h(a,o,!0);else s&&Ph(i)&&!rh(e).length?((e,t,n)=>{let o;const r=e.selection,i=e.formatter.get(t);if(!i)return;const s=r.getRng();let a=s.startOffset;const l=s.startContainer.nodeValue;o=Au(e.getBody(),r.getStart());const c=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(l&&a>0&&a<l.length&&c.test(l.charAt(a))&&c.test(l.charAt(a-1))){const o=r.getBookmark();s.collapse(!0);let a=Yh(e.dom,s,i);a=$m(a),e.formatter.apply(t,n,a),r.moveToBookmark(o)}else{let i=o?bb(o):null;o&&(null==i?void 0:i.data)===gb||(d=e.getDoc(),u=yb(!0).dom,o=d.importNode(u,!0),i=o.firstChild,s.insertNode(o),a=1),e.formatter.apply(t,n,o),r.setCursorLocation(i,a)}var d,u})(e,t,n):(l.setRng(Vv(l.getRng())),gh(e,(()=>{uh(e,((e,t)=>{const n=t?e:Yh(a,e,r);h(a,n,!1)}))}),B),e.nodeChanged()),Rb(e.formatter,t).each((t=>{G(Bb(e.selection),(e=>py(a,e,t,n)))}));((e,t)=>{je(Tb,e)&&G(Tb[e],(e=>{e(t)}))})(t,e)}lm(e,t,o,n)},gy=e=>je(e,"vars"),vy=e=>e.selection.getStart(),by=(e,t,n,o,r)=>J(t,(t=>{const i=e.formatter.matchNode(t,n,null!=r?r:{},o);return!w(i)}),(t=>!!lb(e,t,n)||!o&&_(e.formatter.matchNode(t,n,r,!0)))),yy=(e,t)=>{const n=null!=t?t:vy(e);return K(Oh(e.dom,n),(e=>Vo(e)&&!Zo(e)))},wy=(e,t,n)=>{const o=yy(e,t);ge(n,((n,r)=>{const i=n=>{const i=by(e,o,r,n.similar,gy(n)?n.vars:void 0),s=i.isSome();if(n.state.get()!==s){n.state.set(s);const e=i.getOr(t);gy(n)?n.callback(s,{node:e,format:r,parents:o}):G(n.callbacks,(t=>t(s,{node:e,format:r,parents:o})))}};G([n.withSimilar,n.withoutSimilar],i),G(n.withVars,i)}))},xy=(e,t,n,o,r,i)=>(((e,t,n,o,r,i)=>{const s=t.get();G(n.split(","),(t=>{const n=Ce(s,t).getOrThunk((()=>{const e={withSimilar:{state:Is(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Is(!1),similar:!1,callbacks:[]},withVars:[]};return s[t]=e,e})),a=()=>{const n=yy(e);return by(e,n,t,r,i).isSome()};if(w(i)){const e=r?n.withSimilar:n.withoutSimilar;e.callbacks.push(o),1===e.callbacks.length&&e.state.set(a())}else n.withVars.push({state:Is(a()),similar:r,vars:i,callback:o})})),t.set(s)})(e,t,n,o,r,i),{unbind:()=>((e,t,n)=>{const o=e.get();G(t.split(","),(e=>Ce(o,e).each((t=>{o[e]={withSimilar:{...t.withSimilar,callbacks:K(t.withSimilar.callbacks,(e=>e!==n))},withoutSimilar:{...t.withoutSimilar,callbacks:K(t.withoutSimilar.callbacks,(e=>e!==n))},withVars:K(t.withVars,(e=>e.callback!==n))}})))),e.set(o)})(t,n,o)}),_y=Rt.explode,Sy=()=>{const e={};return{addFilter:(t,n)=>{G(_y(t),(t=>{je(e,t)||(e[t]={name:t,callbacks:[]}),e[t].callbacks.push(n)}))},getFilters:()=>Se(e),removeFilter:(t,n)=>{G(_y(t),(t=>{if(je(e,t))if(_(n)){const o=e[t],r=K(o.callbacks,(e=>e!==n));r.length>0?o.callbacks=r:delete e[t]}else delete e[t]}))}}},Cy=(e,t,n)=>{e.addNodeFilter("font",(e=>{G(e,(e=>{const o=t.parse(e.attr("style")),r=e.attr("color"),i=e.attr("face"),s=e.attr("size");r&&(o.color=r),i&&(o["font-family"]=i),s&&Qe(s).each((e=>{o["font-size"]=n[e-1]})),e.name="span",e.attr("style",t.serialize(o)),((e,t)=>{G(t,(t=>{e.attr(t,null)}))})(e,["color","face","size"])}))}))},jy=(e,t,n)=>{var o;const r=ps();t.convert_fonts_to_spans&&Cy(e,r,Rt.explode(null!==(o=t.font_size_legacy_values)&&void 0!==o?o:"")),((e,t,n)=>{e.addNodeFilter("strike",(e=>{const o="html4"!==t.type;G(e,(e=>{if(o)e.name="s";else{const t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))}}))}))})(e,n,r)},ky=e=>{const[t,...n]=e.split(","),o=n.join(","),r=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(r){const e=";base64"===r[2],t=e?(e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""})(o):decodeURIComponent(o);return F.some({type:r[1],data:t,base64Encoded:e})}return F.none()},Ey=(e,t,n=!0)=>{let o=t;if(n)try{o=atob(t)}catch(e){return F.none()}const r=new Uint8Array(o.length);for(let e=0;e<r.length;e++)r[e]=o.charCodeAt(e);return F.some(new Blob([r],{type:e}))},Oy=e=>{return We(e,"blob:")?(e=>fetch(e).then((e=>e.ok?e.blob():Promise.reject())).catch((()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"}))))(e):We(e,"data:")?(t=e,new Promise(((e,n)=>{ky(t).bind((({type:e,data:t,base64Encoded:n})=>Ey(e,t,n))).fold((()=>n("Invalid data URI")),e)}))):Promise.reject("Unknown URI format");var t},Ay=e=>new Promise(((t,n)=>{const o=new FileReader;o.onloadend=()=>{t(o.result)},o.onerror=()=>{var e;n(null===(e=o.error)||void 0===e?void 0:e.message)},o.readAsDataURL(e)}));let Ty=0;const Dy=(e,t,n)=>ky(e).bind((({data:e,type:o,base64Encoded:r})=>{if(t&&!r)return F.none();{const t=r?e:btoa(e);return n(t,o)}})),My=(e,t,n)=>{const o=e.create((r||"blobid")+Ty++,t,n);var r;return e.add(o),o},Py=(e,t,n=!1)=>Dy(t,n,((t,n)=>F.from(e.getByData(t,n)).orThunk((()=>Ey(n,t).map((n=>My(e,n,t))))))),Ry=(e,t)=>{const{blob_cache:n}=t;if(n){const t=e=>{const t=e.attr("src");(e=>e.attr("src")===Tt.transparentSrc||_(e.attr("data-mce-placeholder")))(e)||(e=>_(e.attr("data-mce-bogus")))(e)||x(t)||Py(n,t,!0).each((t=>{e.attr("src",t.blobUri())}))};e.addAttributeFilter("src",(e=>G(e,t)))}};function Ny(e){return Ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(e)}function Ly(e,t){return Ly=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ly(e,t)}function Iy(e,t,n){return Iy=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&Ly(r,n.prototype),r},Iy.apply(null,arguments)}function By(e){return function(e){if(Array.isArray(e))return Fy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Fy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Hy=Object.hasOwnProperty,Vy=Object.setPrototypeOf,zy=Object.isFrozen,Uy=Object.getPrototypeOf,Wy=Object.getOwnPropertyDescriptor,qy=Object.freeze,Zy=Object.seal,Gy=Object.create,$y="undefined"!=typeof Reflect&&Reflect,Yy=$y.apply,Ky=$y.construct;Yy||(Yy=function(e,t,n){return e.apply(t,n)}),qy||(qy=function(e){return e}),Zy||(Zy=function(e){return e}),Ky||(Ky=function(e,t){return Iy(e,By(t))});var Xy,Qy=lw(Array.prototype.forEach),Jy=lw(Array.prototype.pop),ew=lw(Array.prototype.push),tw=lw(String.prototype.toLowerCase),nw=lw(String.prototype.match),ow=lw(String.prototype.replace),rw=lw(String.prototype.indexOf),iw=lw(String.prototype.trim),sw=lw(RegExp.prototype.test),aw=(Xy=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ky(Xy,t)});function lw(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return Yy(e,t,o)}}function cw(e,t){Vy&&Vy(e,null);for(var n=t.length;n--;){var o=t[n];if("string"==typeof o){var r=tw(o);r!==o&&(zy(t)||(t[n]=r),o=r)}e[o]=!0}return e}function dw(e){var t,n=Gy(null);for(t in e)Yy(Hy,e,[t])&&(n[t]=e[t]);return n}function uw(e,t){for(;null!==e;){var n=Wy(e,t);if(n){if(n.get)return lw(n.get);if("function"==typeof n.value)return lw(n.value)}e=Uy(e)}return function(e){return console.warn("fallback value for",e),null}}var hw=qy(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),mw=qy(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),pw=qy(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),fw=qy(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),gw=qy(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),vw=qy(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),bw=qy(["#text"]),yw=qy(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ww=qy(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),xw=qy(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),_w=qy(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Sw=Zy(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Cw=Zy(/<%[\w\W]*|[\w\W]*%>/gm),jw=Zy(/^data-[\-\w.\u00B7-\uFFFF]/),kw=Zy(/^aria-[\-\w]+$/),Ew=Zy(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ow=Zy(/^(?:\w+script|data):/i),Aw=Zy(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Tw=Zy(/^html$/i),Dw=function(){return"undefined"==typeof window?null:window};var Mw=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dw(),n=function(t){return e(t)};if(n.version="2.3.8",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var o=t.document,r=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,l=t.Element,c=t.NodeFilter,d=t.NamedNodeMap,u=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,h=t.HTMLFormElement,m=t.DOMParser,p=t.trustedTypes,f=l.prototype,g=uw(f,"cloneNode"),v=uw(f,"nextSibling"),b=uw(f,"childNodes"),y=uw(f,"parentNode");if("function"==typeof s){var w=r.createElement("template");w.content&&w.content.ownerDocument&&(r=w.content.ownerDocument)}var x=function(e,t){if("object"!==Ny(e)||"function"!=typeof e.createPolicy)return null;var n=null,o="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(o)&&(n=t.currentScript.getAttribute(o));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}}(p,o),_=x?x.createHTML(""):"",S=r,C=S.implementation,j=S.createNodeIterator,k=S.createDocumentFragment,E=S.getElementsByTagName,O=o.importNode,A={};try{A=dw(r).documentMode?r.documentMode:{}}catch(e){}var T={};n.isSupported="function"==typeof y&&C&&void 0!==C.createHTMLDocument&&9!==A;var D,M,P=Sw,R=Cw,N=jw,L=kw,I=Ow,B=Aw,F=Ew,H=null,V=cw({},[].concat(By(hw),By(mw),By(pw),By(gw),By(bw))),z=null,U=cw({},[].concat(By(yw),By(ww),By(xw),By(_w))),W=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,Z=null,G=!0,$=!0,Y=!1,K=!1,X=!1,Q=!1,J=!1,ee=!1,te=!1,ne=!1,oe=!0,re=!0,ie=!1,se={},ae=null,le=cw({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ce=null,de=cw({},["audio","video","img","source","image","track"]),ue=null,he=cw({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",pe="http://www.w3.org/2000/svg",fe="http://www.w3.org/1999/xhtml",ge=fe,ve=!1,be=["application/xhtml+xml","text/html"],ye=null,we=r.createElement("form"),xe=function(e){return e instanceof RegExp||e instanceof Function},_e=function(e){ye&&ye===e||(e&&"object"===Ny(e)||(e={}),e=dw(e),H="ALLOWED_TAGS"in e?cw({},e.ALLOWED_TAGS):V,z="ALLOWED_ATTR"in e?cw({},e.ALLOWED_ATTR):U,ue="ADD_URI_SAFE_ATTR"in e?cw(dw(he),e.ADD_URI_SAFE_ATTR):he,ce="ADD_DATA_URI_TAGS"in e?cw(dw(de),e.ADD_DATA_URI_TAGS):de,ae="FORBID_CONTENTS"in e?cw({},e.FORBID_CONTENTS):le,q="FORBID_TAGS"in e?cw({},e.FORBID_TAGS):{},Z="FORBID_ATTR"in e?cw({},e.FORBID_ATTR):{},se="USE_PROFILES"in e&&e.USE_PROFILES,G=!1!==e.ALLOW_ARIA_ATTR,$=!1!==e.ALLOW_DATA_ATTR,Y=e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=e.SAFE_FOR_TEMPLATES||!1,X=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,J=e.FORCE_BODY||!1,oe=!1!==e.SANITIZE_DOM,re=!1!==e.KEEP_CONTENT,ie=e.IN_PLACE||!1,F=e.ALLOWED_URI_REGEXP||F,ge=e.NAMESPACE||fe,e.CUSTOM_ELEMENT_HANDLING&&xe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&xe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(W.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),D=D=-1===be.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,M="application/xhtml+xml"===D?function(e){return e}:tw,K&&($=!1),te&&(ee=!0),se&&(H=cw({},By(bw)),z=[],!0===se.html&&(cw(H,hw),cw(z,yw)),!0===se.svg&&(cw(H,mw),cw(z,ww),cw(z,_w)),!0===se.svgFilters&&(cw(H,pw),cw(z,ww),cw(z,_w)),!0===se.mathMl&&(cw(H,gw),cw(z,xw),cw(z,_w))),e.ADD_TAGS&&(H===V&&(H=dw(H)),cw(H,e.ADD_TAGS)),e.ADD_ATTR&&(z===U&&(z=dw(z)),cw(z,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&cw(ue,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(ae===le&&(ae=dw(ae)),cw(ae,e.FORBID_CONTENTS)),re&&(H["#text"]=!0),X&&cw(H,["html","head","body"]),H.table&&(cw(H,["tbody"]),delete q.tbody),qy&&qy(e),ye=e)},Se=cw({},["mi","mo","mn","ms","mtext"]),Ce=cw({},["foreignobject","desc","title","annotation-xml"]),je=cw({},["title","style","font","a","script"]),ke=cw({},mw);cw(ke,pw),cw(ke,fw);var Ee=cw({},gw);cw(Ee,vw);var Oe=function(e){ew(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=_}catch(t){e.remove()}}},Ae=function(e,t){try{ew(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){ew(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!z[e])if(ee||te)try{Oe(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Te=function(e){var t,n;if(J)e="<remove></remove>"+e;else{var o=nw(e,/^[\r\n\t ]+/);n=o&&o[0]}"application/xhtml+xml"===D&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=x?x.createHTML(e):e;if(ge===fe)try{t=(new m).parseFromString(i,D)}catch(e){}if(!t||!t.documentElement){t=C.createDocument(ge,"template",null);try{t.documentElement.innerHTML=ve?"":i}catch(e){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(r.createTextNode(n),s.childNodes[0]||null),ge===fe?E.call(t,X?"html":"body")[0]:X?t.documentElement:s},De=function(e){return j.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Me=function(e){return"object"===Ny(a)?e instanceof a:e&&"object"===Ny(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Pe=function(e,t,o){T[e]&&Qy(T[e],(function(e){e.call(n,t,o,ye)}))},Re=function(e){var t,o;if(Pe("beforeSanitizeElements",e,null),(o=e)instanceof h&&("string"!=typeof o.nodeName||"string"!=typeof o.textContent||"function"!=typeof o.removeChild||!(o.attributes instanceof u)||"function"!=typeof o.removeAttribute||"function"!=typeof o.setAttribute||"string"!=typeof o.namespaceURI||"function"!=typeof o.insertBefore))return Oe(e),!0;if(sw(/[\u0080-\uFFFF]/,e.nodeName))return Oe(e),!0;var r=M(e.nodeName);if(Pe("uponSanitizeElement",e,{tagName:r,allowedTags:H}),e.hasChildNodes()&&!Me(e.firstElementChild)&&(!Me(e.content)||!Me(e.content.firstElementChild))&&sw(/<[/\w]/g,e.innerHTML)&&sw(/<[/\w]/g,e.textContent))return Oe(e),!0;if("select"===r&&sw(/<template/i,e.innerHTML))return Oe(e),!0;if(!H[r]||q[r]){if(!q[r]&&Le(r)){if(W.tagNameCheck instanceof RegExp&&sw(W.tagNameCheck,r))return!1;if(W.tagNameCheck instanceof Function&&W.tagNameCheck(r))return!1}if(re&&!ae[r]){var i=y(e)||e.parentNode,s=b(e)||e.childNodes;if(s&&i)for(var a=s.length-1;a>=0;--a)i.insertBefore(g(s[a],!0),v(e))}return Oe(e),!0}return e instanceof l&&!function(e){var t=y(e);t&&t.tagName||(t={namespaceURI:fe,tagName:"template"});var n=tw(e.tagName),o=tw(t.tagName);return e.namespaceURI===pe?t.namespaceURI===fe?"svg"===n:t.namespaceURI===me?"svg"===n&&("annotation-xml"===o||Se[o]):Boolean(ke[n]):e.namespaceURI===me?t.namespaceURI===fe?"math"===n:t.namespaceURI===pe?"math"===n&&Ce[o]:Boolean(Ee[n]):e.namespaceURI===fe&&!(t.namespaceURI===pe&&!Ce[o])&&!(t.namespaceURI===me&&!Se[o])&&!Ee[n]&&(je[n]||!ke[n])}(e)?(Oe(e),!0):"noscript"!==r&&"noembed"!==r||!sw(/<\/no(script|embed)/i,e.innerHTML)?(K&&3===e.nodeType&&(t=e.textContent,t=ow(t,P," "),t=ow(t,R," "),e.textContent!==t&&(ew(n.removed,{element:e.cloneNode()}),e.textContent=t)),Pe("afterSanitizeElements",e,null),!1):(Oe(e),!0)},Ne=function(e,t,n){if(oe&&("id"===t||"name"===t)&&(n in r||n in we))return!1;if($&&!Z[t]&&sw(N,t));else if(G&&sw(L,t));else if(!z[t]||Z[t]){if(!(Le(e)&&(W.tagNameCheck instanceof RegExp&&sw(W.tagNameCheck,e)||W.tagNameCheck instanceof Function&&W.tagNameCheck(e))&&(W.attributeNameCheck instanceof RegExp&&sw(W.attributeNameCheck,t)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(t))||"is"===t&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&sw(W.tagNameCheck,n)||W.tagNameCheck instanceof Function&&W.tagNameCheck(n))))return!1}else if(ue[t]);else if(sw(F,ow(n,B,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==rw(n,"data:")||!ce[e]){if(Y&&!sw(I,ow(n,B,"")));else if(n)return!1}else;return!0},Le=function(e){return e.indexOf("-")>0},Ie=function(e){var t,n,o,r;Pe("beforeSanitizeAttributes",e,null);var i=e.attributes;if(i){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z};for(r=i.length;r--;){var a=t=i[r],l=a.name,c=a.namespaceURI;n="value"===l?t.value:iw(t.value),o=M(l);var d=n;if(s.attrName=o,s.attrValue=n,s.keepAttr=!0,s.forceKeepAttr=void 0,Pe("uponSanitizeAttribute",e,s),n=s.attrValue,!s.forceKeepAttr)if(s.keepAttr)if(sw(/\/>/i,n))Ae(l,e);else{K&&(n=ow(n,P," "),n=ow(n,R," "));var u=M(e.nodeName);if(Ne(u,o,n)){if(n!==d)try{c?e.setAttributeNS(c,l,n):e.setAttribute(l,n)}catch(t){Ae(l,e)}}else Ae(l,e)}else Ae(l,e)}Pe("afterSanitizeAttributes",e,null)}},Be=function e(t){var n,o=De(t);for(Pe("beforeSanitizeShadowDOM",t,null);n=o.nextNode();)Pe("uponSanitizeShadowNode",n,null),Re(n)||(n.content instanceof i&&e(n.content),Ie(n));Pe("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,r){var s,l,c,d,u;if((ve=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Me(e)){if("function"!=typeof e.toString)throw aw("toString is not a function");if("string"!=typeof(e=e.toString()))throw aw("dirty is not a string, aborting")}if(!n.isSupported){if("object"===Ny(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Me(e))return t.toStaticHTML(e.outerHTML)}return e}if(Q||_e(r),n.removed=[],"string"==typeof e&&(ie=!1),ie){if(e.nodeName){var h=M(e.nodeName);if(!H[h]||q[h])throw aw("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof a)1===(l=(s=Te("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?s=l:s.appendChild(l);else{if(!ee&&!K&&!X&&-1===e.indexOf("<"))return x&&ne?x.createHTML(e):e;if(!(s=Te(e)))return ee?null:ne?_:""}s&&J&&Oe(s.firstChild);for(var m=De(ie?e:s);c=m.nextNode();)3===c.nodeType&&c===d||Re(c)||(c.content instanceof i&&Be(c.content),Ie(c),d=c);if(d=null,ie)return e;if(ee){if(te)for(u=k.call(s.ownerDocument);s.firstChild;)u.appendChild(s.firstChild);else u=s;return z.shadowroot&&(u=O.call(o,u,!0)),u}var p=X?s.outerHTML:s.innerHTML;return X&&H["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&sw(Tw,s.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+p),K&&(p=ow(p,P," "),p=ow(p,R," ")),x&&ne?x.createHTML(p):p},n.setConfig=function(e){_e(e),Q=!0},n.clearConfig=function(){ye=null,Q=!1},n.isValidAttribute=function(e,t,n){ye||_e({});var o=M(e),r=M(t);return Ne(o,r,n)},n.addHook=function(e,t){"function"==typeof t&&(T[e]=T[e]||[],ew(T[e],t))},n.removeHook=function(e){if(T[e])return Jy(T[e])},n.removeHooks=function(e){T[e]&&(T[e]=[])},n.removeAllHooks=function(){T={}},n}();const Pw=Rt.each,Rw=Rt.trim,Nw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Lw={ftp:21,http:80,https:443,mailto:25},Iw=["img","video"],Bw=(e,t,n)=>{const o=(e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}})(t).replace(/\s/g,"");return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(o)||!e.allow_html_data_urls&&(/^data:image\//i.test(o)?((e,t)=>_(e)?!e:!_(t)||!W(Iw,t))(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(o):/^data:/i.test(o)))};class Fw{constructor(e,t={}){this.path="",this.directory="",e=Rw(e),this.settings=t;const n=t.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(o.source=e);const r=0===e.indexOf("//");if(0!==e.indexOf("/")||r||(e=(n&&n.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){const t=n?n.path:new Fw(document.location.href).directory;if(""===(null==n?void 0:n.protocol))e="//mce_host"+o.toAbsPath(t,e);else{const r=/([^#?]*)([#?]?.*)/.exec(e);r&&(e=(n&&n.protocol||"http")+"://mce_host"+o.toAbsPath(t,r[1])+r[2])}}e=e.replace(/@@/g,"(mce_at)");const i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);i&&Pw(Nw,((e,t)=>{let n=i[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),o[e]=n})),n&&(o.protocol||(o.protocol=n.protocol),o.userInfo||(o.userInfo=n.userInfo),o.port||"mce_host"!==o.host||(o.port=n.port),o.host&&"mce_host"!==o.host||(o.host=n.host),o.source=""),r&&(o.protocol="")}static parseDataUri(e){let t;const n=decodeURIComponent(e).split(","),o=/data:([^;]+)/.exec(n[0]);return o&&(t=o[1]),{type:t,data:n[1]}}static isDomSafe(e,t,n={}){if(n.allow_script_urls)return!0;{const o=es.decode(e).replace(/[\s\u0000-\u001F]+/g,"");return!Bw(n,o,t)}}static getDocumentBaseUrl(e){var t;let n;return n=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?null!==(t=e.href)&&void 0!==t?t:"":e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n}setPath(e){const t=/^(.*?)\/?(\w+)?$/.exec(e);t&&(this.path=t[0],this.directory=t[1],this.file=t[2]),this.source="",this.getURI()}toRelative(e){if("./"===e)return e;const t=new Fw(e,{base_uri:this});if("mce_host"!==t.host&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&""!==t.protocol)return t.getURI();const n=this.getURI(),o=t.getURI();if(n===o||"/"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===o)return n;let r=this.toRelPath(this.path,t.path);return t.query&&(r+="?"+t.query),t.anchor&&(r+="#"+t.anchor),r}toAbsolute(e,t){const n=new Fw(e,{base_uri:this});return n.getURI(t&&this.isSameOrigin(n))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;const t=this.protocol?Lw[this.protocol]:null;if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let n,o,r=0,i="";const s=e.substring(0,e.lastIndexOf("/")).split("/"),a=t.split("/");if(s.length>=a.length)for(n=0,o=s.length;n<o;n++)if(n>=a.length||s[n]!==a[n]){r=n+1;break}if(s.length<a.length)for(n=0,o=a.length;n<o;n++)if(n>=s.length||s[n]!==a[n]){r=n+1;break}if(1===r)return t;for(n=0,o=s.length-(r-1);n<o;n++)i+="../";for(n=r-1,o=a.length;n<o;n++)i+=n!==r-1?"/"+a[n]:a[n];return i}toAbsPath(e,t){let n=0;const o=/\/$/.test(t)?"/":"",r=e.split("/"),i=t.split("/"),s=[];Pw(r,(e=>{e&&s.push(e)}));const a=[];for(let e=i.length-1;e>=0;e--)0!==i[e].length&&"."!==i[e]&&(".."!==i[e]?n>0?n--:a.push(i[e]):n++);const l=s.length-n;let c;return c=l<=0?ie(a).join("/"):s.slice(0,l).join("/")+"/"+ie(a).join("/"),0!==c.indexOf("/")&&(c="/"+c),o&&c.lastIndexOf("/")!==c.length-1&&(c+=o),c}getURI(e=!1){let t;return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}}const Hw=Rt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Vw="data-mce-type";let zw=0;const Uw=(e,t,n,o)=>{var r,i,s,a;const l=t.validate,c=n.getSpecialElements();8===e.nodeType&&!t.allow_conditional_comments&&/^\[if/i.test(null!==(r=e.nodeValue)&&void 0!==r?r:"")&&(e.nodeValue=" "+e.nodeValue);const d=null!==(i=null==o?void 0:o.tagName)&&void 0!==i?i:e.nodeName.toLowerCase();if(1!==e.nodeType||"body"===d)return;const u=vn.fromDom(e),h=nn(u,Vw),m=en(u,"data-mce-bogus");if(!h&&p(m))return void("all"===m?yo(u):wo(u));const f=n.getElementRule(d);if(!l||f){if(_(o)&&(o.allowedTags[d]=!0),l&&f&&!h){if(G(null!==(s=f.attributesForced)&&void 0!==s?s:[],(e=>{Qt(u,e.name,"{$uid}"===e.value?"mce_"+zw++:e.value)})),G(null!==(a=f.attributesDefault)&&void 0!==a?a:[],(e=>{nn(u,e.name)||Qt(u,e.name,"{$uid}"===e.value?"mce_"+zw++:e.value)})),f.attributesRequired&&!q(f.attributesRequired,(e=>nn(u,e))))return void wo(u);if(f.removeEmptyAttrs&&(e=>{const t=e.dom.attributes;return null==t||0===t.length})(u))return void wo(u);f.outputName&&f.outputName!==d&&da(u,f.outputName)}}else je(c,d)?yo(u):wo(u)},Ww=(e,t,n,o,r)=>!(o in Hw&&Bw(e,r,n))&&(!e.validate||t.isValid(n,o)||We(o,"data-")||We(o,"aria-")),qw=(e,t)=>e.hasAttribute(Vw)&&("id"===t||"class"===t||"style"===t),Zw=(e,t)=>e in t.getBoolAttrs(),Gw=(e,t,n)=>{const{attributes:o}=e;for(let r=o.length-1;r>=0;r--){const i=o[r],s=i.name,a=i.value;Ww(t,n,e.tagName.toLowerCase(),s,a)||qw(e,s)?Zw(s,n)&&e.setAttribute(s,s):e.removeAttribute(s)}},$w=(e,t)=>{const n=Mw();return n.addHook("uponSanitizeElement",((n,o)=>{Uw(n,e,t,o)})),n.addHook("uponSanitizeAttribute",((n,o)=>{const r=n.tagName.toLowerCase(),{attrName:i,attrValue:s}=o;o.keepAttr=Ww(e,t,r,i,s),o.keepAttr?(o.allowedAttributes[i]=!0,Zw(i,t)&&(o.attrValue=i),e.allow_svg_data_urls&&We(s,"data:image/svg+xml")&&(o.forceKeepAttr=!0)):qw(n,i)&&(o.forceKeepAttr=!0)})),n},Yw=Rt.makeMap,Kw=Rt.extend,Xw=(e,t,n)=>{const o=e.name,r=o in n&&"title"!==o&&"textarea"!==o,i=t.childNodes;for(let t=0,o=i.length;t<o;t++){const o=i[t],s=new hf(o.nodeName.toLowerCase(),o.nodeType);if(Vo(o)){const e=o.attributes;for(let t=0,n=e.length;t<n;t++){const n=e[t];s.attr(n.name,n.value)}}else Ko(o)?(s.value=o.data,r&&(s.raw=!0)):(Jo(o)||Xo(o)||Qo(o))&&(s.value=o.data);Xw(s,o,n),e.append(s)}},Qw=(e,t,n,o)=>{const r=n.validate,i=t.getNonEmptyElements(),s=t.getWhitespaceElements(),a=Kw(Yw("script,style,head,html,body,title,meta,param"),t.getBlockElements()),l=us(t),c=/[ \t\r\n]+/g,d=/^[ \t\r\n]+/,u=/[ \t\r\n]+$/,h=e=>{let t=e.parent;for(;_(t);){if(t.name in s)return!0;t=t.parent}return!1},m=e=>e.name in a&&!Ti(t,e),p=(t,n)=>{const r=n?t.prev:t.next;return!_(r)&&!x(t.parent)&&(m(t.parent)&&(t.parent!==e||!0===o.isRootContent))};return[e=>{var t;if(3===e.type&&!h(e)){let n=null!==(t=e.value)&&void 0!==t?t:"";n=n.replace(c," "),(((e,t)=>_(e)&&(t(e)||"br"===e.name))(e.prev,m)||p(e,!0))&&(n=n.replace(d,"")),0===n.length?e.remove():e.value=n}},e=>{var n;if(1===e.type){const n=t.getElementRule(e.name);if(r&&n){const r=Nv(t,i,s,e);n.paddInEmptyBlock&&r&&(e=>{let n=e;for(;_(n);){if(n.name in l)return Nv(t,i,s,n);n=n.parent}return!1})(e)?Pv(o,m,e):n.removeEmpty&&r?m(e)?e.remove():e.unwrap():n.paddEmpty&&(r||(e=>{var t;return Rv(e,"#text")&&(null===(t=null==e?void 0:e.firstChild)||void 0===t?void 0:t.value)===ur})(e))&&Pv(o,m,e)}}else if(3===e.type&&!h(e)){let t=null!==(n=e.value)&&void 0!==n?n:"";(e.next&&m(e.next)||p(e,!1))&&(t=t.replace(u,"")),0===t.length?e.remove():e.value=t}}]},Jw=(e={},t=ms())=>{const n=Sy(),o=Sy(),r={validate:!0,root_name:"body",sanitize:!0,...e},i=new DOMParser,s=((e,t)=>{if(e.sanitize){const n=$w(e,t);return(t,o)=>{n.sanitize(t,((e,t)=>{const n={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};return n.PARSER_MEDIA_TYPE=t,e.allow_script_urls?n.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(n.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),n})(e,o)),n.removed=[]}}return(n,o)=>{const r=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let i;for(;i=r.nextNode();)Uw(i,e,t),Vo(i)&&Gw(i,e,t)}})(r,t),a=n.addFilter,l=n.getFilters,c=n.removeFilter,d=o.addFilter,u=o.getFilters,h=o.removeFilter,m=(e,n)=>{const o=p(n.attr(Vw)),r=1===n.type&&!je(e,n.name)&&!((e,t)=>1===t.type&&ki(e,t.name)&&p(t.attr(vi)))(t,n);return 3===n.type||r&&!o},f={schema:t,addAttributeFilter:d,getAttributeFilters:u,removeAttributeFilter:h,addNodeFilter:a,getNodeFilters:l,removeNodeFilter:c,parse:(e,n={})=>{var o;const a=r.validate,c=null!==(o=n.context)&&void 0!==o?o:r.root_name,d=((e,n,o="html")=>{const r="xhtml"===o?"application/xhtml+xml":"text/html",a=je(t.getSpecialElements(),n.toLowerCase()),l=a?`<${n}>${e}</${n}>`:e,c="xhtml"===o?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${l}</body></html>`:`<body>${l}</body>`,d=i.parseFromString(c,r).body;return s(d,r),a?d.firstChild:d})(e,c,n.format);Si(t,d);const h=new hf(c,11);Xw(h,d,t.getSpecialElements()),d.innerHTML="";const[p,f]=Qw(h,t,r,n),g=[],v=a?e=>((e,n)=>{Fv(t,e)&&n.push(e)})(e,g):k,b={nodes:{},attributes:{}},y=e=>Tv(l(),u(),e,b);if(((e,t,n)=>{const o=[];for(let n=e,r=n;n;r=n,n=n.walk()){const i=n;G(t,(e=>e(i))),x(i.parent)&&i!==e?n=r:o.push(i)}for(let e=o.length-1;e>=0;e--){const t=o[e];G(n,(e=>e(t)))}})(h,[p,y],[f,v]),g.reverse(),a&&g.length>0)if(n.context){const{pass:e,fail:o}=Y(g,(e=>e.parent===h));Bv(o,t,h,y),n.invalid=e.length>0}else Bv(g,t,h,y);const w=((e,t)=>{var n;const o=null!==(n=t.forced_root_block)&&void 0!==n?n:e.forced_root_block;return!1===o?"":!0===o?"p":o})(r,n);return w&&("body"===h.name||n.isRootContent)&&((e,n)=>{const o=Kw(Yw("script,style,head,html,body,title,meta,param"),t.getBlockElements()),i=/^[ \t\r\n]+/,s=/[ \t\r\n]+$/;let a=e.firstChild,l=null;const c=e=>{var t,n;e&&(a=e.firstChild,a&&3===a.type&&(a.value=null===(t=a.value)||void 0===t?void 0:t.replace(i,"")),a=e.lastChild,a&&3===a.type&&(a.value=null===(n=a.value)||void 0===n?void 0:n.replace(s,"")))};if(t.isValidChild(e.name,n.toLowerCase())){for(;a;){const t=a.next;m(o,a)?(l||(l=new hf(n,1),l.attr(r.forced_root_block_attrs),e.insert(l,a)),l.append(a)):(c(l),l=null),a=t}c(l)}})(h,w),n.invalid||Dv(b,n),h}};return((e,t)=>{const n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",((e,t,o)=>{const r=Rt.extend({},n.getBlockElements()),i=n.getNonEmptyElements(),s=n.getWhitespaceElements();r.body=1;const a=e=>e.name in r&&Ti(n,e);for(let t=0,l=e.length;t<l;t++){let l=e[t],c=l.parent;if(c&&r[c.name]&&l===c.lastChild){let e=l.prev;for(;e;){const t=e.name;if("span"!==t||"bookmark"!==e.attr("data-mce-type")){"br"===t&&(l=null);break}e=e.prev}if(l&&(l.remove(),Nv(n,i,s,c))){const e=n.getElementRule(c.name);e&&(e.removeEmpty?c.remove():e.paddEmpty&&Pv(o,a,c))}}else{let e=l;for(;c&&c.firstChild===e&&c.lastChild===e&&(e=c,!r[c.name]);)c=c.parent;if(e===c){const e=new hf("#text",3);e.value=ur,l.replace(e)}}}})),e.addAttributeFilter("href",(e=>{let n=e.length;const o=e=>{const t=e?Rt.trim(e):"";return/\b(noopener)\b/g.test(t)?t:(e=>e.split(" ").filter((e=>e.length>0)).concat(["noopener"]).sort().join(" "))(t)};if(!t.allow_unsafe_link_target)for(;n--;){const t=e[n];"a"===t.name&&"_blank"===t.attr("target")&&t.attr("rel",o(t.attr("rel")))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(e=>{let t,n,o,r,i=e.length;for(;i--;)if(r=e[i],"a"===r.name&&r.firstChild&&!r.attr("href"))for(o=r.parent,t=r.lastChild;t&&o;)n=t.prev,o.insert(t,r),t=n})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(e=>{let t,n,o=e.length;for(;o--;)if(t=e[o],n=t.parent,n&&("ul"===n.name||"ol"===n.name))if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{const e=new hf("li",1);e.attr("style","list-style-type: none"),t.wrap(e)}}));const o=n.getValidClasses();t.validate&&o&&e.addAttributeFilter("class",(e=>{var t;let n=e.length;for(;n--;){const r=e[n],i=null!==(t=r.attr("class"))&&void 0!==t?t:"",s=Rt.explode(i," ");let a="";for(let e=0;e<s.length;e++){const t=s[e];let n=!1,i=o["*"];i&&i[t]&&(n=!0),i=o[r.name],!n&&i&&i[t]&&(n=!0),n&&(a&&(a+=" "),a+=t)}a.length||(a=null),r.attr("class",a)}})),Ry(e,t)})(f,r),((e,t,n)=>{t.inline_styles&&jy(e,t,n)})(f,r,t),f},ex=(e,t,n)=>{const o=(e=>tb(e)?Sf({validate:!1}).serialize(e):e)(e),r=t(o);if(r.isDefaultPrevented())return r;if(tb(e)){if(r.content!==o){const t=Jw({validate:!1,forced_root_block:!1,sanitize:n}).parse(r.content,{context:e.name});return{...r,content:t}}return{...r,content:e}}return r},tx=(e,t)=>{if(t.no_events)return ml.value(t);{const n=((e,t)=>e.dispatch("BeforeGetContent",t))(e,t);return n.isDefaultPrevented()?ml.error(um(e,{content:"",...n}).content):ml.value(n)}},nx=(e,t,n)=>{if(n.no_events)return t;{const o=ex(t,(t=>um(e,{...n,content:t})),cd(e));return o.content}},ox=(e,t)=>{if(t.no_events)return ml.value(t);{const n=ex(t.content,(n=>((e,t)=>e.dispatch("BeforeSetContent",t))(e,{...t,content:n})),cd(e));return n.isDefaultPrevented()?(dm(e,n),ml.error(void 0)):ml.value(n)}},rx=(e,t,n)=>{n.no_events||dm(e,{...n,content:t})},ix=(e,t,n)=>({element:e,width:t,rows:n}),sx=(e,t)=>({element:e,cells:t}),ax=(e,t)=>({x:e,y:t}),lx=(e,t)=>tn(e,t).bind(Qe).getOr(1),cx=(e,t,n)=>{const o=e.rows;return!!(o[n]?o[n].cells:[])[t]},dx=e=>Q(e,((e,t)=>t.cells.length>e?t.cells.length:e),0),ux=(e,t)=>{const n=e.rows;for(let e=0;e<n.length;e++){const o=n[e].cells;for(let n=0;n<o.length;n++)if(xn(o[n],t))return F.some(ax(n,e))}return F.none()},hx=(e,t,n,o,r)=>{const i=[],s=e.rows;for(let e=n;e<=r;e++){const n=s[e].cells,r=t<o?n.slice(t,o+1):n.slice(o,t+1);i.push(sx(s[e].element,r))}return i},mx=e=>{const t=ix(la(e),0,[]);return G(Lo(e,"tr"),((e,n)=>{G(Lo(e,"td,th"),((o,r)=>{((e,t,n,o,r)=>{const i=lx(r,"rowspan"),s=lx(r,"colspan"),a=e.rows;for(let e=n;e<n+i;e++){a[e]||(a[e]=sx(ca(o),[]));for(let o=t;o<t+s;o++)a[e].cells[o]=e===n&&o===t?r:la(r)}})(t,((e,t,n)=>{for(;cx(e,t,n);)t++;return t})(t,r,n),n,e,o)}))})),ix(t.element,dx(t.rows),t.rows)},px=e=>((e,t)=>{const n=la(e.element),o=vn.fromTag("tbody");return vo(o,t),fo(n,o),n})(e,(e=>Z(e.rows,(e=>{const t=Z(e.cells,(e=>{const t=ca(e);return on(t,"colspan"),on(t,"rowspan"),t})),n=la(e.element);return vo(n,t),n})))(e)),fx=(e,t,n)=>ux(e,t).bind((t=>ux(e,n).map((n=>((e,t,n)=>{const o=t.x,r=t.y,i=n.x,s=n.y,a=r<s?hx(e,o,r,i,s):hx(e,o,s,i,r);return ix(e.element,dx(a),a)})(e,t,n))))),gx=(e,t)=>ee(e,(e=>"li"===Ut(e)&&lh(e,t))).fold(A([]),(t=>(e=>ee(e,(e=>"ul"===Ut(e)||"ol"===Ut(e))))(e).map((e=>{const t=vn.fromTag(Ut(e)),n=xe(co(e),((e,t)=>We(t,"list-style")));return io(t,n),[vn.fromTag("li"),t]})).getOr([]))),vx=(e,t)=>{const n=vn.fromDom(t.commonAncestorContainer),o=qf(n,e),r=K(o,Or),i=gx(o,t),s=r.concat(i.length?i:(e=>Sr(e)?kn(e).filter(_r).fold(A([]),(t=>[e,t])):_r(e)?[e]:[])(n));return Z(s,la)},bx=()=>Nm([]),yx=(e,t)=>((e,t)=>{const n=Q(t,((e,t)=>(fo(t,e),t)),e);return t.length>0?Nm([n]):n})(vn.fromDom(t.cloneContents()),vx(e,t)),wx=(e,t)=>((e,t)=>Xn(t,"table",M(xn,e)))(e,t[0]).bind((e=>{const n=t[0],o=t[t.length-1],r=mx(e);return fx(r,n,o).map((e=>Nm([px(e)])))})).getOrThunk(bx),xx=(e,t)=>{const n=oh(t,e);return n.length>0?wx(e,n):((e,t)=>t.length>0&&t[0].collapsed?bx():yx(e,t[0]))(e,t)},_x=(e,t)=>t>=0&&t<e.length&&qu(e.charAt(t)),Sx=e=>Nr(e.innerText),Cx=(e,t)=>{if("text"===t.format)return(e=>F.from(e.selection.getRng()).map((t=>{var n;const o=F.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),i=(e=>e.map((e=>e.nodeName)).getOr("div").toLowerCase())(o),s=vn.fromDom(t.cloneContents());vf(s),bf(s);const a=e.dom.add(r,i,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},s.dom),l=Sx(a),c=Nr(null!==(n=a.textContent)&&void 0!==n?n:"");if(e.dom.remove(a),_x(c,0)||_x(c,c.length-1)){const e=o.getOr(r),t=Sx(e),n=t.indexOf(l);return-1===n?l:(_x(t,n-1)?" ":"")+l+(_x(t,n+l.length)?" ":"")}return l})).getOr(""))(e);{const n=((e,t)=>{const n=e.selection.getRng(),o=e.dom.create("body"),r=e.selection.getSel(),i=Qp(e,th(r)),s=t.contextual?xx(vn.fromDom(e.getBody()),i).dom:n.cloneContents();return s&&o.appendChild(s),e.selection.serializer.serialize(o,t)})(e,t);return"tree"===t.format?n:e.selection.isCollapsed()?"":n}},jx=e=>Vo(e)?e.outerHTML:Ko(e)?es.encodeRaw(e.data,!1):Jo(e)?"\x3c!--"+e.data+"--\x3e":"",kx=(e,t,n)=>{const o=(e=>{let t;const n=document.createElement("div"),o=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)o.appendChild(t);return o})(t);if(e.hasChildNodes()&&n<e.childNodes.length){const t=e.childNodes[n];e.insertBefore(o,t)}else e.appendChild(o)},Ex=(e,t)=>(((e,t)=>{let n=0;G(e,(e=>{0===e[0]?n++:1===e[0]?(kx(t,e[1],n),n++):2===e[0]&&((e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}})(t,n)}))})(((e,t)=>{const n=e.length+t.length+2,o=new Array(n),r=new Array(n),i=(n,o,r,s,l)=>{const c=a(n,o,r,s);if(null===c||c.start===o&&c.diag===o-s||c.end===n&&c.diag===n-r){let i=n,a=r;for(;i<o||a<s;)i<o&&a<s&&e[i]===t[a]?(l.push([0,e[i]]),++i,++a):o-n>s-r?(l.push([2,e[i]]),++i):(l.push([1,t[a]]),++a)}else{i(n,c.start,r,c.start-c.diag,l);for(let t=c.start;t<c.end;++t)l.push([0,e[t]]);i(c.end,o,c.end-c.diag,s,l)}},s=(n,o,r,i)=>{let s=n;for(;s-o<i&&s<r&&e[s]===t[s-o];)++s;return((e,t,n)=>({start:e,end:t,diag:n}))(n,s,o)},a=(n,i,a,l)=>{const c=i-n,d=l-a;if(0===c||0===d)return null;const u=c-d,h=d+c,m=(h%2==0?h:h+1)/2;let p,f,g,v,b;for(o[1+m]=n,r[1+m]=i+1,p=0;p<=m;++p){for(f=-p;f<=p;f+=2){for(g=f+m,f===-p||f!==p&&o[g-1]<o[g+1]?o[g]=o[g+1]:o[g]=o[g-1]+1,v=o[g],b=v-n+a-f;v<i&&b<l&&e[v]===t[b];)o[g]=++v,++b;if(u%2!=0&&u-p<=f&&f<=u+p&&r[g-u]<=o[g])return s(r[g-u],f+n-a,i,l)}for(f=u-p;f<=u+p;f+=2){for(g=f+m-u,f===u-p||f!==u+p&&r[g+1]<=r[g-1]?r[g]=r[g+1]-1:r[g]=r[g-1],v=r[g]-1,b=v-n+a-f;v>=n&&b>=a&&e[v]===t[b];)r[g]=v--,b--;if(u%2==0&&-p<=f&&f<=p&&r[g]<=o[g+u])return s(r[g],f+n-a,i,l)}}return null},l=[];return i(0,e.length,0,t.length,l),l})(Z(he(t.childNodes),jx),e),t),t),Ox=Le((()=>document.implementation.createHTMLDocument("undo"))),Ax=e=>{const t=(n=e.getBody(),K(Z(he(n.childNodes),jx),(e=>e.length>0)));var n;const o=oe(t,(t=>{const n=ff(e.serializer,t);return n.length>0?[n]:[]})),r=o.join("");return(e=>-1!==e.indexOf("</iframe>"))(r)?(e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}))(o):(e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}))(r)},Tx=(e,t,n)=>{const o=n?t.beforeBookmark:t.bookmark;"fragmented"===t.type?Ex(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!_(o)||!Du(o)||!o.isFakeCaret}),o&&(e.selection.moveToBookmark(o),e.selection.scrollIntoView())},Dx=e=>"fragmented"===e.type?e.fragments.join(""):e.content,Mx=e=>{const t=vn.fromTag("body",Ox());return So(t,Dx(e)),G(Lo(t,"*[data-mce-bogus]"),wo),_o(t)},Px=(e,t)=>!(!e||!t)&&(!!((e,t)=>Dx(e)===Dx(t))(e,t)||((e,t)=>Mx(e)===Mx(t))(e,t)),Rx=e=>0===e.get(),Nx=(e,t,n)=>{Rx(n)&&(e.typing=t)},Lx=(e,t)=>{e.typing&&(Nx(e,!1,t),e.add())},Ix=e=>({init:{bindEvents:k},undoManager:{beforeChange:(t,n)=>((e,t,n)=>{Rx(t)&&n.set(dl(e.selection))})(e,t,n),add:(t,n,o,r,i,s)=>((e,t,n,o,r,i,s)=>{const a=Ax(e),l=Rt.extend(i||{},a);if(!Rx(o)||e.removed)return null;const c=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:l,lastLevel:c,originalEvent:s}).isDefaultPrevented())return null;if(c&&Px(c,l))return null;t.data[n.get()]&&r.get().each((e=>{t.data[n.get()].beforeBookmark=e}));const d=Oc(e);if(d&&t.data.length>d){for(let e=0;e<t.data.length-1;e++)t.data[e]=t.data[e+1];t.data.length--,n.set(t.data.length)}l.bookmark=dl(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(l),n.set(t.data.length-1);const u={level:l,lastLevel:c,originalEvent:s};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",u),e.dispatch("change",u)):e.dispatch("AddUndo",u),l})(e,t,n,o,r,i,s),undo:(t,n,o)=>((e,t,n,o)=>{let r;return t.typing&&(t.add(),t.typing=!1,Nx(t,!1,n)),o.get()>0&&(o.set(o.get()-1),r=t.data[o.get()],Tx(e,r,!0),e.setDirty(!0),e.dispatch("Undo",{level:r})),r})(e,t,n,o),redo:(t,n)=>((e,t,n)=>{let o;return t.get()<n.length-1&&(t.set(t.get()+1),o=n[t.get()],Tx(e,o,!1),e.setDirty(!0),e.dispatch("Redo",{level:o})),o})(e,t,n),clear:(t,n)=>((e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")})(e,t,n),reset:e=>(e=>{e.clear(),e.add()})(e),hasUndo:(t,n)=>((e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!Px(Ax(e),t.data[0]))(e,t,n),hasRedo:(e,t)=>((e,t)=>t.get()<e.data.length-1&&!e.typing)(e,t),transact:(e,t,n)=>((e,t,n)=>(Lx(e,t),e.beforeChange(),e.ignore(n),e.add()))(e,t,n),ignore:(e,t)=>((e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}})(e,t),extra:(t,n,o,r)=>((e,t,n,o,r)=>{if(t.transact(o)){const o=t.data[n.get()].bookmark,i=t.data[n.get()-1];Tx(e,i,!0),t.transact(r)&&(t.data[n.get()-1].beforeBookmark=o)}})(e,t,n,o,r)},formatter:{match:(t,n,o,r)=>mb(e,t,n,o,r),matchAll:(t,n)=>((e,t,n)=>{const o=[],r={},i=e.selection.getStart();return e.dom.getParent(i,(i=>{for(let s=0;s<t.length;s++){const a=t[s];!r[a]&&hb(e,i,a,n)&&(r[a]=!0,o.push(a))}}),e.dom.getRoot()),o})(e,t,n),matchNode:(t,n,o,r)=>hb(e,t,n,o,r),canApply:t=>((e,t)=>{const n=e.formatter.get(t),o=e.dom;if(n){const t=e.selection.getStart(),r=Oh(o,t);for(let e=n.length-1;e>=0;e--){const t=n[e];if(!Mh(t))return!0;for(let e=r.length-1;e>=0;e--)if(o.is(r[e],t.selector))return!0}}return!1})(e,t),closest:t=>pb(e,t),apply:(t,n,o)=>fy(e,t,n,o),remove:(t,n,o,r)=>dy(e,t,n,o,r),toggle:(t,n,o)=>((e,t,n,o)=>{const r=e.formatter.get(t);r&&(!mb(e,t,n,o)||"toggle"in r[0]&&!r[0].toggle?fy(e,t,n,o):dy(e,t,n,o))})(e,t,n,o),formatChanged:(t,n,o,r,i)=>xy(e,t,n,o,r,i)},editor:{getContent:t=>((e,t)=>F.from(e.getBody()).fold(A("tree"===t.format?new hf("body",11):""),(n=>wf(e,t,n))))(e,t),setContent:(t,n)=>ob(e,t,n),insertContent:(t,n)=>eb(e,t,n),addVisual:t=>((e,t)=>{const n=e.dom,o=_(t)?t:e.getBody();G(n.select("table,a",o),(t=>{switch(t.nodeName){case"TABLE":const o=Lc(e),r=n.getAttrib(t,"border");r&&"0"!==r||!e.hasVisual?n.removeClass(t,o):n.addClass(t,o);break;case"A":if(!n.getAttrib(t,"href")){const o=n.getAttrib(t,"name")||t.id,r=Ic(e);o&&e.hasVisual?n.addClass(t,r):n.removeClass(t,r)}}})),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})})(e,t)},selection:{getContent:(t,n)=>((e,t,n={})=>{const o=((e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}))(n,t);return tx(e,o).fold(T,(t=>{const n=Cx(e,t);return nx(e,n,t)}))})(e,t,n)},autocompleter:{addDecoration:t=>sf(e,t),removeDecoration:()=>((e,t)=>af(t).each((t=>{const n=e.selection.getBookmark();wo(t),e.selection.moveToBookmark(n)})))(e,vn.fromDom(e.getBody()))},raw:{getModel:()=>F.none()}}),Bx=e=>je(e.plugins,"rtc"),Fx=e=>{const t=e;return(e=>Ce(e.plugins,"rtc").bind((e=>F.from(e.setup))))(e).fold((()=>(t.rtcInstance=Ix(e),F.none())),(e=>(t.rtcInstance=(()=>{const e=A(null),t=A("");return{init:{bindEvents:k},undoManager:{beforeChange:k,add:e,undo:e,redo:e,clear:k,reset:k,hasUndo:I,hasRedo:I,transact:e,ignore:k,extra:k},formatter:{match:I,matchAll:A([]),matchNode:A(void 0),canApply:I,closest:t,apply:k,remove:k,toggle:k,formatChanged:A({unbind:k})},editor:{getContent:t,setContent:A({content:"",html:""}),insertContent:A(""),addVisual:k},selection:{getContent:t},autocompleter:{addDecoration:k,removeDecoration:k},raw:{getModel:A(F.none())}}})(),F.some((()=>e().then((e=>(t.rtcInstance=(e=>{const t=e=>f(e)?e:{},{init:n,undoManager:o,formatter:r,editor:i,selection:s,autocompleter:a,raw:l}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:o.beforeChange,add:o.add,undo:o.undo,redo:o.redo,clear:o.clear,reset:o.reset,hasUndo:o.hasUndo,hasRedo:o.hasRedo,transact:(e,t,n)=>o.transact(n),ignore:(e,t)=>o.ignore(t),extra:(e,t,n,r)=>o.extra(n,r)},formatter:{match:(e,n,o,i)=>r.match(e,t(n),i),matchAll:r.matchAll,matchNode:r.matchNode,canApply:e=>r.canApply(e),closest:e=>r.closest(e),apply:(e,n,o)=>r.apply(e,t(n)),remove:(e,n,o,i)=>r.remove(e,t(n)),toggle:(e,n,o)=>r.toggle(e,t(n)),formatChanged:(e,t,n,o,i)=>r.formatChanged(t,n,o,i)},editor:{getContent:e=>i.getContent(e),setContent:(e,t)=>({content:i.setContent(e,t),html:""}),insertContent:(e,t)=>(i.insertContent(e),""),addVisual:i.addVisual},selection:{getContent:(e,t)=>s.getContent(t)},autocompleter:{addDecoration:a.addDecoration,removeDecoration:a.removeDecoration},raw:{getModel:()=>F.some(l.getRawModel())}}})(e),e.rtc.isRemote))))))))},Hx=e=>e.rtcInstance?e.rtcInstance:Ix(e),Vx=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},zx=e=>Vx(e).init.bindEvents(),Ux=(e,t={})=>((e,t,n)=>Vx(e).selection.getContent(t,n))(e,t.format?t.format:"html",t),Wx=e=>0===e.dom.length?(yo(e),F.none()):F.some(e),qx=(e,t,n,o)=>{e.bind((e=>((o?Cg:Sg)(e.dom,o?e.dom.length:0),t.filter(Gt).map((t=>((e,t,n,o)=>{const r=e.dom,i=t.dom,s=o?r.length:i.length;o?(jg(r,i,!1,!o),n.setStart(i,s)):(jg(i,r,!1,!o),n.setEnd(i,s))})(e,t,n,o)))))).orThunk((()=>{const e=((e,t)=>e.filter((e=>im.isBookmarkNode(e.dom))).bind(t?Tn:An))(t,o).or(t).filter(Gt);return e.map((e=>((e,t)=>{kn(e).each((n=>{const o=e.dom;t&&mg(n,za(o,0))?Sg(o,0):!t&&pg(n,za(o,o.length))&&Cg(o,o.length)}))})(e,o)))}))},Zx=(e,t,n={})=>{const o=((e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}))(n,t);ox(e,o).each((t=>{const n=((e,t)=>{if("raw"!==t.format){const n=e.selection.getRng(),o=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),r=o?{context:o.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,{forced_root_block:!1,...r,...t});return Sf({validate:!1},e.schema).serialize(i)}return t.content})(e,t),o=e.selection.getRng();((e,t)=>{const n=F.from(t.firstChild).map(vn.fromDom),o=F.from(t.lastChild).map(vn.fromDom);e.deleteContents(),e.insertNode(t);const r=n.bind(An).filter(Gt).bind(Wx),i=o.bind(Tn).filter(Gt).bind(Wx);qx(r,n,e,!0),qx(i,o,e,!1),e.collapse(!1)})(o,o.createContextualFragment(n)),e.selection.setRng(o),vp(e,o),rx(e,n,t)}))},Gx=(e,t,n)=>{if(je(e,t)){const o=K(e[t],(e=>e!==n));0===o.length?delete e[t]:e[t]=o}};var $x=(e,t)=>{let n,o;const r=(t,n)=>ee(n,(n=>e.is(n,t))),i=t=>e.getParents(t,void 0,e.getRoot());return{selectorChangedWithUnbind:(e,s)=>(n||(n={},o={},t.on("NodeChange",(e=>{const t=e.element,s=i(t),a={};ge(n,((e,t)=>{r(t,s).each((n=>{o[t]||(G(e,(e=>{e(!0,{node:n,selector:t,parents:s})})),o[t]=e),a[t]=e}))})),ge(o,((e,n)=>{a[n]||(delete o[n],G(e,(e=>{e(!1,{node:t,selector:n,parents:s})})))}))}))),n[e]||(n[e]=[]),n[e].push(s),r(e,i(t.selection.getStart())).each((()=>{o[e]=n[e]})),{unbind:()=>{Gx(n,e,s),Gx(o,e,s)}})}};const Yx=e=>!(!e||!e.ownerDocument)&&_n(vn.fromDom(e.ownerDocument),vn.fromDom(e)),Kx=(e,t,n,o)=>{let r,i;const{selectorChangedWithUnbind:s}=$x(e,o),a=(e,t)=>Zx(o,e,t),l=e=>{const t=d();t.collapse(!!e),u(t)},c=()=>t.getSelection?t.getSelection():t.document.selection,d=()=>{let n;const s=(e,t,n)=>{try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}},a=t.document;if(_(o.bookmark)&&!Wp(o)){const e=Ap(o);if(e.isSome())return e.map((e=>Qp(o,[e])[0])).getOr(a.createRange())}try{const e=c();e&&!Ho(e.anchorNode)&&(n=e.rangeCount>0?e.getRangeAt(0):a.createRange(),n=Qp(o,[n])[0])}catch(e){}if(n||(n=a.createRange()),er(n.startContainer)&&n.collapsed){const t=e.getRoot();n.setStart(t,0),n.setEnd(t,0)}return r&&i&&(0===s(n.START_TO_START,n,r)&&0===s(n.END_TO_END,n,r)?n=i:(r=null,i=null)),n},u=(e,t)=>{if(!(e=>!!e&&Yx(e.startContainer)&&Yx(e.endContainer))(e))return;const n=c();if(e=o.dispatch("SetSelectionRange",{range:e,forward:t}).range,n){i=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),r=n.rangeCount>0?n.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&(null==n?void 0:n.setBaseAndExtent)&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()){const t=e.startContainer.childNodes[e.startOffset];t&&"IMG"===t.nodeName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(t,0,t,1))}o.dispatch("AfterSetSelectionRange",{range:e,forward:t})},h=()=>{const t=c(),n=null==t?void 0:t.anchorNode,o=null==t?void 0:t.focusNode;if(!t||!n||!o||Ho(n)||Ho(o))return!0;const r=e.createRng(),i=e.createRng();try{r.setStart(n,t.anchorOffset),r.collapse(!0),i.setStart(o,t.focusOffset),i.collapse(!0)}catch(e){return!0}return r.compareBoundaryPoints(r.START_TO_START,i)<=0},m={dom:e,win:t,serializer:n,editor:o,expand:(t={type:"word"})=>u(Ym(e).expand(d(),t)),collapse:l,setCursorLocation:(t,n)=>{const r=e.createRng();_(t)&&_(n)?(r.setStart(t,n),r.setEnd(t,n),u(r),l(!1)):(ch(e,r,o.getBody(),!0),u(r))},getContent:e=>Ux(o,e),setContent:a,getBookmark:(e,t)=>p.getBookmark(e,t),moveToBookmark:e=>p.moveToBookmark(e),select:(t,n)=>(((e,t,n)=>F.from(t).bind((t=>F.from(t.parentNode).map((o=>{const r=e.nodeIndex(t),i=e.createRng();return i.setStart(o,r),i.setEnd(o,r+1),n&&(ch(e,i,t,!0),ch(e,i,t,!1)),i})))))(e,t,n).each(u),t),isCollapsed:()=>{const e=d(),t=c();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isEditable:()=>{const t=d(),n=o.getBody().querySelectorAll('[data-mce-selected="1"]');return n.length>0?re(n,(t=>e.isEditable(t.parentElement))):t.startContainer===t.endContainer?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer)},isForward:h,setNode:t=>(a(e.getOuterHTML(t)),t),getNode:()=>((e,t)=>{if(!t)return e;let n=t.startContainer,o=t.endContainer;const r=t.startOffset,i=t.endOffset;let s=t.commonAncestorContainer;t.collapsed||(n===o&&i-r<2&&n.hasChildNodes()&&(s=n.childNodes[r]),Ko(n)&&Ko(o)&&(n=n.length===r?Xp(n.nextSibling,!0):n.parentNode,o=0===i?Xp(o.previousSibling,!1):o.parentNode,n&&n===o&&(s=n)));const a=Ko(s)?s.parentNode:s;return Vo(a)?a:e})(o.getBody(),d()),getSel:c,setRng:u,getRng:d,getStart:e=>Yp(o.getBody(),d(),e),getEnd:e=>Kp(o.getBody(),d(),e),getSelectedBlocks:(t,n)=>((e,t,n,o)=>{const r=[],i=e.getRoot(),s=e.getParent(n||Yp(i,t,t.collapsed),e.isBlock),a=e.getParent(o||Kp(i,t,t.collapsed),e.isBlock);if(s&&s!==i&&r.push(s),s&&a&&s!==a){let t;const n=new Bo(s,i);for(;(t=n.next())&&t!==a;)e.isBlock(t)&&r.push(t)}return a&&s!==a&&a!==i&&r.push(a),r})(e,d(),t,n),normalize:()=>{const t=d(),n=c();if(!(th(n).length>1)&&dh(o)){const n=Zm(e,t);return n.each((e=>{u(e,h())})),n.getOr(t)}return t},selectorChanged:(e,t)=>(s(e,t),m),selectorChangedWithUnbind:s,getScrollContainer:()=>{let t,n=e.getRoot();for(;n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:(e,t)=>{_(e)?((e,t,n)=>{(e.inline?pp:gp)(e,t,n)})(o,e,t):vp(o,d(),t)},placeCaretAt:(e,t)=>u(Bm(e,t,o.getDoc())),getBoundingClientRect:()=>{const e=d();return e.collapsed?za.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:()=>{t=r=i=null,f.destroy()}},p=im(m),f=bm(m,o);return m.bookmarkManager=p,m.controlSelection=f,m},Xx=(e,t,n)=>((e,t)=>_(e)&&e.hasEventListeners("PreProcess")&&!t.no_events)(e,n)?((e,t,n)=>{let o;const r=e.dom;let i=t.cloneNode(!0);const s=document.implementation;if(s.createHTMLDocument){const e=s.createHTMLDocument("");Rt.each("BODY"===i.nodeName?i.childNodes:[i],(t=>{e.body.appendChild(e.importNode(t,!0))})),i="BODY"!==i.nodeName?e.body.firstChild:e.body,o=r.doc,r.doc=e}return((e,t)=>{e.dispatch("PreProcess",t)})(e,{...n,node:i}),o&&(r.doc=o),i})(e,t,n):t,Qx=(e,t,n)=>{-1===Rt.inArray(t,n)&&(e.addAttributeFilter(n,((e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)})),t.push(n))},Jx=(e,t,n,o,r)=>{const i=((e,t,n)=>Sf(e,t).serialize(n))(t,n,o);return((e,t,n)=>{if(!t.no_events&&e){const o=((e,t)=>e.dispatch("PostProcess",t))(e,{...t,content:n});return o.content}return n})(e,r,i)},e_=(e,t)=>{const n=["data-mce-selected"],o=t&&t.dom?t.dom:Rs.DOM,r=t&&t.schema?t.schema:ms(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs;const i=Jw(e,r);((e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",((e,t)=>{let n=e.length;for(;n--;){const o=e[n];o.attr("tabindex",o.attr("data-mce-tabindex")),o.attr(t,null)}})),e.addAttributeFilter("src,href,style",((e,o)=>{const r="data-mce-"+o,i=t.url_converter,s=t.url_converter_scope;let a=e.length;for(;a--;){const t=e[a];let l=t.attr(r);void 0!==l?(t.attr(o,l.length>0?l:null),t.attr(r,null)):(l=t.attr(o),"style"===o?l=n.serializeStyle(n.parseStyle(l),t.name):i&&(l=i.call(s,l,o,t.name)),t.attr(o,l.length>0?l:null))}})),e.addAttributeFilter("class",(e=>{let t=e.length;for(;t--;){const n=e[t];let o=n.attr("class");o&&(o=o.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",o.length>0?o:null))}})),e.addAttributeFilter("data-mce-type",((e,t,n)=>{let o=e.length;for(;o--;){const t=e[o];if("bookmark"===t.attr("data-mce-type")&&!n.cleanup){const e=F.from(t.firstChild).exists((e=>{var t;return!Rr(null!==(t=e.value)&&void 0!==t?t:"")}));e?t.unwrap():t.remove()}}})),e.addNodeFilter("noscript",(e=>{var t;let n=e.length;for(;n--;){const o=e[n].firstChild;o&&(o.value=es.decode(null!==(t=o.value)&&void 0!==t?t:""))}})),e.addNodeFilter("script,style",((e,n)=>{var o;const r=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let i=e.length;for(;i--;){const s=e[i],a=s.firstChild,l=null!==(o=null==a?void 0:a.value)&&void 0!==o?o:"";if("script"===n){const e=s.attr("type");e&&s.attr("type","mce-no/type"===e?null:e.replace(/^mce\-/,"")),"xhtml"===t.element_format&&a&&l.length>0&&(a.value="// <![CDATA[\n"+r(l)+"\n// ]]>")}else"xhtml"===t.element_format&&a&&l.length>0&&(a.value="\x3c!--\n"+r(l)+"\n--\x3e")}})),e.addNodeFilter("#comment",(e=>{let o=e.length;for(;o--;){const r=e[o],i=r.value;t.preserve_cdata&&0===(null==i?void 0:i.indexOf("[CDATA["))?(r.name="#cdata",r.type=4,r.value=n.decode(i.replace(/^\[CDATA\[|\]\]$/g,""))):0===(null==i?void 0:i.indexOf("mce:protected "))&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(i).substr(14))}})),e.addNodeFilter("xml:namespace,input",((e,t)=>{let n=e.length;for(;n--;){const o=e[n];7===o.type?o.remove():1===o.type&&("input"!==t||o.attr("type")||o.attr("type","text"))}})),e.addAttributeFilter("data-mce-type",(t=>{G(t,(t=>{"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))})),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",((e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)}))})(i,e,o);return{schema:r,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:(n,s={})=>{const a={format:"html",...s},l=Xx(t,n,a),c=((e,t,n)=>{const o=Nr(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||kr(vn.fromDom(t))?o:Rt.trim(o)})(o,l,a),d=((e,t,n)=>{const o=n.selection?{forced_root_block:!1,...n}:n,r=e.parse(t,o);return(e=>{const t=e=>"br"===(null==e?void 0:e.name),n=e.lastChild;if(t(n)){const e=n.prev;t(e)&&(n.remove(),e.remove())}})(r),r})(i,c,a);return"tree"===a.format?d:Jx(t,e,r,d,a)},addRules:r.addValidElements,setRules:r.setValidElements,addTempAttr:M(Qx,i,n),getTempAttrs:A(n),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters,removeNodeFilter:i.removeNodeFilter,removeAttributeFilter:i.removeAttributeFilter}},t_=(e,t)=>{const n=e_(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},n_=(e,t={})=>{const n=((e,t)=>({...e,format:t,get:!0,getInner:!0}))(t,t.format?t.format:"html");return tx(e,n).fold(T,(t=>{const n=((e,t)=>Hx(e).editor.getContent(t))(e,t);return nx(e,n,t)}))},o_=(e,t,n={})=>{const o=((e,t)=>({format:"html",...e,set:!0,content:t}))(n,t);return ox(e,o).map((t=>{const n=((e,t,n)=>Hx(e).editor.setContent(t,n))(e,t.content,t);return rx(e,n.html,t),n.content})).getOr(t)},r_="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),i_="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),s_="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),a_=[{name:"template",replacedWith:"Advanced Template"}],l_=(e,t)=>{const n=K(t,(t=>je(e,t)));return le(n)},c_=e=>{const t=l_(e,r_),n=e.forced_root_block;return!1!==n&&""!==n||t.push("forced_root_block (false only)"),le(t)},d_=e=>l_(e,i_),u_=(e,t)=>{const n=Rt.makeMap(e.plugins," "),o=K(t,(e=>je(n,e)));return le(o)},h_=e=>u_(e,s_),m_=e=>u_(e,a_.map((e=>e.name))),p_=e=>ee(a_,(t=>t.name===e)).fold((()=>e),(t=>`${e}, replaced by ${t.replacedWith}`)),f_=(e,t)=>{((e,t)=>{const n=c_(e),o=h_(t),r=o.length>0,i=n.length>0,s="mobile"===t.theme;if(r||i||s){const e="\n- ",t=s?`\n\nThemes:${e}mobile`:"",a=r?`\n\nPlugins:${e}${o.join(e)}`:"",l=i?`\n\nOptions:${e}${n.join(e)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+t+a+l)}})(e,t),((e,t)=>{const n=d_(e),o=m_(t),r=o.length>0,i=n.length>0;if(r||i){const e="\n- ",t=r?`\n\nPlugins:${e}${o.map(p_).join(e)}`:"",s=i?`\n\nOptions:${e}${n.join(e)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+t+s)}})(e,t)},g_=Rs.DOM,v_=e=>F.from(e).each((e=>e.destroy())),b_=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,o=e.getBody(),r=e.getElement();o&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&_(null==r?void 0:r.nextSibling)&&g_.remove(r.nextSibling),(e=>{e.dispatch("remove")})(e),e.editorManager.remove(e),!e.inline&&o&&(e=>{g_.setStyle(e.id,"display",e.orgDisplay)})(e),(e=>{e.dispatch("detach")})(e),g_.remove(e.getContainer()),v_(t),v_(n),e.destroy()}},y_=(e,t)=>{const{selection:n,dom:o}=e;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),v_(n),v_(o)),(e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),g_.unbind(t,"submit reset",e.formEventDelegate))})(e),(e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const e=n.dom;t.selection=n.win=n.dom=e.doc=null}})(e),e.destroyed=!0):e.remove())},w_=(()=>{const e={};return{add:(t,n)=>{e[t]=n},get:t=>e[t]?e[t]:{icons:{}},has:t=>je(e,t)}})(),x_=zs.ModelManager,__=(e,t)=>t.dom[e],S_=(e,t)=>parseInt(so(t,e),10),C_=M(__,"clientWidth"),j_=M(__,"clientHeight"),k_=M(S_,"margin-top"),E_=M(S_,"margin-left"),O_=(e,t,n)=>{const o=vn.fromDom(e.getBody()),r=e.inline?o:(i=o,vn.fromDom(Cn(i).dom.documentElement));var i;const s=((e,t,n,o)=>{const r=(e=>e.dom.getBoundingClientRect())(t);return{x:n-(e?r.left+t.dom.clientLeft+E_(t):0),y:o-(e?r.top+t.dom.clientTop+k_(t):0)}})(e.inline,r,t,n);return((e,t,n)=>{const o=C_(e),r=j_(e);return t>=0&&n>=0&&t<=o&&n<=r})(r,s.x,s.y)},A_=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return(n=t,F.from(n).map(vn.fromDom)).map(Zn).getOr(!1);var n};const T_=e=>{const t=[],n=()=>{const t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}})()},o=()=>F.from(t[0]),r=()=>{G(t,(e=>{e.reposition()}))},i=e=>{te(t,(t=>t===e)).each((e=>{t.splice(e,1)}))},s=(s,a=!0)=>e.removed||!A_(e)?{}:(a&&e.dispatch("BeforeOpenNotification",{notification:s}),ee(t,(e=>{return t=n().getArgs(e),o=s,!(t.type!==o.type||t.text!==o.text||t.progressBar||t.timeout||o.progressBar||o.timeout);var t,o})).getOrThunk((()=>{e.editorManager.setActive(e);const a=n().open(s,(()=>{i(a),r(),o().fold((()=>e.focus()),(e=>bp(vn.fromDom(e.getEl()))))}));return(e=>{t.push(e)})(a),r(),e.dispatch("OpenNotification",{notification:{...a}}),a}))),a=A(t);return(e=>{e.on("SkinLoaded",(()=>{const t=hc(e);t&&s({text:t,type:"warning",timeout:0},!1),r()})),e.on("show ResizeEditor ResizeWindow NodeChange",(()=>{requestAnimationFrame(r)})),e.on("remove",(()=>{G(t.slice(),(e=>{n().close(e)}))}))})(e),{open:s,close:()=>{o().each((e=>{n().close(e),i(e),r()}))},getNotifications:a}},D_=zs.PluginManager,M_=zs.ThemeManager;const P_=e=>{let t=[];const n=()=>{const t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}})()},o=(e,t)=>(...n)=>t?t.apply(e,n):void 0,r=n=>{t.push(n),(t=>{e.dispatch("OpenWindow",{dialog:t})})(n)},i=n=>{(t=>{e.dispatch("CloseWindow",{dialog:t})})(n),t=K(t,(e=>e!==n)),0===t.length&&e.focus()},s=t=>{e.editorManager.setActive(e),Op(e),e.ui.show();const n=t();return r(n),n};return e.on("remove",(()=>{G(t,(e=>{n().close(e)}))})),{open:(e,t)=>s((()=>n().open(e,t,i))),openUrl:e=>s((()=>n().openUrl(e,i))),alert:(e,t,r)=>{const i=n();i.alert(e,o(r||i,t))},confirm:(e,t,r)=>{const i=n();i.confirm(e,o(r||i,t))},close:()=>{F.from(t[t.length-1]).each((e=>{n().close(e),i(e)}))}}},R_=(e,t)=>{e.notificationManager.open({type:"error",text:t})},N_=(e,t)=>{e._skinLoaded?R_(e,t):e.on("SkinLoaded",(()=>{R_(e,t)}))},L_=(e,t,n)=>{am(e,t,{message:n}),console.error(n)},I_=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,B_=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},F_=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",o=`content${e.editorManager.suffix}.css`;return Z(t,(t=>(e=>/^[a-z0-9\-]+$/i.test(e))(t)&&!e.inline?`${n}/${t}/${o}`:e.documentBaseURI.toAbsolute(t)))},H_=e=>{e.contentCSS=e.contentCSS.concat((e=>F_(e,oc(e)))(e),(e=>F_(e,ic(e)))(e))},V_=(e,t)=>{const n={};return{findAll:(o,r=B)=>{const i=K((e=>e?he(e.getElementsByTagName("img")):[])(o),(t=>{const n=t.src;return!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===Tt.transparentSrc)&&(We(n,"blob:")?!e.isUploaded(n)&&r(t):!!We(n,"data:")&&r(t))))})),s=Z(i,(e=>{const o=e.src;if(je(n,o))return n[o].then((t=>p(t)?t:{image:e,blobInfo:t.blobInfo}));{const r=((e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(We(t,"blob:")){const o=e.getByUri(t);return _(o)?Promise.resolve(o):Oy(t).then((t=>Ay(t).then((o=>Dy(o,!1,(n=>F.some(My(e,t,n)))).getOrThunk(n)))))}return We(t,"data:")?Py(e,t).fold(n,(e=>Promise.resolve(e))):Promise.reject("Unknown image data format")})(t,o).then((t=>(delete n[o],{image:e,blobInfo:t}))).catch((e=>(delete n[o],e)));return n[o]=r,r}}));return Promise.all(s)}}},z_=()=>{let e={};const t=(e,t)=>({status:e,resultUri:t}),n=t=>t in e;return{hasBlobUri:n,getResultUri:t=>{const n=e[t];return n?n.resultUri:null},isPending:t=>!!n(t)&&1===e[t].status,isUploaded:t=>!!n(t)&&2===e[t].status,markPending:n=>{e[n]=t(1,null)},markUploaded:(n,o)=>{e[n]=t(2,o)},removeFailed:t=>{delete e[t]},destroy:()=>{e={}}}};let U_=0;const W_=e=>e+U_+++(()=>{const e=()=>Math.round(4294967295*Math.random()).toString(36);return"s"+(new Date).getTime().toString(36)+e()+e()+e()})(),q_=(e,t)=>{const n={},o=(e,n)=>new Promise(((o,r)=>{const i=new XMLHttpRequest;i.open("POST",t.url),i.withCredentials=t.credentials,i.upload.onprogress=e=>{n(e.loaded/e.total*100)},i.onerror=()=>{r("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=()=>{if(i.status<200||i.status>=300)return void r("HTTP Error: "+i.status);const e=JSON.parse(i.responseText);var n,s;e&&p(e.location)?o((n=t.basePath,s=e.location,n?n.replace(/\/$/,"")+"/"+s.replace(/^\//,""):s)):r("Invalid JSON: "+i.responseText)};const s=new FormData;s.append("file",e.blob(),e.filename()),i.send(s)})),r=S(t.handler)?t.handler:o,i=(e,t)=>({url:t,blobInfo:e,status:!0}),s=(e,t)=>({url:"",blobInfo:e,status:!1,error:t}),a=(e,t)=>{Rt.each(n[e],(e=>{e(t)})),delete n[e]},l=(t,o)=>(t=Rt.grep(t,(t=>!e.isUploaded(t.blobUri()))),Promise.all(Rt.map(t,(t=>e.isPending(t.blobUri())?(e=>{const t=e.blobUri();return new Promise((e=>{n[t]=n[t]||[],n[t].push(e)}))})(t):((t,n,o)=>(e.markPending(t.blobUri()),new Promise((r=>{let l,c;try{const d=()=>{l&&(l.close(),c=k)},u=n=>{d(),e.markUploaded(t.blobUri(),n),a(t.blobUri(),i(t,n)),r(i(t,n))},h=n=>{d(),e.removeFailed(t.blobUri()),a(t.blobUri(),s(t,n)),r(s(t,n))};c=e=>{e<0||e>100||F.from(l).orThunk((()=>F.from(o).map(N))).each((t=>{l=t,t.progressBar.value(e)}))},n(t,c).then(u,(e=>{h(p(e)?{message:e}:e)}))}catch(e){r(s(t,e))}}))))(t,r,o)))));return{upload:(e,n)=>t.url||r!==o?l(e,n):new Promise((e=>{e([])}))}},Z_=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),G_=(e,t)=>q_(t,{url:Gl(e),basePath:$l(e),credentials:Yl(e),handler:Kl(e)}),$_=e=>{const t=(()=>{let e=[];const t=e=>{if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const t=e.id||W_("blobid"),n=e.name||t,o=e.blob;return{id:A(t),name:A(n),filename:A(e.filename||n+"."+(r=o.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[r.toLowerCase()]||"dat")),blob:A(o),base64:A(e.base64),blobUri:A(e.blobUri||URL.createObjectURL(o)),uri:A(e.uri)};var r},n=t=>ee(e,t).getOrUndefined(),o=e=>n((t=>t.id()===e));return{create:(e,n,o,r,i)=>{if(p(e))return t({id:e,name:r,filename:i,blob:n,base64:o});if(f(e))return t(e);throw new Error("Unknown input type")},add:t=>{o(t.id())||e.push(t)},get:o,getByUri:e=>n((t=>t.blobUri()===e)),getByData:(e,t)=>n((n=>n.base64()===e&&n.blob().type===t)),findFirst:n,removeByUri:t=>{e=K(e,(e=>e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)))},destroy:()=>{G(e,(e=>{URL.revokeObjectURL(e.blobUri())})),e=[]}}})();let n,o;const r=z_(),i=[],s=t=>n=>e.selection?t(n):[],a=(e,t,n)=>{let o=0;do{o=e.indexOf(t,o),-1!==o&&(e=e.substring(0,o)+n+e.substr(o+t.length),o+=n.length-t.length+1)}while(-1!==o);return e},l=(e,t,n)=>{const o=`src="${n}"${n===Tt.transparentSrc?' data-mce-placeholder="1"':""}`;return e=a(e,`src="${t}"`,o),e=a(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},c=(t,n)=>{G(e.undoManager.data,(e=>{"fragmented"===e.type?e.fragments=Z(e.fragments,(e=>l(e,t,n))):e.content=l(e.content,t,n)}))},d=()=>(n||(n=G_(e,r)),m().then(s((o=>{const r=Z(o,(e=>e.blobInfo));return n.upload(r,Z_(e)).then(s((n=>{const r=[];let i=!1;const s=Z(n,((n,s)=>{const{blobInfo:a,image:l}=o[s];let d=!1;return n.status&&Wl(e)?(n.url&&!Ue(l.src,n.url)&&(i=!0),t.removeByUri(l.src),Bx(e)||((t,n)=>{const o=e.convertURL(n,"src");var r;c(t.src,n),Jt(vn.fromDom(t),{src:Ul(e)?(r=n,r+(-1===r.indexOf("?")?"?":"&")+(new Date).getTime()):n,"data-mce-src":o})})(l,n.url)):n.error&&(n.error.remove&&(c(l.src,Tt.transparentSrc),r.push(l),d=!0),((e,t)=>{N_(e,Vs.translate(["Failed to upload image: {0}",t]))})(e,n.error.message)),{element:l,status:n.status,uploadUri:n.url,blobInfo:a,removed:d}}));return r.length>0&&!Bx(e)?e.undoManager.transact((()=>{G(r,(n=>{e.dom.remove(n),t.removeByUri(n.src)}))})):i&&e.undoManager.dispatchChange(),s})))})))),u=()=>zl(e)?d():Promise.resolve([]),h=e=>re(i,(t=>t(e))),m=()=>(o||(o=V_(r,t)),o.findAll(e.getBody(),h).then(s((t=>{const n=K(t,(t=>p(t)?(N_(e,t),!1):"blob"!==t.uriType));return Bx(e)||G(n,(e=>{c(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")})),n})))),g=n=>n.replace(/src="(blob:[^"]+)"/g,((n,o)=>{const i=r.getResultUri(o);if(i)return'src="'+i+'"';let s=t.getByUri(o);if(s||(s=Q(e.editorManager.get(),((e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(o)),void 0)),s){return'src="data:'+s.blob().type+";base64,"+s.base64()+'"'}return n}));return e.on("SetContent",(()=>{zl(e)?u():m()})),e.on("RawSaveContent",(e=>{e.content=g(e.content)})),e.on("GetContent",(e=>{e.source_view||"raw"===e.format||"tree"===e.format||(e.content=g(e.content))})),e.on("PostRender",(()=>{e.parser.addNodeFilter("img",(e=>{G(e,(e=>{const n=e.attr("src");if(!n||t.getByUri(n))return;const o=r.getResultUri(n);o&&e.attr("src",o)}))}))})),{blobCache:t,addFilter:e=>{i.push(e)},uploadImages:d,uploadImagesAuto:u,scanForImages:m,destroy:()=>{t.destroy(),r.destroy(),o=n=null}}},Y_={remove_similar:!0,inherit:!1},K_={selector:"td,th",...Y_},X_={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...K_},tablecellverticalalign:{styles:{"vertical-align":"%value"},...K_},tablecellbordercolor:{styles:{borderColor:"%value"},...K_},tablecellclass:{classes:["%value"],...K_},tableclass:{selector:"table",classes:["%value"],...Y_},tablecellborderstyle:{styles:{borderStyle:"%value"},...K_},tablecellborderwidth:{styles:{borderWidth:"%value"},...K_}},Q_=A(X_),J_=e=>{const t={},n=(e,o)=>{e&&(p(e)?(v(o)||(o=[o]),G(o,(e=>{w(e.deep)&&(e.deep=!Mh(e)),w(e.split)&&(e.split=!Mh(e)||Ph(e)),w(e.remove)&&Mh(e)&&!Ph(e)&&(e.remove="none"),Mh(e)&&Ph(e)&&(e.mixed=!0,e.block_expand=!0),p(e.classes)&&(e.classes=e.classes.split(/\s+/))})),t[e]=o):ge(e,((e,t)=>{n(t,e)})))};return n((e=>{const t=e.dom,n=e.schema.type,o={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const e={inline:"span",styles:{textDecoration:"line-through"},exact:!0},t={inline:"strike",remove:"all",preserve_attributes:["class","style"]},o={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==n?[o,e,t]:[e,o,t]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(e,t,n)=>Vo(e)&&e.hasAttribute("href"),onformat:(e,n,o)=>{Rt.each(o,((n,o)=>{t.setAttrib(e,o,n)}))}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":e=>{var t;return null!==(t=null==e?void 0:e.customValue)&&void 0!==t?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Rt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(e=>{o[e]={block:e,remove:"all"}})),o})(e)),n(Q_()),n(bc(e)),{get:e=>_(e)?t[e]:t,has:e=>je(t,e),register:n,unregister:e=>(e&&t[e]&&delete t[e],t)}},eS=Rt.each,tS=Rs.DOM,nS=e=>_(e)&&f(e),oS=(e,t)=>{const n=t&&t.schema||ms({}),o=e=>{const t=p(e)?{name:e,classes:[],attrs:{}}:e,n=tS.create(t.name);return((e,t)=>{t.classes.length>0&&tS.addClass(e,t.classes.join(" ")),tS.setAttribs(e,t.attrs)})(n,t),n},r=(e,t,i)=>{let s;const a=t[0],l=nS(a)?a.name:void 0,c=((e,t)=>{const o=n.getElementRule(e.nodeName.toLowerCase()),r=null==o?void 0:o.parentsRequired;return!(!r||!r.length)&&(t&&W(r,t)?t:r[0])})(e,l);if(c)l===c?(s=a,t=t.slice(1)):s=c;else if(a)s=a,t=t.slice(1);else if(!i)return e;const d=s?o(s):tS.create("div");d.appendChild(e),i&&Rt.each(i,(t=>{const n=o(t);d.insertBefore(n,e)}));const u=nS(s)?s.siblings:void 0;return r(d,t,u)},i=tS.create("div");if(e.length>0){const t=e[0],n=o(t),s=nS(t)?t.siblings:void 0;i.appendChild(r(n,e.slice(1),s))}return i},rS=e=>{let t="div";const n={name:t,classes:[],attrs:{},selector:e=Rt.trim(e)};return"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,((e,t,o,r,i)=>{switch(t){case"#":n.attrs.id=o;break;case".":n.classes.push(o);break;case":":-1!==Rt.inArray("checked disabled enabled read-only required".split(" "),o)&&(n.attrs[o]=o)}if("["===r){const e=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);e&&(n.attrs[e[1]]=e[2])}return""}))),n.name=t||"div",n},iS=(e,t)=>{let n="",o=yc(e);if(""===o)return"";const r=e=>p(e)?e.replace(/%(\w+)/g,""):"",i=(t,n)=>tS.getStyle(null!=n?n:e.getBody(),t,!0);if(p(t)){const n=e.formatter.get(t);if(!n)return"";t=n[0]}if("preview"in t){const e=t.preview;if(!1===e)return"";o=e||o}let s,a=t.block||t.inline||"span";const l=(c=t.selector,p(c)?(c=(c=c.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Rt.map(c.split(/(?:>|\s+(?![^\[\]]+\]))/),(e=>{const t=Rt.map(e.split(/(?:~\+|~|\+)/),rS),n=t.pop();return t.length&&(n.siblings=t),n})).reverse()):[]);var c;l.length>0?(l[0].name||(l[0].name=a),a=t.selector,s=oS(l,e)):s=oS([a],e);const d=tS.select(a,s)[0]||s.firstChild;eS(t.styles,((e,t)=>{const n=r(e);n&&tS.setStyle(d,t,n)})),eS(t.attributes,((e,t)=>{const n=r(e);n&&tS.setAttrib(d,t,n)})),eS(t.classes,(e=>{const t=r(e);tS.hasClass(d,t)||tS.addClass(d,t)})),e.dispatch("PreviewFormats"),tS.setStyles(s,{position:"absolute",left:-65535}),e.getBody().appendChild(s);const u=i("fontSize"),h=/px$/.test(u)?parseInt(u,10):0;return eS(o.split(" "),(e=>{let t=i(e,d);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=i(e),"#ffffff"===eh(t).toLowerCase())||"color"===e&&"#000000"===eh(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===h)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*h+"px"}"border"===e&&t&&(n+="padding:0 2px;"),n+=e+":"+t+";"}})),e.dispatch("AfterPreviewFormats"),tS.remove(s),n},sS=e=>{const t=J_(e),n=Is({});return(e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])})(e),jb(e),Bx(e)||((e,t)=>{e.set({}),t.on("NodeChange",(n=>{wy(t,n.element,e.get())})),t.on("FormatApply FormatRemove",(n=>{const o=F.from(n.node).map((e=>mh(e)?e:e.startContainer)).bind((e=>Vo(e)?F.some(e):F.from(e.parentElement))).getOrThunk((()=>vy(t)));wy(t,o,e.get())}))})(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,n,o)=>{((e,t,n,o)=>{Vx(e).formatter.apply(t,n,o)})(e,t,n,o)},remove:(t,n,o,r)=>{((e,t,n,o,r)=>{Vx(e).formatter.remove(t,n,o,r)})(e,t,n,o,r)},toggle:(t,n,o)=>{((e,t,n,o)=>{Vx(e).formatter.toggle(t,n,o)})(e,t,n,o)},match:(t,n,o,r)=>((e,t,n,o,r)=>Vx(e).formatter.match(t,n,o,r))(e,t,n,o,r),closest:t=>((e,t)=>Vx(e).formatter.closest(t))(e,t),matchAll:(t,n)=>((e,t,n)=>Vx(e).formatter.matchAll(t,n))(e,t,n),matchNode:(t,n,o,r)=>((e,t,n,o,r)=>Vx(e).formatter.matchNode(t,n,o,r))(e,t,n,o,r),canApply:t=>((e,t)=>Vx(e).formatter.canApply(t))(e,t),formatChanged:(t,o,r,i)=>((e,t,n,o,r,i)=>Vx(e).formatter.formatChanged(t,n,o,r,i))(e,n,t,o,r,i),getCssText:M(iS,e)}},aS=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},lS=e=>{const t=Ws(),n=Is(0),o=Is(0),r={data:[],typing:!1,beforeChange:()=>{((e,t,n)=>{Vx(e).undoManager.beforeChange(t,n)})(e,n,t)},add:(i,s)=>((e,t,n,o,r,i,s)=>Vx(e).undoManager.add(t,n,o,r,i,s))(e,r,o,n,t,i,s),dispatchChange:()=>{e.setDirty(!0);const t=Ax(e);t.bookmark=dl(e.selection),e.dispatch("change",{level:t,lastLevel:ce(r.data,o.get()).getOrUndefined()})},undo:()=>((e,t,n,o)=>Vx(e).undoManager.undo(t,n,o))(e,r,n,o),redo:()=>((e,t,n)=>Vx(e).undoManager.redo(t,n))(e,o,r.data),clear:()=>{((e,t,n)=>{Vx(e).undoManager.clear(t,n)})(e,r,o)},reset:()=>{((e,t)=>{Vx(e).undoManager.reset(t)})(e,r)},hasUndo:()=>((e,t,n)=>Vx(e).undoManager.hasUndo(t,n))(e,r,o),hasRedo:()=>((e,t,n)=>Vx(e).undoManager.hasRedo(t,n))(e,r,o),transact:t=>((e,t,n,o)=>Vx(e).undoManager.transact(t,n,o))(e,r,n,t),ignore:t=>{((e,t,n)=>{Vx(e).undoManager.ignore(t,n)})(e,n,t)},extra:(t,n)=>{((e,t,n,o,r)=>{Vx(e).undoManager.extra(t,n,o,r)})(e,r,o,t,n)}};return Bx(e)||((e,t,n)=>{const o=Is(!1),r=e=>{Nx(t,!1,n),t.add({},e)};e.on("init",(()=>{t.add()})),e.on("BeforeExecCommand",(e=>{const o=e.command;aS(o)||(Lx(t,n),t.beforeChange())})),e.on("ExecCommand",(e=>{const t=e.command;aS(t)||r(e)})),e.on("ObjectResizeStart cut",(()=>{t.beforeChange()})),e.on("SaveContent ObjectResized blur",r),e.on("dragend",r),e.on("keyup",(n=>{const i=n.keyCode;n.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||n.ctrlKey)&&(r(),e.nodeChanged()),46!==i&&8!==i||e.nodeChanged(),o.get()&&t.typing&&!Px(Ax(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),o.set(!1),e.nodeChanged()))})),e.on("keydown",(e=>{const i=e.keyCode;if(e.isDefaultPrevented())return;if(i>=33&&i<=36||i>=37&&i<=40||45===i)return void(t.typing&&r(e));const s=e.ctrlKey&&!e.altKey||e.metaKey;!(i<16||i>20)||224===i||91===i||t.typing||s||(t.beforeChange(),Nx(t,!0,n),t.add({},e),o.set(!0))})),e.on("mousedown",(e=>{t.typing&&r(e)})),e.on("input",(e=>{var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data||(e=>"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType)(e))&&r(e)})),e.on("AddUndo Undo Redo ClearUndos",(t=>{t.isDefaultPrevented()||e.nodeChanged()}))})(e,r,n),(e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")})(e),r},cS=[9,27,mm.HOME,mm.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,mm.DOWN,mm.UP,mm.LEFT,mm.RIGHT].concat(Tt.browser.isFirefox()?[224]:[]),dS="data-mce-placeholder",uS=e=>"keydown"===e.type||"keyup"===e.type,hS=e=>{const t=e.keyCode;return t===mm.BACKSPACE||t===mm.DELETE},mS=e=>{var t;const n=e.dom,o=Nl(e),r=null!==(t=dc(e))&&void 0!==t?t:"",i=(t,s)=>{if((e=>{if(uS(e)){const t=e.keyCode;return!hS(e)&&(mm.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||W(cS,t))}return!1})(t))return;const a=e.getBody(),l=!(e=>uS(e)&&!(hS(e)||"keyup"===e.type&&229===e.keyCode))(t)&&((e,t,n)=>{if(gi(vn.fromDom(t),!1)){const o=t.firstElementChild;return!o||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&n===o.nodeName.toLowerCase()}return!1})(n,a,o);(""!==n.getAttrib(a,dS)!==l||s)&&(n.setAttrib(a,dS,l?r:null),n.setAttrib(a,"aria-placeholder",l?r:null),((e,t)=>{e.dispatch("PlaceholderToggle",{state:t})})(e,l),e.on(l?"keydown":"keyup",i),e.off(l?"keyup":"keydown",i))};Ke(r)&&e.on("init",(t=>{i(t,!0),e.on("change SetContent ExecCommand",i),e.on("paste",(t=>Dp.setEditorTimeout(e,(()=>i(t)))))}))},pS=(e,t)=>({from:e,to:t}),fS=(e,t)=>{const n=vn.fromDom(e),o=vn.fromDom(t.container());return Gg(n,o).map((e=>((e,t)=>({block:e,position:t}))(e,t)))},gS=(e,t)=>Yn(t,(e=>jr(e)||rr(e.dom)),(t=>xn(t,e))).filter(Zt).getOr(e),vS=(e,t,n)=>{const o=fS(e,za.fromRangeStart(n)),r=o.bind((n=>yu(t,e,n.position).bind((n=>fS(e,n).map((n=>((e,t,n)=>nr(n.position.getNode())&&!gi(n.block)?_u(!1,n.block.dom).bind((o=>o.isEqual(n.position)?yu(t,e,o).bind((t=>fS(e,t))):F.some(n))).getOr(n):n)(e,t,n)))))));return Lt(o,r,pS).filter((t=>(e=>!xn(e.from.block,e.to.block))(t)&&((e,t)=>{const n=vn.fromDom(e);return xn(gS(n,t.from.block),gS(n,t.to.block))})(e,t)&&(e=>!1===ir(e.from.block.dom)&&!1===ir(e.to.block.dom))(t)&&(e=>{const t=e=>xr(e)||ji(e.dom);return t(e.from.block)&&t(e.to.block)})(t)))},bS=e=>{const t=(e=>{const t=Pn(e);return te(t,br).fold(A(t),(e=>t.slice(0,e)))})(e);return G(t,yo),t},yS=(e,t)=>{const n=qf(t,e);return ee(n.reverse(),(e=>gi(e))).each(yo)},wS=(e,t,n,o)=>{if(gi(n))return Dr(n),ju(n.dom);0===K(Dn(o),(e=>!gi(e))).length&&gi(t)&&ho(o,vn.fromTag("br"));const r=Cu(n.dom,za.before(o.dom));return G(bS(t),(e=>{ho(o,e)})),yS(e,t),r},xS=(e,t,n)=>{if(gi(n)){if(gi(t)){const e=e=>{const t=(e,n)=>Nn(e).fold((()=>n),(e=>yr(e)?t(e,n.concat(la(e))):n));return t(e,[])},o=X(e(n),((e,t)=>(go(e,t),t)),Tr());bo(t),fo(t,o)}return yo(n),ju(t.dom)}const o=ku(n.dom);return G(bS(t),(e=>{fo(n,e)})),yS(e,t),o},_S=(e,t)=>_n(t,e)?((e,t)=>{const n=qf(t,e);return F.from(n[n.length-1])})(t,e):F.none(),SS=(e,t)=>{_u(e,t.dom).bind((e=>F.from(e.getNode()))).map(vn.fromDom).filter(wr).each(yo)},CS=(e,t,n)=>(SS(!0,t),SS(!1,n),_S(t,n).fold(M(xS,e,t,n),M(wS,e,t,n))),jS=(e,t,n,o)=>t?CS(e,o,n):CS(e,n,o),kS=(e,t)=>{const n=vn.fromDom(e.getBody()),o=((e,t,n)=>n.collapsed?vS(e,t,n):F.none())(n.dom,t,e.selection.getRng()).map((o=>()=>{jS(n,t,o.from.block,o.to.block).each((t=>{e.selection.setRng(t.toRange())}))}));return o},ES=(e,t)=>{const n=vn.fromDom(t),o=M(xn,e);return $n(n,jr,o).isSome()},OS=(e,t)=>{const n=Cu(e.dom,za.fromRangeStart(t)).isNone(),o=Su(e.dom,za.fromRangeEnd(t)).isNone();return!((e,t)=>ES(e,t.startContainer)||ES(e,t.endContainer))(e,t)&&n&&o},AS=e=>{const t=vn.fromDom(e.getBody()),n=e.selection.getRng();return OS(t,n)?(e=>F.some((()=>{e.setContent(""),e.selection.setCursorLocation()})))(e):((e,t)=>{const n=t.getRng();return Lt(Gg(e,vn.fromDom(n.startContainer)),Gg(e,vn.fromDom(n.endContainer)),((o,r)=>xn(o,r)?F.none():F.some((()=>{n.deleteContents(),jS(e,!0,o,r).each((e=>{t.setRng(e.toRange())}))})))).getOr(F.none())})(t,e.selection)},TS=(e,t)=>e.selection.isCollapsed()?F.none():AS(e),DS=(e,t,n,o,r)=>F.from(t._selectionOverrides.showCaret(e,n,o,r)),MS=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?F.none():F.some((e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t})(t)),PS=(e,t,n)=>t.collapsed?((e,t,n)=>{const o=Xd(1,e.getBody(),t),r=za.fromRangeStart(o),i=r.getNode();if(Od(i))return DS(1,e,i,!r.isAtEnd(),!1);const s=r.getNode(!0);if(Od(s))return DS(1,e,s,!1,!1);const a=kv(e.dom.getRoot(),r.getNode());return Od(a)?DS(1,e,a,!1,n):F.none()})(e,t,n).getOr(t):t,RS=e=>zf(e)||Bf(e),NS=e=>Uf(e)||Ff(e),LS=(e,t,n,o,r,i)=>{DS(o,e,i.getNode(!r),r,!0).each((n=>{if(t.collapsed){const e=t.cloneRange();r?e.setEnd(n.startContainer,n.startOffset):e.setStart(n.endContainer,n.endOffset),e.deleteContents()}else t.deleteContents();e.selection.setRng(n)})),((e,t)=>{Ko(t)&&0===t.data.length&&e.remove(t)})(e.dom,n)},IS=(e,t)=>((e,t)=>{const n=e.selection.getRng();if(!Ko(n.commonAncestorContainer))return F.none();const o=t?ou.Forwards:ou.Backwards,r=pu(e.getBody()),i=M(tu,t?r.next:r.prev),s=t?RS:NS,a=Jd(o,e.getBody(),n),l=i(a),c=l?Vg(t,l):l;if(!c||!nu(a,c))return F.none();if(s(c))return F.some((()=>LS(e,n,a.getNode(),o,t,c)));const d=i(c);return d&&s(d)&&nu(c,d)?F.some((()=>LS(e,n,a.getNode(),o,t,d))):F.none()})(e,t),BS=(e,t)=>{const n=e.getBody();return t?ju(n).filter(zf):ku(n).filter(Uf)},FS=e=>{const t=e.selection.getRng();return!t.collapsed&&(BS(e,!0).exists((e=>e.isEqual(za.fromRangeStart(t))))||BS(e,!1).exists((e=>e.isEqual(za.fromRangeEnd(t)))))},HS=pl([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),VS=(e,t,n,o)=>{const r=o.getNode(!t);return Gg(vn.fromDom(e),vn.fromDom(n.getNode())).map((e=>gi(e)?HS.remove(e.dom):HS.moveToElement(r))).orThunk((()=>F.some(HS.moveToElement(r))))},zS=(e,t,n)=>yu(t,e,n).bind((o=>{return r=o.getNode(),_(r)&&(jr(vn.fromDom(r))||Sr(vn.fromDom(r)))||((e,t,n,o)=>{const r=t=>yr(vn.fromDom(t))&&!Wd(n,o,e);return Qd(!t,n).fold((()=>Qd(t,o).fold(I,r)),r)})(e,t,n,o)?F.none():t&&ir(o.getNode())||!t&&ir(o.getNode(!0))?VS(e,t,n,o):t&&Uf(n)||!t&&zf(n)?F.some(HS.moveToPosition(o)):F.none();var r})),US=(e,t,n)=>((e,t)=>{const n=t.getNode(!e),o=e?"after":"before";return Vo(n)&&n.getAttribute("data-mce-caret")===o})(t,n)?((e,t)=>x(t)?F.none():e&&ir(t.nextSibling)?F.some(HS.moveToElement(t.nextSibling)):!e&&ir(t.previousSibling)?F.some(HS.moveToElement(t.previousSibling)):F.none())(t,n.getNode(!t)).orThunk((()=>zS(e,t,n))):zS(e,t,n).bind((t=>((e,t,n)=>n.fold((e=>F.some(HS.remove(e))),(e=>F.some(HS.moveToElement(e))),(n=>Wd(t,n,e)?F.none():F.some(HS.moveToPosition(n)))))(e,n,t))),WS=(e,t)=>F.from(kv(e.getBody(),t)),qS=(e,t)=>{const n=e.selection.getNode();return WS(e,n).filter(ir).fold((()=>((e,t,n)=>{const o=Xd(t?1:-1,e,n),r=za.fromRangeStart(o),i=vn.fromDom(e);return!t&&Uf(r)?F.some(HS.remove(r.getNode(!0))):t&&zf(r)?F.some(HS.remove(r.getNode())):!t&&zf(r)&&og(i,r)?rg(i,r).map((e=>HS.remove(e.getNode()))):t&&Uf(r)&&ng(i,r)?ig(i,r).map((e=>HS.remove(e.getNode()))):US(e,t,r)})(e.getBody(),t,e.selection.getRng()).map((n=>()=>n.fold(((e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),Lg(e,t,vn.fromDom(n)),!0))(e,t),((e,t)=>n=>{const o=t?za.before(n):za.after(n);return e.selection.setRng(o.toRange()),!0})(e,t),(e=>t=>(e.selection.setRng(t.toRange()),!0))(e))))),(()=>F.some(k)))},ZS=(e,t)=>{const n=e.selection.getNode();if(ir(n)&&!sr(n)){return WS(e,n.parentNode).filter(ir).fold((()=>F.some((()=>{var n;n=vn.fromDom(e.getBody()),G(Lo(n,".mce-offscreen-selection"),yo),Lg(e,t,vn.fromDom(e.selection.getNode())),$g(e)}))),(()=>F.some(k)))}return FS(e)?F.some((()=>{Kg(e,e.selection.getRng(),vn.fromDom(e.getBody()))})):F.none()},GS=e=>{const t=e.dom,n=e.selection,o=kv(e.getBody(),n.getNode());if(rr(o)&&t.isBlock(o)&&t.isEmpty(o)){const e=t.create("br",{"data-mce-bogus":"1"});t.setHTML(o,""),o.appendChild(e),n.setRng(za.before(e).toRange())}return!0},$S=(e,t)=>e.selection.isCollapsed()?qS(e,t):ZS(e,t),YS=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=za.fromRangeStart(e.selection.getRng());return yu(t,e.getBody(),n).filter((e=>t?Lf(e):If(e))).bind((e=>qd(t?0:-1,e))).map((t=>()=>e.selection.select(t)))})(e,t):F.none(),KS=Ko,XS=e=>KS(e)&&e.data[0]===Pr,QS=e=>KS(e)&&e.data[e.data.length-1]===Pr,JS=e=>{var t;return(null!==(t=e.ownerDocument)&&void 0!==t?t:document).createTextNode(Pr)},eC=(e,t)=>e?(e=>{var t;if(KS(e.previousSibling))return QS(e.previousSibling)||e.previousSibling.appendData(Pr),e.previousSibling;if(KS(e))return XS(e)||e.insertData(0,Pr),e;{const n=JS(e);return null===(t=e.parentNode)||void 0===t||t.insertBefore(n,e),n}})(t):(e=>{var t,n;if(KS(e.nextSibling))return XS(e.nextSibling)||e.nextSibling.insertData(0,Pr),e.nextSibling;if(KS(e))return QS(e)||e.appendData(Pr),e;{const o=JS(e);return e.nextSibling?null===(t=e.parentNode)||void 0===t||t.insertBefore(o,e.nextSibling):null===(n=e.parentNode)||void 0===n||n.appendChild(o),o}})(t),tC=M(eC,!0),nC=M(eC,!1),oC=(e,t)=>Ko(e.container())?eC(t,e.container()):eC(t,e.getNode()),rC=(e,t)=>{const n=t.get();return n&&e.container()===n&&Fr(n)},iC=(e,t)=>t.fold((t=>{xd(e.get());const n=tC(t);return e.set(n),F.some(za(n,n.length-1))}),(t=>ju(t).map((t=>{if(rC(t,e)){const t=e.get();return za(t,1)}{xd(e.get());const n=oC(t,!0);return e.set(n),za(n,1)}}))),(t=>ku(t).map((t=>{if(rC(t,e)){const t=e.get();return za(t,t.length-1)}{xd(e.get());const n=oC(t,!1);return e.set(n),za(n,n.length-1)}}))),(t=>{xd(e.get());const n=nC(t);return e.set(n),F.some(za(n,1))})),sC=(e,t)=>{for(let n=0;n<e.length;n++){const o=e[n].apply(null,t);if(o.isSome())return o}return F.none()},aC=pl([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),lC=(e,t)=>{const n=Ud(t,e);return n||e},cC=(e,t,n)=>{const o=zg(n),r=lC(t,o.container());return Hg(e,r,o).fold((()=>Su(r,o).bind(M(Hg,e,r)).map((e=>aC.before(e)))),F.none)},dC=(e,t)=>null===Au(e,t),uC=(e,t,n)=>Hg(e,t,n).filter(M(dC,t)),hC=(e,t,n)=>{const o=Ug(n);return uC(e,t,o).bind((e=>Cu(e,o).isNone()?F.some(aC.start(e)):F.none()))},mC=(e,t,n)=>{const o=zg(n);return uC(e,t,o).bind((e=>Su(e,o).isNone()?F.some(aC.end(e)):F.none()))},pC=(e,t,n)=>{const o=Ug(n),r=lC(t,o.container());return Hg(e,r,o).fold((()=>Cu(r,o).bind(M(Hg,e,r)).map((e=>aC.after(e)))),F.none)},fC=e=>!Fg(vC(e)),gC=(e,t,n)=>sC([cC,hC,mC,pC],[e,t,n]).filter(fC),vC=e=>e.fold(T,T,T,T),bC=e=>e.fold(A("before"),A("start"),A("end"),A("after")),yC=e=>e.fold(aC.before,aC.before,aC.after,aC.after),wC=e=>e.fold(aC.start,aC.start,aC.end,aC.end),xC=(e,t,n,o,r,i)=>Lt(Hg(t,n,o),Hg(t,n,r),((t,o)=>t!==o&&((e,t,n)=>{const o=Ud(t,e),r=Ud(n,e);return _(o)&&o===r})(n,t,o)?aC.after(e?t:o):i)).getOr(i),_C=(e,t)=>e.fold(B,(e=>{return o=t,!(bC(n=e)===bC(o)&&vC(n)===vC(o));var n,o})),SC=(e,t)=>e?t.fold(E(F.some,aC.start),F.none,E(F.some,aC.after),F.none):t.fold(F.none,E(F.some,aC.before),F.none,E(F.some,aC.end)),CC=(e,t,n,o)=>{const r=Vg(e,o),i=gC(t,n,r);return gC(t,n,r).bind(M(SC,e)).orThunk((()=>((e,t,n,o,r)=>{const i=Vg(e,r);return yu(e,n,i).map(M(Vg,e)).fold((()=>o.map(yC)),(r=>gC(t,n,r).map(M(xC,e,t,n,i,r)).filter(M(_C,o)))).filter(fC)})(e,t,n,i,o)))},jC=(e,t,n)=>{const o=e?1:-1;return t.setRng(za(n.container(),n.offset()+o).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},kC=(e,t)=>{const n=t.selection.getRng(),o=e?za.fromRangeEnd(n):za.fromRangeStart(n);return!!(e=>S(e.selection.getSel().modify))(t)&&(e&&zr(o)?jC(!0,t.selection,o):!(e||!Ur(o))&&jC(!1,t.selection,o))};var EC;!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(EC||(EC={}));const OC=(e,t)=>e===ou.Backwards?ie(t):t,AC=(e,t,n)=>e===ou.Forwards?t.next(n):t.prev(n),TC=(e,t,n,o)=>nr(o.getNode(t===ou.Forwards))?EC.Br:!1===Wd(n,o)?EC.Block:EC.Wrap,DC=(e,t,n,o)=>{const r=pu(n);let i=o;const s=[];for(;i;){const n=AC(t,r,i);if(!n)break;if(nr(n.getNode(!1)))return t===ou.Forwards?{positions:OC(t,s).concat([n]),breakType:EC.Br,breakAt:F.some(n)}:{positions:OC(t,s),breakType:EC.Br,breakAt:F.some(n)};if(n.isVisible()){if(e(i,n)){const e=TC(0,t,i,n);return{positions:OC(t,s),breakType:e,breakAt:F.some(n)}}s.push(n),i=n}else i=n}return{positions:OC(t,s),breakType:EC.Eol,breakAt:F.none()}},MC=(e,t,n,o)=>t(n,o).breakAt.map((o=>{const r=t(n,o).positions;return e===ou.Backwards?r.concat(o):[o].concat(r)})).getOr([]),PC=(e,t)=>Q(e,((e,n)=>e.fold((()=>F.some(n)),(o=>Lt(de(o.getClientRects()),de(n.getClientRects()),((e,r)=>{const i=Math.abs(t-e.left);return Math.abs(t-r.left)<=i?n:o})).or(e)))),F.none()),RC=(e,t)=>de(t.getClientRects()).bind((t=>PC(e,t.left))),NC=M(DC,za.isAbove,-1),LC=M(DC,za.isBelow,1),IC=M(MC,-1,NC),BC=M(MC,1,LC),FC=(e,t)=>RC(IC(e,t),t),HC=(e,t)=>RC(BC(e,t),t),VC=ir,zC=(e,t)=>Math.abs(e.left-t),UC=(e,t)=>Math.abs(e.right-t),WC=(e,t)=>Pe(e,((e,n)=>{const o=Math.min(zC(e,t),UC(e,t)),r=Math.min(zC(n,t),UC(n,t));return r===o&&ke(n,"node")&&VC(n.node)||r<o?n:e})),qC=e=>{const t=t=>Z(t,(t=>{const n=pa(t);return n.node=e,n}));if(Vo(e))return t(e.getClientRects());if(Ko(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}return[]},ZC=e=>oe(e,qC);var GC;!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(GC||(GC={}));const $C=(e,t,n,o,r,i)=>{let s=0;const a=[],l=o=>{let i=ZC([o]);-1===e&&(i=i.reverse());for(let e=0;e<i.length;e++){const o=i[e];if(!n(o,c)){if(a.length>0&&t(o,Ne(a))&&s++,o.line=s,r(o))return!0;a.push(o)}}return!1},c=Ne(i.getClientRects());if(!c)return a;const d=i.getNode();return d&&(l(d),((e,t,n,o)=>{let r=o;for(;r=zd(r,e,ri,t);)if(n(r))return})(e,o,l,d)),a},YC=M($C,GC.Up,va,ba),KC=M($C,GC.Down,ba,va),XC=e=>Ne(e.getClientRects()),QC=e=>t=>((e,t)=>t.line>e)(e,t),JC=e=>t=>((e,t)=>t.line===e)(e,t),ej=(e,t)=>{e.selection.setRng(t),vp(e,e.selection.getRng())},tj=(e,t,n)=>F.some(PS(e,t,n)),nj=(e,t,n,o,r,i)=>{const s=t===ou.Forwards,a=pu(e.getBody()),l=M(tu,s?a.next:a.prev),c=s?o:r;if(!n.collapsed){const o=wa(n);if(i(o))return DS(t,e,o,t===ou.Backwards,!1);if(FS(e)){const e=n.cloneRange();return e.collapse(t===ou.Backwards),F.from(e)}}const d=Jd(t,e.getBody(),n);if(c(d))return MS(e,d.getNode(!s));let u=l(d);const h=Gr(n);if(!u)return h?F.some(n):F.none();if(u=Vg(s,u),c(u))return DS(t,e,u.getNode(!s),s,!1);const m=l(u);return m&&c(m)&&nu(u,m)?DS(t,e,m.getNode(!s),s,!1):h?tj(e,u.toRange(),!1):F.none()},oj=(e,t,n,o,r,i)=>{const s=Jd(t,e.getBody(),n),a=Ne(s.getClientRects()),l=t===GC.Down,c=e.getBody();if(!a)return F.none();if(FS(e)){const e=l?za.fromRangeEnd(n):za.fromRangeStart(n);return(l?HC:FC)(c,e).orThunk((()=>F.from(e))).map((e=>e.toRange()))}const d=(l?KC:YC)(c,QC(1),s),u=K(d,JC(1)),h=a.left,m=WC(u,h);if(m&&i(m.node)){const n=Math.abs(h-m.left),o=Math.abs(h-m.right);return DS(t,e,m.node,n<o,!1)}let p;if(p=o(s)?s.getNode():r(s)?s.getNode(!0):wa(n),p){const n=((e,t,n,o)=>{const r=pu(t);let i,s,a,l;const c=[];let d=0;1===e?(i=r.next,s=ba,a=va,l=za.after(o)):(i=r.prev,s=va,a=ba,l=za.before(o));const u=XC(l);do{if(!l.isVisible())continue;const e=XC(l);if(a(e,u))continue;c.length>0&&s(e,Ne(c))&&d++;const t=pa(e);if(t.position=l,t.line=d,n(t))return c;c.push(t)}while(l=i(l));return c})(t,c,QC(1),p);let o=WC(K(n,JC(1)),h);if(o)return tj(e,o.position.toRange(),!1);if(o=Ne(K(n,JC(0))),o)return tj(e,o.position.toRange(),!1)}return 0===u.length?rj(e,l).filter(l?r:o).map((t=>PS(e,t.toRange(),!1))):F.none()},rj=(e,t)=>{const n=e.selection.getRng(),o=t?za.fromRangeEnd(n):za.fromRangeStart(n),r=(i=o.container(),s=e.getBody(),$n(vn.fromDom(i),(e=>Td(e.dom)),(e=>e.dom===s)).map((e=>e.dom)).getOr(s));var i,s;if(t){const e=LC(r,o);return ue(e.positions)}{const e=NC(r,o);return de(e.positions)}},ij=(e,t,n)=>rj(e,t).filter(n).exists((t=>(e.selection.setRng(t.toRange()),!0))),sj=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},aj=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},lj=(e,t,n)=>iC(t,n).map((t=>(sj(e,t),n))),cj=(e,t,n)=>{const o=e.getBody(),r=((e,t,n)=>{const o=za.fromRangeStart(e);if(e.collapsed)return o;{const r=za.fromRangeEnd(e);return n?Cu(t,r).getOr(r):Su(t,o).getOr(o)}})(e.selection.getRng(),o,n),i=M(Bg,e);return CC(n,i,o,r).bind((n=>lj(e,t,n)))},dj=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const o=za.fromRangeStart(e.selection.getRng());za.isTextPosition(o)&&!(e=>zr(e)||Ur(e))(o)&&(sj(e,wd(n,o)),t.set(null))}},uj=(e,t,n)=>!!vc(e)&&cj(e,t,n).isSome(),hj=(e,t,n)=>!!vc(t)&&kC(e,t),mj=e=>{const t=Is(null),n=M(Bg,e);return e.on("NodeChange",(o=>{vc(e)&&(((e,t,n)=>{const o=Z(Lo(vn.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(e=>e.dom)),r=K(o,e),i=K(n,e);G(se(r,i),M(aj,!1)),G(se(i,r),M(aj,!0))})(n,e.dom,o.parents),dj(e,t),((e,t,n,o)=>{if(t.selection.isCollapsed()){const r=K(o,e);G(r,(o=>{const r=za.fromRangeStart(t.selection.getRng());gC(e,t.getBody(),r).bind((e=>lj(t,n,e)))}))}})(n,e,t,o.parents))})),t},pj=M(hj,!0),fj=M(hj,!1),gj=(e,t,n)=>{if(vc(e)){const o=rj(e,t).getOrThunk((()=>{const n=e.selection.getRng();return t?za.fromRangeEnd(n):za.fromRangeStart(n)}));return gC(M(Bg,e),e.getBody(),o).exists((t=>{const o=yC(t);return iC(n,o).exists((t=>(sj(e,t),!0)))}))}return!1},vj=(e,t)=>n=>iC(t,n).map((t=>()=>sj(e,t))),bj=(e,t,n,o)=>{const r=e.getBody(),i=M(Bg,e);e.undoManager.ignore((()=>{e.selection.setRng(((e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n})(n,o)),qg(e),gC(i,r,za.fromRangeStart(e.selection.getRng())).map(wC).bind(vj(e,t)).each(L)})),e.nodeChanged()},yj=(e,t,n,o)=>{const r=((e,t)=>{const n=Ud(t,e);return n||e})(e.getBody(),o.container()),i=M(Bg,e),s=gC(i,r,o);return s.bind((e=>n?e.fold(A(F.some(wC(e))),F.none,A(F.some(yC(e))),F.none):e.fold(F.none,A(F.some(yC(e))),F.none,A(F.some(wC(e)))))).map(vj(e,t)).getOrThunk((()=>{const a=wu(n,r,o),l=a.bind((e=>gC(i,r,e)));return Lt(s,l,(()=>Hg(i,r,o).bind((t=>(e=>Lt(ju(e),ku(e),((t,n)=>{const o=Vg(!0,t),r=Vg(!1,n);return Su(e,o).forall((e=>e.isEqual(r)))})).getOr(!0))(t)?F.some((()=>{Lg(e,n,vn.fromDom(t))})):F.none())))).getOrThunk((()=>l.bind((()=>a.map((r=>()=>{n?bj(e,t,o,r):bj(e,t,r,o)}))))))}))},wj=(e,t,n)=>{if(e.selection.isCollapsed()&&vc(e)){const o=za.fromRangeStart(e.selection.getRng());return yj(e,t,n,o)}return F.none()},xj=(e,t)=>{const n=vn.fromDom(e.getBody()),o=vn.fromDom(e.selection.getStart()),r=qf(o,n);return te(r,t).fold(A(r),(e=>r.slice(0,e)))},_j=e=>xj(e,(e=>br(e)||(e=>In(e)>1)(e))),Sj=(e,t)=>{const n=M(Ob,e);return oe(t,(e=>n(e)?[e.dom]:[]))},Cj=e=>{const t=(e=>xj(e,br))(e);return Sj(e,t)},jj=(e,t)=>{const n=_j(e);return ue(n).bind((o=>{const r=za.fromRangeStart(e.selection.getRng());return((e,t,n)=>Lt(ju(n),ku(n),((o,r)=>{const i=Vg(!0,o),s=Vg(!1,r),a=Vg(!1,t);return e?Su(n,a).exists((e=>e.isEqual(s)&&t.isEqual(i))):Cu(n,a).exists((e=>e.isEqual(i)&&t.isEqual(s)))})).getOr(!0))(t,r,o.dom)&&!Ab(o)?F.some((()=>((e,t,n,o)=>{const r=Sj(t,o);if(0===r.length)Lg(t,e,n);else{const e=Eb(n.dom,r);t.selection.setRng(e.toRange())}})(t,e,o,n))):F.none()}))},kj=(e,t)=>{const n=e.selection.getStart(),o=((e,t)=>{const n=t.parentElement;return nr(t)&&!b(n)&&e.dom.isEmpty(n)})(e,n)||(r=n,Ab(vn.fromDom(r)))?Eb(n,t):((e,t)=>{const{caretContainer:n,caretPosition:o}=kb(t);return e.selection.getRng().insertNode(n.dom),o})(e,t);var r;e.selection.setRng(o.toRange())},Ej=e=>Ko(e.startContainer),Oj=e=>(e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!b(t)&&!b(n)&&t.isEqualNode(n)})(e)&&(e=>{const t=e.endContainer;return e.endOffset===(Ko(t)?t.length:t.childNodes.length)})(e),Aj=e=>{const t=e.selection.getRng();return(e=>0===e.startOffset&&Ej(e))(t)&&((e,t)=>{const n=t.startContainer.parentElement;return!b(n)&&Ob(e,vn.fromDom(n))})(e,t)&&(e=>Oj(e)||(e=>!e.endContainer.isEqualNode(e.commonAncestorContainer))(e))(t)},Tj=e=>{if(Aj(e)){const t=Cj(e);return F.some((()=>{qg(e),((e,t)=>{const n=se(t,Cj(e));n.length>0&&kj(e,n)})(e,t)}))}return F.none()},Dj=(e,t)=>e.selection.isCollapsed()?jj(e,t):Tj(e),Mj=e=>((e,t,n)=>$n(e,t,n).isSome())(e,(e=>Ou(e.dom)),br),Pj=e=>{const t=e.selection.getRng();return t.collapsed&&(Ej(t)||e.dom.isEmpty(t.startContainer))&&!(e=>Mj(vn.fromDom(e.selection.getStart())))(e)},Rj=e=>(Pj(e)&&kj(e,[]),!0),Nj=(e,t,n)=>_(n)?F.some((()=>{e._selectionOverrides.hideFakeCaret(),Lg(e,t,vn.fromDom(n))})):F.none(),Lj=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=t?Bf:Ff,o=t?ou.Forwards:ou.Backwards,r=Jd(o,e.getBody(),e.selection.getRng());return n(r)?Nj(e,t,r.getNode(!t)):F.from(Vg(t,r)).filter((e=>n(e)&&nu(r,e))).bind((n=>Nj(e,t,n.getNode(!t))))})(e,t):((e,t)=>{const n=e.selection.getNode();return lr(n)?Nj(e,t,n):F.none()})(e,t),Ij=e=>Qe(null!=e?e:"").getOr(0),Bj=(e,t)=>(e||"table"===Ut(t)?"margin":"padding")+("rtl"===so(t,"direction")?"-right":"-left"),Fj=e=>{const t=Vj(e);return!e.mode.isReadOnly()&&(t.length>1||((e,t)=>re(t,(t=>{const n=Bj(tc(e),t),o=lo(t,n).map(Ij).getOr(0);return"false"!==e.dom.getContentEditable(t.dom)&&o>0})))(e,t))},Hj=e=>_r(e)||Sr(e),Vj=e=>K(xo(e.selection.getSelectedBlocks()),(e=>!Hj(e)&&!(e=>kn(e).exists(Hj))(e)&&Yn(e,(e=>rr(e.dom)||ir(e.dom))).exists((e=>rr(e.dom))))),zj=(e,t)=>{var n,o;const{dom:r}=e,i=nc(e),s=null!==(o=null===(n=/[a-z%]+$/i.exec(i))||void 0===n?void 0:n[0])&&void 0!==o?o:"px",a=Ij(i),l=tc(e);G(Vj(e),(e=>{((e,t,n,o,r,i)=>{const s=Bj(n,vn.fromDom(i)),a=Ij(e.getStyle(i,s));if("outdent"===t){const t=Math.max(0,a-o);e.setStyle(i,s,t?t+r:"")}else{const t=a+o+r;e.setStyle(i,s,t)}})(r,t,l,a,s,e.dom)}))},Uj=e=>zj(e,"outdent"),Wj=e=>{if(e.selection.isCollapsed()&&Fj(e)){const t=e.dom,n=e.selection.getRng(),o=za.fromRangeStart(n),r=t.getParent(n.startContainer,t.isBlock);if(null!==r&&Kf(vn.fromDom(r),o))return F.some((()=>Uj(e)))}return F.none()},qj=(e,t,n)=>me([Wj,$S,IS,(e,n)=>wj(e,t,n),kS,jv,YS,Lj,TS,Dj],(t=>t(e,n))).filter((t=>e.selection.isEditable())),Zj=(e,t)=>{qj(e,t,!0).fold((()=>(e=>Wg(e,"ForwardDelete"))(e)),L)},Gj=(e,t)=>{e.addCommand("delete",(()=>{((e,t)=>{qj(e,t,!1).fold((()=>{qg(e),$g(e)}),L)})(e,t)})),e.addCommand("forwardDelete",(()=>{Zj(e,t)}))},$j=e=>void 0===e.touches||1!==e.touches.length?F.none():F.some(e.touches[0]),Yj=e=>{const t=Ws(),n=Is(!1),o=Zs((t=>{e.dispatch("longpress",{...t,type:"longpress"}),n.set(!0)}),400);e.on("touchstart",(e=>{$j(e).each((r=>{o.cancel();const i={x:r.clientX,y:r.clientY,target:e.target};o.throttle(e),n.set(!1),t.set(i)}))}),!0),e.on("touchmove",(r=>{o.cancel(),$j(r).each((o=>{t.on((r=>{((e,t)=>{const n=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return n>5||o>5})(o,r)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))}))}))}),!0),e.on("touchend touchcancel",(r=>{o.cancel(),"touchcancel"!==r.type&&t.get().filter((e=>e.target.isEqualNode(r.target))).each((()=>{n.get()?r.preventDefault():e.dispatch("tap",{...r,type:"tap"})}))}),!0)},Kj=(e,t)=>je(e,t.nodeName),Xj=(e,t)=>!!Ko(t)||!!Vo(t)&&(!Kj(e.getBlockElements(),t)&&!zu(t)&&!Oi(e,t)),Qj=(e,t)=>{if(Ko(t)){if(0===t.data.length)return!0;if(/^\s+$/.test(t.data)&&(!t.nextSibling||Kj(e,t.nextSibling)))return!0}return!1},Jj=e=>e.dom.create(Nl(e),Ll(e)),ek=e=>{const t=e.dom,n=e.selection,o=e.schema,r=o.getBlockElements(),i=n.getStart(),s=e.getBody();let a,l,c=!1;const d=Nl(e);if(!i||!Vo(i))return;const u=s.nodeName.toLowerCase();if(!o.isValidChild(u,d.toLowerCase())||((e,t,n)=>q(Wf(vn.fromDom(n),vn.fromDom(t)),(t=>Kj(e,t.dom))))(r,s,i))return;const h=n.getRng(),{startContainer:m,startOffset:p,endContainer:f,endOffset:g}=h,v=Wp(e);let b=s.firstChild;for(;b;)if(Vo(b)&&Ci(o,b),Xj(o,b)){if(Qj(r,b)){l=b,b=b.nextSibling,t.remove(l);continue}a||(a=Jj(e),s.insertBefore(a,b),c=!0),l=b,b=b.nextSibling,a.appendChild(l)}else a=null,b=b.nextSibling;c&&v&&(h.setStart(m,p),h.setEnd(f,g),n.setRng(h),e.nodeChanged())},tk=(e,t,n)=>{const o=vn.fromDom(Jj(e)),r=Tr();fo(o,r),n(t,o);const i=document.createRange();return i.setStartBefore(r.dom),i.setEndBefore(r.dom),i},nk=e=>t=>-1!==(" "+t.attr("class")+" ").indexOf(e),ok=(e,t,n)=>function(o){const r=arguments,i=r[r.length-2],s=i>0?t.charAt(i-1):"";if('"'===s)return o;if(">"===s){const e=t.lastIndexOf("<",i);if(-1!==e){if(-1!==t.substring(e,i).indexOf('contenteditable="false"'))return o}}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(r[0])+'">'+e.dom.encode("string"==typeof r[1]?r[1]:r[0])+"</span>"},rk=e=>{const t="contenteditable",n=" "+Rt.trim(id(e))+" ",o=" "+Rt.trim(rd(e))+" ",r=nk(n),i=nk(o),s=sd(e);s.length>0&&e.on("BeforeSetContent",(t=>{((e,t,n)=>{let o=t.length,r=n.content;if("raw"!==n.format){for(;o--;)r=r.replace(t[o],ok(e,r,rd(e)));n.content=r}})(e,s,t)})),e.parser.addAttributeFilter("class",(e=>{let n=e.length;for(;n--;){const o=e[n];r(o)?o.attr(t,"true"):i(o)&&o.attr(t,"false")}})),e.serializer.addAttributeFilter(t,(e=>{let n=e.length;for(;n--;){const o=e[n];(r(o)||i(o))&&(s.length>0&&o.attr("data-mce-content")?(o.name="#text",o.type=3,o.raw=!0,o.value=o.attr("data-mce-content")):o.attr(t,null))}}))},ik=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Zr(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},sk=(e,t)=>{const n=(e=>Qn(vn.fromDom(e.getBody()),"*[data-mce-caret]").map((e=>e.dom)).getOrNull())(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void ik(e,n)):void(Vr(n)&&(ik(e,n),e.undoManager.add()))},ak=ir,lk=(e,t,n)=>{const o=pu(e.getBody()),r=M(tu,1===t?o.next:o.prev);if(n.collapsed){const o=e.dom.getParent(n.startContainer,"PRE");if(!o)return;if(!r(za.fromRangeStart(n))){const n=vn.fromDom((e=>{const t=e.dom.create(Nl(e));return t.innerHTML='<br data-mce-bogus="1">',t})(e));1===t?mo(vn.fromDom(o),n):ho(vn.fromDom(o),n),e.selection.select(n.dom,!0),e.selection.collapse()}}},ck=(e,t)=>{const n=t?ou.Forwards:ou.Backwards,o=e.selection.getRng();return((e,t,n)=>nj(t,e,n,zf,Uf,ak))(n,e,o).orThunk((()=>(lk(e,n,o),F.none())))},dk=(e,t)=>{const n=t?1:-1,o=e.selection.getRng();return((e,t,n)=>oj(t,e,n,(e=>zf(e)||Hf(e)),(e=>Uf(e)||Vf(e)),ak))(n,e,o).orThunk((()=>(lk(e,n,o),F.none())))},uk=(e,t)=>ck(e,t).exists((t=>(ej(e,t),!0))),hk=(e,t)=>dk(e,t).exists((t=>(ej(e,t),!0))),mk=(e,t)=>ij(e,t,t?Uf:zf),pk=(e,t)=>BS(e,!t).map((n=>{const o=n.toRange(),r=e.selection.getRng();return t?o.setStart(r.startContainer,r.startOffset):o.setEnd(r.endContainer,r.endOffset),o})).exists((t=>(ej(e,t),!0))),fk=e=>W(["figcaption"],Ut(e)),gk=(e,t,n)=>t?((e,t)=>LC(e,t).breakAt.isNone())(e.dom,n):((e,t)=>NC(e,t).breakAt.isNone())(e.dom,n),vk=(e,t)=>{const n=vn.fromDom(e.getBody()),o=za.fromRangeStart(e.selection.getRng());return((e,t)=>{const n=M(xn,t);return Yn(vn.fromDom(e.container()),br,n).filter(fk)})(o,n).exists((()=>{if(gk(n,t,o)){const o=tk(e,n,t?fo:po);return e.selection.setRng(o),!0}return!1}))},bk=(e,t)=>!!e.selection.isCollapsed()&&vk(e,t),yk={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},wk=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,xk=(e,t)=>oe((e=>Z(e,(e=>({...yk,...e}))))(e),(e=>wk(e,t)?[e]:[])),_k=(e,t)=>oe((e=>Z(e,(e=>({...yk,...e}))))(e),(e=>wk(e,t)?[e]:[])),Sk=(e,...t)=>()=>e.apply(null,t),Ck=(e,t)=>ee(xk(e,t),(e=>e.action())),jk=(e,t)=>me(_k(e,t),(e=>e.action())),kk=(e,t)=>{const n=t?ou.Forwards:ou.Backwards,o=e.selection.getRng();return nj(e,n,o,Bf,Ff,lr).exists((t=>(ej(e,t),!0)))},Ek=(e,t)=>{const n=t?1:-1,o=e.selection.getRng();return oj(e,n,o,Bf,Ff,lr).exists((t=>(ej(e,t),!0)))},Ok=(e,t)=>ij(e,t,t?Ff:Bf),Ak=pl([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Tk={...Ak,none:e=>Ak.none(e)},Dk=(e,t,n)=>oe(Pn(e),(e=>yn(e,t)?n(e)?[e]:[]:Dk(e,t,n))),Mk=(e,t)=>((e,t,n=I)=>n(t)?F.none():W(e,Ut(t))?F.some(t):Xn(t,e.join(","),(e=>yn(e,"table")||n(e))))(["td","th"],e,t),Pk=e=>Dk(e,"th,td",B),Rk=(e,t)=>Jn(e,"table",t),Nk=(e,t,n,o,r=B)=>{const i=1===o;if(!i&&n<=0)return Tk.first(e[0]);if(i&&n>=e.length-1)return Tk.last(e[e.length-1]);{const i=n+o,s=e[i];return r(s)?Tk.middle(t,s):Nk(e,t,i,o,r)}},Lk=(e,t)=>Rk(e,t).bind((t=>{const n=Pk(t);return te(n,(t=>xn(e,t))).map((e=>({index:e,all:n})))})),Ik=(e,t,n,o,r)=>{const i=Lo(vn.fromDom(n),"td,th,caption").map((e=>e.dom)),s=K(((e,t)=>oe(t,(t=>{const n=((e,t)=>({left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}))(pa(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})))(e,i),(e=>t(e,r)));return((e,t,n)=>Q(e,((e,o)=>e.fold((()=>F.some(o)),(e=>{const r=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),i=Math.sqrt(Math.abs(o.x-t)+Math.abs(o.y-n));return F.some(i<r?o:e)}))),F.none()))(s,o,r).map((e=>e.cell))},Bk=M(Ik,(e=>e.bottom),((e,t)=>e.y<t)),Fk=M(Ik,(e=>e.top),((e,t)=>e.y>t)),Hk=(e,t)=>de(t.getClientRects()).bind((t=>Bk(e,t.left,t.top))).bind((e=>{return RC(ku(n=e).map((e=>NC(n,e).positions.concat(e))).getOr([]),t);var n})),Vk=(e,t)=>ue(t.getClientRects()).bind((t=>Fk(e,t.left,t.top))).bind((e=>{return RC(ju(n=e).map((e=>[e].concat(LC(n,e).positions))).getOr([]),t);var n})),zk=(e,t,n)=>{const o=e(t,n);return(e=>e.breakType===EC.Wrap&&0===e.positions.length)(o)||!nr(n.getNode())&&(e=>e.breakType===EC.Br&&1===e.positions.length)(o)?!((e,t,n)=>n.breakAt.exists((n=>e(t,n).breakAt.isSome())))(e,t,o):o.breakAt.isNone()},Uk=M(zk,NC),Wk=M(zk,LC),qk=(e,t,n,o)=>{const r=e.selection.getRng(),i=t?1:-1;return!(!Ed()||!((e,t,n)=>{const o=za.fromRangeStart(t);return _u(!e,n).exists((e=>e.isEqual(o)))})(t,r,n))&&(DS(i,e,n,!t,!1).each((t=>{ej(e,t)})),!0)},Zk=(e,t)=>{const n=t.getNode(e);return Go(n)?F.some(n):F.none()},Gk=(e,t,n)=>{const o=Zk(!!t,n),r=!1===t;o.fold((()=>ej(e,n.toRange())),(o=>_u(r,e.getBody()).filter((e=>e.isEqual(n))).fold((()=>ej(e,n.toRange())),(n=>((e,t,n)=>{t.undoManager.transact((()=>{const o=e?mo:ho,r=tk(t,vn.fromDom(n),o);ej(t,r)}))})(t,e,o)))))},$k=(e,t,n,o)=>{const r=e.selection.getRng(),i=za.fromRangeStart(r),s=e.getBody();if(!t&&Uk(o,i)){const o=((e,t,n)=>Hk(t,n).orThunk((()=>de(n.getClientRects()).bind((n=>PC(IC(e,za.before(t)),n.left))))).getOr(za.before(t)))(s,n,i);return Gk(e,t,o),!0}if(t&&Wk(o,i)){const o=((e,t,n)=>Vk(t,n).orThunk((()=>de(n.getClientRects()).bind((n=>PC(BC(e,za.after(t)),n.left))))).getOr(za.after(t)))(s,n,i);return Gk(e,t,o),!0}return!1},Yk=(e,t,n)=>F.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((o=>F.from(e.dom.getParent(o,"table")).map((r=>n(e,t,r,o))))).getOr(!1),Kk=(e,t)=>Yk(e,t,qk),Xk=(e,t)=>Yk(e,t,$k),Qk=(e,t,n)=>n.fold(F.none,F.none,((e,t)=>nf(t).map((e=>(e=>{const t=Dm.exact(e,0,e,0);return Lm(t)})(e)))),(n=>(e.execCommand("mceTableInsertRowAfter"),Jk(e,t,n)))),Jk=(e,t,n)=>Qk(e,t,((e,t,n)=>Lk(e,n).fold((()=>Tk.none(e)),(n=>Nk(n.all,e,n.index,1,t))))(n,eo)),eE=(e,t,n)=>Qk(e,t,((e,t,n)=>Lk(e,n).fold((()=>Tk.none()),(n=>Nk(n.all,e,n.index,-1,t))))(n,eo)),tE=(e,t)=>{const n=["table","li","dl"],o=vn.fromDom(e.getBody()),r=e=>{const t=Ut(e);return xn(e,o)||W(n,t)},i=e.selection.getRng(),s=vn.fromDom(t?i.endContainer:i.startContainer);return Mk(s,r).map((n=>{Rk(n,r).each((t=>{e.model.table.clearSelectedCells(t.dom)})),e.selection.collapse(!t);return(t?Jk:eE)(e,r,n).each((t=>{e.selection.setRng(t)})),!0})).getOr(!1)},nE=(e,t)=>{e.on("keydown",(n=>{n.isDefaultPrevented()||((e,t,n)=>{const o=Tt.os.isMacOS()||Tt.os.isiOS();Ck([{keyCode:mm.RIGHT,action:Sk(uk,e,!0)},{keyCode:mm.LEFT,action:Sk(uk,e,!1)},{keyCode:mm.UP,action:Sk(hk,e,!1)},{keyCode:mm.DOWN,action:Sk(hk,e,!0)},...o?[{keyCode:mm.UP,action:Sk(pk,e,!1),metaKey:!0,shiftKey:!0},{keyCode:mm.DOWN,action:Sk(pk,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:mm.RIGHT,action:Sk(Kk,e,!0)},{keyCode:mm.LEFT,action:Sk(Kk,e,!1)},{keyCode:mm.UP,action:Sk(Xk,e,!1)},{keyCode:mm.DOWN,action:Sk(Xk,e,!0)},{keyCode:mm.RIGHT,action:Sk(kk,e,!0)},{keyCode:mm.LEFT,action:Sk(kk,e,!1)},{keyCode:mm.UP,action:Sk(Ek,e,!1)},{keyCode:mm.DOWN,action:Sk(Ek,e,!0)},{keyCode:mm.RIGHT,action:Sk(uj,e,t,!0)},{keyCode:mm.LEFT,action:Sk(uj,e,t,!1)},{keyCode:mm.RIGHT,ctrlKey:!o,altKey:o,action:Sk(pj,e,t)},{keyCode:mm.LEFT,ctrlKey:!o,altKey:o,action:Sk(fj,e,t)},{keyCode:mm.UP,action:Sk(bk,e,!1)},{keyCode:mm.DOWN,action:Sk(bk,e,!0)}],n).each((e=>{n.preventDefault()}))})(e,t,n)}))},oE=(e,t)=>({container:e,offset:t}),rE=Rs.DOM,iE=e=>t=>e===t?-1:0,sE=(e,t,n)=>{if(Ko(e)&&t>=0)return F.some(oE(e,t));{const o=ha(rE);return F.from(o.backwards(e,t,iE(e),n)).map((e=>oE(e.container,e.container.data.length)))}},aE=(e,t,n)=>{if(!Ko(e))return F.none();const o=e.data;if(t>=0&&t<=o.length)return F.some(oE(e,t));{const o=ha(rE);return F.from(o.backwards(e,t,iE(e),n)).bind((e=>{const o=e.container.data;return aE(e.container,t+o.length,n)}))}},lE=(e,t,n)=>{if(!Ko(e))return F.none();const o=e.data;if(t<=o.length)return F.some(oE(e,t));{const r=ha(rE);return F.from(r.forwards(e,t,iE(e),n)).bind((e=>lE(e.container,t-o.length,n)))}},cE=(e,t,n,o,r)=>{const i=ha(e,(e=>t=>e.isBlock(t)||W(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t))(e));return F.from(i.backwards(t,n,o,r))},dE=e=>Nr(e.toString().replace(/\u00A0/g," ")),uE=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),hE=(e,t)=>e.substring(t.length),mE=(e,t,n,o=0)=>{if(!(r=t).collapsed||!Ko(r.startContainer))return F.none();var r;const i={text:"",offset:0},s=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return cE(e,t.startContainer,t.startOffset,((e,t,o)=>(i.text=o+i.text,i.offset+=t,((e,t,n)=>{let o;const r=n.charAt(0);for(o=t-1;o>=0;o--){const i=e.charAt(o);if(uE(i))return F.none();if(r===i&&Ue(e,n,o,t))break}return F.some(o)})(i.text,i.offset,n).getOr(t))),s).bind((e=>{const r=t.cloneRange();if(r.setStart(e.container,e.offset),r.setEnd(t.endContainer,t.endOffset),r.collapsed)return F.none();const i=dE(r);return 0!==i.lastIndexOf(n)||hE(i,n).length<o?F.none():F.some({text:hE(i,n),range:r,trigger:n})}))},pE=(e,t,n,o=0)=>{return(r=vn.fromDom(t.startContainer),Jn(r,rf)).fold((()=>mE(e,t,n,o)),(t=>{const o=e.createRng();o.selectNode(t.dom);const r=dE(o);return F.some({range:o,text:hE(r,n),trigger:n})}));var r},fE=e=>{if((e=>3===e.nodeType)(e))return oE(e,e.data.length);{const t=e.childNodes;return t.length>0?fE(t[t.length-1]):oE(e,t.length)}},gE=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?gE(n[t],0):n.length>0&&(e=>1===e.nodeType)(e)&&n.length===t?fE(n[n.length-1]):oE(e,t)},vE=e=>t=>{const n=gE(t.startContainer,t.startOffset);return!((e,t)=>{var n;const o=null!==(n=e.getParent(t.container,e.isBlock))&&void 0!==n?n:e.getRoot();return cE(e,t.container,t.offset,((e,t)=>0===t?-1:t),o).filter((e=>{const t=e.container.data.charAt(e.offset-1);return!uE(t)})).isSome()})(e,n)},bE=(e,t)=>{const n=t(),o=e.selection.getRng();return((e,t,n)=>me(n.triggers,(n=>pE(e,t,n))))(e.dom,o,n).bind((n=>yE(e,t,n)))},yE=(e,t,n,o={})=>{var r;const i=t(),s=null!==(r=e.selection.getRng().startContainer.nodeValue)&&void 0!==r?r:"",a=K(i.lookupByTrigger(n.trigger),(t=>n.text.length>=t.minChars&&t.matches.getOrThunk((()=>vE(e.dom)))(n.range,s,n.text)));if(0===a.length)return F.none();const l=Promise.all(Z(a,(e=>e.fetch(n.text,e.maxResults,o).then((t=>({matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}))))));return F.some({lookupData:l,context:n})};var wE;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(wE||(wE={}));const xE=(e,t,n)=>e.stype===wE.Error?t(e.serror):n(e.svalue),_E=e=>({stype:wE.Value,svalue:e}),SE=e=>({stype:wE.Error,serror:e}),CE=e=>xE(e,ml.error,ml.value),jE=_E,kE=e=>{const t=[],n=[];return G(e,(e=>{xE(e,(e=>n.push(e)),(e=>t.push(e)))})),{values:t,errors:n}},EE=SE,OE=(e,t)=>e.stype===wE.Error?t(e.serror):e,AE=(e,t)=>e.stype===wE.Value?{stype:wE.Value,svalue:t(e.svalue)}:e,TE=(e,t)=>e.stype===wE.Error?{stype:wE.Error,serror:t(e.serror)}:e,DE=xE,ME=e=>f(e)&&pe(e).length>100?" removed due to size":JSON.stringify(e,null,2),PE=(e,t)=>EE([{path:e,getErrorInfo:t}]),RE=(e,t,n,o)=>Ce(n,o).fold((()=>((e,t,n)=>PE(e,(()=>'The chosen schema: "'+n+'" did not exist in branches: '+ME(t))))(e,n,o)),(n=>n.extract(e.concat(["branch: "+o]),t))),NE=(e,t)=>({extract:(n,o)=>Ce(o,e).fold((()=>((e,t)=>PE(e,(()=>'Choice schema did not contain choice key: "'+t+'"')))(n,e)),(e=>RE(n,o,t,e))),toString:()=>"chooseOn("+e+"). Possible values: "+pe(t)}),LE=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let o=0;o<t.length;o++){const r=t[o];for(const t in r)je(r,t)&&(n[t]=e(n[t],r[t]))}return n},IE=LE(((e,t)=>g(e)&&g(t)?IE(e,t):t)),BE=(LE(((e,t)=>t)),e=>({tag:"defaultedThunk",process:A(e)})),FE=e=>E(EE,ne)(e),HE=e=>{const t=kE(e);return t.errors.length>0?FE(t.errors):jE(t.values)},VE=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},zE=e=>({extract:(t,n)=>OE(e(n),(e=>((e,t)=>PE(e,A(t)))(t,e))),toString:A("val")}),UE=zE(jE),WE=(e,t,n,o)=>Ce(t,n).fold((()=>((e,t,n)=>PE(e,(()=>'Could not find valid *required* value for "'+t+'" in '+ME(n))))(e,n,t)),o),qE=(e,t,n,o)=>o(Ce(e,t).getOrThunk((()=>n(e)))),ZE=(e,t,n,o,r)=>{const i=e=>r.extract(t.concat([o]),e),s=e=>e.fold((()=>jE(F.none())),(e=>{const n=r.extract(t.concat([o]),e);return AE(n,F.some)}));switch(e.tag){case"required":return WE(t,n,o,i);case"defaultedThunk":return qE(n,o,e.process,i);case"option":return((e,t,n)=>n(Ce(e,t)))(n,o,s);case"defaultedOptionThunk":return((e,t,n,o)=>o(Ce(e,t).map((t=>!0===t?n(e):t))))(n,o,e.process,s);case"mergeWithThunk":return qE(n,o,A({}),(t=>{const o=IE(e.process(n),t);return i(o)}))}},GE=e=>({extract:(t,n)=>((e,t,n)=>{const o={},r=[];for(const i of n)VE(i,((n,i,s,a)=>{const l=ZE(s,e,t,n,a);DE(l,(e=>{r.push(...e)}),(e=>{o[i]=e}))}),((e,n)=>{o[e]=n(t)}));return r.length>0?EE(r):jE(o)})(t,n,e),toString:()=>{const t=Z(e,(e=>VE(e,((e,t,n,o)=>e+" -> "+o.toString()),((e,t)=>"state("+e+")"))));return"obj{\n"+t.join("\n")+"}"}}),$E=e=>({extract:(t,n)=>{const o=Z(n,((n,o)=>e.extract(t.concat(["["+o+"]"]),n)));return HE(o)},toString:()=>"array("+e.toString()+")"}),YE=(e,t,n)=>CE(((e,t,n)=>{const o=t.extract([e],n);return TE(o,(e=>({input:n,errors:e})))})(e,t,n)),KE=e=>"Errors: \n"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:A("... (only showing first ten failures)")}]):e;return Z(t,(e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()))})(e.errors).join("\n")+"\n\nInput object: "+ME(e.input),XE=(e,t)=>NE(e,ve(t,GE)),QE=A(UE),JE=(e,t)=>zE((n=>{const o=typeof n;return e(n)?jE(n):EE(`Expected type: ${t} but got: ${o}`)})),eO=JE(C,"number"),tO=JE(p,"string"),nO=JE(y,"boolean"),oO=JE(S,"function"),rO=(e,t,n,o)=>({tag:"field",key:e,newKey:t,presence:n,prop:o}),iO=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),sO=e=>{return t=t=>W(e,t)?ml.value(t):ml.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`),zE((e=>t(e).fold(EE,jE)));var t},aO=(e,t)=>rO(e,e,{tag:"required",process:{}},t),lO=e=>aO(e,tO),cO=e=>aO(e,oO),dO=(e,t)=>rO(e,e,{tag:"option",process:{}},t),uO=e=>dO(e,tO),hO=(e,t,n)=>rO(e,e,BE(t),n),mO=(e,t)=>hO(e,t,eO),pO=(e,t,n)=>hO(e,t,sO(n)),fO=(e,t)=>hO(e,t,nO),gO=(e,t)=>hO(e,t,oO),vO=lO("type"),bO=cO("fetch"),yO=cO("onAction"),wO=gO("onSetup",(()=>k)),xO=uO("text"),_O=uO("icon"),SO=uO("tooltip"),CO=uO("label"),jO=fO("active",!1),kO=fO("enabled",!0),EO=fO("primary",!1),OO=e=>((e,t)=>hO(e,t,tO))("type",e),AO=GE([vO,lO("trigger"),mO("minChars",1),(DO=1,((e,t)=>rO(e,e,BE(t),QE()))("columns",DO)),mO("maxResults",10),(TO="matches",dO(TO,oO)),bO,yO,((e,t,n)=>hO(e,t,$E(n)))("highlightOn",[],tO)]);var TO,DO;const MO=[kO,SO,_O,xO,wO],PO=[jO].concat(MO),RO=[gO("predicate",I),pO("scope","node",["node","editor"]),pO("position","selection",["node","selection","line"])],NO=MO.concat([OO("contextformbutton"),EO,yO,iO("original",T)]),LO=PO.concat([OO("contextformbutton"),EO,yO,iO("original",T)]),IO=MO.concat([OO("contextformbutton")]),BO=PO.concat([OO("contextformtogglebutton")]),FO=XE("type",{contextformbutton:NO,contextformtogglebutton:LO});GE([OO("contextform"),gO("initValue",A("")),CO,((e,t)=>rO(e,e,{tag:"required",process:{}},$E(t)))("commands",FO),dO("launch",XE("type",{contextformbutton:IO,contextformtogglebutton:BO}))].concat(RO));const HO=e=>{const t=e.ui.registry.getAll().popups,n=ve(t,(e=>{return(t=e,YE("Autocompleter",AO,{trigger:t.ch,...t})).fold((e=>{throw new Error(KE(e))}),T);var t})),o=Ee(_e(n,(e=>e.trigger))),r=Se(n);return{dataset:n,triggers:o,lookupByTrigger:e=>K(r,(t=>t.trigger===e))}},VO=e=>{const t=Ws(),n=Is(!1),o=t.isSet,r=()=>{o()&&((e=>{Vx(e).autocompleter.removeDecoration()})(e),(e=>{e.dispatch("AutocompleterEnd")})(e),n.set(!1),t.clear())},i=n=>{o()||(((e,t)=>{Vx(e).autocompleter.addDecoration(t)})(e,n.range),t.set({trigger:n.trigger,matchLength:n.text.length}))},s=Le((()=>HO(e))),a=o=>{(n=>t.get().map((t=>pE(e.dom,e.selection.getRng(),t.trigger).bind((t=>yE(e,s,t,n))))).getOrThunk((()=>bE(e,s))))(o).fold(r,(o=>{i(o.context),o.lookupData.then((i=>{t.get().map((s=>{const a=o.context;s.trigger===a.trigger&&(a.text.length-s.matchLength>=10?r():(t.set({...s,matchLength:a.text.length}),n.get()?((e,t)=>{e.dispatch("AutocompleterUpdate",t)})(e,{lookupData:i}):(n.set(!0),((e,t)=>{e.dispatch("AutocompleterStart",t)})(e,{lookupData:i}))))}))}))}))};e.addCommand("mceAutocompleterReload",((e,t)=>{const n=f(t)?t.fetchOptions:{};a(n)})),e.addCommand("mceAutocompleterClose",r),((e,t)=>{const n=Zs(t.load,50);e.on("keypress compositionend",(e=>{27!==e.which&&n.throttle()})),e.on("keydown",(e=>{const o=e.which;8===o?n.throttle():27===o&&t.cancelIfNecessary()})),e.on("remove",n.cancel)})(e,{cancelIfNecessary:r,load:a})},zO=e=>(t,n,o={})=>{const r=t.getBody(),i={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:r,currentTarget:r,eventPhase:Event.AT_TARGET,originalTarget:r,explicitOriginalTarget:r,isTrusted:!1,srcElement:r,cancelable:!1,preventDefault:k,inputType:n},s=vs(new InputEvent(e));return t.dispatch(e,{...s,...i,...o})},UO=zO("input"),WO=zO("beforeinput"),qO=(e,t)=>{let n=!1;e.on("keydown",(o=>{n=o.keyCode===mm.BACKSPACE,o.isDefaultPrevented()||((e,t,n)=>{const o=n.keyCode===mm.BACKSPACE?"deleteContentBackward":"deleteContentForward";jk([{keyCode:mm.BACKSPACE,action:Sk(Wj,e)},{keyCode:mm.BACKSPACE,action:Sk($S,e,!1)},{keyCode:mm.DELETE,action:Sk($S,e,!0)},{keyCode:mm.BACKSPACE,action:Sk(IS,e,!1)},{keyCode:mm.DELETE,action:Sk(IS,e,!0)},{keyCode:mm.BACKSPACE,action:Sk(wj,e,t,!1)},{keyCode:mm.DELETE,action:Sk(wj,e,t,!0)},{keyCode:mm.BACKSPACE,action:Sk(jv,e,!1)},{keyCode:mm.DELETE,action:Sk(jv,e,!0)},{keyCode:mm.BACKSPACE,action:Sk(YS,e,!1)},{keyCode:mm.DELETE,action:Sk(YS,e,!0)},{keyCode:mm.BACKSPACE,action:Sk(Lj,e,!1)},{keyCode:mm.DELETE,action:Sk(Lj,e,!0)},{keyCode:mm.BACKSPACE,action:Sk(TS,e,!1)},{keyCode:mm.DELETE,action:Sk(TS,e,!0)},{keyCode:mm.BACKSPACE,action:Sk(kS,e,!1)},{keyCode:mm.DELETE,action:Sk(kS,e,!0)},{keyCode:mm.BACKSPACE,action:Sk(Dj,e,!1)},{keyCode:mm.DELETE,action:Sk(Dj,e,!0)}],n).filter((t=>e.selection.isEditable())).each((t=>{n.preventDefault(),WO(e,o).isDefaultPrevented()||(t(),UO(e,o))}))})(e,t,o)})),e.on("keyup",(t=>{t.isDefaultPrevented()||((e,t,n)=>{const o=St(),r=o.os,i=o.browser,s=r.isMacOS()?[{keyCode:mm.BACKSPACE,altKey:!0,action:Sk(Rj,e)},{keyCode:mm.DELETE,altKey:!0,action:Sk(Rj,e)}]:[{keyCode:mm.BACKSPACE,ctrlKey:!0,action:Sk(Rj,e)},{keyCode:mm.DELETE,ctrlKey:!0,action:Sk(Rj,e)}];r.isMacOS()&&n&&s.push({keyCode:i.isFirefox()?224:91,action:Sk(Rj,e)}),Ck([{keyCode:mm.BACKSPACE,action:Sk(GS,e)},{keyCode:mm.DELETE,action:Sk(GS,e)},...s],t)})(e,t,n),n=!1}))},ZO=(e,t)=>{const n=e.dom,o=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const e=(e=>{for(;e;){if(Vo(e)||Ko(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null})(t.firstChild);e&&/^(UL|OL|DL)$/.test(e.nodeName)&&t.insertBefore(n.doc.createTextNode(ur),t.firstChild)}const r=n.createRng();if(t.normalize(),t.hasChildNodes()){const e=new Bo(t,t);let n,i=t;for(;n=e.current();){if(Ko(n)){r.setStart(n,0),r.setEnd(n,0);break}if(o[n.nodeName.toLowerCase()]){r.setStartBefore(n),r.setEndBefore(n);break}i=n,n=e.next()}n||(r.setStart(i,0),r.setEnd(i,0))}else nr(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)):(r.setStart(t,0),r.setEnd(t,0));e.selection.setRng(r),vp(e,r)},GO=(e,t)=>{const n=e.getRoot();let o,r=t;for(;r!==n&&r&&"false"!==e.getContentEditable(r);)"true"===e.getContentEditable(r)&&(o=r),r=r.parentNode;return r!==n?o:n},$O=e=>F.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),YO=(e,t)=>{const n=null==e?void 0:e.parentNode;return _(n)&&n.nodeName===t},KO=e=>_(e)&&/^(OL|UL|LI)$/.test(e.nodeName),XO=e=>{const t=e.parentNode;return _(n=t)&&/^(LI|DT|DD)$/.test(n.nodeName)?t:e;var n},QO=(e,t,n)=>{let o=e[n?"firstChild":"lastChild"];for(;o&&!Vo(o);)o=o[n?"nextSibling":"previousSibling"];return o===t},JO=(e,t,n,o,r)=>{const i=e.dom,s=e.selection.getRng(),a=n.parentNode;if(n===e.getBody()||!a)return;var l;KO(l=n)&&KO(l.parentNode)&&(r="LI");let c=t(r);if(QO(n,o,!0)&&QO(n,o,!1))if(YO(n,"LI")){const e=XO(n);i.insertAfter(c,e),(e=>{var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e})(n)?i.remove(e):i.remove(n)}else i.replace(c,n);else if(QO(n,o,!0))YO(n,"LI")?(i.insertAfter(c,XO(n)),c.appendChild(i.doc.createTextNode(" ")),c.appendChild(n)):a.insertBefore(c,n),i.remove(o);else if(QO(n,o,!1))i.insertAfter(c,XO(n)),i.remove(o);else{n=XO(n);const e=s.cloneRange();e.setStartAfter(o),e.setEndAfter(n);const t=e.extractContents();"LI"===r&&((e,t)=>e.firstChild&&e.firstChild.nodeName===t)(t,"LI")?(c=t.firstChild,i.insertAfter(t,n)):(i.insertAfter(t,n),i.insertAfter(c,n)),i.remove(o)}ZO(e,c)},eA=(e,t)=>t&&"A"===t.nodeName&&e.isEmpty(t),tA=e=>{e.innerHTML='<br data-mce-bogus="1">'},nA=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,oA=(e,t)=>_(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&"false"!==e.getContentEditable(t),rA=(e,t,n)=>Ko(t)?e?1===n&&t.data.charAt(n-1)===Pr?0:n:n===t.data.length-1&&t.data.charAt(n)===Pr?t.data.length:n:n,iA=(e,t)=>{if(Nl(e).toLowerCase()===t.tagName.toLowerCase()){((e,t,n)=>{const o=e.dom;F.from(n.style).map(o.parseStyle).each((e=>{const n={...co(vn.fromDom(t)),...e};o.setStyles(t,n)}));const r=F.from(n.class).map((e=>e.split(/\s+/))),i=F.from(t.className).map((e=>K(e.split(/\s+/),(e=>""!==e))));Lt(r,i,((e,n)=>{const r=K(n,(t=>!W(e,t))),i=[...e,...r];o.setAttrib(t,"class",i.join(" "))}));const s=["style","class"],a=xe(n,((e,t)=>!W(s,t)));o.setAttribs(t,a)})(e,t,Ll(e))}},sA={insert:(e,t)=>{let n,o,r,i,s=!1;const a=e.dom,l=e.schema,c=l.getNonEmptyElements(),d=e.selection.getRng(),u=Nl(e),h=t=>{let o=n;const i=l.getTextInlineElements();let s;s=t||"TABLE"===r||"HR"===r?a.create(t||u):y.cloneNode(!1);let c=s;if(!1===Hl(e))a.setAttrib(s,"style",null),a.setAttrib(s,"class",null);else do{if(i[o.nodeName]){if(Ou(o)||zu(o))continue;const e=o.cloneNode(!1);a.setAttrib(e,"id",""),s.hasChildNodes()?(e.appendChild(s.firstChild),s.appendChild(e)):(c=e,s.appendChild(e))}}while((o=o.parentNode)&&o!==b);return iA(e,s),tA(c),s},m=e=>{const t=rA(e,n,o);if(Ko(n)&&(e?t>0:t<n.data.length))return!1;if(n.parentNode===y&&s&&!e)return!0;if(e&&Vo(n)&&n===y.firstChild)return!0;if(nA(n,"TABLE")||nA(n,"HR"))return s&&!e||!s&&e;const r=new Bo(n,y);let i;for(Ko(n)&&(e&&0===t?r.prev():e||t!==n.data.length||r.next());i=r.current();){if(Vo(i)){if(!i.getAttribute("data-mce-bogus")){const e=i.nodeName.toLowerCase();if(c[e]&&"br"!==e)return!1}}else if(Ko(i)&&!si(i.data))return!1;e?r.prev():r.next()}return!0},f=()=>{let t;return t=/^(H[1-6]|PRE|FIGURE)$/.test(r)&&"HGROUP"!==w?h(u):h(),((e,t)=>{const n=Vl(e);return!x(t)&&(p(n)?W(Rt.explode(n),t.nodeName.toLowerCase()):n)})(e,i)&&oA(a,i)&&a.isEmpty(y)?t=a.split(i,y):a.insertAfter(t,y),ZO(e,t),t};Zm(a,d).each((e=>{d.setStart(e.startContainer,e.startOffset),d.setEnd(e.endContainer,e.endOffset)})),n=d.startContainer,o=d.startOffset;const g=!(!t||!t.shiftKey),v=!(!t||!t.ctrlKey);Vo(n)&&n.hasChildNodes()&&(s=o>n.childNodes.length-1,n=n.childNodes[Math.min(o,n.childNodes.length-1)]||n,o=s&&Ko(n)?n.data.length:0);const b=GO(a,n);if(!b||((e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return null!==n&&"false"===e.dom.getContentEditableParent(n)})(e,n))return;g||(n=((e,t,n,o,r)=>{var i,s;const a=e.dom,l=null!==(i=GO(a,o))&&void 0!==i?i:a.getRoot();let c=a.getParent(o,a.isBlock);if(!c||!oA(a,c)){if(c=c||l,!c.hasChildNodes()){const o=a.create(t);return iA(e,o),c.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o}let i,d=o;for(;d&&d.parentNode!==c;)d=d.parentNode;for(;d&&!a.isBlock(d);)i=d,d=d.previousSibling;const u=null===(s=null==i?void 0:i.parentElement)||void 0===s?void 0:s.nodeName;if(i&&u&&e.schema.isValidChild(u,t.toLowerCase())){const s=i.parentNode,l=a.create(t);for(iA(e,l),s.insertBefore(l,i),d=i;d&&!a.isBlock(d);){const e=d.nextSibling;l.appendChild(d),d=e}n.setStart(o,r),n.setEnd(o,r)}}return o})(e,u,d,n,o));let y=a.getParent(n,a.isBlock)||a.getRoot();i=_(null==y?void 0:y.parentNode)?a.getParent(y.parentNode,a.isBlock):null,r=y?y.nodeName.toUpperCase():"";const w=i?i.nodeName.toUpperCase():"";if("LI"===w&&!v){y=i,i=i.parentNode,r=w}if(/^(LI|DT|DD)$/.test(r)&&Vo(i)&&a.isEmpty(y))return void JO(e,h,i,y,u);if(y===e.getBody()||!oA(a,y))return;const S=y.parentNode;let C;if(Br(y))C=Zr(y),a.isEmpty(y)&&tA(y),iA(e,C),ZO(e,C);else if(m(!1))C=f();else if(m(!0)&&S)C=S.insertBefore(h(),y),ZO(e,nA(y,"HR")?C:y);else{const t=(e=>{const t=e.cloneRange();return t.setStart(e.startContainer,rA(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,rA(!1,e.endContainer,e.endOffset)),t})(d).cloneRange();t.setEndAfter(y);const n=t.extractContents();(e=>{G(No(vn.fromDom(e),Gt),(e=>{const t=e.dom;t.nodeValue=Nr(t.data)}))})(n),(e=>{let t=e;do{Ko(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)})(n),C=n.firstChild,a.insertAfter(n,y),((e,t,n)=>{var o;const r=[];if(!n)return;let i=n;for(;i=i.firstChild;){if(e.isBlock(i))return;Vo(i)&&!t[i.nodeName.toLowerCase()]&&r.push(i)}let s=r.length;for(;s--;)i=r[s],(!i.hasChildNodes()||i.firstChild===i.lastChild&&""===(null===(o=i.firstChild)||void 0===o?void 0:o.nodeValue)||eA(e,i))&&e.remove(i)})(a,c,C),((e,t)=>{t.normalize();const n=t.lastChild;(!n||Vo(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")})(a,y),a.isEmpty(y)&&tA(y),C.normalize(),a.isEmpty(C)?(a.remove(C),f()):(iA(e,C),ZO(e,C))}a.setAttrib(C,"id",""),e.dispatch("NewBlock",{newBlock:C})},fakeEventName:"insertParagraph"},aA=(e,t,n)=>{const o=e.dom.createRng();n?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),e.selection.setRng(o),vp(e,o)},lA=(e,t)=>{const n=e.selection,o=e.dom,r=n.getRng();let i,s=!1;Zm(o,r).each((e=>{r.setStart(e.startContainer,e.startOffset),r.setEnd(e.endContainer,e.endOffset)}));let a=r.startOffset,l=r.startContainer;if(Vo(l)&&l.hasChildNodes()){const e=a>l.childNodes.length-1;l=l.childNodes[Math.min(a,l.childNodes.length-1)]||l,a=e&&Ko(l)?l.data.length:0}let c=o.getParent(l,o.isBlock);const d=c&&c.parentNode?o.getParent(c.parentNode,o.isBlock):null,u=d?d.nodeName.toUpperCase():"",h=!(!t||!t.ctrlKey);"LI"!==u||h||(c=d),Ko(l)&&a>=l.data.length&&(((e,t,n)=>{const o=new Bo(t,n);let r;const i=e.getNonEmptyElements();for(;r=o.next();)if(i[r.nodeName.toLowerCase()]||Ko(r)&&r.length>0)return!0;return!1})(e.schema,l,c||o.getRoot())||(i=o.create("br"),r.insertNode(i),r.setStartAfter(i),r.setEndAfter(i),s=!0)),i=o.create("br"),Wa(o,r,i),aA(e,i,s),e.undoManager.add()},cA=(e,t)=>{const n=vn.fromTag("br");ho(vn.fromDom(t),n),e.undoManager.add()},dA=(e,t)=>{uA(e.getBody(),t)||mo(vn.fromDom(t),vn.fromTag("br"));const n=vn.fromTag("br");mo(vn.fromDom(t),n),aA(e,n.dom,!1),e.undoManager.add()},uA=(e,t)=>{return n=za.after(t),!!nr(n.getNode())||Su(e,za.after(t)).map((e=>nr(e.getNode()))).getOr(!1);var n},hA=e=>e&&"A"===e.nodeName&&"href"in e,mA=e=>e.fold(I,hA,hA,I),pA=(e,t)=>{t.fold(k,M(cA,e),M(dA,e),k)},fA={insert:(e,t)=>{const n=(e=>{const t=M(Bg,e),n=za.fromRangeStart(e.selection.getRng());return gC(t,e.getBody(),n).filter(mA)})(e);n.isSome()?n.each(M(pA,e)):lA(e,t)},fakeEventName:"insertLineBreak"},gA=(e,t)=>$O(e).filter((e=>t.length>0&&yn(vn.fromDom(e),t))).isSome(),vA=pl([{br:[]},{block:[]},{none:[]}]),bA=(e,t)=>(e=>gA(e,Fl(e)))(e),yA=e=>(t,n)=>(e=>$O(e).filter((e=>Sr(vn.fromDom(e)))).isSome())(t)===e,wA=(e,t)=>(n,o)=>{const r=(e=>$O(e).fold(A(""),(e=>e.nodeName.toUpperCase())))(n)===e.toUpperCase();return r===t},xA=e=>{const t=GO(e.dom,e.selection.getStart());return x(t)},_A=e=>wA("pre",e),SA=e=>(t,n)=>Rl(t)===e,CA=(e,t)=>(e=>gA(e,Bl(e)))(e),jA=(e,t)=>t,kA=e=>{const t=Nl(e),n=GO(e.dom,e.selection.getStart());return _(n)&&e.schema.isValidChild(n.nodeName,t)},EA=(e,t)=>(n,o)=>Q(e,((e,t)=>e&&t(n,o)),!0)?F.some(t):F.none(),OA=(e,t,n)=>{if(t.selection.isCollapsed()||(e=>{e.execCommand("delete")})(t),_(n)){if(WO(t,e.fakeEventName).isDefaultPrevented())return}e.insert(t,n),_(n)&&UO(t,e.fakeEventName)},AA=(e,t)=>{const n=()=>OA(fA,e,t),o=()=>OA(sA,e,t),r=((e,t)=>sC([EA([bA],vA.none()),EA([_A(!0),xA],vA.none()),EA([wA("summary",!0)],vA.br()),EA([_A(!0),SA(!1),jA],vA.br()),EA([_A(!0),SA(!1)],vA.block()),EA([_A(!0),SA(!0),jA],vA.block()),EA([_A(!0),SA(!0)],vA.br()),EA([yA(!0),jA],vA.br()),EA([yA(!0)],vA.block()),EA([CA],vA.br()),EA([jA],vA.br()),EA([kA],vA.block())],[e,!(!t||!t.shiftKey)]).getOr(vA.none()))(e,t);switch(Il(e)){case"linebreak":r.fold(n,n,k);break;case"block":r.fold(o,o,k);break;case"invert":r.fold(o,n,k);break;default:r.fold(n,o,k)}},TA=e=>{e.on("keydown",(t=>{t.keyCode===mm.ENTER&&((e,t)=>{var n;t.isDefaultPrevented()||(t.preventDefault(),(n=e.undoManager).typing&&(n.typing=!1,n.add()),e.undoManager.transact((()=>{AA(e,t)})))})(e,t)}))},DA=(e,t)=>{e.on("keydown",(n=>{n.isDefaultPrevented()||((e,t,n)=>{const o=Tt.os.isMacOS()||Tt.os.isiOS();Ck([{keyCode:mm.END,action:Sk(mk,e,!0)},{keyCode:mm.HOME,action:Sk(mk,e,!1)},...o?[]:[{keyCode:mm.HOME,action:Sk(pk,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:mm.END,action:Sk(pk,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:mm.END,action:Sk(Ok,e,!0)},{keyCode:mm.HOME,action:Sk(Ok,e,!1)},{keyCode:mm.END,action:Sk(gj,e,!0,t)},{keyCode:mm.HOME,action:Sk(gj,e,!1,t)}],n).each((e=>{n.preventDefault()}))})(e,t,n)}))},MA=e=>{e.on("input",(t=>{t.isComposing||(e=>{const t=vn.fromDom(e.getBody());e.selection.isCollapsed()&&xg(t,za.fromRangeStart(e.selection.getRng())).each((t=>{e.selection.setRng(t.toRange())}))})(e)}))},PA=St(),RA=e=>e.stopImmediatePropagation(),NA=e=>e.keyCode===mm.PAGE_UP||e.keyCode===mm.PAGE_DOWN,LA=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",RA,!0):!n&&e.get()&&t.off("NodeChange",RA),e.set(n)},IA=(e,t)=>{if(PA.os.isMacOS())return;const n=Is(!1);e.on("keydown",(t=>{NA(t)&&LA(n,e,!0)})),e.on("keyup",(o=>{o.isDefaultPrevented()||((e,t,n)=>{Ck([{keyCode:mm.PAGE_UP,action:Sk(gj,e,!1,t)},{keyCode:mm.PAGE_DOWN,action:Sk(gj,e,!0,t)}],n)})(e,t,o),NA(o)&&n.get()&&(LA(n,e,!1),e.nodeChanged())}))},BA=(e,t)=>{const n=t.container(),o=t.offset();return Ko(n)?(n.insertData(o,e),F.some(za(n,o+e.length))):eu(t).map((n=>{const o=vn.fromText(e);return t.isAtEnd()?mo(n,o):ho(n,o),za(o.dom,e.length)}))},FA=M(BA,ur),HA=M(BA," "),VA=(e,t)=>n=>((e,t)=>!dg(t)&&(ug(e,t)||lg(e,t)||cg(e,t)))(e,n)?FA(t):HA(t),zA=e=>{const t=za.fromRangeStart(e.selection.getRng()),n=vn.fromDom(e.getBody());if(e.selection.isCollapsed()){const o=M(Bg,e),r=za.fromRangeStart(e.selection.getRng());return gC(o,e.getBody(),r).bind((e=>t=>t.fold((t=>Cu(e.dom,za.before(t))),(e=>ju(e)),(e=>ku(e)),(t=>Su(e.dom,za.after(t)))))(n)).map((o=>()=>VA(n,t)(o).each((e=>t=>(e.selection.setRng(t.toRange()),e.nodeChanged(),!0))(e))))}return F.none()},UA=e=>{e.on("keydown",(t=>{t.isDefaultPrevented()||((e,t)=>{jk([{keyCode:mm.SPACEBAR,action:Sk(zA,e)}],t).each((n=>{t.preventDefault(),WO(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),UO(e,"insertText",{data:" "}))}))})(e,t)}))},WA=e=>ud(e)?[{keyCode:mm.TAB,action:Sk(tE,e,!0)},{keyCode:mm.TAB,shiftKey:!0,action:Sk(tE,e,!1)}]:[],qA=e=>{e.on("keydown",(t=>{t.isDefaultPrevented()||((e,t)=>{Ck([...WA(e)],t).each((e=>{t.preventDefault()}))})(e,t)}))},ZA=e=>{if(e.addShortcut("Meta+P","","mcePrint"),VO(e),Bx(e))return Is(null);{const t=mj(e);return(e=>{e.on("keyup compositionstart",M(sk,e))})(e),nE(e,t),qO(e,t),TA(e),UA(e),MA(e),qA(e),DA(e,t),IA(e,t),t}};class GA{constructor(e){let t;this.lastPath=[],this.editor=e;const n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(n=>{const o=e.selection.getRng(),r={startContainer:o.startContainer,startOffset:o.startOffset,endContainer:o.endContainer,endOffset:o.endOffset};"nodechange"!==n.type&&Fm(r,t)||e.dispatch("SelectionChange"),t=r})),e.on("contextmenu",(()=>{e.dispatch("SelectionChange")})),e.on("SelectionChange",(()=>{const t=e.selection.getStart(!0);t&&dh(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})})),e.on("mouseup",(t=>{!t.isDefaultPrevented()&&dh(e)&&("IMG"===e.selection.getNode().nodeName?Dp.setEditorTimeout(e,(()=>{e.nodeChanged()})):e.nodeChanged())}))}nodeChanged(e={}){const t=this.editor.selection;let n;if(this.editor.initialized&&t&&!Ac(this.editor)&&!this.editor.mode.isReadOnly()){const o=this.editor.getBody();n=t.getStart(!0)||o,n.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(n,o)||(n=o);const r=[];this.editor.dom.getParent(n,(e=>e===o||(r.push(e),!1))),this.editor.dispatch("NodeChange",{...e,element:n,parents:r})}}isSameElementPath(e){let t;const n=this.editor,o=ie(n.dom.getParents(e,B,n.getBody()));if(o.length===this.lastPath.length){for(t=o.length;t>=0&&o[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=o,!0}return this.lastPath=o,!1}}const $A="x-tinymce/html",YA=A($A),KA="\x3c!-- "+$A+" --\x3e",XA=e=>KA+e,QA=e=>-1!==e.indexOf(KA),JA=(e,t,n)=>{const o=e.split(/\n\n/),r=((e,t)=>{let n="<"+e;const o=_e(t,((e,t)=>t+'="'+es.encodeAllRaw(e)+'"'));return o.length&&(n+=" "+o.join(" ")),n+">"})(t,n),i="</"+t+">",s=Z(o,(e=>e.split(/\n/).join("<br />")));return 1===s.length?s[0]:Z(s,(e=>r+e+i)).join("")},eT="%MCEPASTEBIN%",tT=e=>e.dom.get("mcepastebin"),nT=e=>_(e)&&"mcepastebin"===e.id,oT=e=>e===eT,rT=e=>{const t=Is(null);return{create:()=>((e,t)=>{const{dom:n,selection:o}=e,r=e.getBody();t.set(o.getRng());const i=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},eT);Tt.browser.isFirefox()&&n.setStyle(i,"left","rtl"===n.getStyle(r,"direction",!0)?65535:-65535),n.bind(i,"beforedeactivate focusin focusout",(e=>{e.stopPropagation()})),i.focus(),o.select(i,!0)})(e,t),remove:()=>((e,t)=>{const n=e.dom;if(tT(e)){let o;const r=t.get();for(;o=tT(e);)n.remove(o),n.unbind(o);r&&e.selection.setRng(r)}t.set(null)})(e,t),getEl:()=>tT(e),getHtml:()=>(e=>{const t=e.dom,n=(e,n)=>{e.appendChild(n),t.remove(n,!0)},[o,...r]=K(e.getBody().childNodes,nT);G(r,(e=>{n(o,e)}));const i=t.select("div[id=mcepastebin]",o);for(let e=i.length-1;e>=0;e--){const r=t.create("div");o.insertBefore(r,i[e]),n(r,i[e])}return o?o.innerHTML:""})(e),getLastRng:t.get}},iT=(e,t)=>(Rt.each(t,(t=>{e=m(t,RegExp)?e.replace(t,""):e.replace(t[0],t[1])})),e),sT=e=>e=iT(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(e,t,n)=>t||n?ur:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),aT=(e,t)=>({content:e,cancelled:t}),lT=(e,t,n)=>{const o=((e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}))(e,t,n),r=((e,t)=>{const n=Jw({sanitize:cd(e)},e.schema);n.addNodeFilter("meta",(e=>{Rt.each(e,(e=>{e.remove()}))}));const o=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Sf({validate:!0},e.schema).serialize(o)})(e,o.content);return e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?((e,t,n)=>{const o=e.dom.create("div",{style:"display:none"},t),r=((e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}))(e,o,n);return aT(r.node.innerHTML,r.isDefaultPrevented())})(e,r,n):aT(r,o.isDefaultPrevented())},cT=(e,t)=>(e.insertContent(t,{merge:Xc(e),paste:!0}),!0),dT=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),uT=(e,t,n)=>!(e.selection.isCollapsed()||!dT(t))&&((e,t,n)=>(e.undoManager.extra((()=>{n(e,t)}),(()=>{e.execCommand("mceInsertLink",!1,t)})),!0))(e,t,n),hT=(e,t,n)=>!!((e,t)=>dT(t)&&q(dd(e),(e=>qe(t.toLowerCase(),`.${e.toLowerCase()}`))))(e,t)&&((e,t,n)=>(e.undoManager.extra((()=>{n(e,t)}),(()=>{e.insertContent('<img src="'+t+'">')})),!0))(e,t,n),mT=(e,t,n)=>{n||!Qc(e)?cT(e,t):((e,t)=>{Rt.each([uT,hT,cT],(n=>!n(e,t,cT)))})(e,t)},pT=(e=>{let t=0;return()=>e+t++})("mceclip"),fT=(e,t,n,o)=>{const r=((e,t,n)=>lT(e,t,n))(e,t,n);r.cancelled||mT(e,r.content,o)},gT=(e,t,n)=>{const o=n||QA(t);fT(e,(e=>e.replace(KA,""))(t),o,!1)},vT=(e,t)=>{const n=e.dom.encode(t).replace(/\r\n/g,"\n"),o=li(n,ed(e)),r=JA(o,Nl(e),Ll(e));fT(e,r,!1,!0)},bT=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const o=e.types[n];try{t[o]=e.getData(o)}catch(e){t[o]=""}}return t},yT=(e,t)=>t in e&&e[t].length>0,wT=e=>yT(e,"text/html")||yT(e,"text/plain"),xT=(e,t,n,o)=>{const r=pT(),i=Ul(e)&&_(n.name),s=i?((e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return _(n)?e.dom.encode(n[1]):void 0})(e,n.name):r,a=i?n.name:void 0,l=t.create(r,n,o,s,a);return t.add(l),l},_T=e=>{const t=dd(e);return e=>We(e.type,"image/")&&q(t,(t=>(e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Rt.hasOwn(n,t)?"image/"+n[t]:"image/"+t})(t)===e.type))},ST=(e,t,n)=>{const o="paste"===t.type?t.clipboardData:t.dataTransfer;var r;if(Zc(e)&&o){const i=((e,t)=>{const n=t.items?oe(he(t.items),(e=>"file"===e.kind?[e.getAsFile()]:[])):[],o=t.files?he(t.files):[];return K(n.length>0?n:o,_T(e))})(e,o);if(i.length>0)return t.preventDefault(),(r=i,Promise.all(Z(r,(e=>Ay(e).then((t=>({file:e,uri:t}))))))).then((t=>{n&&e.selection.setRng(n),G(t,(t=>{((e,t)=>{ky(t.uri).each((({data:n,type:o,base64Encoded:r})=>{const i=r?n:btoa(n),s=t.file,a=e.editorUpload.blobCache,l=a.getByData(i,o),c=null!=l?l:xT(e,a,s,i);gT(e,`<img src="${c.blobUri()}">`,!1)}))})(e,t)}))})),!0}return!1},CT=(e,t,n,o)=>{let r=sT(n);const i=yT(t,YA())||QA(n),s=!i&&(e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e))(r),a=dT(r);(oT(r)||!r.length||s&&!a)&&(o=!0),(o||a)&&(r=yT(t,"text/plain")&&s?t["text/plain"]:(e=>{const t=ms(),n=Jw({},t);let o="";const r=t.getVoidElements(),i=Rt.makeMap("script noscript style textarea video audio iframe object"," "),s=t.getBlockElements(),a=e=>{const n=e.name,l=e;if("br"!==n){if("wbr"!==n)if(r[n]&&(o+=" "),i[n])o+=" ";else{if(3===e.type&&(o+=e.value),!(e.name in t.getVoidElements())){let t=e.firstChild;if(t)do{a(t)}while(t=t.next)}s[n]&&l.next&&(o+="\n","p"===n&&(o+="\n"))}}else o+="\n"};return e=iT(e,[/<!\[[^\]]+\]>/g]),a(n.parse(e)),o})(r)),oT(r)||(o?vT(e,r):gT(e,r,i))},jT=(e,t,n)=>{let o;e.on("keydown",(e=>{(e=>mm.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode)(e)&&!e.isDefaultPrevented()&&(o=e.shiftKey&&86===e.keyCode)})),e.on("paste",(r=>{if(r.isDefaultPrevented()||(e=>{var t,n;return Tt.os.isAndroid()&&0===(null===(n=null===(t=e.clipboardData)||void 0===t?void 0:t.items)||void 0===n?void 0:n.length)})(r))return;const i="text"===n.get()||o;o=!1;const s=bT(r.clipboardData);!wT(s)&&ST(e,r,t.getLastRng()||e.selection.getRng())||(yT(s,"text/html")?(r.preventDefault(),CT(e,s,s["text/html"],i)):yT(s,"text/plain")&&yT(s,"text/uri-list")?(r.preventDefault(),CT(e,s,s["text/plain"],i)):(t.create(),Dp.setEditorTimeout(e,(()=>{const n=t.getHtml();t.remove(),CT(e,s,n,i)}),0)))}))},kT=(e,t,n)=>{jT(e,t,n),(e=>{const t=e=>We(e,"webkit-fake-url"),n=e=>We(e,"data:");e.parser.addNodeFilter("img",((o,r,i)=>{if(!Zc(e)&&(e=>{var t;return!0===(null===(t=e.data)||void 0===t?void 0:t.paste)})(i))for(const r of o){const o=r.attr("src");p(o)&&!r.attr("data-mce-object")&&o!==Tt.transparentSrc&&(t(o)||!td(e)&&n(o))&&r.remove()}}))})(e)},ET=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",(()=>{((e,t)=>{"text"===t.get()?(t.set("html"),hm(e,!1)):(t.set("text"),hm(e,!0)),e.focus()})(e,t)})),e.addCommand("mceInsertClipboardContent",((t,n)=>{n.html&&gT(e,n.html,n.internal),n.text&&vT(e,n.text)}))},OT=(e,t,n,o)=>{((e,t,n)=>{if(!e)return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(YA(),t),!0}catch(e){return!1}})(e.clipboardData,t.html,t.text)?(e.preventDefault(),o()):n(t.html,o)},AT=e=>(t,n)=>{const{dom:o,selection:r}=e,i=o.create("div",{contenteditable:"false","data-mce-bogus":"all"}),s=o.create("div",{contenteditable:"true"},t);o.setStyles(i,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),i.appendChild(s),o.add(e.getBody(),i);const a=r.getRng();s.focus();const l=o.createRng();l.selectNodeContents(s),r.setRng(l),Dp.setEditorTimeout(e,(()=>{r.setRng(a),o.remove(i),n()}),0)},TT=e=>({html:XA(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),DT=e=>!e.selection.isCollapsed()||(e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()))(e),MT=e=>{e.on("cut",(e=>t=>{!t.isDefaultPrevented()&&DT(e)&&OT(t,TT(e),AT(e),(()=>{if(Tt.browser.isChromium()||Tt.browser.isFirefox()){const t=e.selection.getRng();Dp.setEditorTimeout(e,(()=>{e.selection.setRng(t),e.execCommand("Delete")}),0)}else e.execCommand("Delete")}))})(e)),e.on("copy",(e=>t=>{!t.isDefaultPrevented()&&DT(e)&&OT(t,TT(e),AT(e),k)})(e))},PT=(e,t)=>{var n,o;return Ym.getCaretRangeFromPoint(null!==(n=t.clientX)&&void 0!==n?n:0,null!==(o=t.clientY)&&void 0!==o?o:0,e.getDoc())},RT=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},NT=(e,t)=>{qc(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(e=>{e.preventDefault(),e.stopPropagation()})),Zc(e)||e.on("drop",(e=>{const t=e.dataTransfer;t&&(e=>q(e.files,(e=>/^image\//.test(e.type))))(t)&&e.preventDefault()})),e.on("drop",(n=>{if(n.isDefaultPrevented())return;const o=PT(e,n);if(x(o))return;const r=bT(n.dataTransfer),i=yT(r,YA());if((!wT(r)||(e=>{const t=e["text/plain"];return!!t&&0===t.indexOf("file://")})(r))&&ST(e,n,o))return;const s=r[YA()],a=s||r["text/html"]||r["text/plain"],l=((e,t,n,o)=>{const r=e.getParent(n,(e=>Oi(t,e)));if(r&&je(o,"text/html")){const e=(new DOMParser).parseFromString(o["text/html"],"text/html").body;return!b(e.querySelector(r.nodeName.toLowerCase()))}return!1})(e.dom,e.schema,o.startContainer,r);t.get()&&!l||a&&(n.preventDefault(),Dp.setEditorTimeout(e,(()=>{e.undoManager.transact((()=>{s&&e.execCommand("Delete"),RT(e,o);const t=sT(a);r["text/html"]?gT(e,t,i):vT(e,t)}))})))})),e.on("dragstart",(e=>{t.set(!0)})),e.on("dragover dragend",(n=>{Zc(e)&&!t.get()&&(n.preventDefault(),RT(e,PT(e,n))),"dragend"===n.type&&t.set(!1)}))},LT=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,IT=e=>Rt.trim(e).replace(LT,eh).toLowerCase(),BT=(e,t,n)=>{const o=Yc(e);if(n||"all"===o||!Kc(e))return t;const r=o?o.split(/[, ]/):[];if(r&&"none"!==o){const n=e.dom,o=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,((e,t,i,s)=>{const a=n.parseStyle(n.decode(i)),l={};for(let e=0;e<r.length;e++){const t=a[r[e]];let i=t,s=n.getStyle(o,r[e],!0);/color/.test(r[e])&&(i=IT(i),s=IT(s)),s!==i&&(l[r[e]]=t)}const c=n.serializeStyle(l,"span");return c?t+' style="'+c+'"'+s:t+s}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,((e,t,n,o)=>t+' style="'+n+'"'+o)),t},FT=e=>{const t=Is(!1),n=Is(Jc(e)?"text":"html"),o=rT(e);(e=>{(Tt.browser.isChromium()||Tt.browser.isSafari())&&((e,t)=>{e.on("PastePreProcess",(n=>{n.content=t(e,n.content,n.internal)}))})(e,BT)})(e),ET(e,n),(e=>{const t=t=>n=>{t(e,n)},n=Gc(e);S(n)&&e.on("PastePreProcess",t(n));const o=$c(e);S(o)&&e.on("PastePostProcess",t(o))})(e),e.on("PreInit",(()=>{MT(e),NT(e,t),kT(e,o,n)}))},HT=e=>{(e=>{e.on("click",(t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()}))})(e),(e=>{e.parser.addNodeFilter("details",(e=>{G(e,(e=>{e.attr("data-mce-open",e.attr("open")),e.attr("open","open")}))})),e.serializer.addNodeFilter("details",(e=>{G(e,(e=>{const t=e.attr("data-mce-open");e.attr("open",p(t)?t:null),e.attr("data-mce-open",null)}))}))})(e)},VT=nr,zT=Ko,UT=e=>ir(e.dom),WT=e=>t=>xn(vn.fromDom(e),t),qT=(e,t)=>Yn(vn.fromDom(e),(e=>(e=>rr(e.dom))(e)||br(e)),WT(t)).getOr(vn.fromDom(t)).dom,ZT=(e,t)=>Yn(vn.fromDom(e),UT,WT(t)),GT=(e,t,n)=>{const o=new Bo(e,t),r=n?o.next.bind(o):o.prev.bind(o);let i=e;for(let t=n?e:r();t&&!VT(t);t=r())ni(t)&&(i=t);return i},$T=e=>{const t=((e,t)=>{const n=za.fromRangeStart(e).getNode(),o=qT(n,t),r=GT(n,o,!1),i=GT(n,o,!0),s=document.createRange();return ZT(r,o).fold((()=>{zT(r)?s.setStart(r,0):s.setStartBefore(r)}),(e=>s.setStartBefore(e.dom))),ZT(i,o).fold((()=>{zT(i)?s.setEnd(i,i.data.length):s.setEndAfter(i)}),(e=>s.setEndAfter(e.dom))),s})(e.selection.getRng(),e.getBody());e.selection.setRng(Vv(t))};var YT;!function(e){e.Before="before",e.After="after"}(YT||(YT={}));const KT=(e,t)=>Math.abs(e.left-t),XT=(e,t)=>Math.abs(e.right-t),QT=(e,t)=>{const n=((e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)))(e,t)/Math.min(e.height,t.height);return((e,t)=>e.top<t.bottom&&e.bottom>t.top)(e,t)&&n>.5},JT=(e,t)=>(e=>Q(e,((e,t)=>e.fold((()=>F.some(t)),(e=>{const n=Math.min(t.left,e.left),o=Math.min(t.top,e.top),r=Math.max(t.right,e.right),i=Math.max(t.bottom,e.bottom);return F.some({top:o,right:r,bottom:i,left:n,width:r-n,height:i-o})}))),F.none()))(K(e,(e=>{return(n=t)>=(o=e).top&&n<=o.bottom;var n,o}))).fold((()=>[[],e]),(t=>{const{pass:n,fail:o}=Y(e,(e=>QT(e,t)));return[n,o]})),eD=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),tD=(e,t,n)=>{const o=e=>ni(e.node)?F.some(e):Vo(e.node)?tD(he(e.node.childNodes),t,n):F.none(),r=(e,r)=>{const i=le(e,((e,o)=>r(e,t,n)-r(o,t,n)));return((e,r)=>{if(e.length>=2){const i=o(e[0]).getOr(e[0]),s=o(e[1]).getOr(e[1]);if(Math.abs(r(i,t,n)-r(s,t,n))<2){if(Ko(i.node))return F.some(i);if(Ko(s.node))return F.some(s)}}return F.none()})(i,r).orThunk((()=>me(i,o)))},[i,s]=JT(ZC(e),n),{pass:a,fail:l}=Y(s,(e=>e.top<n));return r(i,eD).orThunk((()=>r(l,ya))).orThunk((()=>r(a,ya)))},nD=(e,t,n)=>{const o=vn.fromDom(e),r=Cn(o),i=vn.fromPoint(r,t,n).filter((e=>_n(o,e))).getOr(o);return((e,t,n,o)=>{const r=(t,i)=>{const s=K(t.dom.childNodes,P((e=>Vo(e)&&e.classList.contains("mce-drag-container"))));return i.fold((()=>tD(s,n,o)),(e=>{const t=K(s,(t=>t!==e.dom));return tD(t,n,o)})).orThunk((()=>(xn(t,e)?F.none():En(t)).bind((e=>r(e,F.some(t))))))};return r(t,F.none())})(o,i,t,n)},oD=(e,t,n)=>nD(e,t,n).filter((e=>Ad(e.node))).map((e=>((e,t)=>({node:e.node,position:KT(e,t)<XT(e,t)?YT.Before:YT.After}))(e,t))),rD=e=>{var t,n;const o=e.getBoundingClientRect(),r=e.ownerDocument,i=r.documentElement,s=r.defaultView;return{top:o.top+(null!==(t=null==s?void 0:s.scrollY)&&void 0!==t?t:0)-i.clientTop,left:o.left+(null!==(n=null==s?void 0:s.scrollX)&&void 0!==n?n:0)-i.clientLeft}},iD=(e,t)=>{return n=(e=>e.inline?rD(e.getBody()):{left:0,top:0})(e),o=(e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}})(e),r=((e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=rD(e.getContentAreaContainer()),o=(e=>{const t=e.getBody(),n=e.getDoc().documentElement,o={left:t.scrollLeft,top:t.scrollTop},r={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?o:r})(e);return{left:t.pageX-n.left+o.left,top:t.pageY-n.top+o.top}}return{left:t.pageX,top:t.pageY}})(e,t),{pageX:r.left-n.left+o.left,pageY:r.top-n.top+o.top};var n,o,r},sD=e=>({target:e,srcElement:e}),aD=e=>(t,n)=>((e,t,n)=>({...t,dataTransfer:null,type:e,...n}))(e,t,sD(n)),lD=aD("dragstart"),cD=aD("drop"),dD=(e=>t=>((e,t)=>{const n=R("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,srcElement:null,target:null,timeStamp:0,type:e,composedPath:n,initEvent:n,preventDefault:k,stopImmediatePropagation:k,stopPropagation:k,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:n,initMouseEvent:n,getModifierState:n,dataTransfer:null,...t}})(e,sD(t)))("dragend"),uD=aD("dragend"),hD=ir,mD=((...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1})(hD,rr),pD=(e,t,n,o)=>{const r=e.dom,i=t.cloneNode(!0);r.setStyles(i,{width:n,height:o}),r.setAttrib(i,"data-mce-selected",null);const s=r.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return r.setStyles(s,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:o}),r.setStyles(i,{margin:0,boxSizing:"border-box"}),s.appendChild(i),s},fD=(e,t)=>n=>()=>{const o="left"===e?n.scrollX:n.scrollY;n.scroll({[e]:o+t,behavior:"smooth"})},gD=fD("left",-32),vD=fD("left",32),bD=fD("top",-32),yD=fD("top",32),wD=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},xD=(e,t)=>n=>{if((e=>0===e.button)(n)){const o=ee(t.dom.getParents(n.target),mD).getOr(null);if(_(o)&&((e,t,n)=>hD(n)&&n!==t&&e.isEditable(n.parentElement))(t.dom,t.getBody(),o)){const r=t.dom.getPos(o),i=t.getBody(),s=t.getDoc().documentElement;e.set({element:o,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?i.scrollWidth:s.offsetWidth)-2,maxY:(t.inline?i.scrollHeight:s.offsetHeight)-2,relX:n.pageX-r.x,relY:n.pageY-r.y,width:o.offsetWidth,height:o.offsetHeight,ghost:pD(t,o,o.offsetWidth,o.offsetHeight),intervalId:Us(100)})}}},_D=(e,t)=>{const n=qs(((e,n)=>((e,t,n)=>{e._selectionOverrides.hideFakeCaret(),oD(e.getBody(),t,n).fold((()=>e.selection.placeCaretAt(t,n)),(o=>{const r=e._selectionOverrides.showCaret(1,o.node,o.position===YT.Before,!1);r?e.selection.setRng(r):e.selection.placeCaretAt(t,n)}))})(t,e,n)),0);t.on("remove",n.cancel);const o=e;return r=>e.on((e=>{const i=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(!e.dragging&&i>10){if(t.dispatch("dragstart",lD(r,e.element)).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){const i=r.currentTarget===t.getDoc().documentElement,l=((e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}))(e,iD(t,r));s=e.ghost,a=t.getBody(),s.parentNode!==a&&a.appendChild(s),((e,t,n,o,r,i,s,a,l,c,d,u)=>{let h=0,m=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>r&&(h=t.pageX+n-r),t.pageY+o>i&&(m=t.pageY+o-i),e.style.width=n-h+"px",e.style.height=o-m+"px";const p=l.clientHeight,f=l.clientWidth,g=s+l.getBoundingClientRect().top,v=a+l.getBoundingClientRect().left;d.on((e=>{e.intervalId.clear(),e.dragging&&u&&(s+8>=p?e.intervalId.set(yD(c)):s-8<=0?e.intervalId.set(bD(c)):a+8>=f?e.intervalId.set(vD(c)):a-8<=0?e.intervalId.set(gD(c)):g+16>=window.innerHeight?e.intervalId.set(yD(window)):g-16<=0?e.intervalId.set(bD(window)):v+16>=window.innerWidth?e.intervalId.set(vD(window)):v-16<=0&&e.intervalId.set(gD(window)))}))})(e.ghost,l,e.width,e.height,e.maxX,e.maxY,r.clientY,r.clientX,t.getContentAreaContainer(),t.getWin(),o,i),n.throttle(r.clientX,r.clientY)}var s,a}))},SD=(e,t)=>n=>{e.on((e=>{var o;if(e.intervalId.clear(),e.dragging){if(((e,t,n)=>!x(t)&&t!==n&&!e.dom.isChildOf(t,n)&&e.dom.isEditable(t))(t,(e=>{const t=e.getSel();if(_(t)){const e=t.getRangeAt(0).startContainer;return Ko(e)?e.parentNode:e}return null})(t.selection),e.element)){const r=(e=>{const t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t})(e.element),i=null!==(o=t.getDoc().elementFromPoint(n.clientX,n.clientY))&&void 0!==o?o:t.getBody();t.dispatch("drop",cD(n,i)).isDefaultPrevented()||t.undoManager.transact((()=>{((e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);wD(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&Dr(vn.fromDom(n))})(t.dom,e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}t.dispatch("dragend",uD(n,t.getBody()))}})),jD(e)},CD=(e,t,n)=>{e.on((e=>{if(e.intervalId.clear(),e.dragging){const o=n.fold((()=>dD(e.element)),(t=>uD(t,e.element)));t.dispatch("dragend",o)}})),jD(e)},jD=e=>{e.on((e=>{e.intervalId.clear(),wD(e.ghost)})),e.clear()},kD=e=>{const t=Ws(),n=Rs.DOM,o=document,r=xD(t,e),i=_D(t,e),s=SD(t,e),a=((e,t)=>n=>CD(e,t,F.some(n)))(t,e);e.on("mousedown",r),e.on("mousemove",i),e.on("mouseup",s),n.bind(o,"mousemove",i),n.bind(o,"mouseup",a),e.on("remove",(()=>{n.unbind(o,"mousemove",i),n.unbind(o,"mouseup",a)})),e.on("keydown",(n=>{n.keyCode===mm.ESC&&CD(t,e,F.none())}))},ED=e=>{kD(e),Rc(e)&&(e=>{const t=t=>{if(!t.isDefaultPrevented()){const n=t.dataTransfer;n&&(W(n.types,"Files")||n.files.length>0)&&(t.preventDefault(),"drop"===t.type&&N_(e,"Dropped file type is not supported"))}},n=n=>{Lp(e,n.target)&&t(n)},o=()=>{const o=Rs.DOM,r=e.dom,i=document,s=e.inline?e.getBody():e.getDoc(),a=["drop","dragover"];G(a,(e=>{o.bind(i,e,n),r.bind(s,e,t)})),e.on("remove",(()=>{G(a,(e=>{o.unbind(i,e,n),r.unbind(s,e,t)}))}))};e.on("init",(()=>{Dp.setEditorTimeout(e,o,0)}))})(e)},OD=ir,AD=(e,t)=>kv(e.getBody(),t),TD=e=>{const t=e.selection,n=e.dom,o=e.getBody(),r=kd(e,o,n.isBlock,(()=>Wp(e))),i="sel-"+n.uniqueId(),s="data-mce-selected";let a;const l=e=>e!==o&&(OD(e)||lr(e))&&n.isChildOf(e,o)&&n.isEditable(e.parentNode),c=(n,o,i,s=!0)=>e.dispatch("ShowCaret",{target:o,direction:n,before:i}).isDefaultPrevented()?null:(s&&t.scrollIntoView(o,-1===n),r.show(i,o)),d=()=>{e.on("click",(t=>{n.isEditable(t.target)||(t.preventDefault(),e.focus())})),e.on("blur NewBlock",g),e.on("ResizeWindow FullscreenStateChanged",r.reposition),e.on("tap",(t=>{const n=t.target,o=AD(e,n);OD(o)?(t.preventDefault(),MS(e,o).each(f)):l(n)&&MS(e,n).each(f)}),!0),e.on("mousedown",(r=>{const i=r.target;if(i!==o&&"HTML"!==i.nodeName&&!n.isChildOf(i,o))return;if(!O_(e,r.clientX,r.clientY))return;g(),v();const s=AD(e,i);OD(s)?(r.preventDefault(),MS(e,s).each(f)):oD(o,r.clientX,r.clientY).each((n=>{r.preventDefault();(e=>{e&&t.setRng(e)})(c(1,n.node,n.position===YT.Before,!1)),Vo(s)?s.focus():e.getBody().focus()}))})),e.on("keypress",(e=>{mm.modifierPressed(e)||OD(t.getNode())&&e.preventDefault()})),e.on("GetSelectionRange",(e=>{let t=e.range;if(a){if(!a.parentNode)return void(a=null);t=t.cloneRange(),t.selectNode(a),e.range=t}})),e.on("SetSelectionRange",(e=>{e.range=m(e.range);const t=f(e.range,e.forward);t&&(e.range=t)}));e.on("AfterSetSelectionRange",(e=>{const t=e.range,o=t.startContainer.parentElement;var r;h(t)||Vo(r=o)&&"mcepastebin"===r.id||v(),(e=>_(e)&&n.hasClass(e,"mce-offscreen-selection"))(o)||g()})),ED(e),(e=>{const t=qs((()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const t=e.selection.getRng();if(t.collapsed){const n=PS(e,t,!1);e.selection.setRng(n)}}}),0);e.on("focus",(()=>{t.throttle()})),e.on("blur",(()=>{t.cancel()}))})(e),(e=>{e.on("init",(()=>{e.on("focusin",(t=>{const n=t.target;if(lr(n)){const t=kv(e.getBody(),n),o=ir(t)?t:n;e.selection.getNode()!==o&&MS(e,o).each((t=>e.selection.setRng(t)))}}))}))})(e)},u=e=>Hr(e)||Wr(e)||qr(e),h=e=>u(e.startContainer)||u(e.endContainer),m=t=>{const o=e.schema.getVoidElements(),r=n.createRng(),i=t.startContainer,s=t.startOffset,a=t.endContainer,l=t.endOffset;return je(o,i.nodeName.toLowerCase())?0===s?r.setStartBefore(i):r.setStartAfter(i):r.setStart(i,s),je(o,a.nodeName.toLowerCase())?0===l?r.setEndBefore(a):r.setEndAfter(a):r.setEnd(a,l),r},p=o=>{const r=o.cloneNode(!0),l=e.dispatch("ObjectSelected",{target:o,targetClone:r});if(l.isDefaultPrevented())return null;const c=((o,r)=>{const s=vn.fromDom(e.getBody()),a=e.getDoc(),l=Qn(s,"#"+i).getOrThunk((()=>{const e=vn.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',a);return Qt(e,"id",i),fo(s,e),e})),c=n.createRng();bo(l),vo(l,[vn.fromText(ur,a),vn.fromDom(r),vn.fromText(ur,a)]),c.setStart(l.dom.firstChild,1),c.setEnd(l.dom.lastChild,0),io(l,{top:n.getPos(o,e.getBody()).y+"px"}),bp(l);const d=t.getSel();return d&&(d.removeAllRanges(),d.addRange(c)),c})(o,l.targetClone),d=vn.fromDom(o);return G(Lo(vn.fromDom(e.getBody()),`*[${s}]`),(e=>{xn(d,e)||on(e,s)})),n.getAttrib(o,s)||o.setAttribute(s,"1"),a=o,v(),c},f=(e,t)=>{if(!e)return null;if(e.collapsed){if(!h(e)){const r=t?1:-1,i=Jd(r,o,e),s=i.getNode(!t);if(_(s)){if(Ad(s))return c(r,s,!!t&&!i.isAtEnd(),!1);if(Fr(s)&&ir(s.nextSibling)){const e=n.createRng();return e.setStart(s,0),e.setEnd(s,0),e}}const a=i.getNode(t);if(_(a)){if(Ad(a))return c(r,a,!t&&!i.isAtEnd(),!1);if(Fr(a)&&ir(a.previousSibling)){const e=n.createRng();return e.setStart(a,1),e.setEnd(a,1),e}}}return null}let r=e.startContainer,i=e.startOffset;const s=e.endOffset;if(Ko(r)&&0===i&&OD(r.parentNode)&&(r=r.parentNode,i=n.nodeIndex(r),r=r.parentNode),!Vo(r))return null;if(s===i+1&&r===e.endContainer){const e=r.childNodes[i];if(l(e))return p(e)}return null},g=()=>{a&&a.removeAttribute(s),Qn(vn.fromDom(e.getBody()),"#"+i).each(yo),a=null},v=()=>{r.hide()};return Bx(e)||d(),{showCaret:c,showBlockCaretContainer:e=>{e.hasAttribute("data-mce-caret")&&(Zr(e),t.scrollIntoView(e))},hideFakeCaret:v,destroy:()=>{r.destroy(),a=null}}},DD=(e,t)=>{let n=t;for(let t=e.previousSibling;Ko(t);t=t.previousSibling)n+=t.data.length;return n},MD=(e,t,n,o,r)=>{if(Ko(n)&&(o<0||o>n.data.length))return[];const i=r&&Ko(n)?[DD(n,o)]:[o];let s=n;for(;s!==t&&s.parentNode;)i.push(e.nodeIndex(s,r)),s=s.parentNode;return s===t?i.reverse():[]},PD=(e,t,n,o,r,i,s=!1)=>({start:MD(e,t,n,o,s),end:MD(e,t,r,i,s)}),RD=(e,t)=>{const n=t.slice(),o=n.pop();if(C(o)){return Q(n,((e,t)=>e.bind((e=>F.from(e.childNodes[t])))),F.some(e)).bind((e=>Ko(e)&&(o<0||o>e.data.length)?F.none():F.some({node:e,offset:o})))}return F.none()},ND=(e,t)=>RD(e,t.start).bind((({node:n,offset:o})=>RD(e,t.end).map((({node:e,offset:t})=>{const r=document.createRange();return r.setStart(n,o),r.setEnd(e,t),r})))),LD=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const o=t.parentNode;e.remove(t),LD(e,o,n)}},ID=(e,t,n,o=!0)=>{const r=t.startContainer.parentNode,i=t.endContainer.parentNode;t.deleteContents(),o&&!n(t.startContainer)&&(Ko(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),Ko(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),LD(e,r,n),r!==i&&LD(e,i,n))},BD=(e,t)=>F.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),FD=(e,t,n)=>{const o=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:bl(o).concat(e.blockPatterns),inlinePatterns:yl(o).concat(e.inlinePatterns)}},HD=(e,t,n,o)=>{const r=e.createRng();return r.setStart(t,0),r.setEnd(n,o),r.toString()},VD=(e,t,n)=>{const o=((e,t,n)=>{if(Ko(e)&&t>=e.length)return F.some(oE(e,t));{const o=ha(rE);return F.from(o.forwards(e,t,iE(e),n)).map((e=>oE(e.container,0)))}})(t,0,t);o.each((o=>{const r=o.container;lE(r,n.start.length,t).each((n=>{const o=e.createRng();o.setStart(r,0),o.setEnd(n.container,n.offset),ID(e,o,(e=>e===t))}));const i=vn.fromDom(r),s=pr(i);/^\s[^\s]/.test(s)&&((e,t)=>{mr.set(e,t)})(i,s.slice(1))}))},zD=(e,t)=>{const n=e.dom,o=t.pattern,r=ND(n.getRoot(),t.range).getOrDie("Unable to resolve path range");return BD(e,r).each((t=>{"block-format"===o.type?((e,t)=>{const n=t.get(e);return v(n)&&de(n).exists((e=>je(e,"block")))})(o.format,e.formatter)&&e.undoManager.transact((()=>{VD(e.dom,t,o),e.formatter.apply(o.format)})):"block-command"===o.type&&e.undoManager.transact((()=>{VD(e.dom,t,o),e.execCommand(o.cmd,!1,o.value)}))})),!0},UD=(e,t)=>{const n=(e=>le(e,((e,t)=>t.start.length-e.start.length)))(e),o=t.replace(ur," ");return ee(n,(e=>0===t.indexOf(e.start)||0===o.indexOf(e.start)))},WD=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),qD=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},ZD=(e,t,n)=>{const o=ND(e.getRoot(),n).getOrDie("Unable to resolve path range"),r=o.startContainer,i=o.endContainer,s=0===o.endOffset?i:i.splitText(o.endOffset),a=0===o.startOffset?r:r.splitText(o.startOffset),l=a.parentNode;return{prefix:t,end:s.parentNode.insertBefore(WD(e,t+"-end"),s),start:l.insertBefore(WD(e,t+"-start"),a)}},GD=(e,t,n)=>{LD(e,e.get(t.prefix+"-end"),n),LD(e,e.get(t.prefix+"-start"),n)},$D=e=>0===e.start.length,YD=(e,t,n,o)=>{const r=t.start;var i;return cE(e,o.container,o.offset,(i=r,(e,t)=>{const n=e.data.substring(0,t),o=n.lastIndexOf(i.charAt(i.length-1)),r=n.lastIndexOf(i);return-1!==r?r+i.length:-1!==o?o+1:-1}),n).bind((o=>{var i,s;const a=null!==(s=null===(i=n.textContent)||void 0===i?void 0:i.indexOf(r))&&void 0!==s?s:-1;if(-1!==a&&o.offset>=a+r.length){const t=e.createRng();return t.setStart(o.container,o.offset-r.length),t.setEnd(o.container,o.offset),F.some(t)}{const i=o.offset-r.length;return aE(o.container,i,n).map((t=>{const n=e.createRng();return n.setStart(t.container,t.offset),n.setEnd(o.container,o.offset),n})).filter((e=>e.toString()===r)).orThunk((()=>YD(e,t,n,oE(o.container,0))))}}))},KD=(e,t,n,o)=>{const r=e.dom,i=r.getRoot(),s=n.pattern,a=n.position.container,l=n.position.offset;return aE(a,l-n.pattern.end.length,t).bind((c=>{const d=PD(r,i,c.container,c.offset,a,l,o);if($D(s))return F.some({matches:[{pattern:s,startRng:d,endRng:d}],position:c});{const a=XD(e,n.remainingPatterns,c.container,c.offset,t,o),l=a.getOr({matches:[],position:c}),u=l.position,h=((e,t,n,o,r,i=!1)=>{if(0===t.start.length&&!i){const t=e.createRng();return t.setStart(n,o),t.setEnd(n,o),F.some(t)}return sE(n,o,r).bind((n=>YD(e,t,r,n).bind((e=>{var t;if(i){if(e.endContainer===n.container&&e.endOffset===n.offset)return F.none();if(0===n.offset&&(null===(t=e.endContainer.textContent)||void 0===t?void 0:t.length)===e.endOffset)return F.none()}return F.some(e)}))))})(r,s,u.container,u.offset,t,a.isNone());return h.map((e=>{const t=((e,t,n,o=!1)=>PD(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,o))(r,i,e,o);return{matches:l.matches.concat([{pattern:s,startRng:t,endRng:d}]),position:oE(e.startContainer,e.startOffset)}}))}}))},XD=(e,t,n,o,r,i)=>{const s=e.dom;return sE(n,o,s.getRoot()).bind((a=>{const l=HD(s,r,n,o);for(let s=0;s<t.length;s++){const c=t[s];if(!qe(l,c.end))continue;const d=t.slice();d.splice(s,1);const u=KD(e,r,{pattern:c,remainingPatterns:d,position:a},i);if(u.isNone()&&o>0)return XD(e,t,n,o-1,r,i);if(u.isSome())return u}return F.none()}))},QD=(e,t,n)=>{e.selection.setRng(n),"inline-format"===t.type?G(t.format,(t=>{e.formatter.apply(t)})):e.execCommand(t.cmd,!1,t.value)},JD=(e,t,n,o,r,i)=>{var s;return((e,t)=>{const n=re(e,(e=>q(t,(t=>e.pattern.start===t.pattern.start&&e.pattern.end===t.pattern.end))));return e.length===t.length?n?e:t:e.length>t.length?e:t})(XD(e,r.inlinePatterns,n,o,t,i).fold((()=>[]),(e=>e.matches)),XD(e,(s=r.inlinePatterns,le(s,((e,t)=>t.end.length-e.end.length))),n,o,t,i).fold((()=>[]),(e=>e.matches)))},eM=(e,t)=>{if(0===t.length)return;const n=e.dom,o=e.selection.getBookmark(),r=((e,t)=>{const n=sa("mce_textpattern"),o=X(t,((t,o)=>{const r=ZD(e,n+`_end${t.length}`,o.endRng);return t.concat([{...o,endMarker:r}])}),[]);return X(o,((t,r)=>{const i=o.length-t.length-1,s=$D(r.pattern)?r.endMarker:ZD(e,n+`_start${i}`,r.startRng);return t.concat([{...r,startMarker:s}])}),[])})(n,t);G(r,(t=>{const o=n.getParent(t.startMarker.start,n.isBlock),r=e=>e===o;$D(t.pattern)?((e,t,n,o)=>{const r=qD(e.dom,n);ID(e.dom,r,o),QD(e,t,r)})(e,t.pattern,t.endMarker,r):((e,t,n,o,r)=>{const i=e.dom,s=qD(i,o),a=qD(i,n);ID(i,a,r),ID(i,s,r);const l={prefix:n.prefix,start:n.end,end:o.start},c=qD(i,l);QD(e,t,c)})(e,t.pattern,t.startMarker,t.endMarker,r),GD(n,t.endMarker,r),GD(n,t.startMarker,r)})),e.selection.moveToBookmark(o)},tM=(e,t)=>{const n=e.selection.getRng();return BD(e,n).map((o=>{var r;const i=Math.max(0,n.startOffset),s=FD(t,o,null!==(r=o.textContent)&&void 0!==r?r:""),a=JD(e,o,n.startContainer,i,s,!0),l=((e,t,n,o)=>{var r;const i=e.dom,s=Nl(e);if(!i.is(t,s))return[];const a=null!==(r=t.textContent)&&void 0!==r?r:"";return UD(n.blockPatterns,a).map((e=>Rt.trim(a).length===e.start.length?[]:[{pattern:e,range:PD(i,i.getRoot(),t,0,t,0,o)}])).getOr([])})(e,o,s,!0);return(l.length>0||a.length>0)&&(e.undoManager.add(),e.undoManager.extra((()=>{e.execCommand("mceInsertNewLine")}),(()=>{e.insertContent(dr),eM(e,a),((e,t)=>{if(0===t.length)return;const n=e.selection.getBookmark();G(t,(t=>zD(e,t))),e.selection.moveToBookmark(n)})(e,l);const t=e.selection.getRng(),n=sE(t.startContainer,t.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),n.each((t=>{const n=t.container;n.data.charAt(t.offset-1)===dr&&(n.deleteData(t.offset-1,1),LD(e.dom,n.parentNode,(t=>t===e.dom.getRoot())))}))})),!0)})).getOr(!1)},nM=(e,t,n)=>{for(let o=0;o<e.length;o++)if(n(e[o],t))return!0;return!1},oM=e=>{const t=[",",".",";",":","!","?"],n=[32],o=()=>{return t=nd(e),n=od(e),{inlinePatterns:yl(t),blockPatterns:bl(t),dynamicPatternsLookup:n};var t,n},r=()=>(e=>e.options.isSet("text_patterns_lookup"))(e);e.on("keydown",(t=>{if(13===t.keyCode&&!mm.modifierPressed(t)&&e.selection.isCollapsed()){const n=o();(n.inlinePatterns.length>0||n.blockPatterns.length>0||r())&&tM(e,n)&&t.preventDefault()}}),!0);const i=()=>{if(e.selection.isCollapsed()){const t=o();(t.inlinePatterns.length>0||r())&&((e,t)=>{const n=e.selection.getRng();BD(e,n).map((o=>{const r=Math.max(0,n.startOffset-1),i=HD(e.dom,o,n.startContainer,r),s=FD(t,o,i),a=JD(e,o,n.startContainer,r,s,!1);a.length>0&&e.undoManager.transact((()=>{eM(e,a)}))}))})(e,t)}};e.on("keyup",(e=>{nM(n,e,((e,t)=>e===t.keyCode&&!mm.modifierPressed(t)))&&i()})),e.on("keypress",(n=>{nM(t,n,((e,t)=>e.charCodeAt(0)===t.charCode))&&Dp.setEditorTimeout(e,i)}))},rM=e=>{const t=Rt.each,n=mm.BACKSPACE,o=mm.DELETE,r=e.dom,i=e.selection,s=e.parser,a=Tt.browser,l=a.isFirefox(),c=a.isChromium()||a.isSafari(),d=Tt.deviceType.isiPhone()||Tt.deviceType.isiPad(),u=Tt.os.isMacOS()||Tt.os.isiOS(),h=(t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},m=e=>e.isDefaultPrevented(),p=()=>{const t=e=>{const t=r.create("body"),n=e.cloneContents();return t.appendChild(n),i.serializer.serialize(t,{format:"html"})};e.on("keydown",(i=>{const s=i.keyCode;if(!m(i)&&(s===o||s===n)&&e.selection.isEditable()){const n=e.selection.isCollapsed(),o=e.getBody();if(n&&!r.isEmpty(o))return;if(!n&&!(n=>{const o=t(n),i=r.createRng();return i.selectNode(e.getBody()),o===t(i)})(e.selection.getRng()))return;i.preventDefault(),e.setContent(""),o.firstChild&&r.isBlock(o.firstChild)?e.selection.setCursorLocation(o.firstChild,0):e.selection.setCursorLocation(o,0),e.nodeChanged()}}))},f=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},g=()=>{e.inline||r.bind(e.getDoc(),"mousedown mouseup",(t=>{let n;if(t.target===e.getDoc().documentElement)if(n=i.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Hr(n.startContainer))return;i.placeCaretAt(t.clientX,t.clientY)}else i.setRng(n)}))},v=()=>{Range.prototype.getClientRects||e.on("mousedown",(t=>{if(!m(t)&&"HTML"===t.target.nodeName){const t=e.getBody();t.blur(),Dp.setEditorTimeout(e,(()=>{t.focus()}))}}))},b=()=>{const t=Ic(e);e.on("click",(n=>{const o=n.target;/^(IMG|HR)$/.test(o.nodeName)&&r.isEditable(o.parentNode)&&(n.preventDefault(),e.selection.select(o),e.nodeChanged()),"A"===o.nodeName&&r.hasClass(o,t)&&0===o.childNodes.length&&r.isEditable(o.parentNode)&&(n.preventDefault(),i.select(o))}))},y=()=>{e.on("keydown",(e=>{if(!m(e)&&e.keyCode===n&&i.isCollapsed()&&0===i.getRng().startOffset){const t=i.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}return!0}))},w=()=>{const t=()=>{h("StyleWithCSS",!1),h("enableInlineTableEditing",!1),lc(e)||h("enableObjectResizing",!1)};Tc(e)||e.on("BeforeExecCommand mousedown",t)},x=()=>{e.on("SetContent ExecCommand",(e=>{"setcontent"!==e.type&&"mceInsertLink"!==e.command||t(r.select("a:not([data-mce-block])"),(e=>{var t;let n=e.parentNode;const o=r.getRoot();if((null==n?void 0:n.lastChild)===e){for(;n&&!r.isBlock(n);){if((null===(t=n.parentNode)||void 0===t?void 0:t.lastChild)!==n||n===o)return;n=n.parentNode}r.add(n,"br",{"data-mce-bogus":1})}}))}))},_=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},S=()=>{e.inline||e.on("keydown",(()=>{document.activeElement===document.body&&e.getWin().focus()}))},C=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(t=>{let n;"HTML"===t.target.nodeName&&(n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged())})))},j=()=>{u&&e.on("keydown",(t=>{if(mm.metaKeyPressed(t)&&!t.shiftKey&&(37===t.keyCode||39===t.keyCode)){t.preventDefault();e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary")}}))},E=()=>{e.on("click",(e=>{let t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},O=()=>{e.on("init",(()=>{e.dom.bind(e.getBody(),"submit",(e=>{e.preventDefault()}))}))},A=k,T=()=>{e.on("keydown",(t=>{if(m(t)||t.keyCode!==mm.BACKSPACE)return;let n=i.getRng();const o=n.startContainer,s=n.startOffset,a=r.getRoot();let l=o;if(n.collapsed&&0===s){for(;l.parentNode&&l.parentNode.firstChild===l&&l.parentNode!==a;)l=l.parentNode;"BLOCKQUOTE"===l.nodeName&&(e.formatter.toggle("blockquote",void 0,l),n=r.createRng(),n.setStart(o,0),n.setEnd(o,0),i.setRng(n))}})),p(),Tt.windowsPhone||e.on("keyup focusin mouseup",(t=>{mm.modifierPressed(t)||(e=>{const t=e.getBody(),n=e.selection.getRng();return n.startContainer===n.endContainer&&n.startContainer===t&&0===n.startOffset&&n.endOffset===t.childNodes.length})(e)||i.normalize()}),!0),c&&(g(),b(),e.on("init",(()=>{h("DefaultParagraphSeparator",Nl(e))})),O(),y(),s.addNodeFilter("br",(e=>{let t=e.length;for(;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})),d?(S(),C(),E()):f()),l&&(e.on("keydown",(t=>{if(!m(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&0===i.getRng().startOffset){const e=i.getNode(),n=e.previousSibling;if("HR"===e.nodeName)return r.remove(e),void t.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(r.remove(n),t.preventDefault())}}})),v(),(()=>{const n=()=>{const n=r.getAttribs(i.getStart().cloneNode(!1));return()=>{const o=i.getStart();o!==e.getBody()&&(r.setAttrib(o,"style",null),t(n,(e=>{o.setAttributeNode(e.cloneNode(!0))})))}},o=()=>!i.isCollapsed()&&r.getParent(i.getStart(),r.isBlock)!==r.getParent(i.getEnd(),r.isBlock);e.on("keypress",(t=>{let r;return!(!(m(t)||8!==t.keyCode&&46!==t.keyCode)&&o()&&(r=n(),e.getDoc().execCommand("delete",!1),r(),t.preventDefault(),1))})),r.bind(e.getDoc(),"cut",(t=>{if(!m(t)&&o()){const t=n();Dp.setEditorTimeout(e,(()=>{t()}))}}))})(),w(),x(),_(),j(),y())};return Bx(e)?(c&&(g(),b(),O(),f(),d&&(S(),C(),E())),l&&(v(),w(),_(),j())):T(),{refreshContentEditable:A,isHidden:()=>{if(!l||e.removed)return!1;const t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}},iM=Rs.DOM,sM=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,aM=e=>xe(e,(e=>!1===w(e))),lM=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return aM({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),remove_trailing_brs:t("remove_trailing_brs"),inline_styles:t("inline_styles"),root_name:sM(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},cM=e=>{const t=e.options.get;return aM({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},dM=e=>{e.bindPendingEventDelegates(),e.initialized=!0,(e=>{e.dispatch("Init")})(e),e.focus(!0),(e=>{const t=e.dom.getRoot();e.inline||dh(e)&&e.selection.getStart(!0)!==t||ju(t).each((t=>{const n=t.getNode(),o=Go(n)?ju(n).getOr(t):t;e.selection.setRng(o.toRange())}))})(e),e.nodeChanged({initial:!0});const t=Hc(e);S(t)&&t.call(e,e),(e=>{const t=zc(e);t&&Dp.setEditorTimeout(e,(()=>{let n;n=!0===t?e:e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())}),100)})(e)},uM=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,hM=e=>{const t=uM(e),n=ic(e),o=e.contentCSS,r=()=>{t.unloadAll(o),e.inline||e.ui.styleSheetLoader.unloadAll(n)},i=()=>{e.removed?r():e.on("remove",r)};if(e.contentStyles.length>0){let t="";Rt.each(e.contentStyles,(e=>{t+=e+"\r\n"})),e.dom.addStyle(t)}const s=Promise.all(((e,t,n)=>{const o=[uM(e).loadAll(t)];return e.inline?o:o.concat([e.ui.styleSheetLoader.loadAll(n)])})(e,o,n)).then(i).catch(i),a=rc(e);return a&&((e,t)=>{const n=vn.fromDom(e.getBody()),o=zn(Vn(n)),r=vn.fromTag("style");Qt(r,"type","text/css"),fo(r,vn.fromText(t)),fo(o,r),e.on("remove",(()=>{yo(r)}))})(e,a),s},mM=e=>{!0!==e.removed&&((e=>{Bx(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})})(e),dM(e))},pM=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(iM.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const o=e.getBody();o.disabled=!0,e.readonly=Tc(e),e.readonly||(e.inline&&"static"===iM.getStyle(o,"position",!0)&&(o.style.position="relative"),o.contentEditable="true"),o.disabled=!1,e.editorUpload=$_(e),e.schema=ms(cM(e)),e.dom=Rs(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Xl(e),referrerPolicy:Ql(e),onSetAttrib:t=>{e.dispatch("SetAttrib",t)}}),e.parser=(e=>{const t=Jw(lM(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",((t,n)=>{const o=e.dom,r="data-mce-"+n;let i=t.length;for(;i--;){const s=t[i];let a=s.attr(n);if(a&&!s.attr(r)){if(0===a.indexOf("data:")||0===a.indexOf("blob:"))continue;"style"===n?(a=o.serializeStyle(o.parseStyle(a),s.name),a.length||(a=null),s.attr(r,a),s.attr(n,a)):"tabindex"===n?(s.attr(r,a),s.attr(n,null)):s.attr(r,e.convertURL(a,n,s.name))}}})),t.addNodeFilter("script",(e=>{let t=e.length;for(;t--;){const n=e[t],o=n.attr("type")||"no/type";0!==o.indexOf("mce-")&&n.attr("type","mce-"+o)}})),ad(e)&&t.addNodeFilter("#cdata",(t=>{var n;let o=t.length;for(;o--;){const r=t[o];r.type=8,r.name="#comment",r.value="[CDATA["+e.dom.encode(null!==(n=r.value)&&void 0!==n?n:"")+"]]"}})),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(t=>{let n=t.length;const o=e.schema.getNonEmptyElements();for(;n--;){const e=t[n];e.isEmpty(o)&&0===e.getAll("br").length&&e.append(new hf("br",1))}})),t})(e),e.serializer=t_((e=>{const t=e.options.get;return{...lM(e),...cM(e),...aM({url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}})(e),e),e.selection=Kx(e.dom,e.getWin(),e.serializer,e),e.annotator=rm(e),e.formatter=sS(e),e.undoManager=lS(e),e._nodeChangeDispatcher=new GA(e),e._selectionOverrides=TD(e),Yj(e),HT(e),rk(e),Bx(e)||((e=>{e.on("mousedown",(t=>{t.detail>=3&&(t.preventDefault(),$T(e))}))})(e),(e=>{oM(e)})(e));const r=ZA(e);Gj(e,r),(e=>{e.on("NodeChange",M(ek,e))})(e),mS(e),FT(e);const i=Fx(e);(e=>{const t=e.getDoc(),n=e.getBody();(e=>{e.dispatch("PreInit")})(e),Uc(e)||(t.body.spellcheck=!1,iM.setAttrib(n,"spellcheck","false")),e.quirks=rM(e),(e=>{e.dispatch("PostRender")})(e);const o=sc(e);void 0!==o&&(n.dir=o);const r=Wc(e);r&&e.on("BeforeSetContent",(e=>{Rt.each(r,(t=>{e.content=e.content.replace(t,(e=>"\x3c!--mce:protected "+escape(e)+"--\x3e"))}))})),e.on("SetContent",(()=>{e.addVisual(e.getBody())})),e.on("compositionstart compositionend",(t=>{e.composing="compositionstart"===t.type}))})(e),i.fold((()=>{hM(e).then((()=>mM(e)))}),(t=>{e.setProgressState(!0),hM(e).then((()=>{t().then((t=>{e.setProgressState(!1),mM(e),zx(e)}),(t=>{e.notificationManager.open({type:"error",text:String(t)}),mM(e),zx(e)}))}))}))},fM=B,gM=Rs.DOM,vM=(e,t)=>{const n=e.translate("Rich Text Area"),o=tn(vn.fromDom(e.getElement()),"tabindex").bind(Qe),r=((e,t,n,o)=>{const r=vn.fromTag("iframe");return o.each((e=>Qt(r,"tabindex",e))),Jt(r,n),Jt(r,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),un(r,"tox-edit-area__iframe"),r})(e.id,n,Ol(e),o).dom;r.onload=()=>{r.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=(e=>{let t=Al(e)+"<html><head>";Tl(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=Dl(e),o=Ml(e),r=e.translate(Bc(e));return Pl(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Pl(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${o}" data-id="${e.id}" aria-label="${r}"><br></body></html>`,t})(e),gM.add(t.iframeContainer,r)},bM=e=>{const t=e.iframeElement,n=(o=vn.fromDom(t),jo(o,"load",fM,(()=>{n.unbind(),e.contentDocument=t.contentDocument,pM(e)})));var o;if(Tt.browser.isFirefox()){const t=e.getDoc();t.open(),t.write(e.iframeHTML),t.close()}else t.srcdoc=e.iframeHTML},yM=Rs.DOM,wM=(e,t,n)=>{const o=D_.get(n),r=D_.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Rt.trim(n),o&&-1===Rt.inArray(t,n)){if(e.plugins[n])return;try{const i=o(e,r)||{};e.plugins[n]=i,S(i.init)&&(i.init(e,r),t.push(n))}catch(t){((e,t,n)=>{const o=Vs.translate(["Failed to initialize plugin: {0}",t]);am(e,"PluginLoadError",{message:o}),B_(o,n),N_(e,o)})(e,n,t)}}},xM=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),_M=e=>{const t=e.getElement();return e.inline?xM(null):(e=>{const t=yM.create("div");return yM.insertAfter(t,e),xM(t,t)})(t)},SM=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,p(mc(e))?(e=>{const t=e.theme.renderUI;return t?t():_M(e)})(e):S(mc(e))?(e=>{const t=e.getElement(),n=mc(e)(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n})(e):_M(e)},CM=async e=>{e.dispatch("ScriptsLoaded"),(e=>{const t=Rt.trim(ql(e)),n=e.ui.registry.getAll().icons,o={...w_.get("default").icons,...w_.get(t).icons};ge(o,((t,o)=>{je(n,o)||e.ui.registry.addIcon(o,t)}))})(e),(e=>{const t=mc(e);if(p(t)){const n=M_.get(t);e.theme=n(e,M_.urls[t])||{},S(e.theme.init)&&e.theme.init(e,M_.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}})(e),(e=>{const t=fc(e),n=x_.get(t);e.model=n(e,x_.urls[t])})(e),(e=>{const t=[];G(Mc(e),(n=>{wM(e,t,(e=>e.replace(/^\-/,""))(n))}))})(e);const t=await SM(e);((e,t)=>{const n={show:F.from(t.show).getOr(k),hide:F.from(t.hide).getOr(k),isEnabled:F.from(t.isEnabled).getOr(B),setEnabled:n=>{e.mode.isReadOnly()||F.from(t.setEnabled).each((e=>e(n)))}};e.ui={...e.ui,...n}})(e,F.from(t.api).getOr({})),e.editorContainer=t.editorContainer,H_(e),e.inline?pM(e):((e,t)=>{vM(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=gM.isHidden(t.editorContainer)),e.getElement().style.display="none",gM.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,bM(e)})(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},jM=Rs.DOM,kM=e=>"-"===e.charAt(0),EM=(e,t)=>{const n=Jl(t),o=ec(t);if(!Vs.hasCode(n)&&"en"!==n){const r=Ke(o)?o:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(r).catch((()=>{((e,t,n)=>{L_(e,"LanguageLoadError",I_("language",t,n))})(t,r,n)}))}},OM=(e,t)=>{const n=mc(e);if(p(n)&&!kM(n)&&!je(M_.urls,n)){const o=pc(e),r=o?e.documentBaseURI.toAbsolute(o):`themes/${n}/theme${t}.js`;M_.load(n,r).catch((()=>{((e,t,n)=>{L_(e,"ThemeLoadError",I_("theme",t,n))})(e,r,n)}))}},AM=(e,t)=>{const n=fc(e);if("plugin"!==n&&!je(x_.urls,n)){const o=gc(e),r=p(o)?e.documentBaseURI.toAbsolute(o):`models/${n}/model${t}.js`;x_.load(n,r).catch((()=>{((e,t,n)=>{L_(e,"ModelLoadError",I_("model",t,n))})(e,r,n)}))}},TM=(e,t,n)=>F.from(t).filter((e=>Ke(e)&&!w_.has(e))).map((t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${n}.js`,name:F.some(t)}))),DM=(e,t,n)=>{const o=TM(t,"default",n),r=(e=>F.from(Zl(e)).filter(Ke).map((e=>({url:e,name:F.none()}))))(t).orThunk((()=>TM(t,ql(t),"")));G((e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t})([o,r]),(n=>{e.add(n.url).catch((()=>{((e,t,n)=>{L_(e,"IconsLoadError",I_("icons",t,n))})(t,n.url,n.name.getOrUndefined())}))}))},MM=(e,t)=>{const n=(t,n)=>{D_.load(t,n).catch((()=>{((e,t,n)=>{L_(e,"PluginLoadError",I_("plugin",t,n))})(e,n,t)}))};ge(Pc(e),((t,o)=>{n(o,t),e.options.set("plugins",Mc(e).concat(o))})),G(Mc(e),(e=>{!(e=Rt.trim(e))||D_.urls[e]||kM(e)||n(e,`plugins/${e}/plugin${t}.js`)}))},PM=(e,t)=>{const n=Ls.ScriptLoader,o=()=>{!e.removed&&(e=>{const t=mc(e);return!p(t)||_(M_.get(t))})(e)&&(e=>{const t=fc(e);return _(x_.get(t))})(e)&&CM(e)};OM(e,t),AM(e,t),EM(n,e),DM(n,e,t),MM(e,t),n.loadQueue().then(o,o)},RM=e=>{const t=e.id;Vs.setCode(Jl(e));const n=()=>{jM.unbind(window,"ready",n),e.render()};if(!Cs.Event.domLoaded)return void jM.bind(window,"ready",n);if(!e.getElement())return;const o=vn.fromDom(e.getElement()),r=rn(o);e.on("remove",(()=>{$(o.dom.attributes,(e=>on(o,e.name))),Jt(o,r)})),e.ui.styleSheetLoader=((e,t)=>Li.forElement(e,{contentCssCors:Dc(t),referrerPolicy:Ql(t)}))(o,e),Sc(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const i=e.getElement().form||jM.getParent(t,"form");i&&(e.formElement=i,Cc(e)&&!Yo(e.getElement())&&(jM.insertAfter(jM.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=t=>{e.dispatch(t.type,t)},jM.bind(i,"submit reset",e.formEventDelegate),e.on("reset",(()=>{e.resetContent()})),!jc(e)||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)))),e.windowManager=P_(e),e.notificationManager=T_(e),(e=>"xml"===e.options.get("encoding"))(e)&&e.on("GetContent",(e=>{e.save&&(e.content=jM.encode(e.content))})),kc(e)&&e.on("submit",(()=>{e.initialized&&e.save()})),Ec(e)&&(e._beforeUnload=()=>{!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),PM(e,e.suffix)},NM=St().deviceType,LM=NM.isPhone(),IM=NM.isTablet(),BM=e=>{if(x(e))return[];{const t=v(e)?e:e.split(/[ ,]/),n=Z(t,Ge);return K(n,Ke)}},FM=(e,t)=>{const n=((e,t)=>{const n={},o={};return we(e,t,ye(n),ye(o)),{t:n,f:o}})(t,((t,n)=>W(e,n)));return o=n.t,r=n.f,{sections:A(o),options:A(r)};var o,r},HM=(e,t)=>je(e.sections(),t),VM=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Ce(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),zM=(e,t)=>{var n;const o=null!==(n=t.external_plugins)&&void 0!==n?n:{};return e&&e.external_plugins?Rt.extend({},e.external_plugins,o):o},UM=(e,t,n,o)=>{const r=BM(n.forced_plugins),i=BM(o.plugins),s=((e,t)=>HM(e,t)?e.sections()[t]:{})(t,"mobile"),a=((e,t,n,o)=>e&&HM(t,"mobile")?o:n)(e,t,i,s.plugins?BM(s.plugins):i),l=((e,t)=>[...BM(e),...BM(t)])(r,a);return Rt.extend(o,{forced_plugins:r,plugins:l})},WM=(e,t,n,o,r)=>{var i;const s=e?{mobile:VM(null!==(i=r.mobile)&&void 0!==i?i:{},t)}:{},a=FM(["mobile"],IE(s,r)),l=Rt.extend(n,o,a.options(),((e,t)=>e&&HM(t,"mobile"))(e,a)?((e,t,n={})=>{const o=e.sections(),r=Ce(o,t).getOr({});return Rt.extend({},n,r)})(a,"mobile"):{},{external_plugins:zM(o,a.options())});return UM(e,a,o,l)},qM=(e,t)=>((e,t)=>Vx(e).editor.addVisual(t))(e,t),ZM=e=>{const t=t=>()=>{G("left,center,right,justify".split(","),(n=>{t!==n&&e.formatter.remove("align"+n)})),"none"!==t&&((t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()})("align"+t)};e.editorCommands.addCommands({JustifyLeft:t("left"),JustifyCenter:t("center"),JustifyRight:t("right"),JustifyFull:t("justify"),JustifyNone:t("none")})},GM=e=>{ZM(e),(e=>{const t=t=>()=>{const n=e.selection,o=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks();return q(o,(n=>_(e.formatter.matchNode(n,t))))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")})(e)},$M=(e,t)=>{const n=e.selection,o=e.dom;return/^ | $/.test(t)?((e,t,n)=>{const o=vn.fromDom(e.getRoot());return n=mg(o,za.fromRangeStart(t))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),pg(o,za.fromRangeEnd(t))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")})(o,n.getRng(),t):t},YM=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:o}=(e=>{if("string"!=typeof e){const t=Rt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}})(t);ox(e,{...o,content:$M(e,n),format:"html",set:!1,selection:!0}).each((t=>{const n=((e,t,n)=>Hx(e).editor.insertContent(t,n))(e,t.content,o);rx(e,n,t),e.addVisual()}))}},KM={"font-size":"size","font-family":"face"},XM=Kt("font"),QM=(e,t,n)=>sb(vn.fromDom(n),(t=>(t=>lo(t,e).orThunk((()=>XM(t)?Ce(KM,e).bind((e=>tn(t,e))):F.none())))(t)),(e=>xn(vn.fromDom(t),e))),JM=e=>(t,n)=>F.from(n).map(vn.fromDom).filter(Zt).bind((n=>QM(e,t,n.dom).or(((e,t)=>F.from(Rs.DOM.getStyle(t,e,!0)))(e,n.dom)))).getOr(""),eP=JM("font-size"),tP=E((e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")),JM("font-family")),nP=e=>ju(e.getBody()).bind((e=>{const t=e.container();return F.from(Ko(t)?t.parentNode:t)})),oP=(e,t)=>(e=>F.from(e.selection.getRng()).bind((t=>{const n=e.getBody();return t.startContainer===n&&0===t.startOffset?F.none():F.from(e.selection.getStart(!0))})))(e).orThunk(M(nP,e)).map(vn.fromDom).filter(Zt).bind(t),rP=(e,t)=>oP(e,O(F.some,t)),iP=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const o=(e=>Rt.explode(e.options.get("font_size_style_values")))(e),r=(e=>Rt.explode(e.options.get("font_size_classes")))(e);return r.length>0?r[n-1]||t:o[n-1]||t}return t}return t},sP=e=>{const t=e.split(/\s*,\s*/);return Z(t,(e=>-1===e.indexOf(" ")||We(e,'"')||We(e,"'")?e:`'${e}'`)).join(",")},aP=e=>{const t=(t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,n,o)=>{t(e,{value:o})},BackColor:(e,n,o)=>{t("hilitecolor",{value:o})},FontName:(t,n,o)=>{((e,t)=>{const n=iP(e,t);e.formatter.toggle("fontname",{value:sP(n)}),e.nodeChanged()})(e,o)},FontSize:(t,n,o)=>{((e,t)=>{e.formatter.toggle("fontsize",{value:iP(e,t)}),e.nodeChanged()})(e,o)},LineHeight:(t,n,o)=>{((e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()})(e,o)},Lang:(e,n,o)=>{var r;t(e,{value:o.code,customValue:null!==(r=o.customCode)&&void 0!==r?r:null})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(e,n,o)=>{t(p(o)?o:"p")},mceToggleFormat:(e,n,o)=>{t(o)}})},lP=e=>{const t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",(()=>(e=>rP(e,(t=>tP(e.getBody(),t.dom))).getOr(""))(e))),e.editorCommands.addQueryValueHandler("FontSize",(()=>(e=>rP(e,(t=>eP(e.getBody(),t.dom))).getOr(""))(e))),e.editorCommands.addQueryValueHandler("LineHeight",(()=>(e=>rP(e,(t=>{const n=vn.fromDom(e.getBody()),o=sb(t,(e=>lo(e,"line-height")),M(xn,n));return o.getOrThunk((()=>{const e=parseFloat(so(t,"line-height")),n=parseFloat(so(t,"font-size"));return String(e/n)}))})).getOr(""))(e)))},cP=e=>{e.editorCommands.addCommands({Indent:()=>{(e=>{zj(e,"indent")})(e)},Outdent:()=>{Uj(e)}}),e.editorCommands.addCommands({Outdent:()=>Fj(e)},"state")},dP=e=>{GM(e),(e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let o;try{n.execCommand(t)}catch(e){o=!0}if("paste"!==t||n.queryCommandEnabled(t)||(o=!0),o||!n.queryCommandSupported(t)){let t=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(Tt.os.isMacOS()||Tt.os.isiOS())&&(t=t.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:t,type:"error"})}}})})(e),(e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})})(e),(e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,o)=>{let r=0;e.dom.getParent(e.selection.getNode(),(t=>!Vo(t)||r++!==o||(e.selection.select(t),!1)),e.getBody())},mceSelectNode:(t,n,o)=>{e.selection.select(o)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),rr);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})})(e),(e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,o)=>{YM(e,e.dom.createHTML("img",{src:o}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,o)=>{YM(e,e.dom.encode(o))},insertHTML:(t,n,o)=>{YM(e,o)},mceInsertContent:(t,n,o)=>{YM(e,o)},mceSetContent:(t,n,o)=>{e.setContent(o)},mceReplaceContent:(t,n,o)=>{e.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent("")}})})(e),(e=>{const t=(t,n,o)=>{const r=p(o)?{href:o}:o,i=e.dom.getParent(e.selection.getNode(),"a");f(r)&&p(r.href)&&(r.href=r.href.replace(/ /g,"%20"),i&&r.href||e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,i))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isCollapsed()){const t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else e.formatter.remove("link")},mceInsertLink:t,createLink:t})})(e),cP(e),(e=>{e.editorCommands.addCommands({insertParagraph:()=>{OA(sA,e)},mceInsertNewLine:(t,n,o)=>{AA(e,o)},InsertLineBreak:(t,n,o)=>{OA(fA,e)}})})(e),(e=>{(e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const n=e.dom.getParent(e.selection.getNode(),"ol,ul");if(n){const t=n.parentNode;if(t&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)){const o=e.selection.getBookmark();e.dom.split(t,n),e.selection.moveToBookmark(o)}}}})})(e),(e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state")})(e)})(e),(e=>{aP(e),lP(e)})(e),(e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,o)=>{const r=null!=o?o:e.selection.getNode();if(r!==e.getBody()){const t=e.selection.getBookmark();e.dom.remove(r,!0),e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,o)=>{Gp(e,!0===o)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})})(e)},uP=["toggleview"],hP=e=>W(uP,e.toLowerCase());class mP{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,t=!1,n,o){const r=this.editor,i=e.toLowerCase(),s=null==o?void 0:o.skip_focus;if(r.removed)return!1;"mcefocus"!==i&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(i)||s?(e=>{Ap(e).each((t=>e.selection.setRng(t)))})(r):r.focus());if(r.dispatch("BeforeExecCommand",{command:e,ui:t,value:n}).isDefaultPrevented())return!1;const a=this.commands.exec[i];return!!S(a)&&(a(i,t,n),r.dispatch("ExecCommand",{command:e,ui:t,value:n}),!0)}queryCommandState(e){if(!hP(e)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const t=e.toLowerCase(),n=this.commands.state[t];return!!S(n)&&n(t)}queryCommandValue(e){if(!hP(e)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const t=e.toLowerCase(),n=this.commands.value[t];return S(n)?n(t):""}addCommands(e,t="exec"){const n=this.commands;ge(e,((e,o)=>{G(o.toLowerCase().split(","),(o=>{n[t][o]=e}))}))}addCommand(e,t,n){const o=e.toLowerCase();this.commands.exec[o]=(e,o,r)=>t.call(null!=n?n:this.editor,o,r)}queryCommandSupported(e){const t=e.toLowerCase();return!!this.commands.exec[t]}addQueryStateHandler(e,t,n){this.commands.state[e.toLowerCase()]=()=>t.call(null!=n?n:this.editor)}addQueryValueHandler(e,t,n){this.commands.value[e.toLowerCase()]=()=>t.call(null!=n?n:this.editor)}}const pP="data-mce-contenteditable",fP=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},gP=(e,t)=>{e.dom.contentEditable=t?"true":"false"},vP=(e,t)=>{const n=vn.fromDom(e.getBody());((e,t,n)=>{fn(e,t)&&!n?mn(e,t):n&&un(e,t)})(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),(e=>{F.from(e.selection.getNode()).each((e=>{e.removeAttribute("data-mce-selected")}))})(e),e.readonly=!0,gP(n,!1),G(Lo(n,'*[contenteditable="true"]'),(e=>{Qt(e,pP,"true"),gP(e,!1)}))):(e.readonly=!1,gP(n,!0),(e=>{G(Lo(e,`*[${pP}="true"]`),(e=>{on(e,pP),gP(e,!0)}))})(n),fP(e,"StyleWithCSS",!1),fP(e,"enableInlineTableEditing",!1),fP(e,"enableObjectResizing",!1),qp(e)&&e.focus(),(e=>{e.selection.setRng(e.selection.getRng())})(e),e.nodeChanged())},bP=e=>e.readonly,yP=e=>{e.parser.addAttributeFilter("contenteditable",(t=>{bP(e)&&G(t,(e=>{e.attr(pP,e.attr("contenteditable")),e.attr("contenteditable","false")}))})),e.serializer.addAttributeFilter(pP,(t=>{bP(e)&&G(t,(e=>{e.attr("contenteditable",e.attr(pP))}))})),e.serializer.addTempAttr(pP)},wP=["copy"],xP=(e,t)=>{if((e=>"click"===e.type)(t)&&!mm.metaKeyPressed(t)){const n=vn.fromDom(t.target);((e,t)=>Jn(t,"a",(t=>xn(t,vn.fromDom(e.getBody())))).bind((e=>tn(e,"href"))))(e,n).each((n=>{if(t.preventDefault(),/^#/.test(n)){const t=e.dom.select(`${n},[name="${ze(n,"#")}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))}else(e=>W(wP,e.type))(t)&&e.dispatch(t.type,t)},_P=Rt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class SP{constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||I}static isNative(e){return!!_P[e.toLowerCase()]}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){const n=e.toLowerCase(),o=bs(n,null!=t?t:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(o);const r=this.bindings[n];if(r)for(let e=0,t=r.length;e<t;e++){const t=r[e];if(!t.removed){if(t.once&&this.off(n,t.func),o.isImmediatePropagationStopped())return o;if(!1===t.func.call(this.scope,o))return o.preventDefault(),o}}return o}on(e,t,n,o){if(!1===t&&(t=I),t){const r={func:t,removed:!1};o&&Rt.extend(r,o);const i=e.toLowerCase().split(" ");let s=i.length;for(;s--;){const e=i[s];let t=this.bindings[e];t||(t=[],this.toggleEvent(e,!0)),t=n?[r,...t]:[...t,r],this.bindings[e]=t}}return this}off(e,t){if(e){const n=e.toLowerCase().split(" ");let o=n.length;for(;o--;){const r=n[o];let i=this.bindings[r];if(!r)return ge(this.bindings,((e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]})),this;if(i){if(t){const e=Y(i,(e=>e.func===t));i=e.fail,this.bindings[r]=i,G(e.pass,(e=>{e.removed=!0}))}else i.length=0;i.length||(this.toggleEvent(e,!1),delete this.bindings[r])}}}else ge(this.bindings,((e,t)=>{this.toggleEvent(t,!1)})),this.bindings={};return this}once(e,t,n){return this.on(e,t,n,{once:!0})}has(e){e=e.toLowerCase();const t=this.bindings[e];return!(!t||0===t.length)}}const CP=e=>(e._eventDispatcher||(e._eventDispatcher=new SP({scope:e,toggleEvent:(t,n)=>{SP.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),jP={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const o=this;if(o.removed&&"remove"!==e&&"detach"!==e)return bs(e.toLowerCase(),null!=t?t:{},o);const r=CP(o).dispatch(e,t);if(!1!==n&&o.parent){let t=o.parent();for(;t&&!r.isPropagationStopped();)t.dispatch(e,r,!1),t=t.parent?t.parent():void 0}return r},on(e,t,n){return CP(this).on(e,t,n)},off(e,t){return CP(this).off(e,t)},once(e,t){return CP(this).once(e,t)},hasEventListeners(e){return CP(this).has(e)}},kP=Rs.DOM;let EP;const OP=(e,t)=>{if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=uc(e);return n?(e.eventRoot||(e.eventRoot=kP.select(n)[0]),e.eventRoot):e.getBody()},AP=(e,t,n)=>{(e=>!e.hidden&&!bP(e))(e)?e.dispatch(t,n):bP(e)&&xP(e,n)},TP=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=OP(e,t);if(uc(e)){if(EP||(EP={},e.editorManager.on("removeEditor",(()=>{e.editorManager.activeEditor||EP&&(ge(EP,((t,n)=>{e.dom.unbind(OP(e,n))})),EP=null)}))),EP[t])return;const o=n=>{const o=n.target,r=e.editorManager.get();let i=r.length;for(;i--;){const e=r[i].getBody();(e===o||kP.isChildOf(o,e))&&AP(r[i],t,n)}};EP[t]=o,kP.bind(n,t,o)}else{const o=n=>{AP(e,t,n)};kP.bind(n,t,o),e.delegates[t]=o}},DP={...jP,bindPendingEventDelegates(){const e=this;Rt.each(e._pendingNativeEvents,(t=>{TP(e,t)}))},toggleNativeEvent(e,t){const n=this;"focus"!==e&&"blur"!==e&&(n.removed||(t?n.initialized?TP(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(OP(n,e),e,n.delegates[e]),delete n.delegates[e])))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(ge(e.delegates,((t,n)=>{e.dom.unbind(OP(e,n),n,t)})),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},MP=e=>p(e)?{value:e.split(/[ ,]/),valid:!0}:j(e,p)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},PP=(e,t)=>e+(Xe(t.message)?"":`. ${t.message}`),RP=e=>e.valid,NP=(e,t,n="")=>{const o=t(e);return y(o)?o?{value:e,valid:!0}:{valid:!1,message:n}:o},LP=(e,t)=>{const n={},o={},r=(e,t,n)=>{const r=NP(t,n);return RP(r)?(o[e]=r.value,!0):(console.warn(PP(`Invalid value passed for the ${e} option`,r)),!1)},i=e=>je(n,e);return{register:(e,i)=>{const s=(e=>p(e.processor))(i)?(e=>{const t=(()=>{switch(e){case"array":return v;case"boolean":return y;case"function":return S;case"number":return C;case"object":return f;case"string":return p;case"string[]":return MP;case"object[]":return e=>j(e,f);case"regexp":return e=>m(e,RegExp);default:return B}})();return n=>NP(n,t,`The value must be a ${e}.`)})(i.processor):i.processor,a=((e,t,n)=>{if(!w(t)){const o=NP(t,n);if(RP(o))return o.value;console.error(PP(`Invalid default value passed for the "${e}" option`,o))}})(e,i.default,s);n[e]={...i,default:a,processor:s};Ce(o,e).orThunk((()=>Ce(t,e))).each((t=>r(e,t,s)))},isRegistered:i,get:e=>Ce(o,e).orThunk((()=>Ce(n,e).map((e=>e.default)))).getOrUndefined(),set:(e,t)=>{if(i(e)){const o=n[e];return o.immutable?(console.error(`"${e}" is an immutable option and cannot be updated`),!1):r(e,t,o.processor)}return console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:e=>{const t=i(e);return t&&delete o[e],t},isSet:e=>je(o,e)}},IP=["design","readonly"],BP=(e,t,n,o)=>{const r=n[t.get()],i=n[o];try{i.activate()}catch(e){return void console.error(`problem while activating editor mode ${o}:`,e)}r.deactivate(),r.editorReadOnly!==i.editorReadOnly&&vP(e,i.editorReadOnly),t.set(o),((e,t)=>{e.dispatch("SwitchMode",{mode:t})})(e,o)},FP=e=>{const t=Is("design"),n=Is({design:{activate:k,deactivate:k,editorReadOnly:!1},readonly:{activate:k,deactivate:k,editorReadOnly:!0}});return(e=>{e.serializer?yP(e):e.on("PreInit",(()=>{yP(e)}))})(e),(e=>{e.on("ShowCaret",(t=>{bP(e)&&t.preventDefault()})),e.on("ObjectSelected",(t=>{bP(e)&&t.preventDefault()}))})(e),{isReadOnly:()=>bP(e),set:o=>((e,t,n,o)=>{if(o!==n.get()){if(!je(t,o))throw new Error(`Editor mode '${o}' is invalid`);e.initialized?BP(e,n,t,o):e.on("init",(()=>BP(e,n,t,o)))}})(e,n.get(),t,o),get:()=>t.get(),register:(e,t)=>{n.set(((e,t,n)=>{if(W(IP,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}})(n.get(),e,t))}}},HP=Rt.each,VP=Rt.explode,zP={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},UP=Rt.makeMap("alt,ctrl,shift,meta,access"),WP=e=>{const t={},n=Tt.os.isMacOS()||Tt.os.isiOS();HP(VP(e.toLowerCase(),"+"),(e=>{(e=>e in UP)(e)?t[e]=!0:/^[0-9]{2,}$/.test(e)?t.keyCode=parseInt(e,10):(t.charCode=e.charCodeAt(0),t.keyCode=zP[e]||e.toUpperCase().charCodeAt(0))}));const o=[t.keyCode];let r;for(r in UP)t[r]?o.push(r):t[r]=!1;return t.id=o.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class qP{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;const t=this;e.on("keyup keypress keydown",(e=>{!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(HP(t.shortcuts,(n=>{t.matchShortcut(e,n)&&(t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n))})),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))}))}add(e,t,n,o){const r=this,i=r.normalizeCommandFunc(n);return HP(VP(Rt.trim(e)),(e=>{const n=r.createShortcut(e,t,i,o);r.shortcuts[n.id]=n})),!0}remove(e){const t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)}normalizeCommandFunc(e){const t=this,n=e;return"string"==typeof n?()=>{t.editor.execCommand(n,!1,null)}:Rt.isArray(n)?()=>{t.editor.execCommand(n[0],n[1],n[2])}:n}createShortcut(e,t,n,o){const r=Rt.map(VP(e,">"),WP);return r[r.length-1]=Rt.extend(r[r.length-1],{func:n,scope:o||this.editor}),Rt.extend(r[0],{desc:this.editor.translate(t),subpatterns:r.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}const ZP=()=>{const e=(()=>{const e={},t={},n={},o={},r={},i={},s={},a={},l=(e,t)=>(n,o)=>{e[n.toLowerCase()]={...o,type:t}};return{addButton:l(e,"button"),addGroupToolbarButton:l(e,"grouptoolbarbutton"),addToggleButton:l(e,"togglebutton"),addMenuButton:l(e,"menubutton"),addSplitButton:l(e,"splitbutton"),addMenuItem:l(t,"menuitem"),addNestedMenuItem:l(t,"nestedmenuitem"),addToggleMenuItem:l(t,"togglemenuitem"),addAutocompleter:l(n,"autocompleter"),addContextMenu:l(r,"contextmenu"),addContextToolbar:l(i,"contexttoolbar"),addContextForm:l(i,"contextform"),addSidebar:l(s,"sidebar"),addView:l(a,"views"),addIcon:(e,t)=>o[e.toLowerCase()]=t,getAll:()=>({buttons:e,menuItems:t,icons:o,popups:n,contextMenus:r,contextToolbars:i,sidebars:s,views:a})}})();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},GP=Rs.DOM,$P=Rt.extend,YP=Rt.each;class KP{constructor(e,t,n){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,$P(this,DP);const o=this;this.id=e,this.hidden=!1;const r=((e,t)=>WM(LM||IM,LM,t,e,t))(n.defaultOptions,t);this.options=LP(0,r),(e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:El(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:El(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:e=>{const t=p(e)&&Ke(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:e=>{const t=W(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:e=>y(e)||p(e)?{valid:!0,value:e}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:e=>{const t=!1===e||p(e)||j(e,p);return t?p(e)?{value:Z(e.split(","),Ge),valid:t}:v(e)?{value:e,valid:t}:!1===e?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Sc(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:e=>{const t=p(e)||j(e,p);return t?{value:v(e)?e:Z(e.split(","),Ge),valid:t}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:e=>{const t=y(e)||p(e);return t?!1===e||xl.isiPhone()||xl.isiPad()?{value:"",valid:t}:{value:!0===e?"table,img,figure.image,div,video,iframe":e,valid:t}:{valid:!1,message:"Must be boolean or a string"}},default:!_l}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:e=>!1===e||p(e)||S(e),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:e=>{const t=!1===e||p(e);return t?{value:!1===e?"":e,valid:t}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean"}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:kl}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:kl}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:kl}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:e=>p(e)||!0===e}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:e=>j(e,f)||!1===e?{value:wl(!1===e?[]:e),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("text_patterns_lookup",{processor:e=>{return S(e)?{value:(t=e,e=>{const n=t(e);return wl(n)}),valid:!0}:{valid:!1,message:"Must be a single function"};var t},default:e=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:e=>j(e,Cl)?{value:e,valid:!0}:Cl(e)?{value:[e],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!1}),t("xss_sanitization",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",(()=>{t("directionality",{processor:"string",default:Vs.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:Sl.getAttrib(e.getElement(),"placeholder")})}))})(o);const i=this.options.get;i("deprecation_warnings")&&f_(t,r);const s=i("suffix");s&&(n.suffix=s),this.suffix=n.suffix;const a=i("base_url");a&&n._setBaseUrl(a),this.baseUri=n.baseURI;const l=Ql(o);l&&(Ls.ScriptLoader._setReferrerPolicy(l),Rs.DOM.styleSheetLoader._setReferrerPolicy(l));const c=Dc(o);_(c)&&Rs.DOM.styleSheetLoader._setContentCssCors(c),zs.languageLoad=i("language_load"),zs.baseURL=n.baseURL,this.setDirty(!1),this.documentBaseURI=new Fw(Tl(o),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Sc(o),this.hasVisual=Nc(o),this.shortcuts=new qP(this),this.editorCommands=new mP(this),dP(this);const d=i("cache_suffix");d&&(Tt.cacheSuffix=d.replace(/^[\?\&]+/,"")),this.ui={registry:ZP(),styleSheetLoader:void 0,show:k,hide:k,setEnabled:k,isEnabled:B},this.mode=FP(o),n.dispatch("SetupEditor",{editor:this});const u=Fc(o);S(u)&&u.call(o,o)}render(){RM(this)}focus(e){this.execCommand("mceFocus",!1,e)}hasFocus(){return Wp(this)}translate(e){return Vs.translate(e)}getParam(e,t,n){const o=this.options;return o.isRegistered(e)||(_(n)?o.register(e,{processor:n,default:t}):o.register(e,{processor:B,default:t})),o.isSet(e)||w(t)?o.get(e):t}hasPlugin(e,t){return!!W(Mc(this),e)&&(!t||void 0!==D_.get(e))}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,n){this.editorCommands.addCommand(e,t,n)}addQueryStateHandler(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)}addQueryValueHandler(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)}addShortcut(e,t,n,o){this.shortcuts.add(e,t,n,o)}execCommand(e,t,n,o){return this.editorCommands.execCommand(e,t,n,o)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){const e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(GP.show(e.getContainer()),GP.hide(e.id)),e.load(),e.dispatch("show"))}hide(){const e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(GP.hide(e.getContainer()),GP.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e={}){const t=this,n=t.getElement();if(t.removed)return"";if(n){const o={...e,load:!0},r=Yo(n)?n.value:n.innerHTML,i=t.setContent(r,o);return o.no_events||t.dispatch("LoadContent",{...o,element:n}),i}return""}save(e={}){const t=this;let n=t.getElement();if(!n||!t.initialized||t.removed)return"";const o={...e,save:!0,element:n};let r=t.getContent(o);const i={...o,content:r};if(i.no_events||t.dispatch("SaveContent",i),"raw"===i.format&&t.dispatch("RawSaveContent",i),r=i.content,Yo(n))n.value=r;else{!e.is_removing&&t.inline||(n.innerHTML=r);const o=GP.getParent(t.id,"form");o&&YP(o.elements,(e=>e.name!==t.id||(e.value=r,!1)))}return i.element=o.element=n=null,!1!==i.set_dirty&&t.setDirty(!1),r}setContent(e,t){return o_(this,e,t)}getContent(e){return n_(this,e)}insertContent(e,t){t&&(e=$P({content:e},t)),this.execCommand("mceInsertContent",!1,e)}resetContent(e){void 0===e?o_(this,this.startContent,{format:"raw"}):o_(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){const t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch("dirty")}getContainer(){const e=this;return e.container||(e.container=e.editorContainer||GP.get(e.id+"_parent")),e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=GP.get(this.id)),this.targetElm}getWin(){const e=this;if(!e.contentWindow){const t=e.iframeElement;t&&(e.contentWindow=t.contentWindow)}return e.contentWindow}getDoc(){const e=this;if(!e.contentDocument){const t=e.getWin();t&&(e.contentDocument=t.document)}return e.contentDocument}getBody(){var e,t;const n=this.getDoc();return null!==(t=null!==(e=this.bodyElement)&&void 0!==e?e:null==n?void 0:n.body)&&void 0!==t?t:null}convertURL(e,t,n){const o=this,r=o.options.get,i=Vc(o);return S(i)?i.call(o,e,n,!0,t):!r("convert_urls")||"link"===n||f(n)&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:r("relative_urls")?o.documentBaseURI.toRelative(e):e=o.documentBaseURI.toAbsolute(e,r("remove_script_host"))}addVisual(e){qM(this,e)}remove(){b_(this)}destroy(e){y_(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const XP=Rs.DOM,QP=Rt.each;let JP,eR=!1,tR=[];const nR=e=>{const t=e.type;QP(sR.get(),(n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e)}}))},oR=e=>{if(e!==eR){const t=Rs.DOM;e?(t.bind(window,"resize",nR),t.bind(window,"scroll",nR)):(t.unbind(window,"resize",nR),t.unbind(window,"scroll",nR)),eR=e}},rR=e=>{const t=tR;return tR=K(tR,(t=>e!==t)),sR.activeEditor===e&&(sR.activeEditor=tR.length>0?tR[0]:null),sR.focusedEditor===e&&(sR.focusedEditor=null),t.length!==tR.length},iR="CSS1Compat"!==document.compatMode,sR={...jP,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"4.2",releaseDate:"2023-04-26",i18n:Vs,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",o=Fw.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/"));const r=window.tinymce||window.tinyMCEPreInit;if(r)t=r.base||r.baseURL,n=r.suffix;else{const e=document.getElementsByTagName("script");for(let o=0;o<e.length;o++){const r=e[o].src||"";if(""===r)continue;const i=r.substring(r.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!==i.indexOf(".min")&&(n=".min"),t=r.substring(0,r.lastIndexOf("/"));break}}if(!t&&document.currentScript){const e=document.currentScript.src;-1!==e.indexOf(".min")&&(n=".min"),t=e.substring(0,e.lastIndexOf("/"))}}var i;e.baseURL=new Fw(o).toAbsolute(t),e.documentBaseURL=o,e.baseURI=new Fw(e.baseURL),e.suffix=n,(i=e).on("AddEditor",M(Bp,i)),i.on("RemoveEditor",M(Fp,i))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const o=e.plugin_base_urls;void 0!==o&&ge(o,((e,t)=>{zs.PluginManager.urls[t]=e}))},init(e){const t=this;let n;const o=Rt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let r=e=>{n=e};const i=()=>{let n=0;const s=[];let a;XP.unbind(window,"ready",i),(n=>{const o=e[n];if(o)o.apply(t,[])})("onpageload"),a=((e,t)=>{const n=[],o=S(t)?e=>q(n,(n=>t(n,e))):e=>W(n,e);for(let t=0,r=e.length;t<r;t++){const r=e[t];o(r)||n.push(r)}return n})((e=>Tt.browser.isIE()||Tt.browser.isEdge()?(B_("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):iR?(B_("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):p(e.selector)?XP.select(e.selector):_(e.target)?[e.target]:[])(e)),Rt.each(a,(e=>{var n;(n=t.get(e.id))&&n.initialized&&!(n.getContainer()||n.getBody()).parentNode&&(rR(n),n.unbindAllNativeEvents(),n.destroy(!0),n.removed=!0)})),a=Rt.grep(a,(e=>!t.get(e.id))),0===a.length?r([]):QP(a,(i=>{((e,t)=>e.inline&&t.tagName.toLowerCase()in o)(e,i)?B_("Could not initialize inline editor on invalid inline target element",i):((e,o,i)=>{const l=new KP(e,o,t);s.push(l),l.on("init",(()=>{++n===a.length&&r(s)})),l.targetElm=l.targetElm||i,l.render()})((e=>{let t=e.id;return t||(t=Ce(e,"name").filter((e=>!XP.get(e))).getOrThunk(XP.uniqueId),e.setAttribute("id",t)),t})(i),e,i)}))};return XP.bind(window,"ready",i),new Promise((e=>{n?e(n):r=t=>{e(t)}}))},get(e){return 0===arguments.length?tR.slice(0):p(e)?ee(tR,(t=>t.id===e)).getOr(null):C(e)&&tR[e]?tR[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(null===n&&tR.push(e),oR(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),JP||(JP=e=>{const n=t.dispatch("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",JP))),e},createEditor(e,t){return this.add(new KP(e,t,this))},remove(e){const t=this;let n;if(e){if(!p(e))return n=e,b(t.get(n.id))?null:(rR(n)&&t.dispatch("RemoveEditor",{editor:n}),0===tR.length&&window.removeEventListener("beforeunload",JP),n.remove(),oR(tR.length>0),n);QP(XP.select(e),(e=>{n=t.get(e.id),n&&t.remove(n)}))}else for(let e=tR.length-1;e>=0;e--)t.remove(tR[e])},execCommand(e,t,n){var o;const r=this,i=f(n)?null!==(o=n.id)&&void 0!==o?o:n.index:n;switch(e){case"mceAddEditor":if(!r.get(i)){const e=n.options;new KP(i,e,r).render()}return!0;case"mceRemoveEditor":{const e=r.get(i);return e&&e.remove(),!0}case"mceToggleEditor":{const e=r.get(i);return e?(e.isHidden()?e.show():e.hide(),!0):(r.execCommand("mceAddEditor",!1,n),!0)}}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:()=>{QP(tR,(e=>{e.save()}))},addI18n:(e,t)=>{Vs.add(e,t)},translate:e=>Vs.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Fw(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Fw(this.baseURL)}};sR.setup();const aR=(()=>{const e=Ws();return{FakeClipboardItem:e=>({items:e,types:pe(e),getType:t=>Ce(e,t).getOrUndefined()}),write:t=>{e.set(t)},read:()=>e.get().getOrUndefined(),clear:e.clear}})(),lR=Math.min,cR=Math.max,dR=Math.round,uR=(e,t,n)=>{let o=t.x,r=t.y;const i=e.w,s=e.h,a=t.w,l=t.h,c=(n||"").split("");return"b"===c[0]&&(r+=l),"r"===c[1]&&(o+=a),"c"===c[0]&&(r+=dR(l/2)),"c"===c[1]&&(o+=dR(a/2)),"b"===c[3]&&(r-=s),"r"===c[4]&&(o-=i),"c"===c[3]&&(r-=dR(s/2)),"c"===c[4]&&(o-=dR(i/2)),hR(o,r,i,s)},hR=(e,t,n,o)=>({x:e,y:t,w:n,h:o}),mR={inflate:(e,t,n)=>hR(e.x-t,e.y-n,e.w+2*t,e.h+2*n),relativePosition:uR,findBestRelativePosition:(e,t,n,o)=>{for(let r=0;r<o.length;r++){const i=uR(e,t,o[r]);if(i.x>=n.x&&i.x+i.w<=n.w+n.x&&i.y>=n.y&&i.y+i.h<=n.h+n.y)return o[r]}return null},intersect:(e,t)=>{const n=cR(e.x,t.x),o=cR(e.y,t.y),r=lR(e.x+e.w,t.x+t.w),i=lR(e.y+e.h,t.y+t.h);return r-n<0||i-o<0?null:hR(n,o,r-n,i-o)},clamp:(e,t,n)=>{let o=e.x,r=e.y,i=e.x+e.w,s=e.y+e.h;const a=t.x+t.w,l=t.y+t.h,c=cR(0,t.x-o),d=cR(0,t.y-r),u=cR(0,i-a),h=cR(0,s-l);return o+=c,r+=d,n&&(i+=c,s+=d,o-=u,r-=h),i-=u,s-=h,hR(o,r,i-o,s-r)},create:hR,fromClientRect:e=>hR(e.left,e.top,e.width,e.height)},pR=(()=>{const e={},t={};return{load:(n,o)=>{const r=`Script at URL "${o}" failed to load`,i=`Script at URL "${o}" did not call \`tinymce.Resource.add('${n}', data)\` within 1 second`;if(void 0!==e[n])return e[n];{const s=new Promise(((e,s)=>{const a=((e,t,n=1e3)=>{let o=!1,r=null;const i=e=>(...t)=>{o||(o=!0,null!==r&&(clearTimeout(r),r=null),e.apply(null,t))},s=i(e),a=i(t);return{start:(...e)=>{o||null!==r||(r=setTimeout((()=>a.apply(null,e)),n))},resolve:s,reject:a}})(e,s);t[n]=a.resolve,Ls.ScriptLoader.loadScript(o).then((()=>a.start(i)),(()=>a.reject(r)))}));return e[n]=s,s}},add:(n,o)=>{void 0!==t[n]&&(t[n](o),delete t[n]),e[n]=Promise.resolve(o)},unload:t=>{delete e[t]}}})();let fR;try{const e="__storage_test__";fR=window.localStorage,fR.setItem(e,e),fR.removeItem(e)}catch(e){fR=(()=>{let e={},t=[];const n={getItem:t=>e[t]||null,setItem:(n,o)=>{t.push(n),e[n]=String(o)},key:e=>t[e],removeItem:n=>{t=t.filter((e=>e===n)),delete e[n]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})()}const gR={geom:{Rect:mR},util:{Delay:Dp,Tools:Rt,VK:mm,URI:Fw,EventDispatcher:SP,Observable:jP,I18n:Vs,LocalStorage:fR,ImageUploader:e=>{const t=z_(),n=G_(e,t);return{upload:(t,o=!0)=>n.upload(t,o?Z_(e):void 0)}}},dom:{EventUtils:Cs,TreeWalker:Bo,TextSeeker:ha,DOMUtils:Rs,ScriptLoader:Ls,RangeUtils:Ym,Serializer:t_,StyleSheetLoader:Ni,ControlSelection:bm,BookmarkManager:im,Selection:Kx,Event:Cs.Event},html:{Styles:ps,Entities:es,Node:hf,Schema:ms,DomParser:Jw,Writer:_f,Serializer:Sf},Env:Tt,AddOnManager:zs,Annotator:rm,Formatter:sS,UndoManager:lS,EditorCommands:mP,WindowManager:P_,NotificationManager:T_,EditorObservable:DP,Shortcuts:qP,Editor:KP,FocusManager:Tp,EditorManager:sR,DOM:Rs.DOM,ScriptLoader:Ls.ScriptLoader,PluginManager:D_,ThemeManager:M_,ModelManager:x_,IconManager:w_,Resource:pR,FakeClipboard:aR,trim:Rt.trim,isArray:Rt.isArray,is:Rt.is,toArray:Rt.toArray,makeMap:Rt.makeMap,each:Rt.each,map:Rt.map,grep:Rt.grep,inArray:Rt.inArray,extend:Rt.extend,walk:Rt.walk,resolve:Rt.resolve,explode:Rt.explode,_addCacheSuffix:Rt._addCacheSuffix},vR=Rt.extend(sR,gR);(e=>{window.tinymce=e,window.tinyMCE=e})(vR),(t=>{try{e.exports=t}catch(e){}})(vR)}()},"./node_modules/tippy.js/dist/tippy.esm.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{animateFill:()=>me,createSingleton:()=>de,default:()=>xe,delegate:()=>he,followCursor:()=>ve,hideAll:()=>le,inlinePositioning:()=>be,roundArrow:()=>i,sticky:()=>ye});var o=n("./node_modules/@popperjs/core/lib/popper.js"),r=n("./node_modules/@popperjs/core/lib/modifiers/applyStyles.js"),i='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',s="tippy-content",a="tippy-backdrop",l="tippy-arrow",c="tippy-svg-arrow",d={passive:!0,capture:!0},u=function(){return document.body};function h(e,t,n){if(Array.isArray(e)){var o=e[t];return null==o?Array.isArray(n)?n[t]:n:o}return e}function m(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function p(e,t){return"function"==typeof e?e.apply(void 0,t):e}function f(e,t){return 0===t?e:function(o){clearTimeout(n),n=setTimeout((function(){e(o)}),t)};var n}function g(e,t){var n=Object.assign({},e);return t.forEach((function(e){delete n[e]})),n}function v(e){return[].concat(e)}function b(e,t){-1===e.indexOf(t)&&e.push(t)}function y(e){return e.split("-")[0]}function w(e){return[].slice.call(e)}function x(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function _(){return document.createElement("div")}function S(e){return["Element","Fragment"].some((function(t){return m(e,t)}))}function C(e){return m(e,"MouseEvent")}function j(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function k(e){return S(e)?[e]:function(e){return m(e,"NodeList")}(e)?w(e):Array.isArray(e)?e:w(document.querySelectorAll(e))}function E(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function O(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function A(e){var t,n=v(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function T(e,t,n){var o=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[o](t,n)}))}function D(e,t){for(var n=t;n;){var o;if(e.contains(n))return!0;n=null==n.getRootNode||null==(o=n.getRootNode())?void 0:o.host}return!1}var M={isTouch:!1},P=0;function R(){M.isTouch||(M.isTouch=!0,window.performance&&document.addEventListener("mousemove",N))}function N(){var e=performance.now();e-P<20&&(M.isTouch=!1,document.removeEventListener("mousemove",N)),P=e}function L(){var e=document.activeElement;if(j(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var I,B=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto;function F(e){return[e+"() was called on a"+("destroy"===e?"n already-":" ")+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function H(e){return e.replace(/[ \t]{2,}/g," ").replace(/^[ \t]*/gm,"").trim()}function V(e){return H("\n  %ctippy.js\n\n  %c"+H(e)+"\n\n  %c This is a development-only message. It will be removed in production.\n  ")}function z(e){return[V(e),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}function U(e,t){var n;e&&!I.has(t)&&(I.add(t),(n=console).warn.apply(n,z(t)))}function W(e,t){var n;e&&!I.has(t)&&(I.add(t),(n=console).error.apply(n,z(t)))}I=new Set;var q={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Z=Object.assign({appendTo:u,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},q,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),G=Object.keys(Z);function $(e){var t=(e.plugins||[]).reduce((function(t,n){var o,r=n.name,i=n.defaultValue;r&&(t[r]=void 0!==e[r]?e[r]:null!=(o=Z[r])?o:i);return t}),{});return Object.assign({},e,t)}function Y(e,t){var n=Object.assign({},t,{content:p(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys($(Object.assign({},Z,{plugins:t}))):G).reduce((function(t,n){var o=(e.getAttribute("data-tippy-"+n)||"").trim();if(!o)return t;if("content"===n)t[n]=o;else try{t[n]=JSON.parse(o)}catch(e){t[n]=o}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},Z.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function K(e,t){void 0===e&&(e={}),void 0===t&&(t=[]),Object.keys(e).forEach((function(e){var n,o,r=g(Z,Object.keys(q)),i=(n=r,o=e,!{}.hasOwnProperty.call(n,o));i&&(i=0===t.filter((function(t){return t.name===e})).length),U(i,["`"+e+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.","\n\n","All props: https://atomiks.github.io/tippyjs/v6/all-props/\n","Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))}))}var X=function(){return"innerHTML"};function Q(e,t){e[X()]=t}function J(e){var t=_();return!0===e?t.className=l:(t.className=c,S(e)?t.appendChild(e):Q(t,e)),t}function ee(e,t){S(t.content)?(Q(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?Q(e,t.content):e.textContent=t.content)}function te(e){var t=e.firstElementChild,n=w(t.children);return{box:t,content:n.find((function(e){return e.classList.contains(s)})),arrow:n.find((function(e){return e.classList.contains(l)||e.classList.contains(c)})),backdrop:n.find((function(e){return e.classList.contains(a)}))}}function ne(e){var t=_(),n=_();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var o=_();function r(n,o){var r=te(t),i=r.box,s=r.content,a=r.arrow;o.theme?i.setAttribute("data-theme",o.theme):i.removeAttribute("data-theme"),"string"==typeof o.animation?i.setAttribute("data-animation",o.animation):i.removeAttribute("data-animation"),o.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof o.maxWidth?o.maxWidth+"px":o.maxWidth,o.role?i.setAttribute("role",o.role):i.removeAttribute("role"),n.content===o.content&&n.allowHTML===o.allowHTML||ee(s,e.props),o.arrow?a?n.arrow!==o.arrow&&(i.removeChild(a),i.appendChild(J(o.arrow))):i.appendChild(J(o.arrow)):a&&i.removeChild(a)}return o.className=s,o.setAttribute("data-state","hidden"),ee(o,e.props),t.appendChild(n),n.appendChild(o),r(e.props,e.props),{popper:t,onUpdate:r}}ne.$$tippy=!0;var oe=1,re=[],ie=[];function se(e,t){var n,r,i,s,a,l,c,m,g=Y(e,Object.assign({},Z,$(x(t)))),S=!1,j=!1,k=!1,P=!1,R=[],N=f(Se,g.interactiveDebounce),L=oe++,I=(m=g.plugins).filter((function(e,t){return m.indexOf(e)===t})),H={id:L,reference:e,popper:_(),popperInstance:null,props:g,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:I,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)},setProps:function(t){U(H.state.isDestroyed,F("setProps"));if(H.state.isDestroyed)return;ce("onBeforeUpdate",[H,t]),xe();var n=H.props,o=Y(e,Object.assign({},n,x(t),{ignoreAttributes:!0}));H.props=o,we(),n.interactiveDebounce!==o.interactiveDebounce&&(he(),N=f(Se,o.interactiveDebounce));n.triggerTarget&&!o.triggerTarget?v(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):o.triggerTarget&&e.removeAttribute("aria-expanded");ue(),le(),q&&q(n,o);H.popperInstance&&(Ee(),Ae().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));ce("onAfterUpdate",[H,t])},setContent:function(e){H.setProps({content:e})},show:function(){U(H.state.isDestroyed,F("show"));var e=H.state.isVisible,t=H.state.isDestroyed,n=!H.state.isEnabled,o=M.isTouch&&!H.props.touch,r=h(H.props.duration,0,Z.duration);if(e||t||n||o)return;if(ee().hasAttribute("disabled"))return;if(ce("onShow",[H],!1),!1===H.props.onShow(H))return;H.state.isVisible=!0,J()&&(z.style.visibility="visible");le(),ge(),H.state.isMounted||(z.style.transition="none");if(J()){var i=se();E([i.box,i.content],0)}l=function(){var e;if(H.state.isVisible&&!P){if(P=!0,z.offsetHeight,z.style.transition=H.props.moveTransition,J()&&H.props.animation){var t=se(),n=t.box,o=t.content;E([n,o],r),O([n,o],"visible")}de(),ue(),b(ie,H),null==(e=H.popperInstance)||e.forceUpdate(),ce("onMount",[H]),H.props.animation&&J()&&function(e,t){be(e,t)}(r,(function(){H.state.isShown=!0,ce("onShown",[H])}))}},function(){var e,t=H.props.appendTo,n=ee();e=H.props.interactive&&t===u||"parent"===t?n.parentNode:p(t,[n]);e.contains(z)||e.appendChild(z);H.state.isMounted=!0,Ee(),U(H.props.interactive&&t===Z.appendTo&&n.nextElementSibling!==z,["Interactive tippy element may not be accessible via keyboard","navigation because it is not directly after the reference element","in the DOM source order.","\n\n","Using a wrapper <div> or <span> tag around the reference element","solves this by creating a new parentNode context.","\n\n","Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle","keyboard navigation.","\n\n","See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "))}()},hide:function(){U(H.state.isDestroyed,F("hide"));var e=!H.state.isVisible,t=H.state.isDestroyed,n=!H.state.isEnabled,o=h(H.props.duration,1,Z.duration);if(e||t||n)return;if(ce("onHide",[H],!1),!1===H.props.onHide(H))return;H.state.isVisible=!1,H.state.isShown=!1,P=!1,S=!1,J()&&(z.style.visibility="hidden");if(he(),ve(),le(!0),J()){var r=se(),i=r.box,s=r.content;H.props.animation&&(E([i,s],o),O([i,s],"hidden"))}de(),ue(),H.props.animation?J()&&function(e,t){be(e,(function(){!H.state.isVisible&&z.parentNode&&z.parentNode.contains(z)&&t()}))}(o,H.unmount):H.unmount()},hideWithInteractivity:function(e){U(H.state.isDestroyed,F("hideWithInteractivity"));ne().addEventListener("mousemove",N),b(re,N),N(e)},enable:function(){H.state.isEnabled=!0},disable:function(){H.hide(),H.state.isEnabled=!1},unmount:function(){U(H.state.isDestroyed,F("unmount"));H.state.isVisible&&H.hide();if(!H.state.isMounted)return;Oe(),Ae().forEach((function(e){e._tippy.unmount()})),z.parentNode&&z.parentNode.removeChild(z);ie=ie.filter((function(e){return e!==H})),H.state.isMounted=!1,ce("onHidden",[H])},destroy:function(){U(H.state.isDestroyed,F("destroy"));if(H.state.isDestroyed)return;H.clearDelayTimeouts(),H.unmount(),xe(),delete e._tippy,H.state.isDestroyed=!0,ce("onDestroy",[H])}};if(!g.render)return W(!0,"render() function has not been supplied."),H;var V=g.render(H),z=V.popper,q=V.onUpdate;z.setAttribute("data-tippy-root",""),z.id="tippy-"+H.id,H.popper=z,e._tippy=H,z._tippy=H;var G=I.map((function(e){return e.fn(H)})),K=e.hasAttribute("aria-expanded");return we(),ue(),le(),ce("onCreate",[H]),g.showOnCreate&&Te(),z.addEventListener("mouseenter",(function(){H.props.interactive&&H.state.isVisible&&H.clearDelayTimeouts()})),z.addEventListener("mouseleave",(function(){H.props.interactive&&H.props.trigger.indexOf("mouseenter")>=0&&ne().addEventListener("mousemove",N)})),H;function X(){var e=H.props.touch;return Array.isArray(e)?e:[e,0]}function Q(){return"hold"===X()[0]}function J(){var e;return!(null==(e=H.props.render)||!e.$$tippy)}function ee(){return c||e}function ne(){var e=ee().parentNode;return e?A(e):document}function se(){return te(z)}function ae(e){return H.state.isMounted&&!H.state.isVisible||M.isTouch||s&&"focus"===s.type?0:h(H.props.delay,e?0:1,Z.delay)}function le(e){void 0===e&&(e=!1),z.style.pointerEvents=H.props.interactive&&!e?"":"none",z.style.zIndex=""+H.props.zIndex}function ce(e,t,n){var o;(void 0===n&&(n=!0),G.forEach((function(n){n[e]&&n[e].apply(n,t)})),n)&&(o=H.props)[e].apply(o,t)}function de(){var t=H.props.aria;if(t.content){var n="aria-"+t.content,o=z.id;v(H.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(H.state.isVisible)e.setAttribute(n,t?t+" "+o:o);else{var r=t&&t.replace(o,"").trim();r?e.setAttribute(n,r):e.removeAttribute(n)}}))}}function ue(){!K&&H.props.aria.expanded&&v(H.props.triggerTarget||e).forEach((function(e){H.props.interactive?e.setAttribute("aria-expanded",H.state.isVisible&&e===ee()?"true":"false"):e.removeAttribute("aria-expanded")}))}function he(){ne().removeEventListener("mousemove",N),re=re.filter((function(e){return e!==N}))}function me(t){if(!M.isTouch||!k&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!H.props.interactive||!D(z,n)){if(v(H.props.triggerTarget||e).some((function(e){return D(e,n)}))){if(M.isTouch)return;if(H.state.isVisible&&H.props.trigger.indexOf("click")>=0)return}else ce("onClickOutside",[H,t]);!0===H.props.hideOnClick&&(H.clearDelayTimeouts(),H.hide(),j=!0,setTimeout((function(){j=!1})),H.state.isMounted||ve())}}}function pe(){k=!0}function fe(){k=!1}function ge(){var e=ne();e.addEventListener("mousedown",me,!0),e.addEventListener("touchend",me,d),e.addEventListener("touchstart",fe,d),e.addEventListener("touchmove",pe,d)}function ve(){var e=ne();e.removeEventListener("mousedown",me,!0),e.removeEventListener("touchend",me,d),e.removeEventListener("touchstart",fe,d),e.removeEventListener("touchmove",pe,d)}function be(e,t){var n=se().box;function o(e){e.target===n&&(T(n,"remove",o),t())}if(0===e)return t();T(n,"remove",a),T(n,"add",o),a=o}function ye(t,n,o){void 0===o&&(o=!1),v(H.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,o),R.push({node:e,eventType:t,handler:n,options:o})}))}function we(){var e;Q()&&(ye("touchstart",_e,{passive:!0}),ye("touchend",Ce,{passive:!0})),(e=H.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(ye(e,_e),e){case"mouseenter":ye("mouseleave",Ce);break;case"focus":ye(B?"focusout":"blur",je);break;case"focusin":ye("focusout",je)}}))}function xe(){R.forEach((function(e){var t=e.node,n=e.eventType,o=e.handler,r=e.options;t.removeEventListener(n,o,r)})),R=[]}function _e(e){var t,n=!1;if(H.state.isEnabled&&!ke(e)&&!j){var o="focus"===(null==(t=s)?void 0:t.type);s=e,c=e.currentTarget,ue(),!H.state.isVisible&&C(e)&&re.forEach((function(t){return t(e)})),"click"===e.type&&(H.props.trigger.indexOf("mouseenter")<0||S)&&!1!==H.props.hideOnClick&&H.state.isVisible?n=!0:Te(e),"click"===e.type&&(S=!n),n&&!o&&De(e)}}function Se(e){var t=e.target,n=ee().contains(t)||z.contains(t);if("mousemove"!==e.type||!n){var o=Ae().concat(z).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:g}:null})).filter(Boolean);(function(e,t){var n=t.clientX,o=t.clientY;return e.every((function(e){var t=e.popperRect,r=e.popperState,i=e.props.interactiveBorder,s=y(r.placement),a=r.modifiersData.offset;if(!a)return!0;var l="bottom"===s?a.top.y:0,c="top"===s?a.bottom.y:0,d="right"===s?a.left.x:0,u="left"===s?a.right.x:0,h=t.top-o+l>i,m=o-t.bottom-c>i,p=t.left-n+d>i,f=n-t.right-u>i;return h||m||p||f}))})(o,e)&&(he(),De(e))}}function Ce(e){ke(e)||H.props.trigger.indexOf("click")>=0&&S||(H.props.interactive?H.hideWithInteractivity(e):De(e))}function je(e){H.props.trigger.indexOf("focusin")<0&&e.target!==ee()||H.props.interactive&&e.relatedTarget&&z.contains(e.relatedTarget)||De(e)}function ke(e){return!!M.isTouch&&Q()!==e.type.indexOf("touch")>=0}function Ee(){Oe();var t=H.props,n=t.popperOptions,r=t.placement,i=t.offset,s=t.getReferenceClientRect,a=t.moveTransition,c=J()?te(z).arrow:null,d=s?{getBoundingClientRect:s,contextElement:s.contextElement||ee()}:e,u={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(J()){var n=se().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}},h=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},u];J()&&c&&h.push({name:"arrow",options:{element:c,padding:3}}),h.push.apply(h,(null==n?void 0:n.modifiers)||[]),H.popperInstance=(0,o.createPopper)(d,z,Object.assign({},n,{placement:r,onFirstUpdate:l,modifiers:h}))}function Oe(){H.popperInstance&&(H.popperInstance.destroy(),H.popperInstance=null)}function Ae(){return w(z.querySelectorAll("[data-tippy-root]"))}function Te(e){H.clearDelayTimeouts(),e&&ce("onTrigger",[H,e]),ge();var t=ae(!0),o=X(),r=o[0],i=o[1];M.isTouch&&"hold"===r&&i&&(t=i),t?n=setTimeout((function(){H.show()}),t):H.show()}function De(e){if(H.clearDelayTimeouts(),ce("onUntrigger",[H,e]),H.state.isVisible){if(!(H.props.trigger.indexOf("mouseenter")>=0&&H.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&S)){var t=ae(!1);t?r=setTimeout((function(){H.state.isVisible&&H.hide()}),t):i=requestAnimationFrame((function(){H.hide()}))}}else ve()}}function ae(e,t){void 0===t&&(t={});var n=Z.plugins.concat(t.plugins||[]);!function(e){var t=!e,n="[object Object]"===Object.prototype.toString.call(e)&&!e.addEventListener;W(t,["tippy() was passed","`"+String(e)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),W(n,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}(e),K(t,n),document.addEventListener("touchstart",R,d),window.addEventListener("blur",L);var o=Object.assign({},t,{plugins:n}),r=k(e),i=S(o.content),s=r.length>1;U(i&&s,["tippy() was passed an Element as the `content` prop, but more than","one tippy instance was created by this invocation. This means the","content element will only be appended to the last tippy instance.","\n\n","Instead, pass the .innerHTML of the element, or use a function that","returns a cloned version of the element instead.","\n\n","1) content: element.innerHTML\n","2) content: () => element.cloneNode(true)"].join(" "));var a=r.reduce((function(e,t){var n=t&&se(t,o);return n&&e.push(n),e}),[]);return S(e)?a[0]:a}ae.defaultProps=Z,ae.setDefaultProps=function(e){K(e,[]),Object.keys(e).forEach((function(t){Z[t]=e[t]}))},ae.currentInput=M;var le=function(e){var t=void 0===e?{}:e,n=t.exclude,o=t.duration;ie.forEach((function(e){var t=!1;if(n&&(t=j(n)?e.reference===n:e.popper===n.popper),!t){var r=e.props.duration;e.setProps({duration:o}),e.hide(),e.state.isDestroyed||e.setProps({duration:r})}}))},ce=Object.assign({},r.default,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}}),de=function(e,t){var n;void 0===t&&(t={}),W(!Array.isArray(e),["The first argument passed to createSingleton() must be an array of","tippy instances. The passed value was",String(e)].join(" "));var o,r=e,i=[],s=[],a=t.overrides,l=[],c=!1;function d(){s=r.map((function(e){return v(e.props.triggerTarget||e.reference)})).reduce((function(e,t){return e.concat(t)}),[])}function u(){i=r.map((function(e){return e.reference}))}function h(e){r.forEach((function(t){e?t.enable():t.disable()}))}function m(e){return r.map((function(t){var n=t.setProps;return t.setProps=function(r){n(r),t.reference===o&&e.setProps(r)},function(){t.setProps=n}}))}function p(e,t){var n=s.indexOf(t);if(t!==o){o=t;var l=(a||[]).concat("content").reduce((function(e,t){return e[t]=r[n].props[t],e}),{});e.setProps(Object.assign({},l,{getReferenceClientRect:"function"==typeof l.getReferenceClientRect?l.getReferenceClientRect:function(){var e;return null==(e=i[n])?void 0:e.getBoundingClientRect()}}))}}h(!1),u(),d();var f={fn:function(){return{onDestroy:function(){h(!0)},onHidden:function(){o=null},onClickOutside:function(e){e.props.showOnCreate&&!c&&(c=!0,o=null)},onShow:function(e){e.props.showOnCreate&&!c&&(c=!0,p(e,i[0]))},onTrigger:function(e,t){p(e,t.currentTarget)}}}},b=ae(_(),Object.assign({},g(t,["overrides"]),{plugins:[f].concat(t.plugins||[]),triggerTarget:s,popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((null==(n=t.popperOptions)?void 0:n.modifiers)||[],[ce])})})),y=b.show;b.show=function(e){if(y(),!o&&null==e)return p(b,i[0]);if(!o||null!=e){if("number"==typeof e)return i[e]&&p(b,i[e]);if(r.indexOf(e)>=0){var t=e.reference;return p(b,t)}return i.indexOf(e)>=0?p(b,e):void 0}},b.showNext=function(){var e=i[0];if(!o)return b.show(0);var t=i.indexOf(o);b.show(i[t+1]||e)},b.showPrevious=function(){var e=i[i.length-1];if(!o)return b.show(e);var t=i.indexOf(o),n=i[t-1]||e;b.show(n)};var w=b.setProps;return b.setProps=function(e){a=e.overrides||a,w(e)},b.setInstances=function(e){h(!0),l.forEach((function(e){return e()})),r=e,h(!1),u(),d(),l=m(b),b.setProps({triggerTarget:s})},l=m(b),b},ue={mouseover:"mouseenter",focusin:"focus",click:"click"};function he(e,t){W(!(t&&t.target),["You must specity a `target` prop indicating a CSS selector string matching","the target elements that should receive a tippy."].join(" "));var n=[],o=[],r=!1,i=t.target,s=g(t,["target"]),a=Object.assign({},s,{trigger:"manual",touch:!1}),l=Object.assign({touch:Z.touch},s,{showOnCreate:!0}),c=ae(e,a);function u(e){if(e.target&&!r){var n=e.target.closest(i);if(n){var s=n.getAttribute("data-tippy-trigger")||t.trigger||Z.trigger;if(!n._tippy&&!("touchstart"===e.type&&"boolean"==typeof l.touch||"touchstart"!==e.type&&s.indexOf(ue[e.type])<0)){var a=ae(n,l);a&&(o=o.concat(a))}}}}function h(e,t,o,r){void 0===r&&(r=!1),e.addEventListener(t,o,r),n.push({node:e,eventType:t,handler:o,options:r})}return v(c).forEach((function(e){var t=e.destroy,i=e.enable,s=e.disable;e.destroy=function(e){void 0===e&&(e=!0),e&&o.forEach((function(e){e.destroy()})),o=[],n.forEach((function(e){var t=e.node,n=e.eventType,o=e.handler,r=e.options;t.removeEventListener(n,o,r)})),n=[],t()},e.enable=function(){i(),o.forEach((function(e){return e.enable()})),r=!1},e.disable=function(){s(),o.forEach((function(e){return e.disable()})),r=!0},function(e){var t=e.reference;h(t,"touchstart",u,d),h(t,"mouseover",u),h(t,"focusin",u),h(t,"click",u)}(e)})),c}var me={name:"animateFill",defaultValue:!1,fn:function(e){var t;if(null==(t=e.props.render)||!t.$$tippy)return W(e.props.animateFill,"The `animateFill` plugin requires the default render function."),{};var n=te(e.popper),o=n.box,r=n.content,i=e.props.animateFill?function(){var e=_();return e.className=a,O([e],"hidden"),e}():null;return{onCreate:function(){i&&(o.insertBefore(i,o.firstElementChild),o.setAttribute("data-animatefill",""),o.style.overflow="hidden",e.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(i){var e=o.style.transitionDuration,t=Number(e.replace("ms",""));r.style.transitionDelay=Math.round(t/10)+"ms",i.style.transitionDuration=e,O([i],"visible")}},onShow:function(){i&&(i.style.transitionDuration="0ms")},onHide:function(){i&&O([i],"hidden")}}}};var pe={clientX:0,clientY:0},fe=[];function ge(e){var t=e.clientX,n=e.clientY;pe={clientX:t,clientY:n}}var ve={name:"followCursor",defaultValue:!1,fn:function(e){var t=e.reference,n=A(e.props.triggerTarget||t),o=!1,r=!1,i=!0,s=e.props;function a(){return"initial"===e.props.followCursor&&e.state.isVisible}function l(){n.addEventListener("mousemove",u)}function c(){n.removeEventListener("mousemove",u)}function d(){o=!0,e.setProps({getReferenceClientRect:null}),o=!1}function u(n){var o=!n.target||t.contains(n.target),r=e.props.followCursor,i=n.clientX,s=n.clientY,a=t.getBoundingClientRect(),l=i-a.left,c=s-a.top;!o&&e.props.interactive||e.setProps({getReferenceClientRect:function(){var e=t.getBoundingClientRect(),n=i,o=s;"initial"===r&&(n=e.left+l,o=e.top+c);var a="horizontal"===r?e.top:o,d="vertical"===r?e.right:n,u="horizontal"===r?e.bottom:o,h="vertical"===r?e.left:n;return{width:d-h,height:u-a,top:a,right:d,bottom:u,left:h}}})}function h(){e.props.followCursor&&(fe.push({instance:e,doc:n}),function(e){e.addEventListener("mousemove",ge)}(n))}function m(){0===(fe=fe.filter((function(t){return t.instance!==e}))).filter((function(e){return e.doc===n})).length&&function(e){e.removeEventListener("mousemove",ge)}(n)}return{onCreate:h,onDestroy:m,onBeforeUpdate:function(){s=e.props},onAfterUpdate:function(t,n){var i=n.followCursor;o||void 0!==i&&s.followCursor!==i&&(m(),i?(h(),!e.state.isMounted||r||a()||l()):(c(),d()))},onMount:function(){e.props.followCursor&&!r&&(i&&(u(pe),i=!1),a()||l())},onTrigger:function(e,t){C(t)&&(pe={clientX:t.clientX,clientY:t.clientY}),r="focus"===t.type},onHidden:function(){e.props.followCursor&&(d(),c(),i=!0)}}}};var be={name:"inlinePositioning",defaultValue:!1,fn:function(e){var t,n=e.reference;var o=-1,r=!1,i=[],s={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(r){var s=r.state;e.props.inlinePositioning&&(-1!==i.indexOf(s.placement)&&(i=[]),t!==s.placement&&-1===i.indexOf(s.placement)&&(i.push(s.placement),e.setProps({getReferenceClientRect:function(){return function(e){return function(e,t,n,o){if(n.length<2||null===e)return t;if(2===n.length&&o>=0&&n[0].left>n[1].right)return n[o]||t;switch(e){case"top":case"bottom":var r=n[0],i=n[n.length-1],s="top"===e,a=r.top,l=i.bottom,c=s?r.left:i.left,d=s?r.right:i.right;return{top:a,bottom:l,left:c,right:d,width:d-c,height:l-a};case"left":case"right":var u=Math.min.apply(Math,n.map((function(e){return e.left}))),h=Math.max.apply(Math,n.map((function(e){return e.right}))),m=n.filter((function(t){return"left"===e?t.left===u:t.right===h})),p=m[0].top,f=m[m.length-1].bottom;return{top:p,bottom:f,left:u,right:h,width:h-u,height:f-p};default:return t}}(y(e),n.getBoundingClientRect(),w(n.getClientRects()),o)}(s.placement)}})),t=s.placement)}};function a(){var t;r||(t=function(e,t){var n;return{popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat(((null==(n=e.popperOptions)?void 0:n.modifiers)||[]).filter((function(e){return e.name!==t.name})),[t])})}}(e.props,s),r=!0,e.setProps(t),r=!1)}return{onCreate:a,onAfterUpdate:a,onTrigger:function(t,n){if(C(n)){var r=w(e.reference.getClientRects()),i=r.find((function(e){return e.left-2<=n.clientX&&e.right+2>=n.clientX&&e.top-2<=n.clientY&&e.bottom+2>=n.clientY})),s=r.indexOf(i);o=s>-1?s:o}},onHidden:function(){o=-1}}}};var ye={name:"sticky",defaultValue:!1,fn:function(e){var t=e.reference,n=e.popper;function o(t){return!0===e.props.sticky||e.props.sticky===t}var r=null,i=null;function s(){var a=o("reference")?(e.popperInstance?e.popperInstance.state.elements.reference:t).getBoundingClientRect():null,l=o("popper")?n.getBoundingClientRect():null;(a&&we(r,a)||l&&we(i,l))&&e.popperInstance&&e.popperInstance.update(),r=a,i=l,e.state.isMounted&&requestAnimationFrame(s)}return{onMount:function(){e.props.sticky&&s()}}}};function we(e,t){return!e||!t||(e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left)}ae.setDefaultProps({render:ne});const xe=ae},"./node_modules/turbolinks/dist/turbolinks.js":function(e,t,n){var o,r;(function(){(function(){(function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(e,t){return i.controller.visit(e,t)},clearCache:function(){return i.controller.clearCache()},setProgressBarDelay:function(e){return i.controller.setProgressBarDelay(e)}}}).call(this)}).call(this);var i=this.Turbolinks;(function(){(function(){var e,t,n,o=[].slice;i.copyObject=function(e){var t,n,o;for(t in n={},e)o=e[t],n[t]=o;return n},i.closest=function(t,n){return e.call(t,n)},e=function(){var e;return null!=(e=document.documentElement.closest)?e:function(e){var n;for(n=this;n;){if(n.nodeType===Node.ELEMENT_NODE&&t.call(n,e))return n;n=n.parentNode}}}(),i.defer=function(e){return setTimeout(e,1)},i.throttle=function(e){var t;return t=null,function(){var n;return n=1<=arguments.length?o.call(arguments,0):[],null!=t?t:t=requestAnimationFrame(function(o){return function(){return t=null,e.apply(o,n)}}(this))}},i.dispatch=function(e,t){var o,r,i,s,a,l;return l=(a=null!=t?t:{}).target,o=a.cancelable,r=a.data,(i=document.createEvent("Events")).initEvent(e,!0,!0===o),i.data=null!=r?r:{},i.cancelable&&!n&&(s=i.preventDefault,i.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),s.call(this)}),(null!=l?l:document).dispatchEvent(i),i},n=function(){var e;return(e=document.createEvent("Events")).initEvent("test",!0,!0),e.preventDefault(),e.defaultPrevented}(),i.match=function(e,n){return t.call(e,n)},t=function(){var e,t,n,o;return null!=(t=null!=(n=null!=(o=(e=document.documentElement).matchesSelector)?o:e.webkitMatchesSelector)?n:e.msMatchesSelector)?t:e.mozMatchesSelector}(),i.uuid=function(){var e,t,n;for(n="",e=t=1;36>=t;e=++t)n+=9===e||14===e||19===e||24===e?"-":15===e?"4":20===e?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){i.Location=function(){function e(e){var t,n;null==e&&(e=""),(n=document.createElement("a")).href=e.toString(),this.absoluteURL=n.href,2>(t=n.hash.length)?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-t),this.anchor=n.hash.slice(1))}var t,n,o,r;return e.wrap=function(e){return e instanceof this?e:new this(e)},e.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},e.prototype.getPath=function(){var e,t;return null!=(e=null!=(t=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?t[1]:void 0)?e:"/"},e.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},e.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},e.prototype.getExtension=function(){var e,t;return null!=(e=null!=(t=this.getLastPathComponent().match(/\.[^.]*$/))?t[0]:void 0)?e:""},e.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},e.prototype.isPrefixedBy=function(e){var t;return t=n(e),this.isEqualTo(e)||r(this.absoluteURL,t)},e.prototype.isEqualTo=function(e){return this.absoluteURL===(null!=e?e.absoluteURL:void 0)},e.prototype.toCacheKey=function(){return this.requestURL},e.prototype.toJSON=function(){return this.absoluteURL},e.prototype.toString=function(){return this.absoluteURL},e.prototype.valueOf=function(){return this.absoluteURL},n=function(e){return t(e.getOrigin()+e.getPath())},t=function(e){return o(e,"/")?e:e+"/"},r=function(e,t){return e.slice(0,t.length)===t},o=function(e,t){return e.slice(-t.length)===t},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};i.HttpRequest=function(){function t(t,n,o){this.delegate=t,this.requestCanceled=e(this.requestCanceled,this),this.requestTimedOut=e(this.requestTimedOut,this),this.requestFailed=e(this.requestFailed,this),this.requestLoaded=e(this.requestLoaded,this),this.requestProgressed=e(this.requestProgressed,this),this.url=i.Location.wrap(n).requestURL,this.referrer=i.Location.wrap(o).absoluteURL,this.createXHR()}return t.NETWORK_FAILURE=0,t.TIMEOUT_FAILURE=-1,t.timeout=60,t.prototype.send=function(){var e;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(e=this.delegate).requestStarted?e.requestStarted():void 0):void 0},t.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},t.prototype.requestProgressed=function(e){return e.lengthComputable?this.setProgress(e.loaded/e.total):void 0},t.prototype.requestLoaded=function(){return this.endRequest(function(e){return function(){var t;return 200<=(t=e.xhr.status)&&300>t?e.delegate.requestCompletedWithResponse(e.xhr.responseText,e.xhr.getResponseHeader("Turbolinks-Location")):(e.failed=!0,e.delegate.requestFailedWithStatusCode(e.xhr.status,e.xhr.responseText))}}(this))},t.prototype.requestFailed=function(){return this.endRequest(function(e){return function(){return e.failed=!0,e.delegate.requestFailedWithStatusCode(e.constructor.NETWORK_FAILURE)}}(this))},t.prototype.requestTimedOut=function(){return this.endRequest(function(e){return function(){return e.failed=!0,e.delegate.requestFailedWithStatusCode(e.constructor.TIMEOUT_FAILURE)}}(this))},t.prototype.requestCanceled=function(){return this.endRequest()},t.prototype.notifyApplicationBeforeRequestStart=function(){return i.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},t.prototype.notifyApplicationAfterRequestEnd=function(){return i.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},t.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},t.prototype.endRequest=function(e){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=e&&e.call(this),this.destroy()):void 0},t.prototype.setProgress=function(e){var t;return this.progress=e,"function"==typeof(t=this.delegate).requestProgressed?t.requestProgressed(this.progress):void 0},t.prototype.destroy=function(){var e;return this.setProgress(1),"function"==typeof(e=this.delegate).requestFinished&&e.requestFinished(),this.delegate=null,this.xhr=null},t}()}.call(this),function(){i.ProgressBar=function(){function e(){this.trickle=function(e,t){return function(){return e.apply(t,arguments)}}(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var t;return t=300,e.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width 300ms ease-out, opacity 150ms 150ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",e.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},e.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(e){return function(){return e.uninstallProgressElement(),e.stopTrickling(),e.visible=!1,e.hiding=!1}}(this))):void 0},e.prototype.setValue=function(e){return this.value=e,this.refresh()},e.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},e.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},e.prototype.fadeProgressElement=function(e){return this.progressElement.style.opacity=0,setTimeout(e,450)},e.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},e.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,t)},e.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},e.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},e.prototype.refresh=function(){return requestAnimationFrame(function(e){return function(){return e.progressElement.style.width=10+90*e.value+"%"}}(this))},e.prototype.createStylesheetElement=function(){var e;return(e=document.createElement("style")).type="text/css",e.textContent=this.constructor.defaultCSS,e},e.prototype.createProgressElement=function(){var e;return(e=document.createElement("div")).className="turbolinks-progress-bar",e},e}()}.call(this),function(){i.BrowserAdapter=function(){function e(e){this.controller=e,this.showProgressBar=function(e,t){return function(){return e.apply(t,arguments)}}(this.showProgressBar,this),this.progressBar=new i.ProgressBar}var t,n,o;return o=i.HttpRequest,t=o.NETWORK_FAILURE,n=o.TIMEOUT_FAILURE,e.prototype.visitProposedToLocationWithAction=function(e,t){return this.controller.startVisitToLocationWithAction(e,t)},e.prototype.visitStarted=function(e){return e.issueRequest(),e.changeHistory(),e.loadCachedSnapshot()},e.prototype.visitRequestStarted=function(e){return this.progressBar.setValue(0),e.hasCachedSnapshot()||"restore"!==e.action?this.showProgressBarAfterDelay():this.showProgressBar()},e.prototype.visitRequestProgressed=function(e){return this.progressBar.setValue(e.progress)},e.prototype.visitRequestCompleted=function(e){return e.loadResponse()},e.prototype.visitRequestFailedWithStatusCode=function(e,o){switch(o){case t:case n:return this.reload();default:return e.loadResponse()}},e.prototype.visitRequestFinished=function(e){return this.hideProgressBar()},e.prototype.visitCompleted=function(e){return e.followRedirect()},e.prototype.pageInvalidated=function(){return this.reload()},e.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},e.prototype.showProgressBar=function(){return this.progressBar.show()},e.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},e.prototype.reload=function(){return window.location.reload()},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};i.History=function(){function t(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},t.prototype.push=function(e,t){return e=i.Location.wrap(e),this.update("push",e,t)},t.prototype.replace=function(e,t){return e=i.Location.wrap(e),this.update("replace",e,t)},t.prototype.onPopState=function(e){var t,n,o,r;return this.shouldHandlePopState()&&(r=null!=(n=e.state)?n.turbolinks:void 0)?(t=i.Location.wrap(window.location),o=r.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(t,o)):void 0},t.prototype.onPageLoad=function(e){return i.defer(function(e){return function(){return e.pageLoaded=!0}}(this))},t.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},t.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},t.prototype.update=function(e,t,n){var o;return o={turbolinks:{restorationIdentifier:n}},history[e+"State"](o,null,t)},t}()}.call(this),function(){i.HeadDetails=function(){function e(e){var t,n,o,s,a;for(this.elements={},n=0,s=e.length;s>n;n++)(a=e[n]).nodeType===Node.ELEMENT_NODE&&(o=a.outerHTML,(null!=(t=this.elements)[o]?t[o]:t[o]={type:i(a),tracked:r(a),elements:[]}).elements.push(a))}var t,n,o,r,i;return e.fromHeadElement=function(e){var t;return new this(null!=(t=null!=e?e.childNodes:void 0)?t:[])},e.prototype.hasElementWithKey=function(e){return e in this.elements},e.prototype.getTrackedElementSignature=function(){var e;return function(){var t,n;for(e in n=[],t=this.elements)t[e].tracked&&n.push(e);return n}.call(this).join("")},e.prototype.getScriptElementsNotInDetails=function(e){return this.getElementsMatchingTypeNotInDetails("script",e)},e.prototype.getStylesheetElementsNotInDetails=function(e){return this.getElementsMatchingTypeNotInDetails("stylesheet",e)},e.prototype.getElementsMatchingTypeNotInDetails=function(e,t){var n,o,r,i,s,a;for(o in s=[],r=this.elements)a=(i=r[o]).type,n=i.elements,a!==e||t.hasElementWithKey(o)||s.push(n[0]);return s},e.prototype.getProvisionalElements=function(){var e,t,n,o,r,i,s;for(t in n=[],o=this.elements)s=(r=o[t]).type,i=r.tracked,e=r.elements,null!=s||i?e.length>1&&n.push.apply(n,e.slice(1)):n.push.apply(n,e);return n},e.prototype.getMetaValue=function(e){var t;return null!=(t=this.findMetaElementByName(e))?t.getAttribute("content"):void 0},e.prototype.findMetaElementByName=function(e){var n,o,r,i;for(r in n=void 0,i=this.elements)o=i[r].elements,t(o[0],e)&&(n=o[0]);return n},i=function(e){return n(e)?"script":o(e)?"stylesheet":void 0},r=function(e){return"reload"===e.getAttribute("data-turbolinks-track")},n=function(e){return"script"===e.tagName.toLowerCase()},o=function(e){var t;return"style"===(t=e.tagName.toLowerCase())||"link"===t&&"stylesheet"===e.getAttribute("rel")},t=function(e,t){return"meta"===e.tagName.toLowerCase()&&e.getAttribute("name")===t},e}()}.call(this),function(){i.Snapshot=function(){function e(e,t){this.headDetails=e,this.bodyElement=t}return e.wrap=function(e){return e instanceof this?e:"string"==typeof e?this.fromHTMLString(e):this.fromHTMLElement(e)},e.fromHTMLString=function(e){var t;return(t=document.createElement("html")).innerHTML=e,this.fromHTMLElement(t)},e.fromHTMLElement=function(e){var t,n,o;return n=e.querySelector("head"),t=null!=(o=e.querySelector("body"))?o:document.createElement("body"),new this(i.HeadDetails.fromHeadElement(n),t)},e.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},e.prototype.getRootLocation=function(){var e,t;return t=null!=(e=this.getSetting("root"))?e:"/",new i.Location(t)},e.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},e.prototype.getElementForAnchor=function(e){try{return this.bodyElement.querySelector("[id='"+e+"'], a[name='"+e+"']")}catch(e){}},e.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll("[id][data-turbolinks-permanent]")},e.prototype.getPermanentElementById=function(e){return this.bodyElement.querySelector("#"+e+"[data-turbolinks-permanent]")},e.prototype.getPermanentElementsPresentInSnapshot=function(e){var t,n,o,r,i;for(i=[],n=0,o=(r=this.getPermanentElements()).length;o>n;n++)t=r[n],e.getPermanentElementById(t.id)&&i.push(t);return i},e.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector("[autofocus]")},e.prototype.hasAnchor=function(e){return null!=this.getElementForAnchor(e)},e.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},e.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},e.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},e.prototype.getSetting=function(e){return this.headDetails.getMetaValue("turbolinks-"+e)},e}()}.call(this),function(){var e=[].slice;i.Renderer=function(){function t(){}var n;return t.render=function(){var t,n,o;return n=arguments[0],t=arguments[1],o=function(e,t,n){n.prototype=e.prototype;var o=new n,r=e.apply(o,t);return Object(r)===r?r:o}(this,3<=arguments.length?e.call(arguments,2):[],(function(){})),o.delegate=n,o.render(t),o},t.prototype.renderView=function(e){return this.delegate.viewWillRender(this.newBody),e(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(e){var t;return"false"===e.getAttribute("data-turbolinks-eval")?e:((t=document.createElement("script")).textContent=e.textContent,t.async=!1,n(t,e),t)},n=function(e,t){var n,o,r,i,s,a,l;for(a=[],n=0,o=(i=t.attributes).length;o>n;n++)r=(s=i[n]).name,l=s.value,a.push(e.setAttribute(r,l));return a},t}()}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;i.SnapshotRenderer=function(o){function r(e,t,n){this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=n,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return n(r,o),r.prototype.render=function(e){return this.shouldRender()?(this.mergeHead(),this.renderView(function(t){return function(){return t.replaceBody(),t.isPreview||t.focusFirstAutofocusableElement(),e()}}(this))):this.invalidateView()},r.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},r.prototype.replaceBody=function(){var e;return e=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(e)},r.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},r.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},r.prototype.copyNewHeadStylesheetElements=function(){var e,t,n,o,r;for(r=[],t=0,n=(o=this.getNewHeadStylesheetElements()).length;n>t;t++)e=o[t],r.push(document.head.appendChild(e));return r},r.prototype.copyNewHeadScriptElements=function(){var e,t,n,o,r;for(r=[],t=0,n=(o=this.getNewHeadScriptElements()).length;n>t;t++)e=o[t],r.push(document.head.appendChild(this.createScriptElement(e)));return r},r.prototype.removeCurrentHeadProvisionalElements=function(){var e,t,n,o,r;for(r=[],t=0,n=(o=this.getCurrentHeadProvisionalElements()).length;n>t;t++)e=o[t],r.push(document.head.removeChild(e));return r},r.prototype.copyNewHeadProvisionalElements=function(){var e,t,n,o,r;for(r=[],t=0,n=(o=this.getNewHeadProvisionalElements()).length;n>t;t++)e=o[t],r.push(document.head.appendChild(e));return r},r.prototype.relocateCurrentBodyPermanentElements=function(){var n,o,r,i,s,a,l;for(l=[],n=0,o=(a=this.getCurrentBodyPermanentElements()).length;o>n;n++)i=a[n],s=e(i),r=this.newSnapshot.getPermanentElementById(i.id),t(i,s.element),t(r,i),l.push(s);return l},r.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(e){var n,o,r,i,s,a;for(a=[],r=0,i=e.length;i>r;r++)o=(s=e[r]).element,n=s.permanentElement.cloneNode(!0),a.push(t(o,n));return a},r.prototype.activateNewBodyScriptElements=function(){var e,n,o,r,i,s;for(s=[],n=0,r=(i=this.getNewBodyScriptElements()).length;r>n;n++)o=i[n],e=this.createScriptElement(o),s.push(t(o,e));return s},r.prototype.assignNewBody=function(){return document.body=this.newBody},r.prototype.focusFirstAutofocusableElement=function(){var e;return null!=(e=this.newSnapshot.findFirstAutofocusableElement())?e.focus():void 0},r.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},r.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},r.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},r.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},r.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},r.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},r}(i.Renderer),e=function(e){var t;return(t=document.createElement("meta")).setAttribute("name","turbolinks-permanent-placeholder"),t.setAttribute("content",e.id),{element:t,permanentElement:e}},t=function(e,t){var n;return(n=e.parentNode)?n.replaceChild(t,e):void 0}}.call(this),function(){var e=function(e,n){function o(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e},t={}.hasOwnProperty;i.ErrorRenderer=function(t){function n(e){var t;(t=document.createElement("html")).innerHTML=e,this.newHead=t.querySelector("head"),this.newBody=t.querySelector("body")}return e(n,t),n.prototype.render=function(e){return this.renderView(function(t){return function(){return t.replaceHeadAndBody(),t.activateBodyScriptElements(),e()}}(this))},n.prototype.replaceHeadAndBody=function(){var e,t;return t=document.head,e=document.body,t.parentNode.replaceChild(this.newHead,t),e.parentNode.replaceChild(this.newBody,e)},n.prototype.activateBodyScriptElements=function(){var e,t,n,o,r,i;for(i=[],t=0,n=(o=this.getScriptElements()).length;n>t;t++)r=o[t],e=this.createScriptElement(r),i.push(r.parentNode.replaceChild(e,r));return i},n.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},n}(i.Renderer)}.call(this),function(){i.View=function(){function e(e){this.delegate=e,this.htmlElement=document.documentElement}return e.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},e.prototype.getElementForAnchor=function(e){return this.getSnapshot().getElementForAnchor(e)},e.prototype.getSnapshot=function(){return i.Snapshot.fromHTMLElement(this.htmlElement)},e.prototype.render=function(e,t){var n,o,r;return r=e.snapshot,n=e.error,o=e.isPreview,this.markAsPreview(o),null!=r?this.renderSnapshot(r,o,t):this.renderError(n,t)},e.prototype.markAsPreview=function(e){return e?this.htmlElement.setAttribute("data-turbolinks-preview",""):this.htmlElement.removeAttribute("data-turbolinks-preview")},e.prototype.renderSnapshot=function(e,t,n){return i.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),i.Snapshot.wrap(e),t)},e.prototype.renderError=function(e,t){return i.ErrorRenderer.render(this.delegate,t,e)},e}()}.call(this),function(){i.ScrollManager=function(){function e(e){this.delegate=e,this.onScroll=function(e,t){return function(){return e.apply(t,arguments)}}(this.onScroll,this),this.onScroll=i.throttle(this.onScroll)}return e.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},e.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},e.prototype.scrollToElement=function(e){return e.scrollIntoView()},e.prototype.scrollToPosition=function(e){var t,n;return t=e.x,n=e.y,window.scrollTo(t,n)},e.prototype.onScroll=function(e){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},e.prototype.updatePosition=function(e){var t;return this.position=e,null!=(t=this.delegate)?t.scrollPositionChanged(this.position):void 0},e}()}.call(this),function(){i.SnapshotCache=function(){function e(e){this.size=e,this.keys=[],this.snapshots={}}var t;return e.prototype.has=function(e){return t(e)in this.snapshots},e.prototype.get=function(e){var t;if(this.has(e))return t=this.read(e),this.touch(e),t},e.prototype.put=function(e,t){return this.write(e,t),this.touch(e),t},e.prototype.read=function(e){var n;return n=t(e),this.snapshots[n]},e.prototype.write=function(e,n){var o;return o=t(e),this.snapshots[o]=n},e.prototype.touch=function(e){var n,o;return o=t(e),(n=this.keys.indexOf(o))>-1&&this.keys.splice(n,1),this.keys.unshift(o),this.trim()},e.prototype.trim=function(){var e,t,n,o,r;for(r=[],e=0,n=(o=this.keys.splice(this.size)).length;n>e;e++)t=o[e],r.push(delete this.snapshots[t]);return r},t=function(e){return i.Location.wrap(e).toCacheKey()},e}()}.call(this),function(){i.Visit=function(){function e(e,t,n){this.controller=e,this.action=n,this.performScroll=function(e,t){return function(){return e.apply(t,arguments)}}(this.performScroll,this),this.identifier=i.uuid(),this.location=i.Location.wrap(t),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var t;return e.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},e.prototype.cancel=function(){var e;return"started"===this.state?(null!=(e=this.request)&&e.cancel(),this.cancelRender(),this.state="canceled"):void 0},e.prototype.complete=function(){var e;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(e=this.adapter).visitCompleted&&e.visitCompleted(this),this.controller.visitCompleted(this)):void 0},e.prototype.fail=function(){var e;return"started"===this.state?(this.state="failed","function"==typeof(e=this.adapter).visitFailed?e.visitFailed(this):void 0):void 0},e.prototype.changeHistory=function(){var e,n;return this.historyChanged?void 0:(e=this.location.isEqualTo(this.referrer)?"replace":this.action,n=t(e),this.controller[n](this.location,this.restorationIdentifier),this.historyChanged=!0)},e.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new i.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},e.prototype.getCachedSnapshot=function(){var e;return!(e=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!e.hasAnchor(this.location.anchor)||"restore"!==this.action&&!e.isPreviewable()?void 0:e},e.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},e.prototype.loadCachedSnapshot=function(){var e,t;return(t=this.getCachedSnapshot())?(e=this.shouldIssueRequest(),this.render((function(){var n;return this.cacheSnapshot(),this.controller.render({snapshot:t,isPreview:e},this.performScroll),"function"==typeof(n=this.adapter).visitRendered&&n.visitRendered(this),e?void 0:this.complete()}))):void 0},e.prototype.loadResponse=function(){return null!=this.response?this.render((function(){var e,t;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.complete())})):void 0},e.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},e.prototype.requestStarted=function(){var e;return this.recordTimingMetric("requestStart"),"function"==typeof(e=this.adapter).visitRequestStarted?e.visitRequestStarted(this):void 0},e.prototype.requestProgressed=function(e){var t;return this.progress=e,"function"==typeof(t=this.adapter).visitRequestProgressed?t.visitRequestProgressed(this):void 0},e.prototype.requestCompletedWithResponse=function(e,t){return this.response=e,null!=t&&(this.redirectedToLocation=i.Location.wrap(t)),this.adapter.visitRequestCompleted(this)},e.prototype.requestFailedWithStatusCode=function(e,t){return this.response=t,this.adapter.visitRequestFailedWithStatusCode(this,e)},e.prototype.requestFinished=function(){var e;return this.recordTimingMetric("requestEnd"),"function"==typeof(e=this.adapter).visitRequestFinished?e.visitRequestFinished(this):void 0},e.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},e.prototype.scrollToRestoredPosition=function(){var e,t;return null!=(e=null!=(t=this.restorationData)?t.scrollPosition:void 0)?(this.controller.scrollToPosition(e),!0):void 0},e.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},e.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},e.prototype.recordTimingMetric=function(e){var t;return null!=(t=this.timingMetrics)[e]?t[e]:t[e]=(new Date).getTime()},e.prototype.getTimingMetrics=function(){return i.copyObject(this.timingMetrics)},t=function(e){switch(e){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},e.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},e.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},e.prototype.render=function(e){return this.cancelRender(),this.frame=requestAnimationFrame(function(t){return function(){return t.frame=null,e.call(t)}}(this))},e.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};i.Controller=function(){function t(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new i.History(this),this.view=new i.View(this),this.scrollManager=new i.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return t.prototype.start=function(){return i.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},t.prototype.clearCache=function(){return this.cache=new i.SnapshotCache(10)},t.prototype.visit=function(e,t){var n,o;return null==t&&(t={}),e=i.Location.wrap(e),this.applicationAllowsVisitingLocation(e)?this.locationIsVisitable(e)?(n=null!=(o=t.action)?o:"advance",this.adapter.visitProposedToLocationWithAction(e,n)):window.location=e:void 0},t.prototype.startVisitToLocationWithAction=function(e,t,n){var o;return i.supported?(o=this.getRestorationDataForIdentifier(n),this.startVisit(e,t,{restorationData:o})):window.location=e},t.prototype.setProgressBarDelay=function(e){return this.progressBarDelay=e},t.prototype.startHistory=function(){return this.location=i.Location.wrap(window.location),this.restorationIdentifier=i.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.stopHistory=function(){return this.history.stop()},t.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(e,t){return this.restorationIdentifier=t,this.location=i.Location.wrap(e),this.history.push(this.location,this.restorationIdentifier)},t.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(e,t){return this.restorationIdentifier=t,this.location=i.Location.wrap(e),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.historyPoppedToLocationWithRestorationIdentifier=function(e,t){var n;return this.restorationIdentifier=t,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(e,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=i.Location.wrap(e)):this.adapter.pageInvalidated()},t.prototype.getCachedSnapshotForLocation=function(e){var t;return null!=(t=this.cache.get(e))?t.clone():void 0},t.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},t.prototype.cacheSnapshot=function(){var e,t;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),t=this.view.getSnapshot(),e=this.lastRenderedLocation,i.defer(function(n){return function(){return n.cache.put(e,t.clone())}}(this))):void 0},t.prototype.scrollToAnchor=function(e){var t;return(t=this.view.getElementForAnchor(e))?this.scrollToElement(t):this.scrollToPosition({x:0,y:0})},t.prototype.scrollToElement=function(e){return this.scrollManager.scrollToElement(e)},t.prototype.scrollToPosition=function(e){return this.scrollManager.scrollToPosition(e)},t.prototype.scrollPositionChanged=function(e){return this.getCurrentRestorationData().scrollPosition=e},t.prototype.render=function(e,t){return this.view.render(e,t)},t.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},t.prototype.viewWillRender=function(e){return this.notifyApplicationBeforeRender(e)},t.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},t.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},t.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},t.prototype.clickBubbled=function(e){var t,n,o;return this.enabled&&this.clickEventIsSignificant(e)&&(n=this.getVisitableLinkForNode(e.target))&&(o=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,o)?(e.preventDefault(),t=this.getActionForLink(n),this.visit(o,{action:t})):void 0},t.prototype.applicationAllowsFollowingLinkToLocation=function(e,t){return!this.notifyApplicationAfterClickingLinkToLocation(e,t).defaultPrevented},t.prototype.applicationAllowsVisitingLocation=function(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented},t.prototype.notifyApplicationAfterClickingLinkToLocation=function(e,t){return i.dispatch("turbolinks:click",{target:e,data:{url:t.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationBeforeVisitingLocation=function(e){return i.dispatch("turbolinks:before-visit",{data:{url:e.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationAfterVisitingLocation=function(e){return i.dispatch("turbolinks:visit",{data:{url:e.absoluteURL}})},t.prototype.notifyApplicationBeforeCachingSnapshot=function(){return i.dispatch("turbolinks:before-cache")},t.prototype.notifyApplicationBeforeRender=function(e){return i.dispatch("turbolinks:before-render",{data:{newBody:e}})},t.prototype.notifyApplicationAfterRender=function(){return i.dispatch("turbolinks:render")},t.prototype.notifyApplicationAfterPageLoad=function(e){return null==e&&(e={}),i.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:e}})},t.prototype.startVisit=function(e,t,n){var o;return null!=(o=this.currentVisit)&&o.cancel(),this.currentVisit=this.createVisit(e,t,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(e)},t.prototype.createVisit=function(e,t,n){var o,r,s,a,l;return a=(r=null!=n?n:{}).restorationIdentifier,s=r.restorationData,o=r.historyChanged,(l=new i.Visit(this,e,t)).restorationIdentifier=null!=a?a:i.uuid(),l.restorationData=i.copyObject(s),l.historyChanged=o,l.referrer=this.location,l},t.prototype.visitCompleted=function(e){return this.notifyApplicationAfterPageLoad(e.getTimingMetrics())},t.prototype.clickEventIsSignificant=function(e){return!(e.defaultPrevented||e.target.isContentEditable||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)},t.prototype.getVisitableLinkForNode=function(e){return this.nodeIsVisitable(e)?i.closest(e,"a[href]:not([target]):not([download])"):void 0},t.prototype.getVisitableLocationForLink=function(e){var t;return t=new i.Location(e.getAttribute("href")),this.locationIsVisitable(t)?t:void 0},t.prototype.getActionForLink=function(e){var t;return null!=(t=e.getAttribute("data-turbolinks-action"))?t:"advance"},t.prototype.nodeIsVisitable=function(e){var t;return!(t=i.closest(e,"[data-turbolinks]"))||"false"!==t.getAttribute("data-turbolinks")},t.prototype.locationIsVisitable=function(e){return e.isPrefixedBy(this.view.getRootLocation())&&e.isHTML()},t.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},t.prototype.getRestorationDataForIdentifier=function(e){var t;return null!=(t=this.restorationData)[e]?t[e]:t[e]={}},t}()}.call(this),function(){!function(){var e,t;if((e=t=document.currentScript)&&!t.hasAttribute("data-turbolinks-suppress-warning"))for(;e=e.parentNode;)if(e===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",t.outerHTML)}()}.call(this),function(){var e,t,n;i.start=function(){return t()?(null==i.controller&&(i.controller=e()),i.controller.start()):void 0},t=function(){return null==window.Turbolinks&&(window.Turbolinks=i),n()},e=function(){var e;return(e=new i.Controller).adapter=new i.BrowserAdapter(e),e},(n=function(){return window.Turbolinks===i})()&&i.start()}.call(this)}).call(this),e.exports?e.exports=i:void 0===(r="function"==typeof(o=i)?o.call(t,n,t,e):o)||(e.exports=r)}).call(this)},"./node_modules/@fullcalendar/core/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{Calendar:()=>se,JsonRequestError:()=>o.ag,createPlugin:()=>u,formatDate:()=>ae,formatRange:()=>le,globalLocales:()=>i,globalPlugins:()=>B,sliceEvents:()=>de,version:()=>ue});var o=n("./node_modules/@fullcalendar/core/internal-common.js"),r=n("./node_modules/preact/dist/preact.module.js");n("./node_modules/preact/compat/dist/compat.module.js");const i=[],s={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},a=Object.assign(Object.assign({},s),{buttonHints:{prev:"Previous $0",next:"Next $0",today:(e,t)=>"day"===t?"Today":`This ${e}`},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:e=>`Show ${e} more event${1===e?"":"s"}`});function l(e){let t=e.length>0?e[0].code:"en",n=i.concat(e),o={en:a};for(let e of n)o[e.code]=e;return{map:o,defaultCode:t}}function c(e,t){return"object"!=typeof e||Array.isArray(e)?function(e,t){let n=[].concat(e||[]),o=function(e,t){for(let n=0;n<e.length;n+=1){let o=e[n].toLocaleLowerCase().split("-");for(let e=o.length;e>0;e-=1){let n=o.slice(0,e).join("-");if(t[n])return t[n]}}return null}(n,t)||a;return d(e,n,o)}(e,t):d(e.code,[e.code],e)}function d(e,t,n){let r=(0,o.m)([s,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:e,codes:t,week:i,simpleNumberFormat:new Intl.NumberFormat(e),options:r}}function u(e){return{id:(0,o.g)(),name:e.name,premiumReleaseDate:e.premiumReleaseDate?new Date(e.premiumReleaseDate):void 0,deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}function h(){let e,t=[],n=[];return(r,i)=>(e&&(0,o.i)(r,t)&&(0,o.i)(i,n)||(e=function(e,t){let n={},o={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(e){for(let s of e){const e=s.name,a=n[e];void 0===a?(n[e]=s.id,r(s.deps),i=s,o={premiumReleaseDate:m((t=o).premiumReleaseDate,i.premiumReleaseDate),reducers:t.reducers.concat(i.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(i.isLoadingFuncs),contextInit:t.contextInit.concat(i.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),i.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(i.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),i.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(i.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(i.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(i.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(i.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(i.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(i.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),i.views),viewPropsTransformers:t.viewPropsTransformers.concat(i.viewPropsTransformers),isPropsValid:i.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(i.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(i.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(i.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(i.calendarInteractions),componentInteractions:t.componentInteractions.concat(i.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),i.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(i.eventSourceDefs),cmdFormatter:i.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(i.recurringTypes),namedTimeZonedImpl:i.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||i.initialView,elementDraggingImpl:t.elementDraggingImpl||i.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),i.optionChangeHandlers),scrollGridImpl:i.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),i.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),i.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),i.propSetHandlers)}):a!==s.id&&console.warn(`Duplicate plugin '${e}'`)}var t,i}return e&&r(e),r(t),o}(r,i)),t=r,n=i,e)}function m(e,t){return void 0===e?t:void 0===t?e:new Date(Math.max(e.valueOf(),t.valueOf()))}class p extends o.T{}function f(e,t,n,o){if(t[e])return t[e];let r=function(e,t,n,o){let r=n[e],i=o[e],s=e=>r&&null!==r[e]?r[e]:i&&null!==i[e]?i[e]:null,a=s("component"),l=s("superType"),c=null;if(l){if(l===e)throw new Error("Can't have a custom view type that references itself");c=f(l,t,n,o)}!a&&c&&(a=c.component);if(!a)return null;return{type:e,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),i?i.rawOptions:{})}}(e,t,n,o);return r&&(t[e]=r),r}function g(e){return(0,o.a)(e,v)}function v(e){let t="function"==typeof e?{component:e}:e,{component:n}=t;var i;return t.content&&(i=t,n=e=>(0,r.createElement)(o.V.Consumer,null,(t=>(0,r.createElement)(o.C,{elTag:"div",elClasses:(0,o.b)(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:i.content,classNameGenerator:i.classNames,didMount:i.didMount,willUnmount:i.willUnmount})))),{superType:t.type,component:n,rawOptions:t}}function b(e,t,n,r){let i=g(e),s=g(t.views),a=function(e,t){let n,o={};for(n in e)f(n,o,e,t);for(n in t)f(n,o,e,t);return o}(i,s);return(0,o.a)(a,(e=>function(e,t,n,r,i){let s=e.overrides.duration||e.defaults.duration||r.duration||n.duration,a=null,l="",c="",d={};if(s&&(a=function(e){let t=JSON.stringify(e),n=y[t];void 0===n&&(n=(0,o.d)(e),y[t]=n);return n}(s),a)){let e=(0,o.c)(a);l=e.unit,1===e.value&&(c=l,d=t[l]?t[l].rawOptions:{})}let u=t=>{let n=t.buttonText||{},o=e.defaults.buttonTextKey;return null!=o&&null!=n[o]?n[o]:null!=n[e.type]?n[e.type]:null!=n[c]?n[c]:null},h=t=>{let n=t.buttonHints||{},o=e.defaults.buttonTextKey;return null!=o&&null!=n[o]?n[o]:null!=n[e.type]?n[e.type]:null!=n[c]?n[c]:null};return{type:e.type,component:e.component,duration:a,durationUnit:l,singleUnit:c,optionDefaults:e.defaults,optionOverrides:Object.assign(Object.assign({},d),e.overrides),buttonTextOverride:u(r)||u(n)||e.overrides.buttonText,buttonTextDefault:u(i)||e.defaults.buttonText||u(o.B)||e.type,buttonTitleOverride:h(r)||h(n)||e.overrides.buttonHint,buttonTitleDefault:h(i)||e.defaults.buttonHint||h(o.B)}}(e,s,t,n,r)))}p.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},p.prototype.baseIconClass="fc-icon",p.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},p.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},p.prototype.iconOverrideOption="buttonIcons",p.prototype.iconOverrideCustomButtonOption="icon",p.prototype.iconOverridePrefix="fc-icon-";let y={};function w(e,t,n){let r=t?t.activeRange:null;return S({},function(e,t){let n=(0,o.h)(t),r=[].concat(e.eventSources||[]),i=[];e.initialEvents&&r.unshift(e.initialEvents);e.events&&r.unshift(e.events);for(let e of r){let r=(0,o.p)(e,t,n);r&&i.push(r)}return i}(e,n),r,n)}function x(e,t,n,r){let i=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return S(e,t.sources,i,r);case"REMOVE_EVENT_SOURCE":return s=e,a=t.sourceId,(0,o.f)(s,(e=>e.sourceId!==a));case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?C(e,i,r):e;case"FETCH_EVENT_SOURCES":return j(e,t.sourceIds?(0,o.e)(t.sourceIds):E(e,r),i,t.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function(e,t,n,o){let r=e[t];if(r&&n===r.latestFetchId)return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:o})});return e}(e,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}var s,a}function _(e){for(let t in e)if(e[t].isFetching)return!0;return!1}function S(e,t,n,o){let r={};for(let e of t)r[e.sourceId]=e;return n&&(r=C(r,n,o)),Object.assign(Object.assign({},e),r)}function C(e,t,n){return j(e,(0,o.f)(e,(e=>function(e,t,n){if(!O(e,n))return!e.latestFetchId;return!n.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end}(e,t,n))),t,!1,n)}function j(e,t,n,o,r){let i={};for(let s in e){let a=e[s];t[s]?i[s]=k(a,n,o,r):i[s]=a}return i}function k(e,t,n,r){let{options:i,calendarApi:s}=r,a=r.pluginHooks.eventSourceDefs[e.sourceDefId],l=(0,o.g)();return a.fetch({eventSource:e,range:t,isRefetch:n,context:r},(n=>{let{rawEvents:o}=n;i.eventSourceSuccess&&(o=i.eventSourceSuccess.call(s,o,n.response)||o),e.success&&(o=e.success.call(s,o,n.response)||o),r.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:l,fetchRange:t,rawEvents:o})}),(n=>{let o=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(s,n),o=!0),e.failure&&(e.failure(n),o=!0),o||console.warn(n.message,n),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:l,fetchRange:t,error:n})})),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:l})}function E(e,t){return(0,o.f)(e,(e=>O(e,t)))}function O(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function A(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}function T(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}function D(e,t){let n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function M(e,t){let n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function P(e,t,n,o,r){return{header:e.headerToolbar?R(e.headerToolbar,e,t,n,o,r):null,footer:e.footerToolbar?R(e.footerToolbar,e,t,n,o,r):null}}function R(e,t,n,o,r,i){let s={},a=[],l=!1;for(let c in e){let d=N(e[c],t,n,o,r,i);s[c]=d.widgets,a.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:s,viewsWithButtons:a,hasTitle:l}}function N(e,t,n,r,i,s){let a="rtl"===t.direction,l=t.customButtons||{},c=n.buttonText||{},d=t.buttonText||{},u=n.buttonHints||{},h=t.buttonHints||{},m=e?e.split(" "):[],p=[],f=!1;return{widgets:m.map((e=>e.split(",").map((e=>{if("title"===e)return f=!0,{buttonName:e};let n,m,g,v,b,y;if(n=l[e])g=e=>{n.click&&n.click.call(e.target,e,e.target)},(v=r.getCustomButtonIconClass(n))||(v=r.getIconClass(e,a))||(b=n.text),y=n.hint||n.text;else if(m=i[e]){p.push(e),g=()=>{s.changeView(e)},(b=m.buttonTextOverride)||(v=r.getIconClass(e,a))||(b=m.buttonTextDefault);let n=m.buttonTextOverride||m.buttonTextDefault;y=(0,o.j)(m.buttonTitleOverride||m.buttonTitleDefault||t.viewHint,[n,e],n)}else if(s[e])if(g=()=>{s[e]()},(b=c[e])||(v=r.getIconClass(e,a))||(b=d[e]),"prevYear"===e||"nextYear"===e){let t="prevYear"===e?"prev":"next";y=(0,o.j)(u[t]||h[t],[d.year||"year","year"],d[e])}else y=t=>(0,o.j)(u[e]||h[e],[d[t]||t,t],d[e]);return{buttonName:e,buttonClick:g,buttonIcon:v,buttonText:b,buttonHint:y}})))),viewsWithButtons:p,hasTitle:f}}class L{constructor(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}function I(e,t){let n=(0,o.t)(t.getCurrentData().eventSources);if(1===n.length&&1===e.length&&Array.isArray(n[0]._raw)&&Array.isArray(e[0]))return void t.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:e[0]});let r=[];for(let t of e){let e=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===t){n.splice(o,1),e=!0;break}e||r.push(t)}for(let e of n)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:e.sourceId});for(let e of r)t.calendarApi.addEventSource(e)}const B=[u({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:e=>Array.isArray(e.events)?e.events:null,fetch(e,t){t({rawEvents:e.eventSource.meta})}}]}),u({name:"func-event-source",eventSourceDefs:[{parseMeta:e=>"function"==typeof e.events?e.events:null,fetch(e,t,n){const{dateEnv:r}=e.context,i=e.eventSource.meta;(0,o.u)(i.bind(null,(0,o.k)(e.range,r)),(e=>t({rawEvents:e})),n)}}]}),u({name:"json-event-source",eventSourceRefiners:{method:String,extraParams:o.l,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:e=>!e.url||"json"!==e.format&&e.format?null:{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam},fetch(e,t,n){const{meta:r}=e.eventSource,i=function(e,t,n){let o,r,i,s,{dateEnv:a,options:l}=n,c={};o=e.startParam,null==o&&(o=l.startParam);r=e.endParam,null==r&&(r=l.endParam);i=e.timeZoneParam,null==i&&(i=l.timeZoneParam);s="function"==typeof e.extraParams?e.extraParams():e.extraParams||{};Object.assign(c,s),c[o]=a.formatIso(t.start),c[r]=a.formatIso(t.end),"local"!==a.timeZone&&(c[i]=a.timeZone);return c}(r,e.range,e.context);(0,o.r)(r.method,r.url,i).then((([e,n])=>{t({rawEvents:e,response:n})}),n)}}]}),u({name:"simple-recurring-event",recurringTypes:[{parse(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){let n,r={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null};return e.duration&&(n=e.duration),!n&&e.startTime&&e.endTime&&(n=(0,o.s)(e.endTime,e.startTime)),{allDayGuess:Boolean(!e.startTime&&!e.endTime),duration:n,typeData:r}}return null},expand(e,t,n){let r=(0,o.n)(t,{start:e.startRecur,end:e.endRecur});return r?function(e,t,n,r){let i=e?(0,o.e)(e):null,s=(0,o.o)(n.start),a=n.end,l=[];for(;s<a;){let e;i&&!i[s.getUTCDay()]||(e=t?r.add(s,t):s,l.push(e)),s=(0,o.q)(s,1)}return l}(e.daysOfWeek,e.startTime,r,n):[]}}],eventRefiners:{daysOfWeek:o.l,startTime:o.d,endTime:o.d,duration:o.d,startRecur:o.l,endRecur:o.l}}),u({name:"change-handler",optionChangeHandlers:{events(e,t){I([e],t)},eventSources:I}}),u({name:"misc",isLoadingFuncs:[e=>_(e.eventSources)],propSetHandlers:{dateProfile:function(e,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},(0,o.k)(e.activeRange,t.dateEnv)),{view:t.viewApi}))},eventStore:function(e,t){let{emitter:n}=t;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",(0,o.v)(e,t))}}})];class F{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new o.D(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t,n=[];for(;t=e.shift();)this.runTask(t),n.push(t);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function H(e,t,n){let r;return r=/^(year|month)$/.test(e.currentRangeUnit)?e.currentRange:e.activeRange,n.formatRange(r.start,r.end,(0,o.w)(t.titleFormat||function(e){let{currentRangeUnit:t}=e;if("year"===t)return{year:"numeric"};if("month"===t)return{year:"numeric",month:"long"};let n=(0,o.x)(e.currentRange.start,e.currentRange.end);if(null!==n&&n>1)return{year:"numeric",month:"short",day:"numeric"};return{year:"numeric",month:"long",day:"numeric"}}(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}class V{constructor(e){this.computeCurrentViewData=(0,o.y)(this._computeCurrentViewData),this.organizeRawLocales=(0,o.y)(l),this.buildLocale=(0,o.y)(c),this.buildPluginHooks=h(),this.buildDateEnv=(0,o.y)(z),this.buildTheme=(0,o.y)(U),this.parseToolbars=(0,o.y)(P),this.buildViewSpecs=(0,o.y)(b),this.buildDateProfileGenerator=(0,o.z)(W),this.buildViewApi=(0,o.y)(q),this.buildViewUiProps=(0,o.z)($),this.buildEventUiBySource=(0,o.y)(Z,o.A),this.buildEventUiBases=(0,o.y)(G),this.parseContextBusinessHours=(0,o.z)(K),this.buildTitle=(0,o.y)(H),this.emitter=new o.E,this.actionRunner=new F(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=e=>{this.actionRunner.request(e)},this.props=e,this.actionRunner.pause();let t={},n=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=n.calendarOptions.initialView||n.pluginHooks.initialView,i=this.computeCurrentViewData(r,n,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(i.options);let s=(0,o.F)(n.calendarOptions,n.dateEnv),a=i.dateProfileGenerator.build(s);(0,o.G)(a.activeRange,s)||(s=a.currentRange.start);let d={dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let e of n.pluginHooks.contextInit)e(d);let u=w(n.calendarOptions,a,d),m={dynamicOptionOverrides:t,currentViewType:r,currentDate:s,dateProfile:a,businessHours:this.parseContextBusinessHours(d),eventSources:u,eventUiBases:{},eventStore:(0,o.H)(),renderableEventStore:(0,o.H)(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(d).selectionConfig},p=Object.assign(Object.assign({},d),m);for(let e of n.pluginHooks.reducers)Object.assign(m,e(null,null,p));Y(m,d)&&this.emitter.trigger("loading",!0),this.state=m,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:n}=this;void 0===t?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(void 0===t||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:n,emitter:r}=this,i=function(e,t){return"SET_OPTION"===t.type?Object.assign(Object.assign({},e),{[t.optionName]:t.rawOptionValue}):e}(n.dynamicOptionOverrides,e),s=this.computeOptionsData(t.optionOverrides,i,t.calendarApi),a=function(e,t){"CHANGE_VIEW_TYPE"===t.type&&(e=t.viewType);return e}(n.currentViewType,e),l=this.computeCurrentViewData(a,s,t.optionOverrides,i);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(l.options);let c={dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:u}=n;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(u=l.dateProfileGenerator.build(d)),d=(0,o.I)(d,e),u=function(e,t,n,o){let r;switch(t.type){case"CHANGE_VIEW_TYPE":return o.build(t.dateMarker||n);case"CHANGE_DATE":return o.build(t.dateMarker);case"PREV":if(r=o.buildPrev(e,n),r.isValid)return r;break;case"NEXT":if(r=o.buildNext(e,n),r.isValid)return r}return e}(u,e,d,l.dateProfileGenerator),"PREV"!==e.type&&"NEXT"!==e.type&&(0,o.G)(u.currentRange,d)||(d=u.currentRange.start);let h=x(n.eventSources,e,u,c),m=(0,o.J)(n.eventStore,e,h,u,c),p=_(h)&&!l.options.progressiveEventRendering&&n.renderableEventStore||m,{eventUiSingleBase:f,selectionConfig:g}=this.buildViewUiProps(c),v=this.buildEventUiBySource(h),b={dynamicOptionOverrides:i,currentViewType:a,currentDate:d,dateProfile:u,eventSources:h,eventStore:m,renderableEventStore:p,selectionConfig:g,eventUiBases:this.buildEventUiBases(p.defs,f,v),businessHours:this.parseContextBusinessHours(c),dateSelection:A(n.dateSelection,e),eventSelection:T(n.eventSelection,e),eventDrag:D(n.eventDrag,e),eventResize:M(n.eventResize,e)},y=Object.assign(Object.assign({},c),b);for(let t of s.pluginHooks.reducers)Object.assign(b,t(n,e,y));let w=Y(n,c),S=Y(b,c);!w&&S?r.trigger("loading",!0):w&&!S&&r.trigger("loading",!1),this.state=b,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,n=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),i=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,i.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),i),t),a=r.pluginHooks.optionChangeHandlers,l=n&&n.calendarOptions,c=r.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(t.eventSources=s.eventSources=function(e,t,n){let o=t?t.activeRange:null;return j(e,E(e,n),o,!0,n)}(s.eventSources,t.dateProfile,s),t.eventStore=s.eventStore=(0,o.K)(s.eventStore,n.dateEnv,s.dateEnv),t.renderableEventStore=s.renderableEventStore=(0,o.K)(s.renderableEventStore,n.dateEnv,s.dateEnv));for(let e in a)-1===this.optionsForHandling.indexOf(e)&&l[e]===c[e]||a[e](c[e],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,t,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:o,pluginHooks:r,localeDefaults:i,availableLocaleData:s,extra:a}=this.processRawCalendarOptions(e,t);X(a);let l=this.buildDateEnv(o.timeZone,o.locale,o.weekNumberCalculation,o.firstDay,o.weekText,r,s,o.defaultRangeSeparator),c=this.buildViewSpecs(r.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,i),d=this.buildTheme(o,r),u=this.parseToolbars(o,this.stableOptionOverrides,d,c,n);return this.stableCalendarOptionsData={calendarOptions:o,pluginHooks:r,dateEnv:l,viewSpecs:c,theme:d,toolbarConfig:u,localeDefaults:i,availableRawLocales:s.map}}processRawCalendarOptions(e,t){let{locales:n,locale:r}=(0,o.L)([o.B,e,t]),i=this.organizeRawLocales(n),s=i.map,a=this.buildLocale(r||i.defaultCode,s).options,l=this.buildPluginHooks(e.plugins||[],B),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o.M),o.N),o.O),l.listenerRefiners),l.optionRefiners),d={},u=(0,o.L)([o.B,a,e,t]),h={},m=this.currentCalendarOptionsInput,p=this.currentCalendarOptionsRefined,f=!1;for(let e in u)-1===this.optionsForRefining.indexOf(e)&&(u[e]===m[e]||o.P[e]&&e in m&&o.P[e](m[e],u[e]))?h[e]=p[e]:c[e]?(h[e]=c[e](u[e]),f=!0):d[e]=m[e];return f&&(this.currentCalendarOptionsInput=u,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:i,localeDefaults:a,extra:d}}_computeCurrentViewData(e,t,n,o){let r=t.viewSpecs[e];if(!r)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:i,extra:s}=this.processRawViewOptions(r,t.pluginHooks,t.localeDefaults,n,o);return X(s),{viewSpec:r,options:i,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:r.optionDefaults.dateProfileGeneratorClass,duration:r.duration,durationUnit:r.durationUnit,usesMinMaxTime:r.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,showNonCurrentDates:i.showNonCurrentDates,dayCount:i.dayCount,dateAlignment:i.dateAlignment,dateIncrement:i.dateIncrement,hiddenDays:i.hiddenDays,weekends:i.weekends,nowInput:i.now,validRangeInput:i.validRange,visibleRangeInput:i.visibleRange,fixedWeekCount:i.fixedWeekCount}),viewApi:this.buildViewApi(e,this.getCurrentData,t.dateEnv)}}processRawViewOptions(e,t,n,r,i){let s=(0,o.L)([o.B,e.optionDefaults,n,r,e.optionOverrides,i]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o.M),o.N),o.O),o.Q),t.listenerRefiners),t.optionRefiners),l={},c=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,u=!1,h={};for(let e in s)s[e]===c[e]||o.P[e]&&o.P[e](s[e],c[e])?l[e]=d[e]:(s[e]===this.currentCalendarOptionsInput[e]||o.P[e]&&o.P[e](s[e],this.currentCalendarOptionsInput[e])?e in this.currentCalendarOptionsRefined&&(l[e]=this.currentCalendarOptionsRefined[e]):a[e]?l[e]=a[e](s[e]):h[e]=s[e],u=!0);return u&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function z(e,t,n,r,i,s,a,l){let d=c(t||a.defaultCode,a.map);return new o.R({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:d,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:l})}function U(e,t){return new(t.themeClasses[e.themeSystem]||p)(e)}function W(e){return new(e.dateProfileGeneratorClass||o.S)(e)}function q(e,t,n){return new L(e,t,n)}function Z(e){return(0,o.a)(e,(e=>e.ui))}function G(e,t,n){let o={"":t};for(let t in e){let r=e[t];r.sourceId&&n[r.sourceId]&&(o[t]=n[r.sourceId])}return o}function $(e){let{options:t}=e;return{eventUiSingleBase:(0,o.U)({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:"boolean"==typeof t.eventOverlap?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:(0,o.U)({constraint:t.selectConstraint,overlap:"boolean"==typeof t.selectOverlap?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function Y(e,t){for(let n of t.pluginHooks.isLoadingFuncs)if(n(e))return!0;return!1}function K(e){return(0,o.W)(e.options.businessHours,e)}function X(e,t){for(let n in e)console.warn(`Unknown option '${n}'`+(t?` for view '${t}'`:""))}class Q extends o.X{render(){let e=this.props.widgetGroups.map((e=>this.renderWidgetGroup(e)));return(0,r.createElement)("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:n}=this.context,o=[],i=!0;for(let s of e){let{buttonName:e,buttonClick:a,buttonText:l,buttonIcon:c,buttonHint:d}=s;if("title"===e)i=!1,o.push((0,r.createElement)("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let i=e===t.activeButton,s=!t.isTodayEnabled&&"today"===e||!t.isPrevEnabled&&"prev"===e||!t.isNextEnabled&&"next"===e,u=[`fc-${e}-button`,n.getClass("button")];i&&u.push(n.getClass("buttonActive")),o.push((0,r.createElement)("button",{type:"button",title:"function"==typeof d?d(t.navUnit):d,disabled:s,"aria-pressed":i,className:u.join(" "),onClick:a},l||(c?(0,r.createElement)("span",{className:c}):"")))}}if(o.length>1){let e=i&&n.getClass("buttonGroup")||"";return(0,r.createElement)("div",{className:e},...o)}return o[0]}}class J extends o.X{render(){let e,t,{model:n,extraClassName:o}=this.props,i=!1,s=n.sectionWidgets,a=s.center;s.left?(i=!0,e=s.left):e=s.start,s.right?(i=!0,t=s.right):t=s.end;let l=[o||"","fc-toolbar",i?"fc-toolbar-ltr":""];return(0,r.createElement)("div",{className:l.join(" ")},this.renderSection("start",e||[]),this.renderSection("center",a||[]),this.renderSection("end",t||[]))}renderSection(e,t){let{props:n}=this;return(0,r.createElement)(Q,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class ee extends o.X{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,(0,o.Y)(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:n}=e,o=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],i="",s="";return n?null!==t.availableWidth?i=t.availableWidth/n:s=1/n*100+"%":i=e.height||"",(0,r.createElement)("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:o.join(" "),style:{height:i,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class te extends o.Z{constructor(e){super(e),this.handleSegClick=(e,t)=>{let{component:n}=this,{context:r}=n,i=(0,o._)(t);if(i&&n.isValidSegDownEl(e.target)){let s=(0,o.$)(e.target,".fc-event-forced-url"),a=s?s.querySelector("a[href]").href:"";r.emitter.trigger("eventClick",{el:t,event:new o.a0(n.context,i.eventRange.def,i.eventRange.instance),jsEvent:e,view:r.viewApi}),a&&!e.defaultPrevented&&(window.location.href=a)}},this.destroy=(0,o.a1)(e.el,"click",".fc-event",this.handleSegClick)}}class ne extends o.Z{constructor(e){super(e),this.handleEventElRemove=e=>{e===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(e,t)=>{(0,o._)(t)&&(this.currentSegEl=t,this.triggerEvent("eventMouseEnter",e,t))},this.handleSegLeave=(e,t)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",e,t))},this.removeHoverListeners=(0,o.a2)(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,n){let{component:r}=this,{context:i}=r,s=(0,o._)(n);t&&!r.isValidSegDownEl(t.target)||i.emitter.trigger(e,{el:n,event:new o.a0(i,s.eventRange.def,s.eventRange.instance),jsEvent:t,view:i.viewApi})}}class oe extends o.a3{constructor(){super(...arguments),this.buildViewContext=(0,o.y)(o.a4),this.buildViewPropTransformers=(0,o.y)(ie),this.buildToolbarProps=(0,o.y)(re),this.headerRef=(0,r.createRef)(),this.footerRef=(0,r.createRef)(),this.interactionsStore={},this.state={viewLabelId:(0,o.a5)()},this.registerInteractiveComponent=(e,t)=>{let n=(0,o.a6)(e,t),r=[te,ne].concat(this.props.pluginHooks.componentInteractions).map((e=>new e(n)));this.interactionsStore[e.uid]=r,o.a7[e.uid]=n},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let e of t)e.destroy();delete this.interactionsStore[e.uid]}delete o.a7[e.uid]},this.resizeRunner=new o.D((()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})})),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let e,{props:t}=this,{toolbarConfig:n,options:i}=t,s=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,(0,o.a8)(t.options.now,t.dateEnv),t.viewTitle),a=!1,l="";t.isHeightAuto||t.forPrint?l="":null!=i.height?a=!0:null!=i.contentHeight?l=i.contentHeight:e=Math.max(i.aspectRatio,.5);let c=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),d=n.header&&n.header.hasTitle?this.state.viewLabelId:"";return(0,r.createElement)(o.V.Provider,{value:c},n.header&&(0,r.createElement)(J,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:d},s)),(0,r.createElement)(ee,{liquid:a,height:l,aspectRatio:e,labeledById:d},this.renderView(t),this.buildAppendContent()),n.footer&&(0,r.createElement)(J,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},s)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map((t=>new t(e))),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let n in t)t[n](e[n],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:n}=t.pluginHooks;for(let o in n)t[o]!==e[o]&&n[o](t[o],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map((t=>t(e)));return(0,r.createElement)(r.Fragment,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:n}=e,o={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},i=this.buildViewPropTransformers(t.viewPropsTransformers);for(let t of i)Object.assign(o,t.transform(o,e));let s=n.component;return(0,r.createElement)(s,Object.assign({},o))}}function re(e,t,n,r,i,s){let a=n.build(i,void 0,!1),l=n.buildPrev(t,r,!1),c=n.buildNext(t,r,!1);return{title:s,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:a.isValid&&!(0,o.G)(t.currentRange,i),isPrevEnabled:l.isValid,isNextEnabled:c.isValid}}function ie(e){return e.map((e=>new e))}class se extends o.a9{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=e=>{switch(e.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=e=>{this.currentData=e,this.renderRunner.request(e.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:e}=this;(0,o.aa)((()=>{(0,r.render)((0,r.createElement)(o.ab,{options:e.calendarOptions,theme:e.theme,emitter:e.emitter},((t,n,i,s)=>(this.setClassNames(t),this.setHeight(n),(0,r.createElement)(o.ac.Provider,{value:this.customContentRenderId},(0,r.createElement)(oe,Object.assign({isHeightAuto:i,forPrint:s},e)))))),this.el)}))}else this.isRendered&&(this.isRendered=!1,(0,r.render)(null,this.el),this.setClassNames([]),this.setHeight(""))},(0,o.ad)(e),this.el=e,this.renderRunner=new o.D(this.handleRenderRequest),new V({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){(0,o.aa)((()=>{super.updateSize()}))}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!(0,o.i)(e,this.currentClassNames)){let{classList:t}=this.el;for(let e of this.currentClassNames)t.remove(e);for(let n of e)t.add(n);this.currentClassNames=e}}setHeight(e){(0,o.ae)(this.el,"height",e)}}function ae(e,t={}){let n=ce(t),r=(0,o.w)(t),i=n.createMarkerMeta(e);return i?n.format(i.marker,r,{forcedTzo:i.forcedTzo}):""}function le(e,t,n){let r=ce("object"==typeof n&&n?n:{}),i=(0,o.w)(n),s=r.createMarkerMeta(e),a=r.createMarkerMeta(t);return s&&a?r.formatRange(s.marker,a.marker,i,{forcedStartTzo:s.forcedTzo,forcedEndTzo:a.forcedTzo,isEndExclusive:n.isEndExclusive,defaultSeparator:o.B.defaultRangeSeparator}):""}function ce(e){let t=c(e.locale||"en",l([]).map);return new o.R(Object.assign(Object.assign({timeZone:o.B.timeZone,calendarSystem:"gregory"},e),{locale:t}))}function de(e,t){return(0,o.af)(e.eventStore,e.eventUiBases,e.dateProfile.activeRange,t?e.nextDayThreshold:null).fg}const ue="6.1.6"},"./node_modules/@fullcalendar/core/internal-common.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{$:()=>p,A:()=>pe,B:()=>dt,C:()=>ir,D:()=>Pr,E:()=>An,F:()=>Gn,G:()=>hn,H:()=>kt,I:()=>Zn,J:()=>br,K:()=>xr,L:()=>vt,M:()=>ct,N:()=>ut,O:()=>ht,P:()=>mt,Q:()=>gt,R:()=>Po,S:()=>Yn,T:()=>Nn,U:()=>Mt,V:()=>Hn,W:()=>Ut,X:()=>Un,Y:()=>Wn,Z:()=>zo,_:()=>co,a:()=>ue,a$:()=>fn,a0:()=>oo,a1:()=>j,a2:()=>k,a3:()=>zn,a4:()=>Vn,a5:()=>S,a6:()=>Uo,a7:()=>qo,a8:()=>$n,a9:()=>Si,aA:()=>Gt,aB:()=>we,aC:()=>Ge,aD:()=>$e,aE:()=>Yt,aF:()=>$t,aG:()=>Xt,aH:()=>Qt,aI:()=>Jt,aJ:()=>Kt,aK:()=>ve,aL:()=>ye,aM:()=>g,aN:()=>v,aO:()=>m,aP:()=>y,aQ:()=>f,aR:()=>x,aS:()=>At,aT:()=>tn,aU:()=>Et,aV:()=>jt,aW:()=>Ct,aX:()=>Pt,aY:()=>on,aZ:()=>pn,a_:()=>mn,aa:()=>Ln,ab:()=>Ko,ac:()=>rr,ad:()=>c,ae:()=>w,af:()=>so,ag:()=>Dr,ah:()=>Bn,ai:()=>bt,aj:()=>wt,ak:()=>Vt,al:()=>Ft,am:()=>U,an:()=>Z,ao:()=>F,ap:()=>H,aq:()=>z,ar:()=>N,as:()=>L,at:()=>I,au:()=>B,av:()=>q,aw:()=>R,ax:()=>P,ay:()=>qt,az:()=>Zt,b:()=>yi,b$:()=>Kr,b0:()=>bn,b1:()=>C,b2:()=>O,b3:()=>jn,b4:()=>Cn,b5:()=>En,b6:()=>kn,b7:()=>cn,b8:()=>dn,b9:()=>un,bA:()=>No,bB:()=>Io,bC:()=>Lo,bD:()=>Vo,bE:()=>Bo,bF:()=>Fo,bG:()=>Wo,bH:()=>Zo,bI:()=>Go,bJ:()=>Yo,bK:()=>hr,bL:()=>Xo,bM:()=>ar,bN:()=>cr,bO:()=>pr,bP:()=>ao,bQ:()=>bo,bR:()=>mo,bS:()=>yo,bT:()=>xo,bU:()=>_o,bV:()=>fr,bW:()=>gr,bX:()=>Jn,bY:()=>kr,bZ:()=>Sr,b_:()=>Cr,ba:()=>Tn,bb:()=>Mn,bc:()=>Pn,bd:()=>Rn,be:()=>qn,bf:()=>jo,bg:()=>je,bh:()=>Se,bi:()=>ke,bj:()=>Ae,bk:()=>Oe,bl:()=>Ee,bm:()=>Be,bn:()=>Q,bo:()=>te,bp:()=>J,bq:()=>oe,br:()=>re,bs:()=>ie,bt:()=>se,bu:()=>Ue,bv:()=>Ve,bw:()=>He,bx:()=>ze,by:()=>Ro,bz:()=>Mo,c:()=>ae,c0:()=>Wr,c1:()=>zr,c2:()=>qr,c3:()=>Zr,c4:()=>Br,c5:()=>Fr,c6:()=>Hr,c7:()=>Ir,c8:()=>Ur,c9:()=>Vr,ca:()=>Gr,cb:()=>Yr,cc:()=>$r,cd:()=>Nr,ce:()=>_n,cf:()=>Lr,cg:()=>xn,ch:()=>dr,ci:()=>Fn,cj:()=>Qr,ck:()=>ei,cl:()=>ni,cm:()=>oi,cn:()=>Xr,co:()=>ai,cp:()=>ii,cq:()=>li,cr:()=>hi,cs:()=>fi,ct:()=>bi,cu:()=>Kn,cv:()=>Qn,cw:()=>l,cx:()=>nr,cy:()=>ji,d:()=>K,e:()=>he,f:()=>de,g:()=>M,h:()=>_i,i:()=>xe,j:()=>W,k:()=>ko,l:()=>yt,m:()=>ce,n:()=>ln,o:()=>De,p:()=>xi,q:()=>Ce,r:()=>Mr,s:()=>ee,t:()=>me,u:()=>On,v:()=>io,w:()=>lt,x:()=>Te,y:()=>qe,z:()=>Ze});var o=n("./node_modules/preact/dist/preact.module.js"),r=n("./node_modules/preact/compat/dist/compat.module.js");const i=[],s=new Map,a=" fullcalendar styles ";function l(e){i.push(e),s.forEach((t=>{u(e,t)}))}function c(e){d(e.getRootNode())}function d(e,t=e,n=t.firstChild){if(!s.has(e)){const o=document.createComment(a),r=document.createComment(` END${a}`);t.insertBefore(r,n),t.insertBefore(o,r),s.set(e,r),function(e){for(const t of i)u(t,e)}(r)}}function u(e,t){const n=document.createElement("style"),o=function(){void 0===h&&(h=function(){const e=document.querySelector('meta[name="csp-nonce"]');if(e&&e.hasAttribute("content"))return e.getAttribute("content");const t=document.querySelector("script[nonce]");if(t)return t.nonce||"";return""}());return h}();o&&(n.nonce=o),n.innerText=e,t.parentNode.insertBefore(n,t)}let h;"undefined"!=typeof document&&d(document,document.head,document.head.querySelector("script,link,style"));function m(e){e.parentNode&&e.parentNode.removeChild(e)}function p(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if(f(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}function f(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t)}function g(e,t){let n=e instanceof HTMLElement?[e]:e,o=[];for(let e=0;e<n.length;e+=1){let r=n[e].querySelectorAll(t);for(let e=0;e<r.length;e+=1)o.push(r[e])}return o}function v(e,t){let n=e instanceof HTMLElement?[e]:e,o=[];for(let e=0;e<n.length;e+=1){let r=n[e].children;for(let e=0;e<r.length;e+=1){let n=r[e];t&&!f(n,t)||o.push(n)}}return o}l(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');const b=/(top|left|right|bottom|width|height)$/i;function y(e,t){for(let n in t)w(e,n,t[n])}function w(e,t,n){null==n?e.style[t]="":"number"==typeof n&&b.test(t)?e.style[t]=`${n}px`:e.style[t]=n}function x(e){var t,n;return null!==(n=null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])&&void 0!==n?n:e.target}let _=0;function S(){return _+=1,"fc-dom-"+_}function C(e){e.preventDefault()}function j(e,t,n,o){let r=function(e,t){return n=>{let o=p(n.target,e);o&&t.call(o,n,o)}}(n,o);return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}function k(e,t,n,o){let r;return j(e,"mouseover",t,((e,t)=>{if(t!==r){r=t,n(e,t);let i=e=>{r=null,o(e,t),t.removeEventListener("mouseleave",i)};t.addEventListener("mouseleave",i)}}))}const E=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function O(e,t){let n=o=>{t(o),E.forEach((t=>{e.removeEventListener(t,n)}))};E.forEach((t=>{e.addEventListener(t,n)}))}function A(e){return Object.assign({onClick:e},T(e))}function T(e){return{tabIndex:0,onKeyDown(t){"Enter"!==t.key&&" "!==t.key||(e(t),t.preventDefault())}}}let D=0;function M(){return D+=1,String(D)}function P(){document.body.classList.add("fc-not-allowed")}function R(){document.body.classList.remove("fc-not-allowed")}function N(e){e.style.userSelect="none",e.addEventListener("selectstart",C)}function L(e){e.style.userSelect="",e.removeEventListener("selectstart",C)}function I(e){e.addEventListener("contextmenu",C)}function B(e){e.removeEventListener("contextmenu",C)}function F(e){let t,n,o=[],r=[];for("string"==typeof e?r=e.split(/\s*,\s*/):"function"==typeof e?r=[e]:Array.isArray(e)&&(r=e),t=0;t<r.length;t+=1)n=r[t],"string"==typeof n?o.push("-"===n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"==typeof n&&o.push({func:n});return o}function H(e,t,n){let o,r;for(o=0;o<n.length;o+=1)if(r=V(e,t,n[o]),r)return r;return 0}function V(e,t,n){return n.func?n.func(e,t):z(e[n.field],t[n.field])*(n.order||1)}function z(e,t){return e||t?null==t?-1:null==e?1:"string"==typeof e||"string"==typeof t?String(e).localeCompare(String(t)):e-t:0}function U(e,t){let n=String(e);return"000".substr(0,t-n.length)+n}function W(e,t,n){return"function"==typeof e?e(...t):"string"==typeof e?t.reduce(((e,t,n)=>e.replace("$"+n,t||"")),e):n}function q(e,t){return e-t}function Z(e){return e%1==0}function G(e){let t=e.querySelector(".fc-scrollgrid-shrink-frame"),n=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width}const $=["years","months","days","milliseconds"],Y=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function K(e,t){return"string"==typeof e?function(e){let t=Y.exec(e);if(t){let e=t[1]?-1:1;return{years:0,months:0,days:e*(t[2]?parseInt(t[2],10):0),milliseconds:e*(60*(t[3]?parseInt(t[3],10):0)*60*1e3+60*(t[4]?parseInt(t[4],10):0)*1e3+1e3*(t[5]?parseInt(t[5],10):0)+(t[6]?parseInt(t[6],10):0))}}return null}(e):"object"==typeof e&&e?X(e):"number"==typeof e?X({[t||"milliseconds"]:e}):null}function X(e){let t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:60*(e.hours||e.hour||0)*60*1e3+60*(e.minutes||e.minute||0)*1e3+1e3*(e.seconds||e.second||0)+(e.milliseconds||e.millisecond||e.ms||0)},n=e.weeks||e.week;return n&&(t.days+=7*n,t.specifiedWeeks=!0),t}function Q(e){return e.years||e.months||e.milliseconds?0:e.days}function J(e,t){return{years:e.years+t.years,months:e.months+t.months,days:e.days+t.days,milliseconds:e.milliseconds+t.milliseconds}}function ee(e,t){return{years:e.years-t.years,months:e.months-t.months,days:e.days-t.days,milliseconds:e.milliseconds-t.milliseconds}}function te(e,t){return{years:e.years*t,months:e.months*t,days:e.days*t,milliseconds:e.milliseconds*t}}function ne(e){return ie(e)/864e5}function oe(e){return ie(e)/6e4}function re(e){return ie(e)/1e3}function ie(e){return 31536e6*e.years+2592e6*e.months+864e5*e.days+e.milliseconds}function se(e,t){let n=null;for(let o=0;o<$.length;o+=1){let r=$[o];if(t[r]){let o=e[r]/t[r];if(!Z(o)||null!==n&&n!==o)return null;n=o}else if(e[r])return null}return n}function ae(e){let t=e.milliseconds;if(t){if(t%1e3!=0)return{unit:"millisecond",value:t};if(t%6e4!=0)return{unit:"second",value:t/1e3};if(t%36e5!=0)return{unit:"minute",value:t/6e4};if(t)return{unit:"hour",value:t/36e5}}return e.days?e.specifiedWeeks&&e.days%7==0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}const{hasOwnProperty:le}=Object.prototype;function ce(e,t){let n={};if(t)for(let o in t)if(t[o]===pt){let t=[];for(let r=e.length-1;r>=0;r-=1){let i=e[r][o];if("object"==typeof i&&i)t.unshift(i);else if(void 0!==i){n[o]=i;break}}t.length&&(n[o]=ce(t))}for(let t=e.length-1;t>=0;t-=1){let o=e[t];for(let e in o)e in n||(n[e]=o[e])}return n}function de(e,t){let n={};for(let o in e)t(e[o],o)&&(n[o]=e[o]);return n}function ue(e,t){let n={};for(let o in e)n[o]=t(e[o],o);return n}function he(e){let t={};for(let n of e)t[n]=!0;return t}function me(e){let t=[];for(let n in e)t.push(e[n]);return t}function pe(e,t){if(e===t)return!0;for(let n in e)if(le.call(e,n)&&!(n in t))return!1;for(let n in t)if(le.call(t,n)&&e[n]!==t[n])return!1;return!0}const fe=/^on[A-Z]/;function ge(e,t){let n=[];for(let o in e)le.call(e,o)&&(o in t||n.push(o));for(let o in t)le.call(t,o)&&e[o]!==t[o]&&n.push(o);return n}function ve(e,t,n={}){if(e===t)return!0;for(let o in t)if(!(o in e)||!be(e[o],t[o],n[o]))return!1;for(let n in e)if(!(n in t))return!1;return!0}function be(e,t,n){return e===t||!0===n||!!n&&n(e,t)}function ye(e,t=0,n,o=1){let r=[];null==n&&(n=Object.keys(e).length);for(let i=t;i<n;i+=o){let t=e[i];void 0!==t&&r.push(t)}return r}function we(e,t){let n=0,o=0;for(;o<e.length;)e[o]===t?(e.splice(o,1),n+=1):o+=1;return n}function xe(e,t,n){if(e===t)return!0;let o,r=e.length;if(r!==t.length)return!1;for(o=0;o<r;o+=1)if(!(n?n(e[o],t[o]):e[o]===t[o]))return!1;return!0}const _e=["sun","mon","tue","wed","thu","fri","sat"];function Se(e,t){let n=Le(e);return n[2]+=7*t,Ie(n)}function Ce(e,t){let n=Le(e);return n[2]+=t,Ie(n)}function je(e,t){let n=Le(e);return n[6]+=t,Ie(n)}function ke(e,t){return Ee(e,t)/7}function Ee(e,t){return(t.valueOf()-e.valueOf())/864e5}function Oe(e,t){let n=De(e),o=De(t);return{years:0,months:0,days:Math.round(Ee(n,o)),milliseconds:t.valueOf()-o.valueOf()-(e.valueOf()-n.valueOf())}}function Ae(e,t){let n=Te(e,t);return null!==n&&n%7==0?n/7:null}function Te(e,t){return Fe(e)===Fe(t)?Math.round(Ee(e,t)):null}function De(e){return Ie([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function Me(e,t,n,o){let r=Ie([t,0,1+Pe(t,n,o)]),i=De(e),s=Math.round(Ee(r,i));return Math.floor(s/7)+1}function Pe(e,t,n){let o=7+t-n;return-((7+Ie([e,0,o]).getUTCDay()-t)%7)+o-1}function Re(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function Ne(e){return new Date(e[0],e[1]||0,null==e[2]?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function Le(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function Ie(e){return 1===e.length&&(e=e.concat([0])),new Date(Date.UTC(...e))}function Be(e){return!isNaN(e.valueOf())}function Fe(e){return 1e3*e.getUTCHours()*60*60+1e3*e.getUTCMinutes()*60+1e3*e.getUTCSeconds()+e.getUTCMilliseconds()}function He(e,t,n=!1){let o=e.toISOString();return o=o.replace(".000",""),n&&(o=o.replace("T00:00:00Z","")),o.length>10&&(null==t?o=o.replace("Z",""):0!==t&&(o=o.replace("Z",We(t,!0)))),o}function Ve(e){return e.toISOString().replace(/T.*$/,"")}function ze(e){return e.toISOString().match(/^\d{4}-\d{2}/)[0]}function Ue(e){return U(e.getUTCHours(),2)+":"+U(e.getUTCMinutes(),2)+":"+U(e.getUTCSeconds(),2)}function We(e,t=!1){let n=e<0?"-":"+",o=Math.abs(e),r=Math.floor(o/60),i=Math.round(o%60);return t?`${n+U(r,2)}:${U(i,2)}`:`GMT${n}${r}${i?`:${U(i,2)}`:""}`}function qe(e,t,n){let o,r;return function(...i){if(o){if(!xe(o,i)){n&&n(r);let o=e.apply(this,i);t&&t(o,r)||(r=o)}}else r=e.apply(this,i);return o=i,r}}function Ze(e,t,n){let o,r;return i=>{if(o){if(!pe(o,i)){n&&n(r);let o=e.call(this,i);t&&t(o,r)||(r=o)}}else r=e.call(this,i);return o=i,r}}function Ge(e,t,n){let o=[],r=[];return i=>{let s=o.length,a=i.length,l=0;for(;l<s;l+=1)if(i[l]){if(!xe(o[l],i[l])){n&&n(r[l]);let o=e.apply(this,i[l]);t&&t(o,r[l])||(r[l]=o)}}else n&&n(r[l]);for(;l<a;l+=1)r[l]=e.apply(this,i[l]);return o=i,r.splice(a),r}}function $e(e,t,n){let o={},r={};return i=>{let s={};for(let a in i)if(r[a])if(xe(o[a],i[a]))s[a]=r[a];else{n&&n(r[a]);let o=e.apply(this,i[a]);s[a]=t&&t(o,r[a])?r[a]:o}else s[a]=e.apply(this,i[a]);return o=i,r=s,s}}const Ye={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Ke={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Xe=/\s*([ap])\.?m\.?/i,Qe=/,/g,Je=/\s+/g,et=/\u200e/g,tt=/UTC|GMT/;class nt{constructor(e){let t={},n={},o=0;for(let r in e)r in Ye?(n[r]=e[r],o=Math.max(Ye[r],o)):(t[r]=e[r],r in Ke&&(o=Math.max(Ke[r],o)));this.standardDateProps=t,this.extendedSettings=n,this.severity=o,this.buildFormattingFunc=qe(ot)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,n,o){let{standardDateProps:r,extendedSettings:i}=this,s=function(e,t,n){if(n.getMarkerYear(e)!==n.getMarkerYear(t))return 5;if(n.getMarkerMonth(e)!==n.getMarkerMonth(t))return 4;if(n.getMarkerDay(e)!==n.getMarkerDay(t))return 2;if(Fe(e)!==Fe(t))return 1;return 0}(e.marker,t.marker,n.calendarSystem);if(!s)return this.format(e,n);let a=s;!(a>1)||"numeric"!==r.year&&"2-digit"!==r.year||"numeric"!==r.month&&"2-digit"!==r.month||"numeric"!==r.day&&"2-digit"!==r.day||(a=1);let l=this.format(e,n),c=this.format(t,n);if(l===c)return l;let d=ot(function(e,t){let n={};for(let o in e)(!(o in Ke)||Ke[o]<=t)&&(n[o]=e[o]);return n}(r,a),i,n),u=d(e),h=d(t),m=function(e,t,n,o){let r=0;for(;r<e.length;){let i=e.indexOf(t,r);if(-1===i)break;let s=e.substr(0,i);r=i+t.length;let a=e.substr(r),l=0;for(;l<n.length;){let e=n.indexOf(o,l);if(-1===e)break;let t=n.substr(0,e);l=e+o.length;let r=n.substr(l);if(s===t&&a===r)return{before:s,after:a}}}return null}(l,u,c,h),p=i.separator||o||n.defaultSeparator||"";return m?m.before+u+p+h+m.after:l+p+c}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function ot(e,t,n){let o=Object.keys(e).length;return 1===o&&"short"===e.timeZoneName?e=>We(e.timeZoneOffset):0===o&&t.week?e=>function(e,t,n,o,r){let i=[];"long"===r?i.push(n):"short"!==r&&"narrow"!==r||i.push(t);"long"!==r&&"short"!==r||i.push(" ");i.push(o.simpleNumberFormat.format(e)),"rtl"===o.options.direction&&i.reverse();return i.join("")}(n.computeWeekNumber(e.marker),n.weekText,n.weekTextLong,n.locale,t.week):function(e,t,n){e=Object.assign({},e),t=Object.assign({},t),function(e,t){e.timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit"));"long"===e.timeZoneName&&(e.timeZoneName="short");t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}(e,t),e.timeZone="UTC";let o,r=new Intl.DateTimeFormat(n.locale.codes,e);if(t.omitZeroMinute){let t=Object.assign({},e);delete t.minute,o=new Intl.DateTimeFormat(n.locale.codes,t)}return i=>{let s,{marker:a}=i;return s=o&&!a.getUTCMinutes()?o:r,function(e,t,n,o,r){e=e.replace(et,""),"short"===n.timeZoneName&&(e=function(e,t){let n=!1;e=e.replace(tt,(()=>(n=!0,t))),n||(e+=` ${t}`);return e}(e,"UTC"===r.timeZone||null==t.timeZoneOffset?"UTC":We(t.timeZoneOffset)));o.omitCommas&&(e=e.replace(Qe,"").trim());o.omitZeroMinute&&(e=e.replace(":00",""));!1===o.meridiem?e=e.replace(Xe,"").trim():"narrow"===o.meridiem?e=e.replace(Xe,((e,t)=>t.toLocaleLowerCase())):"short"===o.meridiem?e=e.replace(Xe,((e,t)=>`${t.toLocaleLowerCase()}m`)):"lowercase"===o.meridiem&&(e=e.replace(Xe,(e=>e.toLocaleLowerCase())));return e=e.replace(Je," "),e=e.trim(),e}(s.format(a),i,e,t,n)}}(e,t,n)}function rt(e,t){let n=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function it(e,t,n,o){let r=rt(e,n.calendarSystem);return{date:r,start:r,end:t?rt(t,n.calendarSystem):null,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:o||n.defaultSeparator}}class st{constructor(e){this.cmdStr=e}format(e,t,n){return t.cmdFormatter(this.cmdStr,it(e,null,t,n))}formatRange(e,t,n,o){return n.cmdFormatter(this.cmdStr,it(e,t,n,o))}}class at{constructor(e){this.func=e}format(e,t,n){return this.func(it(e,null,t,n))}formatRange(e,t,n,o){return this.func(it(e,t,n,o))}}function lt(e){return"object"==typeof e&&e?new nt(e):"string"==typeof e?new st(e):"function"==typeof e?new at(e):null}const ct={navLinkDayClick:yt,navLinkWeekClick:yt,duration:K,bootstrapFontAwesome:yt,buttonIcons:yt,customButtons:yt,defaultAllDayEventDuration:K,defaultTimedEventDuration:K,nextDayThreshold:K,scrollTime:K,scrollTimeReset:Boolean,slotMinTime:K,slotMaxTime:K,dayPopoverFormat:lt,slotDuration:K,snapDuration:K,headerToolbar:yt,footerToolbar:yt,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:lt,dayHeaderClassNames:yt,dayHeaderContent:yt,dayHeaderDidMount:yt,dayHeaderWillUnmount:yt,dayCellClassNames:yt,dayCellContent:yt,dayCellDidMount:yt,dayCellWillUnmount:yt,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:yt,weekNumbers:Boolean,weekNumberClassNames:yt,weekNumberContent:yt,weekNumberDidMount:yt,weekNumberWillUnmount:yt,editable:Boolean,viewClassNames:yt,viewDidMount:yt,viewWillUnmount:yt,nowIndicator:Boolean,nowIndicatorClassNames:yt,nowIndicatorContent:yt,nowIndicatorDidMount:yt,nowIndicatorWillUnmount:yt,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:yt,locale:yt,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:yt,eventOrder:F,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:yt,contentHeight:yt,direction:String,weekNumberFormat:lt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:yt,initialDate:yt,now:yt,eventDataTransform:yt,stickyHeaderDates:yt,stickyFooterScrollbar:yt,viewHeight:yt,defaultAllDay:Boolean,eventSourceFailure:yt,eventSourceSuccess:yt,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:yt,eventConstraint:yt,eventAllow:yt,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:yt,eventContent:yt,eventDidMount:yt,eventWillUnmount:yt,selectConstraint:yt,selectOverlap:yt,selectAllow:yt,droppable:Boolean,unselectCancel:String,slotLabelFormat:yt,slotLaneClassNames:yt,slotLaneContent:yt,slotLaneDidMount:yt,slotLaneWillUnmount:yt,slotLabelClassNames:yt,slotLabelContent:yt,slotLabelDidMount:yt,slotLabelWillUnmount:yt,dayMaxEvents:yt,dayMaxEventRows:yt,dayMinWidth:Number,slotLabelInterval:K,allDayText:String,allDayClassNames:yt,allDayContent:yt,allDayDidMount:yt,allDayWillUnmount:yt,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:lt,rerenderDelay:Number,moreLinkText:yt,moreLinkHint:yt,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:yt,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:K,hiddenDays:yt,fixedWeekCount:Boolean,validRange:yt,visibleRange:yt,titleFormat:yt,eventInteractive:Boolean,noEventsText:String,viewHint:yt,navLinkHint:yt,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:yt,moreLinkClassNames:yt,moreLinkContent:yt,moreLinkDidMount:yt,moreLinkWillUnmount:yt,monthStartFormat:lt,handleCustomRendering:yt,customRenderingMetaMap:yt,customRenderingReplacesEl:Boolean},dt={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},ut={datesSet:yt,eventsSet:yt,eventAdd:yt,eventChange:yt,eventRemove:yt,windowResize:yt,eventClick:yt,eventMouseEnter:yt,eventMouseLeave:yt,select:yt,unselect:yt,loading:yt,_unmount:yt,_beforeprint:yt,_afterprint:yt,_noEventDrop:yt,_noEventResize:yt,_resize:yt,_scrollRequest:yt},ht={buttonText:yt,buttonHints:yt,views:yt,plugins:yt,initialEvents:yt,events:yt,eventSources:yt},mt={headerToolbar:pt,footerToolbar:pt,buttonText:pt,buttonHints:pt,buttonIcons:pt,dateIncrement:pt,plugins:ft,events:ft,eventSources:ft,resources:ft};function pt(e,t){return"object"==typeof e&&"object"==typeof t&&e&&t?pe(e,t):e===t}function ft(e,t){return Array.isArray(e)&&Array.isArray(t)?xe(e,t):e===t}const gt={type:String,component:yt,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:yt,usesMinMaxTime:Boolean,classNames:yt,content:yt,didMount:yt,willUnmount:yt};function vt(e){return ce(e,mt)}function bt(e,t){let n={},o={};for(let o in t)o in e&&(n[o]=t[o](e[o]));for(let n in e)n in t||(o[n]=e[n]);return{refined:n,extra:o}}function yt(e){return e}function wt(e,t,n,o){return{instanceId:M(),defId:e,range:t,forcedStartTzo:null==n?null:n,forcedEndTzo:null==o?null:o}}function xt(e,t,n){let{dateEnv:o,pluginHooks:r,options:i}=n,{defs:s,instances:a}=e;a=de(a,(e=>!s[e.defId].recurringDef));for(let e in s){let n=s[e];if(n.recurringDef){let{duration:s}=n.recurringDef;s||(s=n.allDay?i.defaultAllDayEventDuration:i.defaultTimedEventDuration);let l=_t(n,s,t,o,r.recurringTypes);for(let t of l){let n=wt(e,{start:t,end:o.add(t,s)});a[n.instanceId]=n}}}return{defs:s,instances:a}}function _t(e,t,n,o,r){let i=r[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:o.subtract(n.start,t),end:n.end},o);return e.allDay&&(i=i.map(De)),i}function St(e,t,n,o,r,i){let s={defs:{},instances:{}},a=Ht(n);for(let l of e){let e=Bt(l,t,n,o,a,r,i);e&&Ct(e,s)}return s}function Ct(e,t={defs:{},instances:{}}){return t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function jt(e,t){let n=e.instances[t];if(n){let t=e.defs[n.defId],o=Ot(e,(e=>{return n=t,o=e,Boolean(n.groupId&&n.groupId===o.groupId);var n,o}));return o.defs[t.defId]=t,o.instances[n.instanceId]=n,o}return{defs:{},instances:{}}}function kt(){return{defs:{},instances:{}}}function Et(e,t){return{defs:Object.assign(Object.assign({},e.defs),t.defs),instances:Object.assign(Object.assign({},e.instances),t.instances)}}function Ot(e,t){let n=de(e.defs,t),o=de(e.instances,(e=>n[e.defId]));return{defs:n,instances:o}}function At(e){return Array.isArray(e)?e:"string"==typeof e?e.split(/\s+/):[]}const Tt={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:yt,overlap:yt,allow:yt,className:At,classNames:At,color:String,backgroundColor:String,borderColor:String,textColor:String},Dt={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Mt(e,t){let n=function(e,t){return Array.isArray(e)?St(e,null,t,!0):"object"==typeof e&&e?St([e],null,t,!0):null!=e?String(e):null}(e.constraint,t);return{display:e.display||null,startEditable:null!=e.startEditable?e.startEditable:e.editable,durationEditable:null!=e.durationEditable?e.durationEditable:e.editable,constraints:null!=n?[n]:[],overlap:null!=e.overlap?e.overlap:null,allows:null!=e.allow?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function Pt(e){return e.reduce(Rt,Dt)}function Rt(e,t){return{display:null!=t.display?t.display:e.display,startEditable:null!=t.startEditable?t.startEditable:e.startEditable,durationEditable:null!=t.durationEditable?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:"boolean"==typeof t.overlap?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}const Nt={id:String,groupId:String,title:String,url:String,interactive:Boolean},Lt={start:yt,end:yt,date:yt,allDay:Boolean},It=Object.assign(Object.assign(Object.assign({},Nt),Lt),{extendedProps:yt});function Bt(e,t,n,o,r=Ht(n),i,s){let{refined:a,extra:l}=Ft(e,n,r),c=function(e,t){let n=null;e&&(n=e.defaultAllDay);null==n&&(n=t.options.defaultAllDay);return n}(t,n),d=function(e,t,n,o){for(let r=0;r<o.length;r+=1){let i=o[r].parse(e,n);if(i){let{allDay:n}=e;return null==n&&(n=t,null==n&&(n=i.allDayGuess,null==n&&(n=!1))),{allDay:n,duration:i.duration,typeData:i.typeData,typeId:r}}}return null}(a,c,n.dateEnv,n.pluginHooks.recurringTypes);if(d){let e=Vt(a,l,t?t.sourceId:"",d.allDay,Boolean(d.duration),n,i);return e.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:e,instance:null}}let u=function(e,t,n,o){let r,i,{allDay:s}=e,a=null,l=!1,c=null,d=null!=e.start?e.start:e.date;if(r=n.dateEnv.createMarkerMeta(d),r)a=r.marker;else if(!o)return null;null!=e.end&&(i=n.dateEnv.createMarkerMeta(e.end));null==s&&(s=null!=t?t:(!r||r.isTimeUnspecified)&&(!i||i.isTimeUnspecified));s&&a&&(a=De(a));i&&(c=i.marker,s&&(c=De(c)),a&&c<=a&&(c=null));c?l=!0:o||(l=n.options.forceEventDuration||!1,c=n.dateEnv.add(a,s?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration));return{allDay:s,hasEnd:l,range:{start:a,end:c},forcedStartTzo:r?r.forcedTzo:null,forcedEndTzo:i?i.forcedTzo:null}}(a,c,n,o);if(u){let e=Vt(a,l,t?t.sourceId:"",u.allDay,u.hasEnd,n,i),o=wt(e.defId,u.range,u.forcedStartTzo,u.forcedEndTzo);return s&&e.publicId&&s[e.publicId]&&(o.instanceId=s[e.publicId]),{def:e,instance:o}}return null}function Ft(e,t,n=Ht(t)){return bt(e,n)}function Ht(e){return Object.assign(Object.assign(Object.assign({},Tt),It),e.pluginHooks.eventRefiners)}function Vt(e,t,n,o,r,i,s){let a={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:(s&&e.id?s[e.id]:"")||M(),sourceId:n,allDay:o,hasEnd:r,interactive:e.interactive,ui:Mt(e,i),extendedProps:Object.assign(Object.assign({},e.extendedProps||{}),t)};for(let t of i.pluginHooks.eventDefMemberAdders)Object.assign(a,t(e));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}const zt={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Ut(e,t){return St(function(e){let t;t=!0===e?[{}]:Array.isArray(e)?e.filter((e=>e.daysOfWeek)):"object"==typeof e&&e?[e]:[];return t=t.map((e=>Object.assign(Object.assign({},zt),e))),t}(e),null,t)}function Wt(e){let t=Math.floor(Ee(e.start,e.end))||1,n=De(e.start);return{start:n,end:Ce(n,t)}}function qt(e,t=K(0)){let n=null,o=null;if(e.end){o=De(e.end);let n=e.end.valueOf()-o.valueOf();n&&n>=ie(t)&&(o=Ce(o,1))}return e.start&&(n=De(e.start),o&&o<=n&&(o=Ce(n,1))),{start:n,end:o}}function Zt(e){let t=qt(e);return Ee(t.start,t.end)>1}function Gt(e,t,n,o){return"year"===o?K(n.diffWholeYears(e,t),"year"):"month"===o?K(n.diffWholeMonths(e,t),"month"):Oe(e,t)}function $t(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function Yt(e,t){let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function Kt(e,t,n){return{left:e.left+t,right:e.right+t,top:e.top+n,bottom:e.bottom+n}}function Xt(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function Qt(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function Jt(e,t){return{left:e.left-t.left,top:e.top-t.top}}let en;function tn(){return null==en&&(en=function(){if("undefined"==typeof document)return!0;let e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);let t=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),t}()),en}const nn={defs:{},instances:{}};class on{constructor(){this.getKeysForEventDefs=qe(this._getKeysForEventDefs),this.splitDateSelection=qe(this._splitDateSpan),this.splitEventStore=qe(this._splitEventStore),this.splitIndividualUi=qe(this._splitIndividualUi),this.splitEventDrag=qe(this._splitInteraction),this.splitEventResize=qe(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),o=this.splitDateSelection(e.dateSelection),r=this.splitIndividualUi(e.eventUiBases,n),i=this.splitEventStore(e.eventStore,n),s=this.splitEventDrag(e.eventDrag),a=this.splitEventResize(e.eventResize),l={};this.eventUiBuilders=ue(t,((e,t)=>this.eventUiBuilders[t]||qe(rn)));for(let n in t){let c=t[n],d=i[n]||nn,u=this.eventUiBuilders[n];l[n]={businessHours:c.businessHours||e.businessHours,dateSelection:o[n]||null,eventStore:d,eventUiBases:u(e.eventUiBases[""],c.ui,r[n]),eventSelection:d.instances[e.eventSelection]?e.eventSelection:"",eventDrag:s[n]||null,eventResize:a[n]||null}}return l}_splitDateSpan(e){let t={};if(e){let n=this.getKeysForDateSpan(e);for(let o of n)t[o]=e}return t}_getKeysForEventDefs(e){return ue(e.defs,(e=>this.getKeysForEventDef(e)))}_splitEventStore(e,t){let{defs:n,instances:o}=e,r={};for(let e in n)for(let o of t[e])r[o]||(r[o]={defs:{},instances:{}}),r[o].defs[e]=n[e];for(let e in o){let n=o[e];for(let o of t[n.defId])r[o]&&(r[o].instances[e]=n)}return r}_splitIndividualUi(e,t){let n={};for(let o in e)if(o)for(let r of t[o])n[r]||(n[r]={}),n[r][o]=e[o];return n}_splitInteraction(e){let t={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),o=this._getKeysForEventDefs(e.mutatedEvents),r=this._splitEventStore(e.mutatedEvents,o),i=o=>{t[o]||(t[o]={affectedEvents:n[o]||nn,mutatedEvents:r[o]||nn,isEvent:e.isEvent})};for(let e in n)i(e);for(let e in r)i(e)}return t}}function rn(e,t,n){let o=[];e&&o.push(e),t&&o.push(t);let r={"":Pt(o)};return n&&Object.assign(r,n),r}function sn(e,t){let n,o,r=[],{start:i}=t;for(e.sort(an),n=0;n<e.length;n+=1)o=e[n],o.start>i&&r.push({start:i,end:o.start}),o.end>i&&(i=o.end);return i<t.end&&r.push({start:i,end:t.end}),r}function an(e,t){return e.start.valueOf()-t.start.valueOf()}function ln(e,t){let{start:n,end:o}=e,r=null;return null!==t.start&&(n=null===n?t.start:new Date(Math.max(n.valueOf(),t.start.valueOf()))),null!=t.end&&(o=null===o?t.end:new Date(Math.min(o.valueOf(),t.end.valueOf()))),(null===n||null===o||n<o)&&(r={start:n,end:o}),r}function cn(e,t){return(null===e.start?null:e.start.valueOf())===(null===t.start?null:t.start.valueOf())&&(null===e.end?null:e.end.valueOf())===(null===t.end?null:t.end.valueOf())}function dn(e,t){return(null===e.end||null===t.start||e.end>t.start)&&(null===e.start||null===t.end||e.start<t.end)}function un(e,t){return(null===e.start||null!==t.start&&t.start>=e.start)&&(null===e.end||null!==t.end&&t.end<=e.end)}function hn(e,t){return(null===e.start||t>=e.start)&&(null===e.end||t<e.end)}function mn(e,t,n,o){return{dow:e.getUTCDay(),isDisabled:Boolean(o&&!hn(o.activeRange,e)),isOther:Boolean(o&&!hn(o.currentRange,e)),isToday:Boolean(t&&hn(t,e)),isPast:Boolean(n?e<n:!!t&&e<t.start),isFuture:Boolean(n?e>n:!!t&&e>=t.end)}}function pn(e,t){let n=["fc-day",`fc-day-${_e[e.dow]}`];return e.isDisabled?n.push("fc-day-disabled"):(e.isToday&&(n.push("fc-day-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-day-past"),e.isFuture&&n.push("fc-day-future"),e.isOther&&n.push("fc-day-other")),n}function fn(e,t){let n=["fc-slot",`fc-slot-${_e[e.dow]}`];return e.isDisabled?n.push("fc-slot-disabled"):(e.isToday&&(n.push("fc-slot-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-slot-past"),e.isFuture&&n.push("fc-slot-future")),n}const gn=lt({year:"numeric",month:"long",day:"numeric"}),vn=lt({week:"long"});function bn(e,t,n="day",o=!0){const{dateEnv:r,options:i,calendarApi:s}=e;let a=r.format(t,"week"===n?vn:gn);if(i.navLinks){let e=r.toDate(t);const l=e=>{let o="day"===n?i.navLinkDayClick:"week"===n?i.navLinkWeekClick:null;"function"==typeof o?o.call(s,r.toDate(t),e):("string"==typeof o&&(n=o),s.zoomTo(t,n))};return Object.assign({title:W(i.navLinkHint,[a,e],a),"data-navlink":""},o?A(l):{onClick:l})}return{"aria-label":a}}let yn,wn=null;function xn(){return null===wn&&(wn=function(){let e=document.createElement("div");y(e,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),e.innerHTML="<div></div>",document.body.appendChild(e);let t=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left;return m(e),t}()),wn}function _n(){return yn||(yn=function(){let e=document.createElement("div");e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e);let t=Sn(e);return document.body.removeChild(e),t}()),yn}function Sn(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function Cn(e,t=!1){let n=window.getComputedStyle(e),o=parseInt(n.borderLeftWidth,10)||0,r=parseInt(n.borderRightWidth,10)||0,i=parseInt(n.borderTopWidth,10)||0,s=parseInt(n.borderBottomWidth,10)||0,a=Sn(e),l=a.y-o-r,c={borderLeft:o,borderRight:r,borderTop:i,borderBottom:s,scrollbarBottom:a.x-i-s,scrollbarLeft:0,scrollbarRight:0};return xn()&&"rtl"===n.direction?c.scrollbarLeft=l:c.scrollbarRight=l,t&&(c.paddingLeft=parseInt(n.paddingLeft,10)||0,c.paddingRight=parseInt(n.paddingRight,10)||0,c.paddingTop=parseInt(n.paddingTop,10)||0,c.paddingBottom=parseInt(n.paddingBottom,10)||0),c}function jn(e,t=!1,n){let o=n?e.getBoundingClientRect():kn(e),r=Cn(e,t),i={left:o.left+r.borderLeft+r.scrollbarLeft,right:o.right-r.borderRight-r.scrollbarRight,top:o.top+r.borderTop,bottom:o.bottom-r.borderBottom-r.scrollbarBottom};return t&&(i.left+=r.paddingLeft,i.right-=r.paddingRight,i.top+=r.paddingTop,i.bottom-=r.paddingBottom),i}function kn(e){let t=e.getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,right:t.right+window.pageXOffset,bottom:t.bottom+window.pageYOffset}}function En(e){let t=[];for(;e instanceof HTMLElement;){let n=window.getComputedStyle(e);if("fixed"===n.position)break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}function On(e,t,n){let o=!1,r=function(e){o||(o=!0,t(e))},i=function(e){o||(o=!0,n(e))},s=e(r,i);s&&"function"==typeof s.then&&s.then(r,i)}class An{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){!function(e,t,n){(e[t]||(e[t]=[])).push(n)}(this.handlers,e,t)}off(e,t){!function(e,t,n){n?e[t]&&(e[t]=e[t].filter((e=>e!==n))):delete e[t]}(this.handlers,e,t)}trigger(e,...t){let n=this.handlers[e]||[],o=this.options&&this.options[e],r=[].concat(o||[],n);for(let e of r)e.apply(this.thisContext,t)}hasHandlers(e){return Boolean(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}class Tn{constructor(e,t,n,o){this.els=t;let r=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(r.left),o&&this.buildElVerticals(r.top)}buildElHorizontals(e){let t=[],n=[];for(let o of this.els){let r=o.getBoundingClientRect();t.push(r.left-e),n.push(r.right-e)}this.lefts=t,this.rights=n}buildElVerticals(e){let t=[],n=[];for(let o of this.els){let r=o.getBoundingClientRect();t.push(r.top-e),n.push(r.bottom-e)}this.tops=t,this.bottoms=n}leftToIndex(e){let t,{lefts:n,rights:o}=this,r=n.length;for(t=0;t<r;t+=1)if(e>=n[t]&&e<o[t])return t}topToIndex(e){let t,{tops:n,bottoms:o}=this,r=n.length;for(t=0;t<r;t+=1)if(e>=n[t]&&e<o[t])return t}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Dn(this.tops||[],e.tops||[])&&Dn(this.bottoms||[],e.bottoms||[])&&Dn(this.lefts||[],e.lefts||[])&&Dn(this.rights||[],e.rights||[])}}function Dn(e,t){const n=e.length;if(n!==t.length)return!1;for(let o=0;o<n;o++)if(Math.round(e[o])!==Math.round(t[o]))return!1;return!0}class Mn{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Pn extends Mn{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Rn extends Mn{getScrollTop(){return window.pageYOffset}getScrollLeft(){return window.pageXOffset}setScrollTop(e){window.scroll(window.pageXOffset,e)}setScrollLeft(e){window.scroll(e,window.pageYOffset)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Nn{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,n;if("object"==typeof e&&e){for(n in t=Object.assign({},this.iconClasses),e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else!1===e&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&0!==e.indexOf(t)&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let n;return n=t&&this.rtlIconClasses&&this.rtlIconClasses[e]||this.iconClasses[e],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}function Ln(e){e();let t=o.options.debounceRendering,n=[];for(o.options.debounceRendering=function(e){n.push(e)},o.render(o.createElement(In,{}),document.createElement("div"));n.length;)n.shift()();o.options.debounceRendering=t}Nn.prototype.classes={},Nn.prototype.iconClasses={},Nn.prototype.baseIconClass="",Nn.prototype.iconOverridePrefix="";class In extends o.Component{render(){return o.createElement("div",{})}componentDidMount(){this.setState({})}}function Bn(e){let t=o.createContext(e),n=t.Provider;return t.Provider=function(){let e=!this.getChildContext,t=n.apply(this,arguments);if(e){let e=[];this.shouldComponentUpdate=t=>{this.props.value!==t.value&&e.forEach((e=>{e.context=t.value,e.forceUpdate()}))},this.sub=t=>{e.push(t);let n=t.componentWillUnmount;t.componentWillUnmount=()=>{e.splice(e.indexOf(t),1),n&&n.call(t)}}}return t},t}class Fn{constructor(e,t,n,o){this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=o,this.handleScrollRequest=e=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},e),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Hn=Bn({});function Vn(e,t,n,o,r,i,s,a,l,c,d,u,h){return{dateEnv:r,options:n,pluginHooks:s,emitter:c,dispatch:a,getCurrentData:l,calendarApi:d,viewSpec:e,viewApi:t,dateProfileGenerator:o,theme:i,isRtl:"rtl"===n.direction,addResizeHandler(e){c.on("_resize",e)},removeResizeHandler(e){c.off("_resize",e)},createScrollResponder:e=>new Fn(e,c,K(n.scrollTime),n.scrollTimeReset),registerInteractiveComponent:u,unregisterInteractiveComponent:h}}class zn extends o.Component{shouldComponentUpdate(e,t){return this.debug&&console.log(ge(e,this.props),ge(t,this.state)),!ve(this.props,e,this.propEquality)||!ve(this.state,t,this.stateEquality)}safeSetState(e){ve(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}zn.addPropsEquality=function(e){let t=Object.create(this.prototype.propEquality);Object.assign(t,e),this.prototype.propEquality=t},zn.addStateEquality=function(e){let t=Object.create(this.prototype.stateEquality);Object.assign(t,e),this.prototype.stateEquality=t},zn.contextType=Hn,zn.prototype.propEquality={},zn.prototype.stateEquality={};class Un extends zn{}function Wn(e,t){"function"==typeof e?e(t):e&&(e.current=t)}Un.contextType=Hn;class qn extends Un{constructor(){super(...arguments),this.uid=M()}prepareHits(){}queryHit(e,t,n,o){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!p(e,".fc-event-mirror")}isValidDateDownEl(e){return!(p(e,".fc-event:not(.fc-bg-event)")||p(e,".fc-more-link")||p(e,"a[data-navlink]")||p(e,".fc-popover"))}}function Zn(e,t){return"CHANGE_DATE"===t.type?t.dateMarker:e}function Gn(e,t){let n=e.initialDate;return null!=n?t.createMarker(n):$n(e.now,t)}function $n(e,t){return"function"==typeof e&&(e=e()),null==e?t.createNowMarker():t.createMarker(e)}class Yn{constructor(e){this.props=e,this.nowDate=$n(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,t,n){let{dateEnv:o}=this.props,r=o.subtract(o.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(r,-1,n)}buildNext(e,t,n){let{dateEnv:o}=this.props,r=o.add(o.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(r,1,n)}build(e,t,n=!0){let o,r,i,s,a,l,{props:c}=this;var d,u;return o=this.buildValidRange(),o=this.trimHiddenDays(o),n&&(d=e,e=null!=(u=o).start&&d<u.start?u.start:null!=u.end&&d>=u.end?new Date(u.end.valueOf()-1):d),r=this.buildCurrentRangeInfo(e,t),i=/^(year|month|week|day)$/.test(r.unit),s=this.buildRenderRange(this.trimHiddenDays(r.range),r.unit,i),s=this.trimHiddenDays(s),a=s,c.showNonCurrentDates||(a=ln(a,r.range)),a=this.adjustActiveRange(a),a=ln(a,o),l=dn(r.range,o),hn(s,e)||(e=s.start),{currentDate:e,validRange:o,currentRange:r.range,currentRangeUnit:r.unit,isRangeAllDay:i,activeRange:a,renderRange:s,slotMinTime:c.slotMinTime,slotMaxTime:c.slotMaxTime,isValid:l,dateIncrement:this.buildDateIncrement(r.duration)}}buildValidRange(){let e=this.props.validRangeInput,t="function"==typeof e?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let n,{props:o}=this,r=null,i=null,s=null;return o.duration?(r=o.duration,i=o.durationUnit,s=this.buildRangeFromDuration(e,t,r,i)):(n=this.props.dayCount)?(i="day",s=this.buildRangeFromDayCount(e,t,n)):(s=this.buildCustomVisibleRange(e))?i=o.dateEnv.greatestWholeUnit(s.start,s.end).unit:(r=this.getFallbackDuration(),i=ae(r).unit,s=this.buildRangeFromDuration(e,t,r,i)),{duration:r,unit:i,range:s}}getFallbackDuration(){return K({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:n,slotMinTime:o,slotMaxTime:r}=this.props,{start:i,end:s}=e;return n&&(ne(o)<0&&(i=De(i),i=t.add(i,o)),ne(r)>1&&(s=De(s),s=Ce(s,-1),s=t.add(s,r))),{start:i,end:s}}buildRangeFromDuration(e,t,n,o){let r,i,s,{dateEnv:a,dateAlignment:l}=this.props;if(!l){let{dateIncrement:e}=this.props;l=e&&ie(e)<ie(n)?ae(e).unit:o}function c(){r=a.startOf(e,l),i=a.add(r,n),s={start:r,end:i}}return ne(n)<=1&&this.isHiddenDay(r)&&(r=this.skipHiddenDays(r,t),r=De(r)),c(),this.trimHiddenDays(s)||(e=this.skipHiddenDays(e,t),c()),s}buildRangeFromDayCount(e,t,n){let o,{dateEnv:r,dateAlignment:i}=this.props,s=0,a=e;i&&(a=r.startOf(a,i)),a=De(a),a=this.skipHiddenDays(a,t),o=a;do{o=Ce(o,1),this.isHiddenDay(o)||(s+=1)}while(s<n);return{start:a,end:o}}buildCustomVisibleRange(e){let{props:t}=this,n=t.visibleRangeInput,o="function"==typeof n?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,r=this.refineRange(o);return!r||null!=r.start&&null!=r.end?r:null}buildRenderRange(e,t,n){return e}buildDateIncrement(e){let t,{dateIncrement:n}=this.props;return n||((t=this.props.dateAlignment)?K(1,t):e||K({days:1}))}refineRange(e){if(e){let t=function(e,t){let n=null,o=null;return e.start&&(n=t.createMarker(e.start)),e.end&&(o=t.createMarker(e.end)),n||o?n&&o&&o<n?null:{start:n,end:o}:null}(e,this.props.dateEnv);return t&&(t=qt(t)),t}return null}initHiddenDays(){let e,t=this.props.hiddenDays||[],n=[],o=0;for(!1===this.props.weekends&&t.push(0,6),e=0;e<7;e+=1)(n[e]=-1!==t.indexOf(e))||(o+=1);if(!o)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:t,end:n}=e;return t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),null==t||null==n||t<n?{start:t,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=Ce(e,t);return e}}function Kn(e,t,n){n.emitter.trigger("select",Object.assign(Object.assign({},Xn(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function Xn(e,t){let n={};for(let o of t.pluginHooks.dateSpanTransforms)Object.assign(n,o(e,t));var o,r;return Object.assign(n,(o=e,r=t.dateEnv,Object.assign(Object.assign({},Eo(o.range,r,o.allDay)),{allDay:o.allDay}))),n}function Qn(e,t,n){let{dateEnv:o,options:r}=n,i=t;return e?(i=De(i),i=o.add(i,r.defaultAllDayEventDuration)):i=o.add(i,r.defaultTimedEventDuration),i}function Jn(e,t,n,o){let r=uo(e.defs,t),i={defs:{},instances:{}};for(let t in e.defs){let s=e.defs[t];i.defs[t]=eo(s,r[t],n,o)}for(let t in e.instances){let s=e.instances[t],a=i.defs[s.defId];i.instances[t]=to(s,a,r[s.defId],n,o)}return i}function eo(e,t,n,o){let r=n.standardProps||{};null==r.hasEnd&&t.durationEditable&&(n.startDelta||n.endDelta)&&(r.hasEnd=!0);let i=Object.assign(Object.assign(Object.assign({},e),r),{ui:Object.assign(Object.assign({},e.ui),r.ui)});n.extendedProps&&(i.extendedProps=Object.assign(Object.assign({},i.extendedProps),n.extendedProps));for(let e of o.pluginHooks.eventDefMutationAppliers)e(i,n,o);return!i.hasEnd&&o.options.forceEventDuration&&(i.hasEnd=!0),i}function to(e,t,n,o,r){let{dateEnv:i}=r,s=o.standardProps&&!0===o.standardProps.allDay,a=o.standardProps&&!1===o.standardProps.hasEnd,l=Object.assign({},e);return s&&(l.range=Wt(l.range)),o.datesDelta&&n.startEditable&&(l.range={start:i.add(l.range.start,o.datesDelta),end:i.add(l.range.end,o.datesDelta)}),o.startDelta&&n.durationEditable&&(l.range={start:i.add(l.range.start,o.startDelta),end:l.range.end}),o.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:i.add(l.range.end,o.endDelta)}),a&&(l.range={start:l.range.start,end:Qn(t.allDay,l.range.start,r)}),t.allDay&&(l.range={start:De(l.range.start),end:De(l.range.end)}),l.range.end<l.range.start&&(l.range.end=Qn(t.allDay,l.range.start,r)),l}class no{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class oo{constructor(e,t,n){this._context=e,this._def=t,this._instance=n||null}setProp(e,t){if(e in Lt)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===e)t=Nt[e](t),this.mutate({standardProps:{publicId:t}});else if(e in Nt)t=Nt[e](t),this.mutate({standardProps:{[e]:t}});else if(e in Tt){let n=Tt[e](t);n="color"===e?{backgroundColor:t,borderColor:t}:"editable"===e?{startEditable:t,durationEditable:t}:{[e]:t},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:n}=this._context,o=n.createMarker(e);if(o&&this._instance){let e=Gt(this._instance.range.start,o,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:e}):this.mutate({startDelta:e})}}setEnd(e,t={}){let n,{dateEnv:o}=this._context;if((null==e||(n=o.createMarker(e),n))&&this._instance)if(n){let e=Gt(this._instance.range.end,n,o,t.granularity);this.mutate({endDelta:e})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,n={}){let o,{dateEnv:r}=this._context,i={allDay:n.allDay},s=r.createMarker(e);var a,l;if(s&&((null==t||(o=r.createMarker(t),o))&&this._instance)){let e=this._instance.range;!0===n.allDay&&(e=Wt(e));let t=Gt(e.start,s,r,n.granularity);if(o){let s=Gt(e.end,o,r,n.granularity);l=s,(a=t).years===l.years&&a.months===l.months&&a.days===l.days&&a.milliseconds===l.milliseconds?this.mutate({datesDelta:t,standardProps:i}):this.mutate({startDelta:t,endDelta:s,standardProps:i})}else i.hasEnd=!1,this.mutate({datesDelta:t,standardProps:i})}}moveStart(e){let t=K(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=K(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=K(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let n={allDay:e},{maintainDuration:o}=t;null==o&&(o=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=o),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:t}=this._context,n=this._instance,o=lt(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,o,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,o,{forcedTzo:n.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let n=this._def,o=this._context,{eventStore:r}=o.getCurrentData(),i=jt(r,t.instanceId);i=Jn(i,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,o);let s=new oo(o,n,t);this._def=i.defs[n.defId],this._instance=i.instances[t.instanceId],o.dispatch({type:"MERGE_EVENTS",eventStore:i}),o.emitter.trigger("eventChange",{oldEvent:s,event:this,relatedEvents:io(i,o,t),revert(){o.dispatch({type:"RESET_EVENTS",eventStore:r})}})}}remove(){let e=this._context,t=ro(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new no(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:n}=t,{startStr:o,endStr:r}=this,i={allDay:t.allDay};return t.title&&(i.title=t.title),o&&(i.start=o),r&&(i.end=r),t.publicId&&(i.id=t.publicId),t.groupId&&(i.groupId=t.groupId),t.url&&(i.url=t.url),n.display&&"auto"!==n.display&&(i.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?i.color=n.backgroundColor:(n.backgroundColor&&(i.backgroundColor=n.backgroundColor),n.borderColor&&(i.borderColor=n.borderColor)),n.textColor&&(i.textColor=n.textColor),n.classNames.length&&(i.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(i,t.extendedProps):i.extendedProps=t.extendedProps),i}toJSON(){return this.toPlainObject()}}function ro(e){let t=e._def,n=e._instance;return{defs:{[t.defId]:t},instances:n?{[n.instanceId]:n}:{}}}function io(e,t,n){let{defs:o,instances:r}=e,i=[],s=n?n.instanceId:"";for(let e in r){let n=r[e],a=o[n.defId];n.instanceId!==s&&i.push(new oo(t,a,n))}return i}function so(e,t,n,o){let r={},i={},s={},a=[],l=[],c=uo(e.defs,t);for(let t in e.defs){let n=e.defs[t];"inverse-background"===c[n.defId].display&&(n.groupId?(r[n.groupId]=[],s[n.groupId]||(s[n.groupId]=n)):i[t]=[])}for(let t in e.instances){let s=e.instances[t],d=e.defs[s.defId],u=c[d.defId],h=s.range,m=!d.allDay&&o?qt(h,o):h,p=ln(m,n);p&&("inverse-background"===u.display?d.groupId?r[d.groupId].push(p):i[s.defId].push(p):"none"!==u.display&&("background"===u.display?a:l).push({def:d,ui:u,instance:s,range:p,isStart:m.start&&m.start.valueOf()===p.start.valueOf(),isEnd:m.end&&m.end.valueOf()===p.end.valueOf()}))}for(let e in r){let t=sn(r[e],n);for(let n of t){let t=s[e],o=c[t.defId];a.push({def:t,ui:o,instance:null,range:n,isStart:!1,isEnd:!1})}}for(let t in i){let o=sn(i[t],n);for(let n of o)a.push({def:e.defs[t],ui:c[t],instance:null,range:n,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function ao(e){return"background"===e.ui.display||"inverse-background"===e.ui.display}function lo(e,t){e.fcSeg=t}function co(e){return e.fcSeg||e.parentNode.fcSeg||null}function uo(e,t){return ue(e,(e=>ho(e,t)))}function ho(e,t){let n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),Pt(n)}function mo(e,t){let n=e.map(po);return n.sort(((e,n)=>H(e,n,t))),n.map((e=>e._seg))}function po(e){let{eventRange:t}=e,n=t.def,o=t.instance?t.instance.range:t.range,r=o.start?o.start.valueOf():0,i=o.end?o.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:r,end:i,duration:i-r,allDay:Number(n.allDay),_seg:e})}function fo(e,t){let{pluginHooks:n}=t,o=n.isDraggableTransformers,{def:r,ui:i}=e.eventRange,s=i.startEditable;for(let e of o)s=e(s,r,i,t);return s}function go(e,t){return e.isStart&&e.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function vo(e,t){return e.isEnd&&e.eventRange.ui.durationEditable}function bo(e,t,n,o,r,i,s){let{dateEnv:a,options:l}=n,{displayEventTime:c,displayEventEnd:d}=l,u=e.eventRange.def,h=e.eventRange.instance;null==c&&(c=!1!==o),null==d&&(d=!1!==r);let m=h.range.start,p=h.range.end,f=i||e.start||e.eventRange.range.start,g=s||e.end||e.eventRange.range.end,v=De(m).valueOf()===De(f).valueOf(),b=De(je(p,-1)).valueOf()===De(je(g,-1)).valueOf();return c&&!u.allDay&&(v||b)?(f=v?m:f,g=b?p:g,d&&u.hasEnd?a.formatRange(f,g,t,{forcedStartTzo:i?null:h.forcedStartTzo,forcedEndTzo:s?null:h.forcedEndTzo}):a.format(f,t,{forcedTzo:i?null:h.forcedStartTzo})):""}function yo(e,t,n){let o=e.eventRange.range;return{isPast:o.end<(n||t.start),isFuture:o.start>=(n||t.end),isToday:t&&hn(t,o.start)}}function wo(e){let t=["fc-event"];return e.isMirror&&t.push("fc-event-mirror"),e.isDraggable&&t.push("fc-event-draggable"),(e.isStartResizable||e.isEndResizable)&&t.push("fc-event-resizable"),e.isDragging&&t.push("fc-event-dragging"),e.isResizing&&t.push("fc-event-resizing"),e.isSelected&&t.push("fc-event-selected"),e.isStart&&t.push("fc-event-start"),e.isEnd&&t.push("fc-event-end"),e.isPast&&t.push("fc-event-past"),e.isToday&&t.push("fc-event-today"),e.isFuture&&t.push("fc-event-future"),t}function xo(e){return e.instance?e.instance.instanceId:`${e.def.defId}:${e.range.start.toISOString()}`}function _o(e,t){let{def:n,instance:o}=e.eventRange,{url:r}=n;if(r)return{href:r};let{emitter:i,options:s}=t,{eventInteractive:a}=s;return null==a&&(a=n.interactive,null==a&&(a=Boolean(i.hasHandlers("eventClick")))),a?T((e=>{i.trigger("eventClick",{el:e.target,event:new oo(t,n,o),jsEvent:e,view:t.viewApi})})):{}}const So={start:yt,end:yt,allDay:Boolean};function Co(e,t,n){let o=function(e,t){let{refined:n,extra:o}=bt(e,So),r=n.start?t.createMarkerMeta(n.start):null,i=n.end?t.createMarkerMeta(n.end):null,{allDay:s}=n;null==s&&(s=r&&r.isTimeUnspecified&&(!i||i.isTimeUnspecified));return Object.assign({range:{start:r?r.marker:null,end:i?i.marker:null},allDay:s},o)}(e,t),{range:r}=o;if(!r.start)return null;if(!r.end){if(null==n)return null;r.end=t.add(r.start,n)}return o}function jo(e,t){return cn(e.range,t.range)&&e.allDay===t.allDay&&function(e,t){for(let n in t)if("range"!==n&&"allDay"!==n&&e[n]!==t[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}(e,t)}function ko(e,t,n){return Object.assign(Object.assign({},Eo(e,t,n)),{timeZone:t.timeZone})}function Eo(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}let Oo={};var Ao,To;Ao="gregory",To=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Ie(e)}markerToArray(e){return Le(e)}},Oo[Ao]=To;const Do=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Mo(e){let t=Do.exec(e);if(t){let e=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?1e3*Number(`0.${t[12]}`):0));if(Be(e)){let n=null;return t[13]&&(n=("-"===t[15]?-1:1)*(60*Number(t[16]||0)+Number(t[18]||0))),{marker:e,isTimeUnspecified:!t[6],timeZoneOffset:n}}}return null}class Po{constructor(e){let t=this.timeZone=e.timeZone,n="local"!==t&&"UTC"!==t;e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!n||this.namedTimeZoneImpl),this.calendarSystem=function(e){return new Oo[e]}(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,"ISO"===e.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof e.firstDay&&(this.weekDow=e.firstDay),"function"==typeof e.weekNumberCalculation&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=null!=e.weekText?e.weekText:e.locale.options.weekText,this.weekTextLong=(null!=e.weekTextLong?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return null===t?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):Ie(Re(new Date))}createMarkerMeta(e){if("string"==typeof e)return this.parse(e);let t=null;return"number"==typeof e?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Ie(e)),null!==t&&Be(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null}parse(e){let t=Mo(e);if(null===t)return null;let{marker:n}=t,o=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-60*t.timeZoneOffset*1e3):o=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:o}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)}addMonths(e,t){let n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,t){let{calendarSystem:n}=this;return Fe(e)===Fe(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:n}=this;return Fe(e)===Fe(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+12*(n.getMarkerYear(t)-n.getMarkerYear(e)):null}greatestWholeUnit(e,t){let n=this.diffWholeYears(e,t);return null!==n?{unit:"year",value:n}:(n=this.diffWholeMonths(e,t),null!==n?{unit:"month",value:n}:(n=Ae(e,t),null!==n?{unit:"week",value:n}:(n=Te(e,t),null!==n?{unit:"day",value:n}:(n=function(e,t){return(t.valueOf()-e.valueOf())/36e5}(e,t),Z(n)?{unit:"hour",value:n}:(n=function(e,t){return(t.valueOf()-e.valueOf())/6e4}(e,t),Z(n)?{unit:"minute",value:n}:(n=function(e,t){return(t.valueOf()-e.valueOf())/1e3}(e,t),Z(n)?{unit:"second",value:n}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,n){let o;return n.years&&(o=this.diffWholeYears(e,t),null!==o)?o/(ne(n)/365):n.months&&(o=this.diffWholeMonths(e,t),null!==o)?o/function(e){return ne(e)/30}(n):n.days&&(o=Te(e,t),null!==o)?o/ne(n):(t.valueOf()-e.valueOf())/ie(n)}startOf(e,t){return"year"===t?this.startOfYear(e):"month"===t?this.startOfMonth(e):"week"===t?this.startOfWeek(e):"day"===t?De(e):"hour"===t?function(e){return Ie([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}(e):"minute"===t?function(e){return Ie([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}(e):"second"===t?function(e){return Ie([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):function(e,t,n){let o=e.getUTCFullYear(),r=Me(e,o,t,n);if(r<1)return Me(e,o-1,t,n);let i=Me(e,o+1,t,n);return i>=1?Math.min(r,i):r}(e,this.weekDow,this.weekDoy)}format(e,t,n={}){return t.format({marker:e,timeZoneOffset:null!=n.forcedTzo?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,n,o={}){return o.isEndExclusive&&(t=je(t,-1)),n.formatRange({marker:e,timeZoneOffset:null!=o.forcedStartTzo?o.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:null!=o.forcedEndTzo?o.forcedEndTzo:this.offsetForMarker(t)},this,o.defaultSeparator)}formatIso(e,t={}){let n=null;return t.omitTimeZoneOffset||(n=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(e)),He(e,n,t.omitTime)}timestampToMarker(e){return"local"===this.timeZone?Ie(Re(new Date(e))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?Ie(this.namedTimeZoneImpl.timestampToArray(e)):new Date(e)}offsetForMarker(e){return"local"===this.timeZone?-Ne(Le(e)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Le(e)):null}toDate(e,t){return"local"===this.timeZone?Ne(Le(e)):"UTC"===this.timeZone?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(Le(e))*60):new Date(e.valueOf()-(t||0))}}class Ro{constructor(e){this.timeZoneName=e}}class No{constructor(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let n of e)this.insertEntry(n,t);return t}insertEntry(e,t){let n=this.findInsertion(e);return this.isInsertionValid(n,e)?(this.insertEntryAt(e,n),1):this.handleInvalidInsertion(n,e,t)}isInsertionValid(e,t){return(-1===this.maxCoord||e.levelCoord+t.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,n){return this.allowReslicing&&e.touchingEntry?this.splitEntry(t,e.touchingEntry,n):(n.push(t),0)}splitEntry(e,t,n){let o=0,r=[],i=e.span,s=t.span;return i.start<s.start&&(o+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:s.start}},r)),i.end>s.end&&(o+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:i.end}},r)),o?(n.push({index:e.index,thickness:e.thickness,span:Fo(s,i)},...r),o):(n.push(e),0)}insertEntryAt(e,t){let{entriesByLevel:n,levelCoords:o}=this;-1===t.lateral?(Ho(o,t.level,t.levelCoord),Ho(n,t.level,[e])):Ho(n[t.level],t.lateral,e),this.stackCnts[Io(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:n,strictOrder:o,stackCnts:r}=this,i=t.length,s=0,a=-1,l=-1,c=null,d=0;for(let u=0;u<i;u+=1){let i=t[u];if(!o&&i>=s+e.thickness)break;let h,m=n[u],p=Vo(m,e.span.start,Lo),f=p[0]+p[1];for(;(h=m[f])&&h.span.start<e.span.end;){let e=i+h.thickness;e>s&&(s=e,c=h,a=u,l=f),e===s&&(d=Math.max(d,r[Io(h)]+1)),f+=1}}let u=0;if(c)for(u=a+1;u<i&&t[u]<s;)u+=1;let h=-1;return u<i&&t[u]===s&&(h=Vo(n[u],e.span.end,Lo)[0]),{touchingLevel:a,touchingLateral:l,touchingEntry:c,stackCnt:d,levelCoord:s,level:u,lateral:h}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,n=e.length,o=[];for(let r=0;r<n;r+=1){let n=e[r],i=t[r];for(let e of n)o.push(Object.assign(Object.assign({},e),{levelCoord:i}))}return o}}function Lo(e){return e.span.end}function Io(e){return e.index+":"+e.span.start}function Bo(e){let t=[];for(let r of e){let e=[],i={span:r.span,entries:[r]};for(let r of t)Fo(r.span,i.span)?i={entries:r.entries.concat(i.entries),span:(n=r.span,o=i.span,{start:Math.min(n.start,o.start),end:Math.max(n.end,o.end)})}:e.push(r);e.push(i),t=e}var n,o;return t}function Fo(e,t){let n=Math.max(e.start,t.start),o=Math.min(e.end,t.end);return n<o?{start:n,end:o}:null}function Ho(e,t,n){e.splice(t,0,n)}function Vo(e,t,n){let o=0,r=e.length;if(!r||t<n(e[o]))return[0,0];if(t>n(e[r-1]))return[r,0];for(;o<r;){let i=Math.floor(o+(r-o)/2),s=n(e[i]);if(t<s)r=i;else{if(!(t>s))return[i,1];o=i+1}}return[o,0]}class zo{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function Uo(e,t){return{component:e,el:t.el,useEventCenter:null==t.useEventCenter||t.useEventCenter,isHitComboAllowed:t.isHitComboAllowed||null}}function Wo(e){return{[e.component.uid]:e}}const qo={};class Zo{constructor(e,t){this.emitter=new An}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Go={},$o={startTime:K,duration:K,create:Boolean,sourceId:String};function Yo(e){let{refined:t,extra:n}=bt(e,$o);return{startTime:t.startTime||null,duration:t.duration||null,create:null==t.create||t.create,sourceId:t.sourceId,leftoverProps:n}}class Ko extends Un{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{this.setState({forPrint:!0})},this.handleAfterPrint=()=>{this.setState({forPrint:!1})}}render(){let{props:e}=this,{options:t}=e,{forPrint:n}=this.state,o=n||"auto"===t.height||"auto"===t.contentHeight,r=o||null==t.height?"":t.height,i=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return tn()||i.push("fc-liquid-hack"),e.children(i,r,o,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}function Xo(e,t){return lt(!e||t>10?{weekday:"short"}:t>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}const Qo="fc-col-header-cell";function Jo(e){return e.text}class er extends Un{constructor(){super(...arguments),this.id=M(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{this.props.elRef&&Wn(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:n}=t,{customGenerator:r,defaultGenerator:i,renderProps:s}=e,a=nr(e);let l,c,d=!1,u=[];if(null!=r){const e="function"==typeof r?r(s,o.createElement):r;if(!0===e)d=!0;else{const t=e&&"object"==typeof e;t&&"html"in e?a.dangerouslySetInnerHTML={__html:e.html}:t&&"domNodes"in e?u=Array.prototype.slice.call(e.domNodes):t||"function"==typeof e?c=e:l=e}}else d=!tr(e.generatorName,n);return d&&i&&(l=i(s)),this.queuedDomNodes=u,this.currentGeneratorMeta=c,(0,o.createElement)(e.elTag,a,l)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:n,context:o}=this,{handleCustomRendering:r,customRenderingMetaMap:i}=o.options;if(r){const o=null!==(t=this.currentGeneratorMeta)&&void 0!==t?t:null==i?void 0:i[n.generatorName];o&&r(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.handleEl,generatorMeta:o},n),{elClasses:(n.elClasses||[]).filter(or)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,n=this.base;if(!xe(e,t)){t.forEach(m);for(let t of e)n.appendChild(t);this.currentDomNodes=e}}}function tr(e,t){var n;return Boolean(t.handleCustomRendering&&e&&(null===(n=t.customRenderingMetaMap)||void 0===n?void 0:n[e]))}function nr(e,t){const n=Object.assign(Object.assign({},e.elAttrs),{ref:e.elRef});return(e.elClasses||t)&&(n.className=(e.elClasses||[]).concat(t||[]).concat(n.className||[]).filter(Boolean).join(" ")),e.elStyle&&(n.style=e.elStyle),n}function or(e){return Boolean(e)}er.addPropsEquality({elClasses:xe,elStyle:pe,elAttrs:function(e,t){const n=ge(e,t);for(let e of n)if(!fe.test(e))return!1;return!0},renderProps:pe});const rr=Bn(0);class ir extends o.Component{constructor(){super(...arguments),this.InnerContent=sr.bind(void 0,this),this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Wn(this.props.elRef,e)}}render(){const{props:e}=this,t=function(e,t){const n="function"==typeof e?e(t):e||[];return"string"==typeof n?[n]:n}(e.classNameGenerator,e.renderProps);if(e.children){const n=nr(e,t),r=e.children(this.InnerContent,e.renderProps,n);return e.elTag?(0,o.createElement)(e.elTag,n,r):r}return(0,o.createElement)(er,Object.assign(Object.assign({},e),{elRef:this.handleRootEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;null===(t=(e=this.props).didMount)||void 0===t||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.rootEl||this.base}))}componentWillUnmount(){var e,t;null===(t=(e=this.props).willUnmount)||void 0===t||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.rootEl||this.base}))}}function sr(e,t){const n=e.props;return(0,o.createElement)(er,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:e.context},t))}ir.contextType=rr;class ar extends Un{render(){let{dateEnv:e,options:t,theme:n,viewApi:r}=this.context,{props:i}=this,{date:s,dateProfile:a}=i,l=mn(s,i.todayRange,null,a),c=[Qo].concat(pn(l,n)),d=e.format(s,i.dayHeaderFormat),u=!l.isDisabled&&i.colCnt>1?bn(this.context,s):{},h=Object.assign(Object.assign(Object.assign({date:e.toDate(s),view:r},i.extraRenderProps),{text:d}),l);return(0,o.createElement)(ir,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan,"data-date":l.isDisabled?void 0:Ve(s)},i.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:Jo,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},(e=>(0,o.createElement)("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&(0,o.createElement)(e,{elTag:"a",elAttrs:u,elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"]}))))}}const lr=lt({weekday:"long"});class cr extends Un{render(){let{props:e}=this,{dateEnv:t,theme:n,viewApi:r,options:i}=this.context,s=Ce(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=t.format(s,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:s},a),{view:r}),e.extraRenderProps),{text:l});return(0,o.createElement)(ir,{elTag:"th",elClasses:[Qo,...pn(a,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:Jo,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},(n=>(0,o.createElement)("div",{className:"fc-scrollgrid-sync-inner"},(0,o.createElement)(n,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(s,lr)}}))))}}class dr extends o.Component{constructor(e,t){super(e,t),this.initialNowDate=$n(t.options.now,t.dateEnv),this.initialNowQueriedMs=(new Date).valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:t}=this,n=je(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),o=t.dateEnv.startOf(n,e.unit),r=t.dateEnv.add(o,K(1,e.unit)),i=r.valueOf()-n.valueOf();return i=Math.min(864e5,i),{currentState:{nowDate:o,todayRange:ur(o)},nextState:{nowDate:r,todayRange:ur(r)},waitMs:i}}setTimeout(){let{nextState:e,waitMs:t}=this.computeTiming();this.timeoutId=setTimeout((()=>{this.setState(e,(()=>{this.setTimeout()}))}),t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}function ur(e){let t=De(e);return{start:t,end:Ce(t,1)}}dr.contextType=Hn;class hr extends Un{constructor(){super(...arguments),this.createDayHeaderFormatter=qe(mr)}render(){let{context:e}=this,{dates:t,dateProfile:n,datesRepDistinctDays:r,renderIntro:i}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return(0,o.createElement)(dr,{unit:"day"},((e,a)=>(0,o.createElement)("tr",{role:"row"},i&&i("day"),t.map((e=>r?(0,o.createElement)(ar,{key:e.toISOString(),date:e,dateProfile:n,todayRange:a,colCnt:t.length,dayHeaderFormat:s}):(0,o.createElement)(cr,{key:e.getUTCDay(),dow:e.getUTCDay(),dayHeaderFormat:s}))))))}}function mr(e,t,n){return e||Xo(t,n)}class pr{constructor(e,t){let n=e.start,{end:o}=e,r=[],i=[],s=-1;for(;n<o;)t.isHiddenDay(n)?r.push(s+.5):(s+=1,r.push(s),i.push(n)),n=Ce(n,1);this.dates=i,this.indices=r,this.cnt=i.length}sliceRange(e){let t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(Ce(e.end,-1)),o=Math.max(0,t),r=Math.min(this.cnt-1,n);return o=Math.ceil(o),r=Math.floor(r),o<=r?{firstIndex:o,lastIndex:r,isStart:t===o,isEnd:n===r}:null}getDateDayIndex(e){let{indices:t}=this,n=Math.floor(Ee(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]}}class fr{constructor(e,t){let n,o,r,{dates:i}=e;if(t){for(o=i[0].getUTCDay(),n=1;n<i.length&&i[n].getUTCDay()!==o;n+=1);r=Math.ceil(i.length/n)}else r=1,n=i.length;this.rowCnt=r,this.colCnt=n,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let n=[];for(let e=0;e<this.colCnt;e+=1)n.push(this.buildCell(t,e));e.push(n)}return e}buildCell(e,t){let n=this.daySeries.dates[e*this.colCnt+t];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,n=this.daySeries.sliceRange(e),o=[];if(n){let{firstIndex:e,lastIndex:r}=n,i=e;for(;i<=r;){let s=Math.floor(i/t),a=Math.min((s+1)*t,r+1);o.push({row:s,firstCol:i%t,lastCol:(a-1)%t,isStart:n.isStart&&i===e,isEnd:n.isEnd&&a-1===r}),i=a}}return o}}class gr{constructor(){this.sliceBusinessHours=qe(this._sliceBusinessHours),this.sliceDateSelection=qe(this._sliceDateSpan),this.sliceEventStore=qe(this._sliceEventStore),this.sliceEventDrag=qe(this._sliceInteraction),this.sliceEventResize=qe(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,n,o,...r){let{eventUiBases:i}=e,s=this.sliceEventStore(e.eventStore,i,t,n,...r);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,n,i,o,...r),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,n,o,...r),fgEventSegs:s.fg,bgEventSegs:s.bg,eventDrag:this.sliceEventDrag(e.eventDrag,i,t,n,...r),eventResize:this.sliceEventResize(e.eventResize,i,t,n,...r),eventSelection:e.eventSelection}}sliceNowDate(e,t,n,o,...r){return this._sliceDateSpan({range:{start:e,end:je(e,1)},allDay:!1},t,n,{},o,...r)}_sliceBusinessHours(e,t,n,o,...r){return e?this._sliceEventStore(xt(e,vr(t,Boolean(n)),o),{},t,n,...r).bg:[]}_sliceEventStore(e,t,n,o,...r){if(e){let i=so(e,t,vr(n,Boolean(o)),o);return{bg:this.sliceEventRanges(i.bg,r),fg:this.sliceEventRanges(i.fg,r)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,n,o,...r){if(!e)return null;let i=so(e.mutatedEvents,t,vr(n,Boolean(o)),o);return{segs:this.sliceEventRanges(i.fg,r),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,n,o,r,...i){if(!e)return[];let s=vr(t,Boolean(n)),a=ln(e.range,s);if(a){let t=function(e,t,n){let o=Ft({editable:!1},n),r=Vt(o.refined,o.extra,"",e.allDay,!0,n);return{def:r,ui:ho(r,t),instance:wt(r.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}(e=Object.assign(Object.assign({},e),{range:a}),o,r),n=this.sliceRange(e.range,...i);for(let e of n)e.eventRange=t;return n}return[]}sliceEventRanges(e,t){let n=[];for(let o of e)n.push(...this.sliceEventRange(o,t));return n}sliceEventRange(e,t){let n=e.range;this.forceDayIfListItem&&"list-item"===e.ui.display&&(n={start:n.start,end:Ce(n.start,1)});let o=this.sliceRange(n,...t);for(let t of o)t.eventRange=e,t.isStart=e.isStart&&t.isStart,t.isEnd=e.isEnd&&t.isEnd;return o}}function vr(e,t){let n=e.activeRange;return t?n:{start:je(n.start,e.slotMinTime.milliseconds),end:je(n.end,e.slotMaxTime.milliseconds-864e5)}}function br(e,t,n,o,r){switch(t.type){case"RECEIVE_EVENTS":return function(e,t,n,o,r,i){if(t&&n===t.latestFetchId){let n=St(yr(r,t,i),t,i);return o&&(n=xt(n,o,i)),Et(_r(e,t.sourceId),n)}return e}(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,r);case"RESET_RAW_EVENTS":return function(e,t,n,o,r){const{defIdMap:i,instanceIdMap:s}=function(e){const{defs:t,instances:n}=e,o={},r={};for(let e in t){const n=t[e],{publicId:r}=n;r&&(o[r]=e)}for(let e in n){const o=t[n[e].defId],{publicId:i}=o;i&&(r[i]=e)}return{defIdMap:o,instanceIdMap:r}}(e);let a=St(yr(n,t,r),t,r,!1,i,s);return xt(a,o,r)}(e,n[t.sourceId],t.rawEvents,o.activeRange,r);case"ADD_EVENTS":return function(e,t,n,o){n&&(t=xt(t,n,o));return Et(e,t)}(e,t.eventStore,o?o.activeRange:null,r);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return Et(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return o?xt(e,o.activeRange,r):e;case"REMOVE_EVENTS":return function(e,t){let{defs:n,instances:o}=e,r={},i={};for(let e in n)t.defs[e]||(r[e]=n[e]);for(let e in o)!t.instances[e]&&r[o[e].defId]&&(i[e]=o[e]);return{defs:r,instances:i}}(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return _r(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Ot(e,(e=>!e.sourceId));case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return e}}function yr(e,t,n){let o=n.options.eventDataTransform,r=t?t.eventDataTransform:null;return r&&(e=wr(e,r)),o&&(e=wr(e,o)),e}function wr(e,t){let n;if(t){n=[];for(let o of e){let e=t(o);e?n.push(e):null==e&&n.push(o)}}else n=e;return n}function xr(e,t,n){let{defs:o}=e,r=ue(e.instances,(e=>o[e.defId].allDay?e:Object.assign(Object.assign({},e),{range:{start:n.createMarker(t.toDate(e.range.start,e.forcedStartTzo)),end:n.createMarker(t.toDate(e.range.end,e.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:e.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:e.forcedEndTzo})));return{defs:o,instances:r}}function _r(e,t){return Ot(e,(e=>e.sourceId!==t))}function Sr(e,t,n){let{instances:o}=e.mutatedEvents;for(let e in o)if(!un(t.validRange,o[e].range))return!1;return jr({eventDrag:e},n)}function Cr(e,t,n){return!!un(t.validRange,e.range)&&jr({dateSelection:e},n)}function jr(e,t){let n=t.getCurrentData(),o=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||kr)(o,t)}function kr(e,t,n={},o){return!(e.eventDrag&&!function(e,t,n,o){let r=t.getCurrentData(),i=e.eventDrag,s=i.mutatedEvents,a=s.defs,l=s.instances,c=uo(a,i.isEvent?e.eventUiBases:{"":r.selectionConfig});o&&(c=ue(c,o));let d=(p=e.eventStore,f=i.affectedEvents.instances,{defs:p.defs,instances:de(p.instances,(e=>!f[e.instanceId]))}),u=d.defs,h=d.instances,m=uo(u,e.eventUiBases);var p,f;for(let o in l){let s=l[o],p=s.range,f=c[s.defId],g=a[s.defId];if(!Er(f.constraints,p,d,e.businessHours,t))return!1;let{eventOverlap:v}=t.options,b="function"==typeof v?v:null;for(let e in h){let n=h[e];if(dn(p,n.range)){if(!1===m[n.defId].overlap&&i.isEvent)return!1;if(!1===f.overlap)return!1;if(b&&!b(new oo(t,u[n.defId],n),new oo(t,g,s)))return!1}}let y=r.eventStore;for(let e of f.allows){let r,i=Object.assign(Object.assign({},n),{range:s.range,allDay:g.allDay}),a=y.defs[g.defId],l=y.instances[o];if(r=a?new oo(t,a,l):new oo(t,g),!e(Xn(i,t),r))return!1}}return!0}(e,t,n,o))&&!(e.dateSelection&&!function(e,t,n,o){let r=e.eventStore,i=r.defs,s=r.instances,a=e.dateSelection,l=a.range,{selectionConfig:c}=t.getCurrentData();o&&(c=o(c));if(!Er(c.constraints,l,r,e.businessHours,t))return!1;let{selectOverlap:d}=t.options,u="function"==typeof d?d:null;for(let e in s){let n=s[e];if(dn(l,n.range)){if(!1===c.overlap)return!1;if(u&&!u(new oo(t,i[n.defId],n),null))return!1}}for(let e of c.allows){if(!e(Xn(Object.assign(Object.assign({},n),a),t),null))return!1}return!0}(e,t,n,o))}function Er(e,t,n,o,r){for(let i of e)if(!Tr(Or(i,t,n,o,r),t))return!1;return!0}function Or(e,t,n,o,r){return"businessHours"===e?Ar(xt(o,t,r)):"string"==typeof e?Ar(Ot(n,(t=>t.groupId===e))):"object"==typeof e&&e?Ar(xt(e,t,r)):[]}function Ar(e){let{instances:t}=e,n=[];for(let e in t)n.push(t[e].range);return n}function Tr(e,t){for(let n of e)if(un(n,t))return!0;return!1}class Dr extends Error{constructor(e,t){super(e),this.response=t}}function Mr(e,t,n){const o={method:e=e.toUpperCase()};return"GET"===e?t+=(-1===t.indexOf("?")?"?":"&")+new URLSearchParams(n):(o.body=new URLSearchParams(n),o.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,o).then((e=>{if(e.ok)return e.json().then((t=>[t,e]),(()=>{throw new Dr("Failure parsing JSON",e)}));throw new Dr("Request failed",e)}))}class Pr{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==e?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:n}=this;if(e in n){if(t)delete n[e];else{n[e]-=1,n[e]<=0&&delete n[e]}this.tryDrain()}}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}const Rr=/^(visible|hidden)$/;class Nr extends Un{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Wn(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:n}=e,r=t&&n,i=["fc-scroller"];return t&&(n?i.push("fc-scroller-liquid-absolute"):i.push("fc-scroller-liquid")),(0,o.createElement)("div",{ref:this.handleEl,className:i.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Rr.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let e=0;e<n.length;e+=1){if(n[e].getBoundingClientRect().width>t)return!0}return!1}needsYScrolling(){if(Rr.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let e=0;e<n.length;e+=1){if(n[e].getBoundingClientRect().height>t)return!0}return!1}getXScrollbarWidth(){return Rr.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Rr.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Lr{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(e,t)=>{let{depths:n,currentMap:o}=this,r=!1,i=!1;null!==e?(r=t in o,o[t]=e,n[t]=(n[t]||0)+1,i=!0):(n[t]-=1,n[t]||(delete o[t],delete this.callbackMap[t],r=!0)),this.masterCallback&&(r&&this.masterCallback(null,String(t)),i&&this.masterCallback(e,String(t)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=t=>{this.handleValue(t,String(e))}),t}collect(e,t,n){return ye(this.currentMap,e,t,n)}getAll(){return me(this.currentMap)}}function Ir(e){let t=g(e,".fc-scrollgrid-shrink"),n=0;for(let e of t)n=Math.max(n,G(e));return Math.ceil(n)}function Br(e,t){return e.liquid&&t.liquid}function Fr(e,t){return null!=t.maxHeight||Br(e,t)}function Hr(e,t,n,r){let{expandRows:i}=n;return"function"==typeof t.content?t.content(n):(0,o.createElement)("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,(0,o.createElement)(r?"thead":"tbody",{role:"presentation"},"function"==typeof t.rowContent?t.rowContent(n):t.rowContent))}function Vr(e,t){return xe(e,t,pe)}function zr(e,t){let n=[];for(let r of e){let e=r.span||1;for(let i=0;i<e;i+=1)n.push((0,o.createElement)("col",{style:{width:"shrink"===r.width?Ur(t):r.width||"",minWidth:r.minWidth||""}}))}return(0,o.createElement)("colgroup",{},...n)}function Ur(e){return null==e?4:e}function Wr(e){for(let t of e)if("shrink"===t.width)return!0;return!1}function qr(e,t){let n=["fc-scrollgrid",t.theme.getClass("table")];return e&&n.push("fc-scrollgrid-liquid"),n}function Zr(e,t){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${e.type}`,e.className];return t&&e.liquid&&null==e.maxHeight&&n.push("fc-scrollgrid-section-liquid"),e.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function Gr(e){return(0,o.createElement)("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function $r(e){let{stickyHeaderDates:t}=e;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}function Yr(e){let{stickyFooterScrollbar:t}=e;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}class Kr extends Un{constructor(){super(...arguments),this.processCols=qe((e=>e),Vr),this.renderMicroColGroup=qe(zr),this.scrollerRefs=new Lr,this.scrollerElRefs=new Lr(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:n}=this,r=e.sections||[],i=this.processCols(e.cols),s=this.renderMicroColGroup(i,t.shrinkWidth),a=qr(e.liquid,n);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l,c=r.length,d=0,u=[],h=[],m=[];for(;d<c&&"header"===(l=r[d]).type;)u.push(this.renderSection(l,s,!0)),d+=1;for(;d<c&&"body"===(l=r[d]).type;)h.push(this.renderSection(l,s,!1)),d+=1;for(;d<c&&"footer"===(l=r[d]).type;)m.push(this.renderSection(l,s,!0)),d+=1;let p=!tn();const f={role:"rowgroup"};return(0,o.createElement)("table",{role:"grid",className:a.join(" "),style:{height:e.height}},Boolean(!p&&u.length)&&(0,o.createElement)("thead",f,...u),Boolean(!p&&h.length)&&(0,o.createElement)("tbody",f,...h),Boolean(!p&&m.length)&&(0,o.createElement)("tfoot",f,...m),p&&(0,o.createElement)("tbody",f,...u,...h,...m))}renderSection(e,t,n){return"outerContent"in e?(0,o.createElement)(o.Fragment,{key:e.key},e.outerContent):(0,o.createElement)("tr",{key:e.key,role:"presentation",className:Zr(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,n))}renderChunkTd(e,t,n,r){if("outerContent"in n)return n.outerContent;let{props:i}=this,{forceYScrollbars:s,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,c=Fr(i,e),d=Br(i,e),u=i.liquid?s?"scroll":c?"auto":"hidden":"visible",h=e.key,m=Hr(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:i.collapsibleWidth||void 0===a[h]?null:a[h],clientHeight:void 0!==l[h]?l[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return(0,o.createElement)(r?"th":"td",{ref:n.elRef,role:"presentation"},(0,o.createElement)("div",{className:"fc-scroller-harness"+(d?" fc-scroller-harness-liquid":"")},(0,o.createElement)(Nr,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:u,overflowX:i.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:d,liquidIsAbsolute:!0},m)))}_handleScrollerEl(e,t){let n=function(e,t){for(let n of e)if(n.key===t)return n;return null}(this.props.sections,t);n&&Wn(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return Wr(this.props.cols)?Ir(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=_n(),{scrollerRefs:t,scrollerElRefs:n}=this,o=!1,r={},i={};for(let e in t.currentMap){let n=t.currentMap[e];if(n&&n.needsYScrolling()){o=!0;break}}for(let t of this.props.sections){let s=t.key,a=n.currentMap[s];if(a){let t=a.parentNode;r[s]=Math.floor(t.getBoundingClientRect().width-(o?e.y:0)),i[s]=Math.floor(t.getBoundingClientRect().height)}}return{forceYScrollbars:o,scrollerClientWidths:r,scrollerClientHeights:i}}}Kr.addStateEquality({scrollerClientWidths:pe,scrollerClientHeights:pe});class Xr extends Un{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&lo(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:n}=t,{seg:r}=e,{eventRange:i}=r,{ui:s}=i,a={event:new oo(t,i.def,i.instance),view:t.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&fo(r,t),isStartResizable:!e.disableResizing&&go(r,t),isEndResizable:!e.disableResizing&&vo(r),isMirror:Boolean(e.isDragging||e.isResizing||e.isDateSelecting),isStart:Boolean(r.isStart),isEnd:Boolean(r.isEnd),isPast:Boolean(e.isPast),isFuture:Boolean(e.isFuture),isToday:Boolean(e.isToday),isSelected:Boolean(e.isSelected),isDragging:Boolean(e.isDragging),isResizing:Boolean(e.isResizing)};return(0,o.createElement)(ir,Object.assign({},e,{elRef:this.handleEl,elClasses:[...wo(a),...r.eventRange.ui.classNames,...e.elClasses||[]],renderProps:a,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&lo(this.el,this.props.seg)}}class Qr extends Un{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,{ui:i}=r.eventRange,s=bo(r,n.eventTimeFormat||e.defaultTimeFormat,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return(0,o.createElement)(Xr,Object.assign({},e,{elTag:"a",elStyle:{borderColor:i.borderColor,backgroundColor:i.backgroundColor},elAttrs:_o(r,t),defaultGenerator:Jr,timeText:s}),((e,t)=>(0,o.createElement)(o.Fragment,null,(0,o.createElement)(e,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:t.textColor}}),Boolean(t.isStartResizable)&&(0,o.createElement)("div",{className:"fc-event-resizer fc-event-resizer-start"}),Boolean(t.isEndResizable)&&(0,o.createElement)("div",{className:"fc-event-resizer fc-event-resizer-end"}))))}}function Jr(e){return(0,o.createElement)("div",{className:"fc-event-main-frame"},e.timeText&&(0,o.createElement)("div",{className:"fc-event-time"},e.timeText),(0,o.createElement)("div",{className:"fc-event-title-container"},(0,o.createElement)("div",{className:"fc-event-title fc-sticky"},e.event.title||(0,o.createElement)(o.Fragment,null,""))))}const ei=e=>(0,o.createElement)(Hn.Consumer,null,(t=>{let{options:n}=t,r={isAxis:e.isAxis,date:t.dateEnv.toDate(e.date),view:t.viewApi};return(0,o.createElement)(ir,Object.assign({},e,{elTag:e.elTag||"div",renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount}))})),ti=lt({day:"numeric"});class ni extends Un{constructor(){super(...arguments),this.refineRenderProps=Ze(ri)}render(){let{props:e,context:t}=this,{options:n}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:n.monthStartFormat});return(0,o.createElement)(ir,Object.assign({},e,{elClasses:[...pn(r,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":Ve(e.date)}),renderProps:r,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount}))}}function oi(e){return Boolean(e.dayCellContent||tr("dayCellContent",e))}function ri(e){let{date:t,dateEnv:n,dateProfile:o,isMonthStart:r}=e,i=mn(t,e.todayRange,null,o),s=e.showDayNumber?n.format(t,r?e.monthStartFormat:ti):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(t),view:e.viewApi},i),{isMonthStart:r,dayNumberText:s}),e.extraRenderProps)}class ii extends Un{render(){let{props:e}=this,{seg:t}=e;return(0,o.createElement)(Xr,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:si,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function si(e){let{title:t}=e.event;return t&&(0,o.createElement)("div",{className:"fc-event-title"},e.event.title)}function ai(e){return(0,o.createElement)("div",{className:`fc-${e}`})}const li=e=>(0,o.createElement)(Hn.Consumer,null,(t=>{let{dateEnv:n,options:r}=t,{date:i}=e,s=r.weekNumberFormat||e.defaultFormat,a={num:n.computeWeekNumber(i),text:n.format(i,s),date:i};return(0,o.createElement)(ir,Object.assign({},e,{renderProps:a,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:ci,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))}));function ci(e){return e.text}class di extends Un{constructor(){super(...arguments),this.state={titleId:S()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Wn(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=x(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{"Escape"===e.key&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:n,state:i}=this,s=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return(0,r.createPortal)((0,o.createElement)("div",Object.assign({},n.extraAttrs,{id:n.id,className:s.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),(0,o.createElement)("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},(0,o.createElement)("span",{className:"fc-popover-title",id:i.titleId},n.title),(0,o.createElement)("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),(0,o.createElement)("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:n}=this.props,{rootEl:o}=this,r=function(e){let t=En(e),n=e.getBoundingClientRect();for(let e of t){let t=Yt(n,e.getBoundingClientRect());if(!t)return null;n=t}return n}(t);if(r){let i=o.getBoundingClientRect(),s=n?p(t,".fc-scrollgrid").getBoundingClientRect().top:r.top,a=e?r.right-i.width:r.left;s=Math.max(s,10),a=Math.min(a,document.documentElement.clientWidth-10-i.width),a=Math.max(a,10);let l=o.offsetParent.getBoundingClientRect();y(o,{top:s-l.top,left:a-l.left})}}}class ui extends qn{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:n}=this,{startDate:r,todayRange:i,dateProfile:s}=n,a=t.format(r,e.dayPopoverFormat);return(0,o.createElement)(ni,{elRef:this.handleRootEl,date:r,dateProfile:s,todayRange:i},((t,r,i)=>(0,o.createElement)(di,{elRef:i.ref,id:n.id,title:a,extraClassNames:["fc-more-popover"].concat(i.className||[]),extraAttrs:i,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},oi(e)&&(0,o.createElement)(t,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children)))}queryHit(e,t,n,o){let{rootEl:r,props:i}=this;return e>=0&&e<n&&t>=0&&t<o?{dateProfile:i.dateProfile,dateSpan:Object.assign({allDay:!i.forceTimed,range:{start:i.startDate,end:i.endDate}},i.extraDateSpan),dayEl:r,rect:{left:0,top:0,right:n,bottom:o},layer:1}:null}}class hi extends Un{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:S()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Wn(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:n}=this,{moreLinkClick:o}=n.options,r=pi(t).start;function i(e){let{def:t,instance:o,range:r}=e.eventRange;return{event:new oo(n,t,o),start:n.dateEnv.toDate(r.start),end:n.dateEnv.toDate(r.end),isStart:e.isStart,isEnd:e.isEnd}}"function"==typeof o&&(o=o({date:r,allDay:Boolean(t.allDayDate),allSegs:t.allSegs.map(i),hiddenSegs:t.hiddenSegs.map(i),jsEvent:e,view:n.viewApi})),o&&"popover"!==o?"string"==typeof o&&n.calendarApi.zoomTo(r,o):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return(0,o.createElement)(Hn.Consumer,null,(n=>{let{viewApi:r,options:i,calendarApi:s}=n,{moreLinkText:a}=i,{moreCnt:l}=e,c=pi(e),d="function"==typeof a?a.call(s,l):`+${l} ${a}`,u=W(i.moreLinkHint,[l],d),h={num:l,shortText:`+${l}`,text:d,view:r};return(0,o.createElement)(o.Fragment,null,Boolean(e.moreCnt)&&(0,o.createElement)(ir,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),A(this.handleClick)),{title:u,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:i.moreLinkContent,defaultGenerator:e.defaultGenerator||mi,classNameGenerator:i.moreLinkClassNames,didMount:i.moreLinkDidMount,willUnmount:i.moreLinkWillUnmount},e.children),t.isPopoverOpen&&(0,o.createElement)(ui,{id:t.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))}))}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=p(this.linkEl,".fc-view-harness"))}}function mi(e){return e.text}function pi(e){if(e.allDayDate)return{start:e.allDayDate,end:Ce(e.allDayDate,1)};let{hiddenSegs:t}=e;return{start:fi(t),end:(n=t,n.reduce(vi).eventRange.range.end)};var n}function fi(e){return e.reduce(gi).eventRange.range.start}function gi(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function vi(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}class bi extends Un{render(){let{props:e,context:t}=this,{options:n}=t,r={view:t.viewApi};return(0,o.createElement)(ir,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...yi(e.viewSpec),...e.elClasses||[]],renderProps:r,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount}),(()=>e.children))}}function yi(e){return[`fc-${e.type}-view`,"fc-view"]}const wi={id:String,defaultAllDay:Boolean,url:String,format:String,events:yt,eventDataTransform:yt,success:yt,failure:yt};function xi(e,t,n=_i(t)){let o;if("string"==typeof e?o={url:e}:"function"==typeof e||Array.isArray(e)?o={events:e}:"object"==typeof e&&e&&(o=e),o){let{refined:r,extra:i}=bt(o,n),s=function(e,t){let n=t.pluginHooks.eventSourceDefs;for(let t=n.length-1;t>=0;t-=1){let o=n[t].parseMeta(e);if(o)return{sourceDefId:t,meta:o}}return null}(r,t);if(s)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:M(),sourceDefId:s.sourceDefId,meta:s.meta,ui:Mt(r,t),extendedProps:i}}return null}function _i(e){return Object.assign(Object.assign(Object.assign({},Tt),wi),e.pluginHooks.eventSourceRefiners)}class Si{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering((()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})}))}zoomTo(e,t){let n;t=t||"day",n=this.getCurrentData().viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),n?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:n.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let t,n,{viewSpecs:o,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]);for(let e in o)i.push(e);for(t=0;t<i.length;t+=1)if(n=o[i[t]],n&&n.singleUnit===e)return n;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:$n(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),n=K(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),lt(t))}formatRange(e,t,n){let{dateEnv:o}=this.getCurrentData();return o.formatRange(o.createMarker(e),o.createMarker(t),lt(n),n)}formatIso(e,t){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:t})}select(e,t){let n;n=null==t?null!=e.start?e:{start:e,end:null}:{start:e,end:t};let o=this.getCurrentData(),r=Co(n,o.dateEnv,K({days:1}));r&&(this.dispatch({type:"SELECT_DATES",selection:r}),Kn(r,null,o))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function(e,t){t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}(e,t))}addEvent(e,t){if(e instanceof oo){let t=e._def,n=e._instance;return this.getCurrentData().eventStore.defs[t.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Ct({def:t,instance:n})}),this.triggerEventAdd(e)),e}let n,o=this.getCurrentData();if(t instanceof no)n=t.internalEventSource;else if("boolean"==typeof t)t&&([n]=me(o.eventSources));else if(null!=t){let e=this.getEventSourceById(t);if(!e)return console.warn(`Could not find an event source with ID "${t}"`),null;n=e.internalEventSource}let r=Bt(e,n,o,!1);if(r){let e=new oo(o,r.def,r.def.recurringDef?null:r.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Ct(r)}),this.triggerEventAdd(e),e}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:ro(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:n,instances:o}=t.eventStore;e=String(e);for(let r in n){let i=n[r];if(i.publicId===e){if(i.recurringDef)return new oo(t,i,null);for(let e in o){let n=o[e];if(n.defId===i.defId)return new oo(t,i,n)}}}return null}getEvents(){let e=this.getCurrentData();return io(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,n=[];for(let o in t)n.push(new no(e,t[o]));return n}getEventSourceById(e){let t=this.getCurrentData(),n=t.eventSources;e=String(e);for(let o in n)if(n[o].publicId===e)return new no(t,n[o]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof no)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=xi(e,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new no(t,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=K(e);t&&this.trigger("_scrollRequest",{time:t})}}class Ci{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),void 0!==this.currentValue&&e(this.currentValue)}}class ji extends Ci{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let n=!1;e.isActive?(t.set(e.id,e),n=!0):t.has(e.id)&&(t.delete(e.id),n=!0),n&&this.set(t)}}},"./node_modules/@fullcalendar/core/locales/fr.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var o={code:"fr",week:{dow:1,doy:4},buttonText:{prev:"Prcdent",next:"Suivant",today:"Aujourd'hui",year:"Anne",month:"Mois",week:"Semaine",day:"Jour",list:"Planning"},weekText:"Sem.",weekTextLong:"Semaine",allDayText:"Toute la journe",moreLinkText:"en plus",noEventsText:"Aucun vnement  afficher"}},"./node_modules/@fullcalendar/daygrid/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n("./node_modules/@fullcalendar/core/index.js"),r=n("./node_modules/@fullcalendar/daygrid/internal.js"),i=(0,o.createPlugin)({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:r.DayGridView,dateProfileGeneratorClass:r.TableDateProfileGenerator},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}})},"./node_modules/@fullcalendar/daygrid/internal.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DayGridView:()=>T,DayTable:()=>k,DayTableSlicer:()=>j,Table:()=>C,TableDateProfileGenerator:()=>E,TableRows:()=>_,TableView:()=>A,buildDayTableModel:()=>D,buildDayTableRenderRange:()=>O});var o=n("./node_modules/@fullcalendar/core/internal-common.js"),r=n("./node_modules/preact/dist/preact.module.js");function i(e,t){let n=[];for(let e=0;e<t;e+=1)n[e]=[];for(let t of e)n[t.row].push(t);return n}function s(e,t){let n=[];for(let e=0;e<t;e+=1)n[e]=[];for(let t of e)n[t.firstCol].push(t);return n}function a(e,t){let n=[];if(e){for(let o=0;o<t;o+=1)n[o]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)n[t.row].segs.push(t)}else for(let e=0;e<t;e+=1)n[e]=null;return n}(0,o.cw)(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');const l=(0,o.w)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function c(e){let{display:t}=e.eventRange.ui;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}class d extends o.X{render(){let{props:e}=this;return(0,r.createElement)(o.cj,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:l,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class u extends o.X{render(){let{props:e,context:t}=this,{options:n}=t,{seg:i}=e,s=n.eventTimeFormat||l,a=(0,o.bQ)(i,s,t,!0,e.defaultDisplayEventEnd);return(0,r.createElement)(o.cn,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:(0,o.bU)(e.seg,t),defaultGenerator:h,timeText:a,isResizing:!1,isDateSelecting:!1}))}}function h(e){return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&(0,r.createElement)("div",{className:"fc-event-time"},e.timeText),(0,r.createElement)("div",{className:"fc-event-title"},e.event.title||(0,r.createElement)(r.Fragment,null,"")))}class m extends o.X{constructor(){super(...arguments),this.compileSegs=(0,o.y)(p)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return(0,r.createElement)(o.cr,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let n=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return(0,r.createElement)(r.Fragment,null,t.map((t=>{let i=t.eventRange.instance.instanceId;return(0,r.createElement)("div",{className:"fc-daygrid-event-harness",key:i,style:{visibility:n[i]?"hidden":""}},c(t)?(0,r.createElement)(u,Object.assign({seg:t,isDragging:!1,isSelected:i===e.eventSelection,defaultDisplayEventEnd:!1},(0,o.bS)(t,e.todayRange))):(0,r.createElement)(d,Object.assign({seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:i===e.eventSelection,defaultDisplayEventEnd:!1},(0,o.bS)(t,e.todayRange))))})))}})}}function p(e){let t=[],n=[];for(let o of e)t.push(o.seg),o.isVisible||n.push(o.seg);return{allSegs:t,invisibleSegs:n}}const f=(0,o.w)({week:"narrow"});class g extends o.be{constructor(){super(...arguments),this.rootElRef=(0,r.createRef)(),this.state={dayNumberId:(0,o.a5)()},this.handleRootEl=e=>{(0,o.Y)(this.rootElRef,e),(0,o.Y)(this.props.elRef,e)}}render(){let{context:e,props:t,state:n,rootElRef:i}=this,{options:s,dateEnv:a}=e,{date:l,dateProfile:c}=t;const d=t.showDayNumber&&function(e,t,n){const{start:r,end:i}=t,s=(0,o.bg)(i,-1),a=n.getYear(r),l=n.getMonth(r),c=n.getYear(s),d=n.getMonth(s);return!(a===c&&l===d)&&Boolean(e.valueOf()===r.valueOf()||1===n.getDay(e)&&e.valueOf()<i.valueOf())}(l,c.currentRange,a);return(0,r.createElement)(o.cl,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:v,date:l,dateProfile:c,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:d,extraRenderProps:t.extraRenderProps},((a,c)=>(0,r.createElement)("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&(0,r.createElement)(o.cq,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:(0,o.b0)(e,l,"week"),date:l,defaultFormat:f}),!c.isDisabled&&(t.showDayNumber||(0,o.cm)(s)||t.forceDayTop)?(0,r.createElement)("div",{className:"fc-daygrid-day-top"},(0,r.createElement)(a,{elTag:"a",elClasses:["fc-daygrid-day-number",d&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},(0,o.b0)(e,l)),{id:n.dayNumberId})})):t.showDayNumber?(0,r.createElement)("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},(0,r.createElement)("a",{className:"fc-daygrid-day-number"},"")):void 0,(0,r.createElement)("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,(0,r.createElement)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},(0,r.createElement)(m,{allDayDate:l,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:i,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),(0,r.createElement)("div",{className:"fc-daygrid-day-bg"},t.bgContent))))}}function v(e){return e.dayNumberText||(0,r.createElement)(r.Fragment,null,"")}function b(e,t,n,o,r,i,s){let a=new w;a.allowReslicing=!0,a.strictOrder=o,!0===t||!0===n?(a.maxCoord=i,a.hiddenConsumes=!0):"number"==typeof t?a.maxStackCnt=t:"number"==typeof n&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let l=[],c=[];for(let t=0;t<e.length;t+=1){let n=e[t],{instanceId:o}=n.eventRange.instance,i=r[o];null!=i?l.push({index:t,thickness:i,span:{start:n.firstCol,end:n.lastCol+1}}):c.push(n)}let d=a.addSegs(l),u=a.toRects(),{singleColPlacements:h,multiColPlacements:m,leftoverMargins:p}=function(e,t,n){let o=function(e,t){let n=[];for(let e=0;e<t;e+=1)n.push([]);for(let t of e)for(let e=t.span.start;e<t.span.end;e+=1)n[e].push(t);return n}(e,n.length),r=[],i=[],s=[];for(let e=0;e<n.length;e+=1){let a=o[e],l=[],c=0,d=0;for(let o of a){let r=t[o.index];l.push({seg:y(r,e,e+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:o.levelCoord,marginTop:o.levelCoord-c}),c=o.levelCoord+o.thickness}let u=[];c=0,d=0;for(let o of a){let r=t[o.index],i=o.span.end-o.span.start>1,s=o.span.start===e;d+=o.levelCoord-c,c=o.levelCoord+o.thickness,i?(d+=o.thickness,s&&u.push({seg:y(r,o.span.start,o.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:o.levelCoord,marginTop:0})):s&&(u.push({seg:y(r,o.span.start,o.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:o.levelCoord,marginTop:d}),d=0)}r.push(l),i.push(u),s.push(d)}return{singleColPlacements:r,multiColPlacements:i,leftoverMargins:s}}(u,e,s),f=[],g=[];for(let e of c){m[e.firstCol].push({seg:e,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let t=e.firstCol;t<=e.lastCol;t+=1)h[t].push({seg:y(e,t,t+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let e=0;e<s.length;e+=1)f.push(0);for(let t of d){let n=e[t.index],o=t.span;m[o.start].push({seg:y(n,o.start,o.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=o.start;e<o.end;e+=1)f[e]+=1,h[e].push({seg:y(n,e,e+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let e=0;e<s.length;e+=1)g.push(p[e]);return{singleColPlacements:h,multiColPlacements:m,moreCnts:f,moreMarginTops:g}}function y(e,t,n,r){if(e.firstCol===t&&e.lastCol===n-1)return e;let i=e.eventRange,s=i.range,a=(0,o.n)(s,{start:r[t].date,end:(0,o.q)(r[n-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:a},isStart:e.isStart&&a.start.valueOf()===s.start.valueOf(),isEnd:e.isEnd&&a.end.valueOf()===s.end.valueOf()})}class w extends o.bA{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:n}=this,r=e=>!this.forceHidden[(0,o.bB)(e)];for(let e=0;e<n.length;e+=1)n[e]=n[e].filter(r);return t}handleInvalidInsertion(e,t,n){const{entriesByLevel:r,forceHidden:i}=this,{touchingEntry:s,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&s){const e=(0,o.bB)(s);if(!i[e])if(this.allowReslicing){const e=Object.assign(Object.assign({},s),{span:(0,o.bF)(s.span,t.span)});i[(0,o.bB)(e)]=!0,r[a][l]=e,this.splitEntry(s,t,n)}else i[e]=!0,n.push(s)}return super.handleInvalidInsertion(e,t,n)}}class x extends o.be{constructor(){super(...arguments),this.cellElRefs=new o.cf,this.frameElRefs=new o.cf,this.fgElRefs=new o.cf,this.segHarnessRefs=new o.cf,this.rootElRef=(0,r.createRef)(),this.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:n}=this,{options:i}=n,a=e.cells.length,l=s(e.businessHourSegs,a),c=s(e.bgEventSegs,a),d=s(this.getHighlightSegs(),a),u=s(this.getMirrorSegs(),a),{singleColPlacements:h,multiColPlacements:m,moreCnts:p,moreMarginTops:f}=b((0,o.bR)(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,t.eventInstanceHeights,t.maxContentHeight,e.cells),v=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return(0,r.createElement)("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map(((t,n)=>{let o=this.renderFgSegs(n,e.forPrint?h[n]:m[n],e.todayRange,v),i=this.renderFgSegs(n,function(e,t){if(!e.length)return[];let n=function(e){let t={};for(let n of e)for(let e of n)t[e.seg.eventRange.instance.instanceId]=e.absoluteTop;return t}(t);return e.map((e=>({seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:n[e.eventRange.instance.instanceId],marginTop:0})))}(u[n],m),e.todayRange,{},Boolean(e.eventDrag),Boolean(e.eventResize),!1);return(0,r.createElement)(g,{key:t.key,elRef:this.cellElRefs.createRef(t.key),innerElRef:this.frameElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&0===n,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,moreCnt:p[n],moreMarginTop:f[n],singlePlacements:h[n],fgContentElRef:this.fgElRefs.createRef(t.key),fgContent:(0,r.createElement)(r.Fragment,null,(0,r.createElement)(r.Fragment,null,o),(0,r.createElement)(r.Fragment,null,i)),bgContent:(0,r.createElement)(r.Fragment,null,this.renderFillSegs(d[n],"highlight"),this.renderFillSegs(l[n],"non-business"),this.renderFillSegs(c[n],"bg-event")),minHeight:e.cellMinHeight})})))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let n=this.props;this.updateSizing(!(0,o.A)(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,n,i,s,a,l){let{context:h}=this,{eventSelection:m}=this.props,{framePositions:p}=this.state,f=1===this.props.cells.length,g=s||a||l,v=[];if(p)for(let b of t){let{seg:t}=b,{instanceId:y}=t.eventRange.instance,w=y+":"+e,x=b.isVisible&&!i[y],_=b.isAbsolute,S="",C="";_&&(h.isRtl?(C=0,S=p.lefts[t.lastCol]-p.lefts[t.firstCol]):(S=0,C=p.rights[t.firstCol]-p.rights[t.lastCol])),v.push((0,r.createElement)("div",{className:"fc-daygrid-event-harness"+(_?" fc-daygrid-event-harness-abs":""),key:w,ref:g?null:this.segHarnessRefs.createRef(w),style:{visibility:x?"":"hidden",marginTop:_?"":b.marginTop,top:_?b.absoluteTop:"",left:S,right:C}},c(t)?(0,r.createElement)(u,Object.assign({seg:t,isDragging:s,isSelected:y===m,defaultDisplayEventEnd:f},(0,o.bS)(t,n))):(0,r.createElement)(d,Object.assign({seg:t,isDragging:s,isResizing:a,isDateSelecting:l,isSelected:y===m,defaultDisplayEventEnd:f},(0,o.bS)(t,n)))))}return v}renderFillSegs(e,t){let{isRtl:n}=this.context,{todayRange:i}=this.props,{framePositions:s}=this.state,a=[];if(s)for(let l of e){let e=n?{right:0,left:s.lefts[l.lastCol]-s.lefts[l.firstCol]}:{left:0,right:s.rights[l.firstCol]-s.rights[l.lastCol]};a.push((0,r.createElement)("div",{key:(0,o.bT)(l.eventRange),className:"fc-daygrid-bg-harness",style:e},"bg-event"===t?(0,r.createElement)(o.cp,Object.assign({seg:l},(0,o.bS)(l,i))):(0,o.co)(t)))}return(0,r.createElement)(r.Fragment,{},...a)}updateSizing(e){let{props:t,state:n,frameElRefs:r}=this;if(!t.forPrint&&null!==t.clientWidth){if(e){let e=t.cells.map((e=>r.currentMap[e.key]));if(e.length){let t=this.rootElRef.current,r=new o.ba(t,e,!0,!1);n.framePositions&&n.framePositions.similarTo(r)||this.setState({framePositions:new o.ba(t,e,!0,!1)})}}const i=this.state.eventInstanceHeights,s=this.queryEventInstanceHeights(),a=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({eventInstanceHeights:Object.assign(Object.assign({},i),s),maxContentHeight:a?this.computeMaxContentHeight():null})}}queryEventInstanceHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let n in e){let o=Math.round(e[n].getBoundingClientRect().height),r=n.split(":")[0];t[r]=Math.max(t[r]||0,o)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map((t=>e[t.key]))}}x.addStateEquality({eventInstanceHeights:o.A});class _ extends o.be{constructor(){super(...arguments),this.splitBusinessHourSegs=(0,o.y)(i),this.splitBgEventSegs=(0,o.y)(i),this.splitFgEventSegs=(0,o.y)(i),this.splitDateSelectionSegs=(0,o.y)(i),this.splitEventDrag=(0,o.y)(a),this.splitEventResize=(0,o.y)(a),this.rowRefs=new o.cf}render(){let{props:e,context:t}=this,n=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,n),s=this.splitBgEventSegs(e.bgEventSegs,n),a=this.splitFgEventSegs(e.fgEventSegs,n),l=this.splitDateSelectionSegs(e.dateSelectionSegs,n),c=this.splitEventDrag(e.eventDrag,n),d=this.splitEventResize(e.eventResize,n),u=n>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return(0,r.createElement)(o.ch,{unit:"day"},((t,o)=>(0,r.createElement)(r.Fragment,null,e.cells.map(((t,h)=>(0,r.createElement)(x,{ref:this.rowRefs.createRef(h),key:t.length?t[0].date.toISOString():h,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:o,dateProfile:e.dateProfile,cells:t,renderIntro:e.renderRowIntro,businessHourSegs:i[h],eventSelection:e.eventSelection,bgEventSegs:s[h].filter(S),fgEventSegs:a[h],dateSelectionSegs:l[h],eventDrag:c[h],eventResize:d[h],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:u,forPrint:e.forPrint}))))))}componentDidMount(){const e=this.rowRefs.currentMap[0].getCellEls()[0];this.rootEl=e?e.closest(".fc-daygrid-body"):null,this.rootEl&&this.context.registerInteractiveComponent(this,{el:this.rootEl,isHitComboAllowed:this.props.isHitComboAllowed})}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new o.ba(this.rootEl,this.rowRefs.collect().map((e=>e.getCellEls()[0])),!1,!0),this.colPositions=new o.ba(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:n,rowPositions:o}=this,r=n.leftToIndex(e),i=o.topToIndex(t);if(null!=i&&null!=r){let e=this.props.cells[i][r];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(i,r),allDay:!0},e.extraDateSpan),dayEl:this.getCellEl(i,r),rect:{left:n.lefts[r],right:n.rights[r],top:o.tops[i],bottom:o.bottoms[i]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let n=this.props.cells[e][t].date;return{start:n,end:(0,o.q)(n,1)}}}function S(e){return e.eventRange.def.allDay}class C extends o.be{constructor(){super(...arguments),this.elRef=(0,r.createRef)(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:n,expandRows:o}=e,i=!0===n||!0===t;i&&!o&&(i=!1,t=null,n=null);let s=["fc-daygrid-body",i?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",o?"":"fc-daygrid-body-natural"];return(0,r.createElement)("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},(0,r.createElement)("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:o?e.clientHeight:""}},e.colGroupNode,(0,r.createElement)("tbody",{role:"presentation"},(0,r.createElement)(_,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=function(e,t){let n;t.currentRangeUnit.match(/year|month/)&&(n=e.querySelector(`[data-date="${(0,o.bx)(t.currentDate)}-01"]`));n||(n=e.querySelector(`[data-date="${(0,o.bv)(t.currentDate)}"]`));return n}(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),n=t.closest(".fc-scroller"),o=e.getBoundingClientRect().top-t.getBoundingClientRect().top;n.scrollTop=o?o+1:0}this.needsScrollReset=!1}}}class j extends o.bW{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class k extends o.be{constructor(){super(...arguments),this.slicer=new j,this.tableRef=(0,r.createRef)()}render(){let{props:e,context:t}=this;return(0,r.createElement)(C,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class E extends o.S{buildRenderRange(e,t,n){let o=super.buildRenderRange(e,t,n),{props:r}=this;return O({currentRange:o,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:r.fixedWeekCount,dateEnv:r.dateEnv})}}function O(e){let t,{dateEnv:n,currentRange:r}=e,{start:i,end:s}=r;if(e.snapToWeek&&(i=n.startOfWeek(i),t=n.startOfWeek(s),t.valueOf()!==s.valueOf()&&(s=(0,o.bh)(t,1))),e.fixedWeekCount){let e=n.startOfWeek(n.startOfMonth((0,o.q)(r.end,-1))),t=Math.ceil((0,o.bi)(e,s));s=(0,o.bh)(s,6-t)}return{start:i,end:s}}class A extends o.be{constructor(){super(...arguments),this.headerElRef=(0,r.createRef)()}renderSimpleLayout(e,t){let{props:n,context:i}=this,s=[],a=(0,o.cc)(i.options);return e&&s.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),(0,r.createElement)(o.ct,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},(0,r.createElement)(o.b$,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,t,n,i){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:a,context:l}=this,c=!a.forPrint&&(0,o.cc)(l.options),d=!a.forPrint&&(0,o.cb)(l.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:c,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),d&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:o.ca}]}),(0,r.createElement)(o.ct,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},(0,r.createElement)(s,{liquid:!a.isHeightAuto&&!a.forPrint,forPrint:a.forPrint,collapsibleWidth:a.forPrint,colGroups:[{cols:[{span:n,minWidth:i}]}],sections:u}))}}class T extends A{constructor(){super(...arguments),this.buildDayTableModel=(0,o.y)(D),this.headerRef=(0,r.createRef)(),this.tableRef=(0,r.createRef)()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:n}=this,i=this.buildDayTableModel(n.dateProfile,t),s=e.dayHeaders&&(0,r.createElement)(o.bK,{ref:this.headerRef,dateProfile:n.dateProfile,dates:i.headerDates,datesRepDistinctDays:1===i.rowCnt}),a=t=>(0,r.createElement)(k,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:i,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,a,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,a)}}function D(e,t){let n=new o.bO(e.renderRange,t);return new o.bV(n,/year|month|week/.test(e.currentRangeUnit))}},"./node_modules/@fullcalendar/list/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var o=n("./node_modules/@fullcalendar/core/index.js"),r=n("./node_modules/@fullcalendar/list/internal.js"),i=n("./node_modules/@fullcalendar/core/internal-common.js");const s={listDayFormat:a,listDaySideFormat:a,noEventsClassNames:i.l,noEventsContent:i.l,noEventsDidMount:i.l,noEventsWillUnmount:i.l};function a(e){return!1===e?null:(0,i.w)(e)}var l=(0,o.createPlugin)({name:"@fullcalendar/list",optionRefiners:s,views:{list:{component:r.ListView,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}})},"./node_modules/@fullcalendar/list/internal.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ListView:()=>d});var o=n("./node_modules/@fullcalendar/core/internal-common.js"),r=n("./node_modules/preact/dist/preact.module.js");class i extends o.X{constructor(){super(...arguments),this.state={textId:(0,o.a5)()}}render(){let{theme:e,dateEnv:t,options:n,viewApi:i}=this.context,{cellId:a,dayDate:l,todayRange:c}=this.props,{textId:d}=this.state,u=(0,o.a_)(l,c),h=n.listDayFormat?t.format(l,n.listDayFormat):"",m=n.listDaySideFormat?t.format(l,n.listDaySideFormat):"",p=Object.assign({date:t.toDate(l),view:i,textId:d,text:h,sideText:m,navLinkAttrs:(0,o.b0)(this.context,l),sideNavLinkAttrs:(0,o.b0)(this.context,l,"day",!1)},u);return(0,r.createElement)(o.C,{elTag:"tr",elClasses:["fc-list-day",...(0,o.aZ)(u,e)],elAttrs:{"data-date":(0,o.bv)(l)},renderProps:p,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:s,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},(t=>(0,r.createElement)("th",{scope:"colgroup",colSpan:3,id:a,"aria-labelledby":d},(0,r.createElement)(t,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]}))))}}function s(e){return(0,r.createElement)(r.Fragment,null,e.text&&(0,r.createElement)("a",Object.assign({id:e.textId,className:"fc-list-day-text"},e.navLinkAttrs),e.text),e.sideText&&(0,r.createElement)("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},e.sideNavLinkAttrs),e.sideText))}const a=(0,o.w)({hour:"numeric",minute:"2-digit",meridiem:"short"});class l extends o.X{render(){let{props:e,context:t}=this,{options:n}=t,{seg:i,timeHeaderId:s,eventHeaderId:l,dateHeaderId:d}=e,u=n.eventTimeFormat||a;return(0,r.createElement)(o.cn,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",i.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>function(e,t){let n=(0,o.bU)(e,t);return(0,r.createElement)("a",Object.assign({},n),e.eventRange.def.title)}(i,t),seg:i,timeText:"",disableDragging:!0,disableResizing:!0}),((e,n)=>(0,r.createElement)(r.Fragment,null,function(e,t,n,i,s){let{options:a}=n;if(!1!==a.displayEventTime){let l,d=e.eventRange.def,u=e.eventRange.instance,h=!1;if(d.allDay?h=!0:(0,o.az)(e.eventRange.range)?e.isStart?l=(0,o.bQ)(e,t,n,null,null,u.range.start,e.end):e.isEnd?l=(0,o.bQ)(e,t,n,null,null,e.start,u.range.end):h=!0:l=(0,o.bQ)(e,t,n),h){let e={text:n.options.allDayText,view:n.viewApi};return(0,r.createElement)(o.C,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${i} ${s}`},renderProps:e,generatorName:"allDayContent",customGenerator:a.allDayContent,defaultGenerator:c,classNameGenerator:a.allDayClassNames,didMount:a.allDayDidMount,willUnmount:a.allDayWillUnmount})}return(0,r.createElement)("td",{className:"fc-list-event-time"},l)}return null}(i,u,t,s,d),(0,r.createElement)("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},(0,r.createElement)("span",{className:"fc-list-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}})),(0,r.createElement)(e,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${l} ${d}`}}))))}}function c(e){return e.text}class d extends o.be{constructor(){super(...arguments),this.computeDateVars=(0,o.y)(h),this.eventStoreToSegs=(0,o.y)(this._eventStoreToSegs),this.state={timeHeaderId:(0,o.a5)(),eventHeaderId:(0,o.a5)(),dateHeaderIdRoot:(0,o.a5)()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:t}=this,{dayDates:n,dayRanges:i}=this.computeDateVars(e.dateProfile),s=this.eventStoreToSegs(e.eventStore,e.eventUiBases,i);return(0,r.createElement)(o.ct,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),!1!==t.options.stickyHeaderDates?"fc-list-sticky":""],viewSpec:t.viewSpec},(0,r.createElement)(o.cd,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},s.length>0?this.renderSegList(s,n):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:t}=this.context,n={text:e.noEventsText,view:t};return(0,r.createElement)(o.C,{elTag:"div",elClasses:["fc-list-empty"],renderProps:n,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:u,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},(e=>(0,r.createElement)(e,{elTag:"div",elClasses:["fc-list-empty-cushion"]})))}renderSegList(e,t){let{theme:n,options:s}=this.context,{timeHeaderId:a,eventHeaderId:c,dateHeaderIdRoot:d}=this.state,u=function(e){let t,n,o=[];for(t=0;t<e.length;t+=1)n=e[t],(o[n.dayIndex]||(o[n.dayIndex]=[])).push(n);return o}(e);return(0,r.createElement)(o.ch,{unit:"day"},((e,h)=>{let m=[];for(let n=0;n<u.length;n+=1){let p=u[n];if(p){let u=(0,o.bv)(t[n]),f=d+"-"+u;m.push((0,r.createElement)(i,{key:u,cellId:f,dayDate:t[n],todayRange:h})),p=(0,o.bR)(p,s.eventOrder);for(let t of p)m.push((0,r.createElement)(l,Object.assign({key:u+":"+t.eventRange.instance.instanceId,seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:a,eventHeaderId:c,dateHeaderId:f},(0,o.bS)(t,h,e))))}}return(0,r.createElement)("table",{className:"fc-list-table "+n.getClass("table")},(0,r.createElement)("thead",null,(0,r.createElement)("tr",null,(0,r.createElement)("th",{scope:"col",id:a},s.timeHint),(0,r.createElement)("th",{scope:"col","aria-hidden":!0}),(0,r.createElement)("th",{scope:"col",id:c},s.eventHint))),(0,r.createElement)("tbody",null,m))}))}_eventStoreToSegs(e,t,n){return this.eventRangesToSegs((0,o.af)(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,n)}eventRangesToSegs(e,t){let n=[];for(let o of e)n.push(...this.eventRangeToSegs(o,t));return n}eventRangeToSegs(e,t){let n,r,i,{dateEnv:s}=this.context,{nextDayThreshold:a}=this.context.options,l=e.range,c=e.def.allDay,d=[];for(n=0;n<t.length;n+=1)if(r=(0,o.n)(l,t[n]),r&&(i={component:this,eventRange:e,start:r.start,end:r.end,isStart:e.isStart&&r.start.valueOf()===l.start.valueOf(),isEnd:e.isEnd&&r.end.valueOf()===l.end.valueOf(),dayIndex:n},d.push(i),!i.isEnd&&!c&&n+1<t.length&&l.end<s.add(t[n+1].start,a))){i.end=l.end,i.isEnd=!0;break}return d}}function u(e){return e.text}function h(e){let t=(0,o.o)(e.renderRange.start),n=e.renderRange.end,r=[],i=[];for(;t<n;)r.push(t),i.push({start:t,end:(0,o.q)(t,1)}),t=(0,o.q)(t,1);return{dayDates:r,dayRanges:i}}(0,o.cw)(':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}')},"./node_modules/@fullcalendar/multimonth/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var o=n("./node_modules/@fullcalendar/core/index.js"),r=n("./node_modules/@fullcalendar/daygrid/internal.js"),i=n("./node_modules/@fullcalendar/core/internal-common.js"),s=n("./node_modules/preact/dist/preact.module.js");class a extends i.be{constructor(){super(...arguments),this.buildDayTableModel=(0,i.y)(r.buildDayTableModel),this.slicer=new r.DayTableSlicer,this.state={labelId:(0,i.a5)()}}render(){const{props:e,state:t,context:n}=this,{dateProfile:o,forPrint:a}=e,{options:l}=n,c=this.buildDayTableModel(o,n.dateProfileGenerator),d=this.slicer.sliceProps(e,o,l.nextDayThreshold,n,c),u=null!=e.tableWidth?e.tableWidth/l.aspectRatio:null,h=c.cells.length,m=null!=u?u/h:null;return(0,s.createElement)("div",{ref:e.elRef,"data-date":e.isoDateStr,className:"fc-multimonth-month",style:{width:e.width},role:"grid","aria-labelledby":t.labelId},(0,s.createElement)("div",{className:"fc-multimonth-header",style:{marginBottom:m},role:"presentation"},(0,s.createElement)("div",{className:"fc-multimonth-title",id:t.labelId},n.dateEnv.format(e.dateProfile.currentRange.start,e.titleFormat)),(0,s.createElement)("table",{className:["fc-multimonth-header-table",n.theme.getClass("table")].join(" "),role:"presentation"},(0,s.createElement)("thead",{role:"rowgroup"},(0,s.createElement)(i.bK,{dateProfile:e.dateProfile,dates:c.headerDates,datesRepDistinctDays:!1})))),(0,s.createElement)("div",{className:["fc-multimonth-daygrid","fc-daygrid","fc-daygrid-body",!a&&"fc-daygrid-body-balanced",a&&"fc-daygrid-body-unbalanced",a&&"fc-daygrid-body-natural"].join(" "),style:{marginTop:-m}},(0,s.createElement)("table",{className:["fc-multimonth-daygrid-table",n.theme.getClass("table")].join(" "),style:{height:a?"":u},role:"presentation"},(0,s.createElement)("tbody",{role:"rowgroup"},(0,s.createElement)(r.TableRows,Object.assign({},d,{dateProfile:o,cells:c.cells,eventSelection:e.eventSelection,dayMaxEvents:!a,dayMaxEventRows:!a,showWeekNumbers:l.weekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:a}))))))}}class l extends i.be{constructor(){super(...arguments),this.splitDateProfileByMonth=(0,i.y)(d),this.buildMonthFormat=(0,i.y)(m),this.scrollElRef=(0,s.createRef)(),this.firstMonthElRef=(0,s.createRef)(),this.needsScrollReset=!1,this.handleSizing=e=>{e&&this.updateSize()}}render(){const{context:e,props:t,state:n}=this,{options:o}=e,{clientWidth:r,clientHeight:l}=n,c=n.monthHPadding||0,d=Math.min(null!=r?Math.floor(r/(o.multiMonthMinWidth+c)):1,o.multiMonthMaxColumns)||1,u=100/d+"%",h=null==r?null:r/d-c,m=null!=r&&1===d,p=this.splitDateProfileByMonth(e.dateProfileGenerator,t.dateProfile,e.dateEnv,!m&&o.fixedWeekCount,o.showNonCurrentDates),f=this.buildMonthFormat(o.multiMonthTitleFormat,p),g=["fc-multimonth",m?"fc-multimonth-singlecol":"fc-multimonth-multicol",null!=h&&h<400?"fc-multimonth-compact":""];return(0,s.createElement)(i.ct,{elRef:this.scrollElRef,elClasses:g,viewSpec:e.viewSpec},p.map(((e,n)=>{const o=(0,i.bx)(e.currentRange.start);return(0,s.createElement)(a,Object.assign({},t,{key:o,isoDateStr:o,elRef:0===n?this.firstMonthElRef:void 0,titleFormat:f,dateProfile:e,width:u,tableWidth:h,clientWidth:r,clientHeight:l}))})))}componentDidMount(){this.updateSize(),this.context.addResizeHandler(this.handleSizing),this.requestScrollReset()}componentDidUpdate(e){(0,i.A)(e,this.props)||this.handleSizing(!1),e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}updateSize(){const e=this.scrollElRef.current,t=this.firstMonthElRef.current;e&&this.setState({clientWidth:e.clientWidth,clientHeight:e.clientHeight}),t&&e&&null==this.state.monthHPadding&&this.setState({monthHPadding:e.clientWidth-t.firstChild.offsetWidth})}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&null!=this.state.monthHPadding){const{currentDate:e}=this.props.dateProfile,t=this.scrollElRef.current,n=t.querySelector(`[data-date="${(0,i.bx)(e)}"]`);t.scrollTop=n.getBoundingClientRect().top-this.firstMonthElRef.current.getBoundingClientRect().top,this.needsScrollReset=!1}}shouldComponentUpdate(){return!0}}const c=(0,i.d)(1,"month");function d(e,t,n,o,s){const{start:a,end:l}=t.currentRange;let d=a;const u=[];for(;d.valueOf()<l.valueOf();){const a=n.add(d,c),l={start:e.skipHiddenDays(d),end:e.skipHiddenDays(a,-1,!0)};let h=(0,r.buildDayTableRenderRange)({currentRange:l,snapToWeek:!0,fixedWeekCount:o,dateEnv:n});h={start:e.skipHiddenDays(h.start),end:e.skipHiddenDays(h.end,-1,!0)};const m=t.activeRange?(0,i.n)(t.activeRange,s?h:l):null;u.push({currentDate:t.currentDate,isValid:t.isValid,validRange:t.validRange,renderRange:h,activeRange:m,currentRange:l,currentRangeUnit:"month",isRangeAllDay:!0,dateIncrement:t.dateIncrement,slotMinTime:t.slotMaxTime,slotMaxTime:t.slotMinTime}),d=a}return u}const u=(0,i.w)({year:"numeric",month:"long"}),h=(0,i.w)({month:"long"});function m(e,t){return e||(t[0].currentRange.start.getUTCFullYear()!==t[t.length-1].currentRange.start.getUTCFullYear()?u:h)}const p={multiMonthTitleFormat:i.w,multiMonthMaxColumns:Number,multiMonthMinWidth:Number};(0,i.cw)(".fc .fc-multimonth{border:1px solid var(--fc-border-color);display:flex;flex-wrap:wrap;overflow-x:hidden;overflow-y:auto}.fc .fc-multimonth-title{font-size:1.2em;font-weight:700;padding:1em 0;text-align:center}.fc .fc-multimonth-daygrid{background:var(--fc-page-bg-color)}.fc .fc-multimonth-daygrid-table,.fc .fc-multimonth-header-table{table-layout:fixed;width:100%}.fc .fc-multimonth-daygrid-table{border-top-style:hidden!important}.fc .fc-multimonth-singlecol .fc-multimonth{position:relative}.fc .fc-multimonth-singlecol .fc-multimonth-header{background:var(--fc-page-bg-color);position:relative;top:0;z-index:2}.fc .fc-multimonth-singlecol .fc-multimonth-daygrid{position:relative;z-index:1}.fc .fc-multimonth-singlecol .fc-multimonth-daygrid-table,.fc .fc-multimonth-singlecol .fc-multimonth-header-table{border-left-style:hidden;border-right-style:hidden}.fc .fc-multimonth-singlecol .fc-multimonth-month:last-child .fc-multimonth-daygrid-table{border-bottom-style:hidden}.fc .fc-multimonth-multicol{line-height:1}.fc .fc-multimonth-multicol .fc-multimonth-month{padding:0 1.2em 1.2em}.fc .fc-multimonth-multicol .fc-daygrid-more-link{border:1px solid var(--fc-event-border-color);display:block;float:none;padding:1px}.fc .fc-multimonth-compact{line-height:1}.fc .fc-multimonth-compact .fc-multimonth-daygrid-table,.fc .fc-multimonth-compact .fc-multimonth-header-table{font-size:.9em}.fc-media-screen .fc-multimonth-singlecol .fc-multimonth-header{position:sticky}.fc-media-print .fc-multimonth{overflow:visible}");var f=(0,o.createPlugin)({name:"@fullcalendar/multimonth",initialView:"multiMonthYear",optionRefiners:p,views:{multiMonth:{component:l,dateProfileGeneratorClass:r.TableDateProfileGenerator,multiMonthMinWidth:350,multiMonthMaxColumns:3},multiMonthYear:{type:"multiMonth",duration:{years:1},fixedWeekCount:!0,showNonCurrentDates:!1}}})},"./node_modules/@fullcalendar/timegrid/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var o=n("./node_modules/@fullcalendar/core/index.js"),r=n("./node_modules/@fullcalendar/timegrid/internal.js");const i={allDaySlot:Boolean};var s=(0,o.createPlugin)({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:i,views:{timeGrid:{component:r.DayTimeColsView,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}})},"./node_modules/@fullcalendar/timegrid/internal.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DayTimeCols:()=>L,DayTimeColsSlicer:()=>N,DayTimeColsView:()=>H,TimeCols:()=>P,TimeColsSlatsCoords:()=>p,TimeColsView:()=>h,buildDayRanges:()=>I,buildSlatMetas:()=>F,buildTimeColsModel:()=>V});var o=n("./node_modules/@fullcalendar/core/internal-common.js"),r=n("./node_modules/preact/dist/preact.module.js"),i=n("./node_modules/@fullcalendar/daygrid/internal.js");class s extends o.aY{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?(0,o.bP)(e)?["timed","allDay"]:["allDay"]:["timed"]}}const a=(0,o.w)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function l(e){let t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return(0,r.createElement)(o.V.Consumer,null,(n=>{if(!e.isLabeled)return(0,r.createElement)("td",{className:t.join(" "),"data-time":e.isoTimeStr});let{dateEnv:i,options:s,viewApi:l}=n,d=null==s.slotLabelFormat?a:Array.isArray(s.slotLabelFormat)?(0,o.w)(s.slotLabelFormat[0]):(0,o.w)(s.slotLabelFormat),u={level:0,time:e.time,date:i.toDate(e.date),view:l,text:i.format(e.date,d)};return(0,r.createElement)(o.C,{elTag:"td",elClasses:t,elAttrs:{"data-time":e.isoTimeStr},renderProps:u,generatorName:"slotLabelContent",customGenerator:s.slotLabelContent,defaultGenerator:c,classNameGenerator:s.slotLabelClassNames,didMount:s.slotLabelDidMount,willUnmount:s.slotLabelWillUnmount},(e=>(0,r.createElement)("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},(0,r.createElement)(e,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]}))))}))}function c(e){return e.text}class d extends o.X{render(){return this.props.slatMetas.map((e=>(0,r.createElement)("tr",{key:e.key},(0,r.createElement)(l,Object.assign({},e)))))}}const u=(0,o.w)({week:"short"});class h extends o.be{constructor(){super(...arguments),this.allDaySplitter=new s,this.headerElRef=(0,r.createRef)(),this.rootElRef=(0,r.createRef)(),this.scrollerElRef=(0,r.createRef)(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:n}=this.context,{dateProfile:i}=this.props,s=i.renderRange,a=1===(0,o.bl)(s.start,s.end)?(0,o.b0)(this.context,s.start,"week"):{};return n.weekNumbers&&"day"===e?(0,r.createElement)(o.cq,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:u},(e=>(0,r.createElement)("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},(0,r.createElement)(e,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:a})))):(0,r.createElement)("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},(0,r.createElement)("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:n}=this.context,i={text:t.allDayText,view:n};return(0,r.createElement)(o.C,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:m,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},(t=>(0,r.createElement)("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==e?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},(0,r.createElement)(t,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]}))))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,n){let{context:i,props:s}=this,a=[],l=(0,o.cc)(i.options);return e&&a.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(a.push({type:"body",key:"all-day",chunk:{content:t}}),a.push({type:"body",key:"all-day-divider",outerContent:(0,r.createElement)("tr",{role:"presentation",className:"fc-scrollgrid-section"},(0,r.createElement)("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),a.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(i.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:n}}),(0,r.createElement)(o.ct,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},(0,r.createElement)(o.b$,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:a}))}renderHScrollLayout(e,t,n,i,s,a,l){let c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");let{context:u,props:h}=this,m=!h.forPrint&&(0,o.cc)(u.options),p=!h.forPrint&&(0,o.cb)(u.options),f=[];e&&f.push({type:"header",key:"header",isSticky:m,syncRowHeights:!0,chunks:[{key:"axis",rowContent:e=>(0,r.createElement)("tr",{role:"presentation"},this.renderHeadAxis("day",e.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(f.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:e=>(0,r.createElement)("tr",{role:"presentation"},this.renderTableRowAxis(e.rowSyncHeights[0]))},{key:"cols",content:t}]}),f.push({key:"all-day-divider",type:"body",outerContent:(0,r.createElement)("tr",{role:"presentation",className:"fc-scrollgrid-section"},(0,r.createElement)("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));let g=u.options.nowIndicator;return f.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(u.options.expandRows),chunks:[{key:"axis",content:e=>(0,r.createElement)("div",{className:"fc-timegrid-axis-chunk"},(0,r.createElement)("table",{"aria-hidden":!0,style:{height:e.expandRows?e.clientHeight:""}},e.tableColGroupNode,(0,r.createElement)("tbody",null,(0,r.createElement)(d,{slatMetas:a}))),(0,r.createElement)("div",{className:"fc-timegrid-now-indicator-container"},(0,r.createElement)(o.ch,{unit:g?"minute":"day"},(e=>{let t=g&&l&&l.safeComputeTop(e);return"number"==typeof t?(0,r.createElement)(o.ck,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:t},isAxis:!0,date:e}):null}))))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),p&&f.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:o.ca},{key:"cols",content:o.ca}]}),(0,r.createElement)(o.ct,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:u.viewSpec},(0,r.createElement)(c,{liquid:!h.isHeightAuto&&!h.forPrint,forPrint:h.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:s}]}],sections:f}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return!0!==e&&!0!==t||(e=void 0,t=5),{dayMaxEvents:e,dayMaxEventRows:t}}}function m(e){return e.text}class p{constructor(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}safeComputeTop(e){let{dateProfile:t}=this;if((0,o.G)(t.currentRange,e)){let n=(0,o.o)(e),r=e.valueOf()-n.valueOf();if(r>=(0,o.bs)(t.slotMinTime)&&r<(0,o.bs)(t.slotMaxTime))return this.computeTimeTop((0,o.d)(r))}return null}computeDateTop(e,t){return t||(t=(0,o.o)(e)),this.computeTimeTop((0,o.d)(e.valueOf()-t.valueOf()))}computeTimeTop(e){let t,n,{positions:r,dateProfile:i}=this,s=r.els.length,a=(e.milliseconds-(0,o.bs)(i.slotMinTime))/(0,o.bs)(this.slotDuration);return a=Math.max(0,a),a=Math.min(s,a),t=Math.floor(a),t=Math.min(t,s-1),n=a-t,r.tops[t]+r.getHeight(t)*n}}class f extends o.X{render(){let{props:e,context:t}=this,{options:n}=t,{slatElRefs:i}=e;return(0,r.createElement)("tbody",null,e.slatMetas.map(((s,a)=>{let c={time:s.time,date:t.dateEnv.toDate(s.date),view:t.viewApi};return(0,r.createElement)("tr",{key:s.key,ref:i.createRef(s.key)},e.axis&&(0,r.createElement)(l,Object.assign({},s)),(0,r.createElement)(o.C,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:c,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))})))}}class g extends o.X{constructor(){super(...arguments),this.rootElRef=(0,r.createRef)(),this.slatElRefs=new o.cf}render(){let{props:e,context:t}=this;return(0,r.createElement)("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},(0,r.createElement)("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,(0,r.createElement)(f,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;if(t.onCoords&&null!==t.clientWidth){this.rootElRef.current.offsetHeight&&t.onCoords(new p(new o.ba(this.rootElRef.current,(n=this.slatElRefs.currentMap,t.slatMetas.map((e=>n[e.key]))),!1,!0),this.props.dateProfile,e.options.slotDuration))}var n}}function v(e,t){let n,o=[];for(n=0;n<t;n+=1)o.push([]);if(e)for(n=0;n<e.length;n+=1)o[e[n].col].push(e[n]);return o}function b(e,t){let n=[];if(e){for(let o=0;o<t;o+=1)n[o]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)n[t.col].segs.push(t)}else for(let e=0;e<t;e+=1)n[e]=null;return n}class y extends o.X{render(){let{props:e}=this;return(0,r.createElement)(o.cr,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>T(e.hiddenSegs,e),defaultGenerator:w,forceTimed:!0},(e=>(0,r.createElement)(e,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]})))}}function w(e){return e.shortText}function x(e,t,n){let r=new o.bA;null!=t&&(r.strictOrder=t),null!=n&&(r.maxStackCnt=n);let i=r.addSegs(e),s=(0,o.bE)(i),a=function(e){const{entriesByLevel:t}=e,n=j(((e,t)=>e+":"+t),((r,i)=>{let s=function(e,t,n){let{levelCoords:r,entriesByLevel:i}=e,s=i[t][n],a=r[t]+s.thickness,l=r.length,c=t;for(;c<l&&r[c]<a;c+=1);for(;c<l;c+=1){let e,t=i[c],n=(0,o.bD)(t,s.span.start,o.bC),r=n[0]+n[1],a=r;for(;(e=t[a])&&e.span.start<s.span.end;)a+=1;if(r<a)return{level:c,lateralStart:r,lateralEnd:a}}return null}(e,r,i),a=_(s,n),l=t[r][i];return[Object.assign(Object.assign({},l),{nextLevelNodes:a[0]}),l.thickness+a[1]]}));return _(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,n)[0]}(r);return a=function(e,t){const n=j(((e,t,n)=>(0,o.bB)(e)),((e,o,r)=>{let i,{nextLevelNodes:s,thickness:a}=e,l=a+r,c=a/l,d=[];if(s.length)for(let e of s)if(void 0===i){let t=n(e,o,l);i=t[0],d.push(t[1])}else{let t=n(e,i,0);d.push(t[1])}else i=t;let u=(i-o)*c;return[i-u,Object.assign(Object.assign({},e),{thickness:u,nextLevelNodes:d})]}));return e.map((e=>n(e,0,0)[1]))}(a,1),{segRects:function(e){let t=[];const n=j(((e,t,n)=>(0,o.bB)(e)),((e,n,o)=>{let i=Object.assign(Object.assign({},e),{levelCoord:n,stackDepth:o,stackForward:0});return t.push(i),i.stackForward=r(e.nextLevelNodes,n+e.thickness,o+1)+1}));function r(e,t,o){let r=0;for(let i of e)r=Math.max(n(i,t,o),r);return r}return r(e,0,0),t}(a),hiddenGroups:s}}function _(e,t){if(!e)return[[],0];let{level:n,lateralStart:o,lateralEnd:r}=e,i=o,s=[];for(;i<r;)s.push(t(n,i)),i+=1;return s.sort(S),[s.map(C),s[0][1]]}function S(e,t){return t[1]-e[1]}function C(e){return e[0]}function j(e,t){const n={};return(...o)=>{let r=e(...o);return r in n?n[r]:n[r]=t(...o)}}function k(e,t,n=null,o=0){let r=[];if(n)for(let i=0;i<e.length;i+=1){let s=e[i],a=n.computeDateTop(s.start,t),l=Math.max(a+(o||0),n.computeDateTop(s.end,t));r.push({start:Math.round(a),end:Math.round(l)})}return r}const E=(0,o.w)({hour:"numeric",minute:"2-digit",meridiem:!1});class O extends o.X{render(){return(0,r.createElement)(o.cj,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:E}))}}class A extends o.X{constructor(){super(...arguments),this.sortEventSegs=(0,o.y)(o.bR)}render(){let{props:e,context:t}=this,{options:n}=t,i=n.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],a=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},l=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return(0,r.createElement)(o.cl,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},(t=>(0,r.createElement)("div",{className:"fc-timegrid-col-frame"},(0,r.createElement)("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),(0,r.createElement)("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,a,!1,!1,!1)),(0,r.createElement)("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},Boolean(e.eventDrag),Boolean(e.eventResize),Boolean(i))),(0,r.createElement)("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),(0,o.cm)(n)&&(0,r.createElement)(t,{elTag:"div",elClasses:["fc-timegrid-col-misc"]}))))}renderFgSegs(e,t,n,o,r){let{props:i}=this;return i.forPrint?T(e,i):this.renderPositionedFgSegs(e,t,n,o,r)}renderPositionedFgSegs(e,t,n,i,s){let{eventMaxStack:a,eventShortHeight:l,eventOrderStrict:c,eventMinHeight:d}=this.context.options,{date:u,slatCoords:h,eventSelection:m,todayRange:p,nowDate:f}=this.props,g=n||i||s,v=k(e,u,h,d),{segPlacements:b,hiddenGroups:y}=function(e,t,n,o){let r=[],i=[];for(let n=0;n<e.length;n+=1){let o=t[n];o?r.push({index:n,thickness:1,span:o}):i.push(e[n])}let{segRects:s,hiddenGroups:a}=x(r,n,o),l=[];for(let t of s)l.push({seg:e[t.index],rect:t});for(let e of i)l.push({seg:e,rect:null});return{segPlacements:l,hiddenGroups:a}}(e,v,c,a);return(0,r.createElement)(r.Fragment,null,this.renderHiddenGroups(y,e),b.map((e=>{let{seg:a,rect:c}=e,d=a.eventRange.instance.instanceId,u=g||Boolean(!t[d]&&c),h=D(c&&c.span),v=!g&&c?this.computeSegHStyle(c):{left:0,right:0},b=Boolean(c)&&c.stackForward>0,y=Boolean(c)&&c.span.end-c.span.start<l;return(0,r.createElement)("div",{className:"fc-timegrid-event-harness"+(b?" fc-timegrid-event-harness-inset":""),key:d,style:Object.assign(Object.assign({visibility:u?"":"hidden"},h),v)},(0,r.createElement)(O,Object.assign({seg:a,isDragging:n,isResizing:i,isDateSelecting:s,isSelected:d===m,isShort:y},(0,o.bS)(a,p,f))))})))}renderHiddenGroups(e,t){let{extraDateSpan:n,dateProfile:i,todayRange:s,nowDate:a,eventSelection:l,eventDrag:c,eventResize:d}=this.props;return(0,r.createElement)(r.Fragment,null,e.map((e=>{let u=D(e.span),h=(m=e.entries,p=t,m.map((e=>p[e.index])));var m,p;return(0,r.createElement)(y,{key:(0,o.bw)((0,o.cs)(h)),hiddenSegs:h,top:u.top,bottom:u.bottom,extraDateSpan:n,dateProfile:i,todayRange:s,nowDate:a,eventSelection:l,eventDrag:c,eventResize:d})})))}renderFillSegs(e,t){let{props:n,context:i}=this,s=k(e,n.date,n.slatCoords,i.options.eventMinHeight).map(((i,s)=>{let a=e[s];return(0,r.createElement)("div",{key:(0,o.bT)(a.eventRange),className:"fc-timegrid-bg-harness",style:D(i)},"bg-event"===t?(0,r.createElement)(o.cp,Object.assign({seg:a},(0,o.bS)(a,n.todayRange,n.nowDate))):(0,o.co)(t))}));return(0,r.createElement)(r.Fragment,null,s)}renderNowIndicator(e){let{slatCoords:t,date:n}=this.props;return t?e.map(((e,i)=>(0,r.createElement)(o.ck,{key:i,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(e.start,n)},isAxis:!1,date:n}))):null}computeSegHStyle(e){let t,n,{isRtl:o,options:r}=this.context,i=r.slotEventOverlap,s=e.levelCoord,a=e.levelCoord+e.thickness;i&&(a=Math.min(1,s+2*(a-s))),o?(t=1-a,n=s):(t=s,n=1-a);let l={zIndex:e.stackDepth+1,left:100*t+"%",right:100*n+"%"};return i&&!e.stackForward&&(l[o?"marginLeft":"marginRight"]=20),l}}function T(e,{todayRange:t,nowDate:n,eventSelection:i,eventDrag:s,eventResize:a}){let l=(s?s.affectedInstances:null)||(a?a.affectedInstances:null)||{};return(0,r.createElement)(r.Fragment,null,e.map((e=>{let s=e.eventRange.instance.instanceId;return(0,r.createElement)("div",{key:s,style:{visibility:l[s]?"hidden":""}},(0,r.createElement)(O,Object.assign({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===i,isShort:!1},(0,o.bS)(e,t,n))))})))}function D(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}class M extends o.X{constructor(){super(...arguments),this.splitFgEventSegs=(0,o.y)(v),this.splitBgEventSegs=(0,o.y)(v),this.splitBusinessHourSegs=(0,o.y)(v),this.splitNowIndicatorSegs=(0,o.y)(v),this.splitDateSelectionSegs=(0,o.y)(v),this.splitEventDrag=(0,o.y)(b),this.splitEventResize=(0,o.y)(b),this.rootElRef=(0,r.createRef)(),this.cellElRefs=new o.cf}render(){let{props:e,context:t}=this,n=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,i),a=this.splitBgEventSegs(e.bgEventSegs,i),l=this.splitBusinessHourSegs(e.businessHourSegs,i),c=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),d=this.splitDateSelectionSegs(e.dateSelectionSegs,i),u=this.splitEventDrag(e.eventDrag,i),h=this.splitEventResize(e.eventResize,i);return(0,r.createElement)("div",{className:"fc-timegrid-cols",ref:this.rootElRef},(0,r.createElement)("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,(0,r.createElement)("tbody",{role:"presentation"},(0,r.createElement)("tr",{role:"row"},e.axis&&(0,r.createElement)("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},(0,r.createElement)("div",{className:"fc-timegrid-col-frame"},(0,r.createElement)("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof n&&(0,r.createElement)(o.ck,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map(((t,n)=>(0,r.createElement)(A,{key:t.key,elRef:this.cellElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,fgEventSegs:s[n],bgEventSegs:a[n],businessHourSegs:l[n],nowIndicatorSegs:c[n],dateSelectionSegs:d[n],eventDrag:u[n],eventResize:h[n],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint})))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;var t;e.onColCoords&&null!==e.clientWidth&&e.onColCoords(new o.ba(this.rootElRef.current,(t=this.cellElRefs.currentMap,e.cells.map((e=>t[e.key]))),!0,!1))}}class P extends o.be{constructor(){super(...arguments),this.processSlotOptions=(0,o.y)(R),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:n}=this.state;if(t&&n){if(e.time){let o=n.computeTimeTop(e.time);o=Math.ceil(o),o&&(o+=1),t(o)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return(0,r.createElement)("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},(0,r.createElement)(g,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),(0,r.createElement)(M,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:n,options:r}=this.context,{colCoords:i}=this,{dateProfile:s}=this.props,{slatCoords:a}=this.state,{snapDuration:l,snapsPerSlot:c}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),d=i.leftToIndex(e),u=a.positions.topToIndex(t);if(null!=d&&null!=u){let e=this.props.cells[d],r=a.positions.tops[u],h=a.positions.getHeight(u),m=(t-r)/h,p=u*c+Math.floor(m*c),f=this.props.cells[d].date,g=(0,o.bp)(s.slotMinTime,(0,o.bo)(l,p)),v=n.add(f,g),b=n.add(v,l);return{dateProfile:s,dateSpan:Object.assign({range:{start:v,end:b},allDay:!1},e.extraDateSpan),dayEl:i.els[d],rect:{left:i.lefts[d],right:i.rights[d],top:r,bottom:r+h},layer:0}}return null}}function R(e,t){let n=t||e,r=(0,o.bt)(e,n);return null===r&&(n=e,r=1),{snapDuration:n,snapsPerSlot:r}}class N extends o.bW{sliceRange(e,t){let n=[];for(let r=0;r<t.length;r+=1){let i=(0,o.n)(e,t[r]);i&&n.push({start:i.start,end:i.end,isStart:i.start.valueOf()===e.start.valueOf(),isEnd:i.end.valueOf()===e.end.valueOf(),col:r})}return n}}class L extends o.be{constructor(){super(...arguments),this.buildDayRanges=(0,o.y)(I),this.slicer=new N,this.timeColsRef=(0,r.createRef)()}render(){let{props:e,context:t}=this,{dateProfile:n,dayTableModel:i}=e,{nowIndicator:s,nextDayThreshold:a}=t.options,l=this.buildDayRanges(i,n,t.dateEnv);return(0,r.createElement)(o.ch,{unit:s?"minute":"day"},((o,c)=>(0,r.createElement)(P,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,t,l),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:o,nowIndicatorSegs:s&&this.slicer.sliceNowDate(o,n,a,t,l),todayRange:c,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords}))))}}function I(e,t,n){let o=[];for(let r of e.headerDates)o.push({start:n.add(r,t.slotMinTime),end:n.add(r,t.slotMaxTime)});return o}const B=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function F(e,t,n,r,i){let s=new Date(0),a=e,l=(0,o.d)(0),c=n||function(e){let t,n,r;for(t=B.length-1;t>=0;t-=1)if(n=(0,o.d)(B[t]),r=(0,o.bt)(n,e),null!==r&&r>1)return n;return e}(r),d=[];for(;(0,o.bs)(a)<(0,o.bs)(t);){let e=i.add(s,a),t=null!==(0,o.bt)(l,c);d.push({date:e,time:a,key:e.toISOString(),isoTimeStr:(0,o.bu)(e),isLabeled:t}),a=(0,o.bp)(a,r),l=(0,o.bp)(l,r)}return d}class H extends h{constructor(){super(...arguments),this.buildTimeColsModel=(0,o.y)(V),this.buildSlatMetas=(0,o.y)(F)}render(){let{options:e,dateEnv:t,dateProfileGenerator:n}=this.context,{props:s}=this,{dateProfile:a}=s,l=this.buildTimeColsModel(a,n),c=this.allDaySplitter.splitProps(s),d=this.buildSlatMetas(a.slotMinTime,a.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:u}=e,h=!u,m=u,p=e.dayHeaders&&(0,r.createElement)(o.bK,{dates:l.headerDates,dateProfile:a,datesRepDistinctDays:!0,renderIntro:h?this.renderHeadAxis:null}),f=!1!==e.allDaySlot&&(t=>(0,r.createElement)(i.DayTable,Object.assign({},c.allDay,{dateProfile:a,dayTableModel:l,nextDayThreshold:e.nextDayThreshold,tableMinWidth:t.tableMinWidth,colGroupNode:t.tableColGroupNode,renderRowIntro:h?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:s.forPrint},this.getAllDayMaxEventProps()))),g=t=>(0,r.createElement)(L,Object.assign({},c.timed,{dayTableModel:l,dateProfile:a,axis:h,slotDuration:e.slotDuration,slatMetas:d,forPrint:s.forPrint,tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:t.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return m?this.renderHScrollLayout(p,f,g,l.colCnt,u,d,this.state.slatCoords):this.renderSimpleLayout(p,f,g)}}function V(e,t){let n=new o.bO(e.renderRange,t);return new o.bV(n,!1)}(0,o.cw)('.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}')},"./node_modules/@kurkle/color/dist/color.esm.js":(e,t,n)=>{"use strict";function o(e){return e+.5|0}n.r(t),n.d(t,{Color:()=>W,b2n:()=>l,b2p:()=>s,default:()=>q,hexParse:()=>g,hexString:()=>b,hsl2rgb:()=>j,hslString:()=>D,hsv2rgb:()=>E,hueParse:()=>A,hwb2rgb:()=>k,lim:()=>r,n2b:()=>a,n2p:()=>c,nameParse:()=>N,p2b:()=>i,rgb2hsl:()=>S,rgbParse:()=>I,rgbString:()=>B,rotate:()=>T,round:()=>o});const r=(e,t,n)=>Math.max(Math.min(e,n),t);function i(e){return r(o(2.55*e),0,255)}function s(e){return r(o(e/2.55),0,100)}function a(e){return r(o(255*e),0,255)}function l(e){return r(o(e/2.55)/100,0,1)}function c(e){return r(o(100*e),0,100)}const d={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},u=[..."0123456789ABCDEF"],h=e=>u[15&e],m=e=>u[(240&e)>>4]+u[15&e],p=e=>(240&e)>>4==(15&e),f=e=>p(e.r)&&p(e.g)&&p(e.b)&&p(e.a);function g(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*d[e[1]],g:255&17*d[e[2]],b:255&17*d[e[3]],a:5===n?17*d[e[4]]:255}:7!==n&&9!==n||(t={r:d[e[1]]<<4|d[e[2]],g:d[e[3]]<<4|d[e[4]],b:d[e[5]]<<4|d[e[6]],a:9===n?d[e[7]]<<4|d[e[8]]:255})),t}const v=(e,t)=>e<255?t(e):"";function b(e){var t=f(e)?h:m;return e?"#"+t(e.r)+t(e.g)+t(e.b)+v(e.a,t):void 0}const y=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function w(e,t,n){const o=t*Math.min(n,1-n),r=(t,r=(t+e/30)%12)=>n-o*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function x(e,t,n){const o=(o,r=(o+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[o(5),o(3),o(1)]}function _(e,t,n){const o=w(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)o[r]*=1-t-n,o[r]+=t;return o}function S(e){const t=e.r/255,n=e.g/255,o=e.b/255,r=Math.max(t,n,o),i=Math.min(t,n,o),s=(r+i)/2;let a,l,c;return r!==i&&(c=r-i,l=s>.5?c/(2-r-i):c/(r+i),a=function(e,t,n,o,r){return e===r?(t-n)/o+(t<n?6:0):t===r?(n-e)/o+2:(e-t)/o+4}(t,n,o,c,r),a=60*a+.5),[0|a,l||0,s]}function C(e,t,n,o){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,o)).map(a)}function j(e,t,n){return C(w,e,t,n)}function k(e,t,n){return C(_,e,t,n)}function E(e,t,n){return C(x,e,t,n)}function O(e){return(e%360+360)%360}function A(e){const t=y.exec(e);let n,o=255;if(!t)return;t[5]!==n&&(o=t[6]?i(+t[5]):a(+t[5]));const r=O(+t[2]),s=+t[3]/100,l=+t[4]/100;return n="hwb"===t[1]?k(r,s,l):"hsv"===t[1]?E(r,s,l):j(r,s,l),{r:n[0],g:n[1],b:n[2],a:o}}function T(e,t){var n=S(e);n[0]=O(n[0]+t),n=j(n),e.r=n[0],e.g=n[1],e.b=n[2]}function D(e){if(!e)return;const t=S(e),n=t[0],o=c(t[1]),r=c(t[2]);return e.a<255?`hsla(${n}, ${o}%, ${r}%, ${l(e.a)})`:`hsl(${n}, ${o}%, ${r}%)`}const M={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},P={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let R;function N(e){R||(R=function(){const e={},t=Object.keys(P),n=Object.keys(M);let o,r,i,s,a;for(o=0;o<t.length;o++){for(s=a=t[o],r=0;r<n.length;r++)i=n[r],a=a.replace(i,M[i]);i=parseInt(P[s],16),e[a]=[i>>16&255,i>>8&255,255&i]}return e}(),R.transparent=[0,0,0,0]);const t=R[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const L=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function I(e){const t=L.exec(e);let n,o,s,a=255;if(t){if(t[7]!==n){const e=+t[7];a=t[8]?i(e):r(255*e,0,255)}return n=+t[1],o=+t[3],s=+t[5],n=255&(t[2]?i(n):r(n,0,255)),o=255&(t[4]?i(o):r(o,0,255)),s=255&(t[6]?i(s):r(s,0,255)),{r:n,g:o,b:s,a}}}function B(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${l(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const F=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,H=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function V(e,t,n){if(e){let o=S(e);o[t]=Math.max(0,Math.min(o[t]+o[t]*n,0===t?360:1)),o=j(o),e.r=o[0],e.g=o[1],e.b=o[2]}}function z(e,t){return e?Object.assign(t||{},e):e}function U(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=a(e[3]))):(t=z(e,{r:0,g:0,b:0,a:1})).a=a(t.a),t}class W{constructor(e){if(e instanceof W)return e;const t=typeof e;let n;var o;"object"===t?n=U(e):"string"===t&&(n=g(e)||N(e)||("r"===(o=e).charAt(0)?I(o):A(o))),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=z(this._rgb);return e&&(e.a=l(e.a)),e}set rgb(e){this._rgb=U(e)}rgbString(){return this._valid?B(this._rgb):void 0}hexString(){return this._valid?b(this._rgb):void 0}hslString(){return this._valid?D(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,o=e.rgb;let r;const i=t===r?.5:t,s=2*i-1,a=n.a-o.a,l=((s*a==-1?s:(s+a)/(1+s*a))+1)/2;r=1-l,n.r=255&l*n.r+r*o.r+.5,n.g=255&l*n.g+r*o.g+.5,n.b=255&l*n.b+r*o.b+.5,n.a=i*n.a+(1-i)*o.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const o=H(l(e.r)),r=H(l(e.g)),i=H(l(e.b));return{r:a(F(o+n*(H(l(t.r))-o))),g:a(F(r+n*(H(l(t.g))-r))),b:a(F(i+n*(H(l(t.b))-i))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new W(this.rgb)}alpha(e){return this._rgb.a=a(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=o(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return V(this._rgb,2,e),this}darken(e){return V(this._rgb,2,-e),this}saturate(e){return V(this._rgb,1,e),this}desaturate(e){return V(this._rgb,1,-e),this}rotate(e){return T(this._rgb,e),this}}function q(e){return new W(e)}},"./node_modules/axios/lib/adapters/adapters.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var o=n("./node_modules/axios/lib/utils.js"),r=n("./node_modules/axios/lib/helpers/null.js"),i=n("./node_modules/axios/lib/adapters/xhr.js"),s=n("./node_modules/axios/lib/core/AxiosError.js");const a={http:r.default,xhr:i.default};o.default.forEach(a,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const l={getAdapter:e=>{e=o.default.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let i=0;i<t&&(n=e[i],!(r=o.default.isString(n)?a[n.toLowerCase()]:n));i++);if(!r){if(!1===r)throw new s.default(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(o.default.hasOwnProp(a,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!o.default.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:a}},"./node_modules/axios/lib/adapters/xhr.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var o=n("./node_modules/axios/lib/utils.js"),r=n("./node_modules/axios/lib/core/settle.js"),i=n("./node_modules/axios/lib/helpers/cookies.js"),s=n("./node_modules/axios/lib/helpers/buildURL.js"),a=n("./node_modules/axios/lib/core/buildFullPath.js"),l=n("./node_modules/axios/lib/helpers/isURLSameOrigin.js"),c=n("./node_modules/axios/lib/defaults/transitional.js"),d=n("./node_modules/axios/lib/core/AxiosError.js"),u=n("./node_modules/axios/lib/cancel/CanceledError.js"),h=n("./node_modules/axios/lib/helpers/parseProtocol.js"),m=n("./node_modules/axios/lib/platform/browser/index.js"),p=n("./node_modules/axios/lib/core/AxiosHeaders.js"),f=n("./node_modules/axios/lib/helpers/speedometer.js");function g(e,t){let n=0;const o=(0,f.default)(50,250);return r=>{const i=r.loaded,s=r.lengthComputable?r.total:void 0,a=i-n,l=o(a);n=i;const c={loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&i<=s?(s-i)/l:void 0,event:r};c[t?"download":"upload"]=!0,e(c)}}const v="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let f=e.data;const v=p.default.from(e.headers).normalize(),b=e.responseType;let y;function w(){e.cancelToken&&e.cancelToken.unsubscribe(y),e.signal&&e.signal.removeEventListener("abort",y)}o.default.isFormData(f)&&(m.default.isStandardBrowserEnv||m.default.isStandardBrowserWebWorkerEnv?v.setContentType(!1):v.setContentType("multipart/form-data;",!1));let x=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.set("Authorization","Basic "+btoa(t+":"+n))}const _=(0,a.default)(e.baseURL,e.url);function S(){if(!x)return;const o=p.default.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),i={data:b&&"text"!==b&&"json"!==b?x.response:x.responseText,status:x.status,statusText:x.statusText,headers:o,config:e,request:x};(0,r.default)((function(e){t(e),w()}),(function(e){n(e),w()}),i),x=null}if(x.open(e.method.toUpperCase(),(0,s.default)(_,e.params,e.paramsSerializer),!0),x.timeout=e.timeout,"onloadend"in x?x.onloadend=S:x.onreadystatechange=function(){x&&4===x.readyState&&(0!==x.status||x.responseURL&&0===x.responseURL.indexOf("file:"))&&setTimeout(S)},x.onabort=function(){x&&(n(new d.default("Request aborted",d.default.ECONNABORTED,e,x)),x=null)},x.onerror=function(){n(new d.default("Network Error",d.default.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const o=e.transitional||c.default;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new d.default(t,o.clarifyTimeoutError?d.default.ETIMEDOUT:d.default.ECONNABORTED,e,x)),x=null},m.default.isStandardBrowserEnv){const t=(e.withCredentials||(0,l.default)(_))&&e.xsrfCookieName&&i.default.read(e.xsrfCookieName);t&&v.set(e.xsrfHeaderName,t)}void 0===f&&v.setContentType(null),"setRequestHeader"in x&&o.default.forEach(v.toJSON(),(function(e,t){x.setRequestHeader(t,e)})),o.default.isUndefined(e.withCredentials)||(x.withCredentials=!!e.withCredentials),b&&"json"!==b&&(x.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&x.addEventListener("progress",g(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&x.upload&&x.upload.addEventListener("progress",g(e.onUploadProgress)),(e.cancelToken||e.signal)&&(y=t=>{x&&(n(!t||t.type?new u.default(null,e,x):t),x.abort(),x=null)},e.cancelToken&&e.cancelToken.subscribe(y),e.signal&&(e.signal.aborted?y():e.signal.addEventListener("abort",y)));const C=(0,h.default)(_);C&&-1===m.default.protocols.indexOf(C)?n(new d.default("Unsupported protocol "+C+":",d.default.ERR_BAD_REQUEST,e)):x.send(f||null)}))}},"./node_modules/axios/lib/axios.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var o=n("./node_modules/axios/lib/utils.js"),r=n("./node_modules/axios/lib/helpers/bind.js"),i=n("./node_modules/axios/lib/core/Axios.js"),s=n("./node_modules/axios/lib/core/mergeConfig.js"),a=n("./node_modules/axios/lib/defaults/index.js"),l=n("./node_modules/axios/lib/helpers/formDataToJSON.js"),c=n("./node_modules/axios/lib/cancel/CanceledError.js"),d=n("./node_modules/axios/lib/cancel/CancelToken.js"),u=n("./node_modules/axios/lib/cancel/isCancel.js"),h=n("./node_modules/axios/lib/env/data.js"),m=n("./node_modules/axios/lib/helpers/toFormData.js"),p=n("./node_modules/axios/lib/core/AxiosError.js"),f=n("./node_modules/axios/lib/helpers/spread.js"),g=n("./node_modules/axios/lib/helpers/isAxiosError.js"),v=n("./node_modules/axios/lib/core/AxiosHeaders.js"),b=n("./node_modules/axios/lib/helpers/HttpStatusCode.js");const y=function e(t){const n=new i.default(t),a=(0,r.default)(i.default.prototype.request,n);return o.default.extend(a,i.default.prototype,n,{allOwnKeys:!0}),o.default.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e((0,s.default)(t,n))},a}(a.default);y.Axios=i.default,y.CanceledError=c.default,y.CancelToken=d.default,y.isCancel=u.default,y.VERSION=h.VERSION,y.toFormData=m.default,y.AxiosError=p.default,y.Cancel=y.CanceledError,y.all=function(e){return Promise.all(e)},y.spread=f.default,y.isAxiosError=g.default,y.mergeConfig=s.default,y.AxiosHeaders=v.default,y.formToJSON=e=>(0,l.default)(o.default.isHTMLForm(e)?new FormData(e):e),y.HttpStatusCode=b.default,y.default=y;const w=y},"./node_modules/axios/lib/cancel/CancelToken.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n("./node_modules/axios/lib/cancel/CanceledError.js");class r{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const o=new Promise((e=>{n.subscribe(e),t=e})).then(e);return o.cancel=function(){n.unsubscribe(t)},o},e((function(e,r,i){n.reason||(n.reason=new o.default(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new r((function(t){e=t})),cancel:e}}}const i=r},"./node_modules/axios/lib/cancel/CanceledError.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n("./node_modules/axios/lib/core/AxiosError.js");function r(e,t,n){o.default.call(this,null==e?"canceled":e,o.default.ERR_CANCELED,t,n),this.name="CanceledError"}n("./node_modules/axios/lib/utils.js").default.inherits(r,o.default,{__CANCEL__:!0});const i=r},"./node_modules/axios/lib/cancel/isCancel.js":(e,t,n)=>{"use strict";function o(e){return!(!e||!e.__CANCEL__)}n.r(t),n.d(t,{default:()=>o})},"./node_modules/axios/lib/core/Axios.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var o=n("./node_modules/axios/lib/utils.js"),r=n("./node_modules/axios/lib/helpers/buildURL.js"),i=n("./node_modules/axios/lib/core/InterceptorManager.js"),s=n("./node_modules/axios/lib/core/dispatchRequest.js"),a=n("./node_modules/axios/lib/core/mergeConfig.js"),l=n("./node_modules/axios/lib/core/buildFullPath.js"),c=n("./node_modules/axios/lib/helpers/validator.js"),d=n("./node_modules/axios/lib/core/AxiosHeaders.js");const u=c.default.validators;class h{constructor(e){this.defaults=e,this.interceptors={request:new i.default,response:new i.default}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=(0,a.default)(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;let l;void 0!==n&&c.default.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1),null!=r&&(o.default.isFunction(r)?t.paramsSerializer={serialize:r}:c.default.assertOptions(r,{encode:u.function,serialize:u.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),l=i&&o.default.merge(i.common,i[t.method]),l&&o.default.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=d.default.concat(l,i);const h=[];let m=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(m=m&&e.synchronous,h.unshift(e.fulfilled,e.rejected))}));const p=[];let f;this.interceptors.response.forEach((function(e){p.push(e.fulfilled,e.rejected)}));let g,v=0;if(!m){const e=[s.default.bind(this),void 0];for(e.unshift.apply(e,h),e.push.apply(e,p),g=e.length,f=Promise.resolve(t);v<g;)f=f.then(e[v++],e[v++]);return f}g=h.length;let b=t;for(v=0;v<g;){const e=h[v++],t=h[v++];try{b=e(b)}catch(e){t.call(this,e);break}}try{f=s.default.call(this,b)}catch(e){return Promise.reject(e)}for(v=0,g=p.length;v<g;)f=f.then(p[v++],p[v++]);return f}getUri(e){e=(0,a.default)(this.defaults,e);const t=(0,l.default)(e.baseURL,e.url);return(0,r.default)(t,e.params,e.paramsSerializer)}}o.default.forEach(["delete","get","head","options"],(function(e){h.prototype[e]=function(t,n){return this.request((0,a.default)(n||{},{method:e,url:t,data:(n||{}).data}))}})),o.default.forEach(["post","put","patch"],(function(e){function t(t){return function(n,o,r){return this.request((0,a.default)(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:o}))}}h.prototype[e]=t(),h.prototype[e+"Form"]=t(!0)}));const m=h},"./node_modules/axios/lib/core/AxiosError.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var o=n("./node_modules/axios/lib/utils.js");function r(e,t,n,o,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),r&&(this.response=r)}o.default.inherits(r,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:o.default.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const i=r.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{s[e]={value:e}})),Object.defineProperties(r,s),Object.defineProperty(i,"isAxiosError",{value:!0}),r.from=(e,t,n,s,a,l)=>{const c=Object.create(i);return o.default.toFlatObject(e,c,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),r.call(c,e.message,t,n,s,a),c.cause=e,c.name=e.name,l&&Object.assign(c,l),c};const a=r},"./node_modules/axios/lib/core/AxiosHeaders.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var o=n("./node_modules/axios/lib/utils.js"),r=n("./node_modules/axios/lib/helpers/parseHeaders.js");const i=Symbol("internals");function s(e){return e&&String(e).trim().toLowerCase()}function a(e){return!1===e||null==e?e:o.default.isArray(e)?e.map(a):String(e)}function l(e,t,n,r,i){return o.default.isFunction(r)?r.call(this,t,n):(i&&(t=n),o.default.isString(t)?o.default.isString(r)?-1!==t.indexOf(r):o.default.isRegExp(r)?r.test(t):void 0:void 0)}class c{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function l(e,t,n){const r=s(t);if(!r)throw new Error("header name must be a non-empty string");const l=o.default.findKey(i,r);(!l||void 0===i[l]||!0===n||void 0===n&&!1!==i[l])&&(i[l||t]=a(e))}const c=(e,t)=>o.default.forEach(e,((e,n)=>l(e,n,t)));return o.default.isPlainObject(e)||e instanceof this.constructor?c(e,t):o.default.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?c((0,r.default)(e),t):null!=e&&l(t,e,n),this}get(e,t){if(e=s(e)){const n=o.default.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(e);)t[o[1]]=o[2];return t}(e);if(o.default.isFunction(t))return t.call(this,e,n);if(o.default.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=s(e)){const n=o.default.findKey(this,e);return!(!n||void 0===this[n]||t&&!l(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=s(e)){const i=o.default.findKey(n,e);!i||t&&!l(0,n[i],i,t)||(delete n[i],r=!0)}}return o.default.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,o=!1;for(;n--;){const r=t[n];e&&!l(0,this[r],r,e,!0)||(delete this[r],o=!0)}return o}normalize(e){const t=this,n={};return o.default.forEach(this,((r,i)=>{const s=o.default.findKey(n,i);if(s)return t[s]=a(r),void delete t[i];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();l!==i&&delete t[i],t[l]=a(r),n[l]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return o.default.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&o.default.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[i]=this[i]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=s(e);t[r]||(!function(e,t){const n=o.default.toCamelCase(" "+t);["get","set","has"].forEach((o=>{Object.defineProperty(e,o+n,{value:function(e,n,r){return this[o].call(this,t,e,n,r)},configurable:!0})}))}(n,e),t[r]=!0)}return o.default.isArray(e)?e.forEach(r):r(e),this}}c.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),o.default.freezeMethods(c.prototype),o.default.freezeMethods(c);const d=c},"./node_modules/axios/lib/core/InterceptorManager.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n("./node_modules/axios/lib/utils.js");const r=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){o.default.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}},"./node_modules/axios/lib/core/buildFullPath.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var o=n("./node_modules/axios/lib/helpers/isAbsoluteURL.js"),r=n("./node_modules/axios/lib/helpers/combineURLs.js");function i(e,t){return e&&!(0,o.default)(t)?(0,r.default)(e,t):t}},"./node_modules/axios/lib/core/dispatchRequest.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var o=n("./node_modules/axios/lib/core/transformData.js"),r=n("./node_modules/axios/lib/cancel/isCancel.js"),i=n("./node_modules/axios/lib/defaults/index.js"),s=n("./node_modules/axios/lib/cancel/CanceledError.js"),a=n("./node_modules/axios/lib/core/AxiosHeaders.js"),l=n("./node_modules/axios/lib/adapters/adapters.js");function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s.default(null,e)}function d(e){c(e),e.headers=a.default.from(e.headers),e.data=o.default.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return l.default.getAdapter(e.adapter||i.default.adapter)(e).then((function(t){return c(e),t.data=o.default.call(e,e.transformResponse,t),t.headers=a.default.from(t.headers),t}),(function(t){return(0,r.default)(t)||(c(e),t&&t.response&&(t.response.data=o.default.call(e,e.transformResponse,t.response),t.response.headers=a.default.from(t.response.headers))),Promise.reject(t)}))}},"./node_modules/axios/lib/core/mergeConfig.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var o=n("./node_modules/axios/lib/utils.js"),r=n("./node_modules/axios/lib/core/AxiosHeaders.js");const i=e=>e instanceof r.default?e.toJSON():e;function s(e,t){t=t||{};const n={};function r(e,t,n){return o.default.isPlainObject(e)&&o.default.isPlainObject(t)?o.default.merge.call({caseless:n},e,t):o.default.isPlainObject(t)?o.default.merge({},t):o.default.isArray(t)?t.slice():t}function s(e,t,n){return o.default.isUndefined(t)?o.default.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!o.default.isUndefined(t))return r(void 0,t)}function l(e,t){return o.default.isUndefined(t)?o.default.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function c(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const d={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(e,t)=>s(i(e),i(t),!0)};return o.default.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=d[r]||s,a=i(e[r],t[r],r);o.default.isUndefined(a)&&i!==c||(n[r]=a)})),n}},"./node_modules/axios/lib/core/settle.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n("./node_modules/axios/lib/core/AxiosError.js");function r(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new o.default("Request failed with status code "+n.status,[o.default.ERR_BAD_REQUEST,o.default.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},"./node_modules/axios/lib/core/transformData.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var o=n("./node_modules/axios/lib/utils.js"),r=n("./node_modules/axios/lib/defaults/index.js"),i=n("./node_modules/axios/lib/core/AxiosHeaders.js");function s(e,t){const n=this||r.default,s=t||n,a=i.default.from(s.headers);let l=s.data;return o.default.forEach(e,(function(e){l=e.call(n,l,a.normalize(),t?t.status:void 0)})),a.normalize(),l}},"./node_modules/axios/lib/defaults/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var o=n("./node_modules/axios/lib/utils.js"),r=n("./node_modules/axios/lib/core/AxiosError.js"),i=n("./node_modules/axios/lib/defaults/transitional.js"),s=n("./node_modules/axios/lib/helpers/toFormData.js"),a=n("./node_modules/axios/lib/helpers/toURLEncodedForm.js"),l=n("./node_modules/axios/lib/platform/browser/index.js"),c=n("./node_modules/axios/lib/helpers/formDataToJSON.js");const d={"Content-Type":void 0};const u={transitional:i.default,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=o.default.isObject(e);i&&o.default.isHTMLForm(e)&&(e=new FormData(e));if(o.default.isFormData(e))return r&&r?JSON.stringify((0,c.default)(e)):e;if(o.default.isArrayBuffer(e)||o.default.isBuffer(e)||o.default.isStream(e)||o.default.isFile(e)||o.default.isBlob(e))return e;if(o.default.isArrayBufferView(e))return e.buffer;if(o.default.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return(0,a.default)(e,this.formSerializer).toString();if((l=o.default.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return(0,s.default)(l?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(o.default.isString(e))try{return(t||JSON.parse)(e),o.default.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||u.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(e&&o.default.isString(e)&&(n&&!this.responseType||i)){const n=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw r.default.from(e,r.default.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:l.default.classes.FormData,Blob:l.default.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.default.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),o.default.forEach(["post","put","patch"],(function(e){u.headers[e]=o.default.merge(d)}));const h=u},"./node_modules/axios/lib/defaults/transitional.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},"./node_modules/axios/lib/env/data.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{VERSION:()=>o});const o="1.4.0"},"./node_modules/axios/lib/helpers/AxiosURLSearchParams.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var o=n("./node_modules/axios/lib/helpers/toFormData.js");function r(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function i(e,t){this._pairs=[],e&&(0,o.default)(e,this,t)}const s=i.prototype;s.append=function(e,t){this._pairs.push([e,t])},s.toString=function(e){const t=e?function(t){return e.call(this,t,r)}:r;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const a=i},"./node_modules/axios/lib/helpers/HttpStatusCode.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const o={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(o).forEach((([e,t])=>{o[t]=e}));const r=o},"./node_modules/axios/lib/helpers/bind.js":(e,t,n)=>{"use strict";function o(e,t){return function(){return e.apply(t,arguments)}}n.r(t),n.d(t,{default:()=>o})},"./node_modules/axios/lib/helpers/buildURL.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var o=n("./node_modules/axios/lib/utils.js"),r=n("./node_modules/axios/lib/helpers/AxiosURLSearchParams.js");function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function s(e,t,n){if(!t)return e;const s=n&&n.encode||i,a=n&&n.serialize;let l;if(l=a?a(t,n):o.default.isURLSearchParams(t)?t.toString():new r.default(t,n).toString(s),l){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+l}return e}},"./node_modules/axios/lib/helpers/combineURLs.js":(e,t,n)=>{"use strict";function o(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}n.r(t),n.d(t,{default:()=>o})},"./node_modules/axios/lib/helpers/cookies.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n("./node_modules/axios/lib/utils.js");const r=n("./node_modules/axios/lib/platform/browser/index.js").default.isStandardBrowserEnv?{write:function(e,t,n,r,i,s){const a=[];a.push(e+"="+encodeURIComponent(t)),o.default.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),o.default.isString(r)&&a.push("path="+r),o.default.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},"./node_modules/axios/lib/helpers/formDataToJSON.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n("./node_modules/axios/lib/utils.js");const r=function(e){function t(e,n,r,i){let s=e[i++];const a=Number.isFinite(+s),l=i>=e.length;if(s=!s&&o.default.isArray(r)?r.length:s,l)return o.default.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!a;r[s]&&o.default.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&o.default.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let o;const r=n.length;let i;for(o=0;o<r;o++)i=n[o],t[i]=e[i];return t}(r[s])),!a}if(o.default.isFormData(e)&&o.default.isFunction(e.entries)){const n={};return o.default.forEachEntry(e,((e,r)=>{t(function(e){return o.default.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null}},"./node_modules/axios/lib/helpers/isAbsoluteURL.js":(e,t,n)=>{"use strict";function o(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}n.r(t),n.d(t,{default:()=>o})},"./node_modules/axios/lib/helpers/isAxiosError.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n("./node_modules/axios/lib/utils.js");function r(e){return o.default.isObject(e)&&!0===e.isAxiosError}},"./node_modules/axios/lib/helpers/isURLSameOrigin.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n("./node_modules/axios/lib/utils.js");const r=n("./node_modules/axios/lib/platform/browser/index.js").default.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let o=n;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=o.default.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0}},"./node_modules/axios/lib/helpers/null.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o=null},"./node_modules/axios/lib/helpers/parseHeaders.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const o=n("./node_modules/axios/lib/utils.js").default.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),r=e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&o[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t}},"./node_modules/axios/lib/helpers/parseProtocol.js":(e,t,n)=>{"use strict";function o(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}n.r(t),n.d(t,{default:()=>o})},"./node_modules/axios/lib/helpers/speedometer.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o=function(e,t){e=e||10;const n=new Array(e),o=new Array(e);let r,i=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=o[s];r||(r=l),n[i]=a,o[i]=l;let d=s,u=0;for(;d!==i;)u+=n[d++],d%=e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),l-r<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}}},"./node_modules/axios/lib/helpers/spread.js":(e,t,n)=>{"use strict";function o(e){return function(t){return e.apply(null,t)}}n.r(t),n.d(t,{default:()=>o})},"./node_modules/axios/lib/helpers/toFormData.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var o=n("./node_modules/axios/lib/utils.js"),r=n("./node_modules/axios/lib/core/AxiosError.js"),i=n("./node_modules/axios/lib/helpers/null.js");function s(e){return o.default.isPlainObject(e)||o.default.isArray(e)}function a(e){return o.default.endsWith(e,"[]")?e.slice(0,-2):e}function l(e,t,n){return e?e.concat(t).map((function(e,t){return e=a(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const c=o.default.toFlatObject(o.default,{},null,(function(e){return/^is[A-Z]/.test(e)}));const d=function(e,t,n){if(!o.default.isObject(e))throw new TypeError("target must be an object");t=t||new(i.default||FormData);const d=(n=o.default.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!o.default.isUndefined(t[e])}))).metaTokens,u=n.visitor||g,h=n.dots,m=n.indexes,p=(n.Blob||"undefined"!=typeof Blob&&Blob)&&o.default.isSpecCompliantForm(t);if(!o.default.isFunction(u))throw new TypeError("visitor must be a function");function f(e){if(null===e)return"";if(o.default.isDate(e))return e.toISOString();if(!p&&o.default.isBlob(e))throw new r.default("Blob is not supported. Use a Buffer instead.");return o.default.isArrayBuffer(e)||o.default.isTypedArray(e)?p&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function g(e,n,r){let i=e;if(e&&!r&&"object"==typeof e)if(o.default.endsWith(n,"{}"))n=d?n:n.slice(0,-2),e=JSON.stringify(e);else if(o.default.isArray(e)&&function(e){return o.default.isArray(e)&&!e.some(s)}(e)||(o.default.isFileList(e)||o.default.endsWith(n,"[]"))&&(i=o.default.toArray(e)))return n=a(n),i.forEach((function(e,r){!o.default.isUndefined(e)&&null!==e&&t.append(!0===m?l([n],r,h):null===m?n:n+"[]",f(e))})),!1;return!!s(e)||(t.append(l(r,n,h),f(e)),!1)}const v=[],b=Object.assign(c,{defaultVisitor:g,convertValue:f,isVisitable:s});if(!o.default.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!o.default.isUndefined(n)){if(-1!==v.indexOf(n))throw Error("Circular reference detected in "+r.join("."));v.push(n),o.default.forEach(n,(function(n,i){!0===(!(o.default.isUndefined(n)||null===n)&&u.call(t,n,o.default.isString(i)?i.trim():i,r,b))&&e(n,r?r.concat(i):[i])})),v.pop()}}(e),t}},"./node_modules/axios/lib/helpers/toURLEncodedForm.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var o=n("./node_modules/axios/lib/utils.js"),r=n("./node_modules/axios/lib/helpers/toFormData.js"),i=n("./node_modules/axios/lib/platform/browser/index.js");function s(e,t){return(0,r.default)(e,new i.default.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return i.default.isNode&&o.default.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}},"./node_modules/axios/lib/helpers/validator.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var o=n("./node_modules/axios/lib/env/data.js"),r=n("./node_modules/axios/lib/core/AxiosError.js");const i={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const s={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+o.VERSION+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,a)=>{if(!1===e)throw new r.default(i(o," has been removed"+(t?" in "+t:"")),r.default.ERR_DEPRECATED);return t&&!s[o]&&(s[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,a)}};const a={assertOptions:function(e,t,n){if("object"!=typeof e)throw new r.default("options must be an object",r.default.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let i=o.length;for(;i-- >0;){const s=o[i],a=t[s];if(a){const t=e[s],n=void 0===t||a(t,s,e);if(!0!==n)throw new r.default("option "+s+" must be "+n,r.default.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new r.default("Unknown option "+s,r.default.ERR_BAD_OPTION)}},validators:i}},"./node_modules/axios/lib/platform/browser/classes/Blob.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o="undefined"!=typeof Blob?Blob:null},"./node_modules/axios/lib/platform/browser/classes/FormData.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const o="undefined"!=typeof FormData?FormData:null},"./node_modules/axios/lib/platform/browser/classes/URLSearchParams.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n("./node_modules/axios/lib/helpers/AxiosURLSearchParams.js");const r="undefined"!=typeof URLSearchParams?URLSearchParams:o.default},"./node_modules/axios/lib/platform/browser/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var o=n("./node_modules/axios/lib/platform/browser/classes/URLSearchParams.js"),r=n("./node_modules/axios/lib/platform/browser/classes/FormData.js"),i=n("./node_modules/axios/lib/platform/browser/classes/Blob.js");const s=(()=>{let e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!=typeof window&&"undefined"!=typeof document)})(),a="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,l={isBrowser:!0,classes:{URLSearchParams:o.default,FormData:r.default,Blob:i.default},isStandardBrowserEnv:s,isStandardBrowserWebWorkerEnv:a,protocols:["http","https","file","blob","url","data"]}},"./node_modules/axios/lib/utils.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I});var o=n("./node_modules/axios/lib/helpers/bind.js");const{toString:r}=Object.prototype,{getPrototypeOf:i}=Object,s=(a=Object.create(null),e=>{const t=r.call(e);return a[t]||(a[t]=t.slice(8,-1).toLowerCase())});var a;const l=e=>(e=e.toLowerCase(),t=>s(t)===e),c=e=>t=>typeof t===e,{isArray:d}=Array,u=c("undefined");const h=l("ArrayBuffer");const m=c("string"),p=c("function"),f=c("number"),g=e=>null!==e&&"object"==typeof e,v=e=>{if("object"!==s(e))return!1;const t=i(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},b=l("Date"),y=l("File"),w=l("Blob"),x=l("FileList"),_=l("URLSearchParams");function S(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let o,r;if("object"!=typeof e&&(e=[e]),d(e))for(o=0,r=e.length;o<r;o++)t.call(null,e[o],o,e);else{const r=n?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let s;for(o=0;o<i;o++)s=r[o],t.call(null,e[s],s,e)}}function C(e,t){t=t.toLowerCase();const n=Object.keys(e);let o,r=n.length;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,k=e=>!u(e)&&e!==j;const E=(O="undefined"!=typeof Uint8Array&&i(Uint8Array),e=>O&&e instanceof O);var O;const A=l("HTMLFormElement"),T=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),D=l("RegExp"),M=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),o={};S(n,((n,r)=>{!1!==t(n,r,e)&&(o[r]=n)})),Object.defineProperties(e,o)},P="abcdefghijklmnopqrstuvwxyz",R="0123456789",N={DIGIT:R,ALPHA:P,ALPHA_DIGIT:P+P.toUpperCase()+R};const L=l("AsyncFunction"),I={isArray:d,isArrayBuffer:h,isBuffer:function(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&p(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||p(e.append)&&("formdata"===(t=s(e))||"object"===t&&p(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&h(e.buffer),t},isString:m,isNumber:f,isBoolean:e=>!0===e||!1===e,isObject:g,isPlainObject:v,isUndefined:u,isDate:b,isFile:y,isBlob:w,isRegExp:D,isFunction:p,isStream:e=>g(e)&&p(e.pipe),isURLSearchParams:_,isTypedArray:E,isFileList:x,forEach:S,merge:function e(){const{caseless:t}=k(this)&&this||{},n={},o=(o,r)=>{const i=t&&C(n,r)||r;v(n[i])&&v(o)?n[i]=e(n[i],o):v(o)?n[i]=e({},o):d(o)?n[i]=o.slice():n[i]=o};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&S(arguments[e],o);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(S(t,((t,r)=>{n&&p(t)?e[r]=(0,o.default)(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,o)=>{let r,s,a;const l={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)a=r[s],o&&!o(a,e,t)||l[a]||(t[a]=e[a],l[a]=!0);e=!1!==n&&i(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:l,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const o=e.indexOf(t,n);return-1!==o&&o===n},toArray:e=>{if(!e)return null;if(d(e))return e;let t=e.length;if(!f(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=n.next())&&!o.done;){const n=o.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const o=[];for(;null!==(n=e.exec(t));)o.push(n);return o},isHTMLForm:A,hasOwnProperty:T,hasOwnProp:T,reduceDescriptors:M,freezeMethods:e=>{M(e,((t,n)=>{if(p(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const o=e[n];p(o)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},o=e=>{e.forEach((e=>{n[e]=!0}))};return d(e)?o(e):o(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:C,global:j,isContextDefined:k,ALPHABET:N,generateString:(e=16,t=N.ALPHA_DIGIT)=>{let n="";const{length:o}=t;for(;e--;)n+=t[Math.random()*o|0];return n},isSpecCompliantForm:function(e){return!!(e&&p(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,o)=>{if(g(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[o]=e;const r=d(e)?[]:{};return S(e,((e,t)=>{const i=n(e,o+1);!u(i)&&(r[t]=i)})),t[o]=void 0,r}}return e};return n(e,0)},isAsyncFn:L,isThenable:e=>e&&(g(e)||p(e))&&p(e.then)&&p(e.catch)}},"./node_modules/chart.js/auto/auto.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{Animation:()=>o.Animation,Animations:()=>o.Animations,ArcElement:()=>o.ArcElement,BarController:()=>o.BarController,BarElement:()=>o.BarElement,BasePlatform:()=>o.BasePlatform,BasicPlatform:()=>o.BasicPlatform,BubbleController:()=>o.BubbleController,CategoryScale:()=>o.CategoryScale,Chart:()=>o.Chart,Colors:()=>o.Colors,DatasetController:()=>o.DatasetController,Decimation:()=>o.Decimation,DomPlatform:()=>o.DomPlatform,DoughnutController:()=>o.DoughnutController,Element:()=>o.Element,Filler:()=>o.Filler,Interaction:()=>o.Interaction,Legend:()=>o.Legend,LineController:()=>o.LineController,LineElement:()=>o.LineElement,LinearScale:()=>o.LinearScale,LogarithmicScale:()=>o.LogarithmicScale,PieController:()=>o.PieController,PointElement:()=>o.PointElement,PolarAreaController:()=>o.PolarAreaController,RadarController:()=>o.RadarController,RadialLinearScale:()=>o.RadialLinearScale,Scale:()=>o.Scale,ScatterController:()=>o.ScatterController,SubTitle:()=>o.SubTitle,Ticks:()=>o.Ticks,TimeScale:()=>o.TimeScale,TimeSeriesScale:()=>o.TimeSeriesScale,Title:()=>o.Title,Tooltip:()=>o.Tooltip,_adapters:()=>o._adapters,_detectPlatform:()=>o._detectPlatform,animator:()=>o.animator,controllers:()=>o.controllers,default:()=>r,defaults:()=>o.defaults,elements:()=>o.elements,layouts:()=>o.layouts,plugins:()=>o.plugins,registerables:()=>o.registerables,registry:()=>o.registry,scales:()=>o.scales});var o=n("./node_modules/chart.js/dist/chart.js");o.Chart.register(...o.registerables);const r=o.Chart},"./node_modules/chart.js/dist/chart.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{Animation:()=>l,Animations:()=>c,ArcElement:()=>bt,BarController:()=>T,BarElement:()=>Lt,BasePlatform:()=>le,BasicPlatform:()=>ce,BubbleController:()=>D,CategoryScale:()=>Bn,Chart:()=>ht,Colors:()=>Wt,DatasetController:()=>x,Decimation:()=>Gt,DomPlatform:()=>Ce,DoughnutController:()=>M,Element:()=>ke,Filler:()=>un,Interaction:()=>$,Legend:()=>fn,LineController:()=>P,LineElement:()=>Et,LinearScale:()=>Vn,LogarithmicScale:()=>Gn,PieController:()=>N,PointElement:()=>At,PolarAreaController:()=>R,RadarController:()=>L,RadialLinearScale:()=>no,Scale:()=>Le,ScatterController:()=>I,SubTitle:()=>yn,Ticks:()=>o.aL,TimeScale:()=>uo,TimeSeriesScale:()=>mo,Title:()=>vn,Tooltip:()=>Rn,_adapters:()=>V,_detectPlatform:()=>je,animator:()=>i,controllers:()=>B,defaults:()=>o.d,elements:()=>It,layouts:()=>ae,plugins:()=>Nn,registerables:()=>fo,registry:()=>Fe,scales:()=>po});var o=n("./node_modules/chart.js/dist/chunks/helpers.segment.js");class r{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,o){const r=t.listeners[o],i=t.duration;r.forEach((o=>o({chart:e,initial:t.initial,numSteps:i,currentStep:Math.min(n-t.start,i)})))}_refresh(){this._request||(this._running=!0,this._request=o.r.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(e=Date.now()){let t=0;this._charts.forEach(((n,o)=>{if(!n.running||!n.items.length)return;const r=n.items;let i,s=r.length-1,a=!1;for(;s>=0;--s)i=r[s],i._active?(i._total>n.duration&&(n.duration=i._total),i.tick(e),a=!0):(r[s]=r[r.length-1],r.pop());a&&(o.draw(),this._notify(o,n,e,"progress")),r.length||(n.running=!1,this._notify(o,n,e,"complete"),n.initial=!1),t+=r.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let o=n.length-1;for(;o>=0;--o)n[o].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var i=new r;const s="transparent",a={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=(0,o.c)(e||s),i=r.valid&&(0,o.c)(t||s);return i&&i.valid?i.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class l{constructor(e,t,n,r){const i=t[n];r=(0,o.a)([e.to,r,i,e.from]);const s=(0,o.a)([e.from,i,r]);this._active=!0,this._fn=e.fn||a[e.type||typeof s],this._easing=o.e[e.easing]||o.e.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,s=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=(0,o.a)([e.to,t,r,e.from]),this._from=(0,o.a)([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,o=this._prop,r=this._from,i=this._loop,s=this._to;let a;if(this._active=r!==s&&(i||t<n),!this._active)return this._target[o]=s,void this._notify(!0);t<0?this._target[o]=r:(a=t/n%2,a=i&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[o]=this._fn(r,s,a))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let e=0;e<n.length;e++)n[e][t]()}}class c{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!(0,o.i)(e))return;const t=Object.keys(o.d.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((r=>{const i=e[r];if(!(0,o.i)(i))return;const s={};for(const e of t)s[e]=i[e];((0,o.b)(i.properties)&&i.properties||[r]).forEach((e=>{e!==r&&n.has(e)||n.set(e,s)}))}))}_animateOptions(e,t){const n=t.options,o=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!o)return[];const r=this._createAnimations(o,n);return n.$shared&&function(e,t){const n=[],o=Object.keys(t);for(let t=0;t<o.length;t++){const r=e[o[t]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),r}_createAnimations(e,t){const n=this._properties,o=[],r=e.$animations||(e.$animations={}),i=Object.keys(t),s=Date.now();let a;for(a=i.length-1;a>=0;--a){const c=i[a];if("$"===c.charAt(0))continue;if("options"===c){o.push(...this._animateOptions(e,t));continue}const d=t[c];let u=r[c];const h=n.get(c);if(u){if(h&&u.active()){u.update(h,d,s);continue}u.cancel()}h&&h.duration?(r[c]=u=new l(h,e,c,d),o.push(u)):e[c]=d}return o}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(i.add(this._chart,n),!0):void 0}}function d(e,t){const n=e&&e.options||{},o=n.reverse,r=void 0===n.min?t:0,i=void 0===n.max?t:0;return{start:o?i:r,end:o?r:i}}function u(e,t){const n=[],o=e._getSortedDatasetMetas(t);let r,i;for(r=0,i=o.length;r<i;++r)n.push(o[r].index);return n}function h(e,t,n,r={}){const i=e.keys,s="single"===r.mode;let a,l,c,d;if(null!==t){for(a=0,l=i.length;a<l;++a){if(c=+i[a],c===n){if(r.all)continue;break}d=e.values[c],(0,o.g)(d)&&(s||0===t||(0,o.s)(t)===(0,o.s)(d))&&(t+=d)}return t}}function m(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function p(e,t,n){const o=e[t]||(e[t]={});return o[n]||(o[n]={})}function f(e,t,n,o){for(const r of t.getMatchingVisibleMetas(o).reverse()){const t=e[r.index];if(n&&t>0||!n&&t<0)return r.index}return null}function g(e,t){const{chart:n,_cachedMeta:o}=e,r=n._stacks||(n._stacks={}),{iScale:i,vScale:s,index:a}=o,l=i.axis,c=s.axis,d=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(i,s,o),u=t.length;let h;for(let e=0;e<u;++e){const n=t[e],{[l]:i,[c]:u}=n;h=(n._stacks||(n._stacks={}))[c]=p(r,d,i),h[a]=u,h._top=f(h,s,!0,o.type),h._bottom=f(h,s,!1,o.type);(h._visualValues||(h._visualValues={}))[a]=u}}function v(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function b(e,t){const n=e.controller.index,o=e.vScale&&e.vScale.axis;if(o){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[o]||void 0===t[o][n])return;delete t[o][n],void 0!==t[o]._visualValues&&void 0!==t[o]._visualValues[n]&&delete t[o]._visualValues[n]}}}const y=e=>"reset"===e||"none"===e,w=(e,t)=>t?e:Object.assign({},e);class x{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=m(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&b(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,o)=>"x"===e?t:"r"===e?o:n,i=t.xAxisID=(0,o.v)(n.xAxisID,v(e,"x")),s=t.yAxisID=(0,o.v)(n.yAxisID,v(e,"y")),a=t.rAxisID=(0,o.v)(n.rAxisID,v(e,"r")),l=t.indexAxis,c=t.iAxisID=r(l,i,s,a),d=t.vAxisID=r(l,s,i,a);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&(0,o.u)(this._data,this),e._stacked&&b(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if((0,o.i)(t))this._data=function(e){const t=Object.keys(e),n=new Array(t.length);let o,r,i;for(o=0,r=t.length;o<r;++o)i=t[o],n[o]={x:i,y:e[i]};return n}(t);else if(n!==t){if(n){(0,o.u)(n,this);const e=this._cachedMeta;b(e),e._parsed=[]}t&&Object.isExtensible(t)&&(0,o.l)(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let o=!1;this._dataCheck();const r=t._stacked;t._stacked=m(t.vScale,t),t.stack!==n.stack&&(o=!0,b(t),t.stack=n.stack),this._resyncElements(e),(o||r!==t._stacked)&&g(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:s}=n,a=i.axis;let l,c,d,u=0===e&&t===r.length||n._sorted,h=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,d=r;else{d=(0,o.b)(r[e])?this.parseArrayData(n,r,e,t):(0,o.i)(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const i=()=>null===c[a]||h&&c[a]<h[a];for(l=0;l<t;++l)n._parsed[l+e]=c=d[l],u&&(i()&&(u=!1),h=c);n._sorted=u}s&&g(this,d)}parsePrimitiveData(e,t,n,o){const{iScale:r,vScale:i}=e,s=r.axis,a=i.axis,l=r.getLabels(),c=r===i,d=new Array(o);let u,h,m;for(u=0,h=o;u<h;++u)m=u+n,d[u]={[s]:c||r.parse(l[m],m),[a]:i.parse(t[m],m)};return d}parseArrayData(e,t,n,o){const{xScale:r,yScale:i}=e,s=new Array(o);let a,l,c,d;for(a=0,l=o;a<l;++a)c=a+n,d=t[c],s[a]={x:r.parse(d[0],c),y:i.parse(d[1],c)};return s}parseObjectData(e,t,n,r){const{xScale:i,yScale:s}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let d,u,h,m;for(d=0,u=r;d<u;++d)h=d+n,m=t[h],c[d]={x:i.parse((0,o.f)(m,a),h),y:s.parse((0,o.f)(m,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const o=this.chart,r=this._cachedMeta,i=t[e.axis];return h({keys:u(o,!0),values:t._stacks[e.axis]._visualValues},i,r.index,{mode:n})}updateRangeFromParsed(e,t,n,o){const r=n[t.axis];let i=null===r?NaN:r;const s=o&&n._stacks[t.axis];o&&s&&(o.values=s,i=h(o,r,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,s=r.length,a=this._getOtherScale(e),l=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:u(n,!0),values:null})(t,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=function(e){const{min:t,max:n,minDefined:o,maxDefined:r}=e.getUserBounds();return{min:o?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(a);let m,p;function f(){p=r[m];const t=p[a.axis];return!(0,o.g)(p[e.axis])||d>t||h<t}for(m=0;m<s&&(f()||(this.updateRangeFromParsed(c,e,p,l),!i));++m);if(i)for(m=s-1;m>=0;--m)if(!f()){this.updateRangeFromParsed(c,e,p,l);break}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,i,s;for(r=0,i=t.length;r<i;++r)s=t[r][e.axis],(0,o.g)(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,o=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:o?""+o.getLabelForValue(r[o.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,i;return(0,o.i)(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}((0,o.v)(this.options.clip,function(e,t,n){if(!1===n)return!1;const o=d(e,n),r=d(t,n);return{top:r.end,right:o.end,bottom:r.start,left:o.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,o=n.data||[],r=t.chartArea,i=[],s=this._drawStart||0,a=this._drawCount||o.length-s,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,r,s,a),c=s;c<s+a;++c){const t=o[c];t.hidden||(t.active&&l?i.push(t):t.draw(e,r))}for(c=0;c<i.length;++c)i[c].draw(e,r)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return(0,o.j)(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return(0,o.j)(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const r="active"===t,i=this._cachedDataOpts,s=e+"-"+t,a=i[s],l=this.enableOptionSharing&&(0,o.h)(n);if(a)return w(a,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,e),u=r?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),d),m=Object.keys(o.d.elements[e]),p=c.resolveNamedOptions(h,m,(()=>this.getContext(n,r,t)),u);return p.$shared&&(p.$shared=l,i[s]=Object.freeze(w(p,l))),p}_resolveAnimations(e,t,n){const o=this.chart,r=this._cachedDataOpts,i=`animation-${t}`,s=r[i];if(s)return s;let a;if(!1!==o.options.animation){const o=this.chart.config,r=o.datasetAnimationScopeKeys(this._type,t),i=o.getOptionScopes(this.getDataset(),r);a=o.createResolver(i,this.getContext(e,n,t))}const l=new c(o,a&&a.animations);return a&&a._cacheable&&(r[i]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||y(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),o=this._sharedOptions,r=this.getSharedOptions(n),i=this.includeOptions(t,r)||r!==o;return this.updateSharedOptions(r,t,n),{sharedOptions:r,includeOptions:i}}updateElement(e,t,n,o){y(o)?Object.assign(e,n):this._resolveAnimations(t,o).update(e,n)}updateSharedOptions(e,t,n){e&&!y(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,o){e.active=o;const r=this.getStyle(t,o);this._resolveAnimations(t,n,o).update(e,{options:!o&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[e,t,n]of this._syncList)this[e](t,n);this._syncList=[];const o=n.length,r=t.length,i=Math.min(r,o);i&&this.parse(0,i),r>o?this._insertElements(o,r-o,e):r<o&&this._removeElements(r,o-r)}_insertElements(e,t,n=!0){const o=this._cachedMeta,r=o.data,i=e+t;let s;const a=e=>{for(e.length+=t,s=e.length-1;s>=i;s--)e[s]=e[s-t]};for(a(r),s=e;s<i;++s)r[s]=new this.dataElementType;this._parsing&&a(o._parsed),this.parse(e,t),n&&this.updateElements(r,e,t,"reset")}updateElements(e,t,n,o){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const o=n._parsed.splice(e,t);n._stacked&&b(n,o)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,o]=e;this[t](n,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function _(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,o=n.length;t<o;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=(0,o._)(r.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let r,i,s,a,l=t._length;const c=()=>{32767!==s&&-32768!==s&&((0,o.h)(a)&&(l=Math.min(l,Math.abs(s-a)||l)),a=s)};for(r=0,i=n.length;r<i;++r)s=t.getPixelForValue(n[r]),c();for(a=void 0,r=0,i=t.ticks.length;r<i;++r)s=t.getPixelForTick(r),c();return l}function S(e,t,n,r){return(0,o.b)(e)?function(e,t,n,o){const r=n.parse(e[0],o),i=n.parse(e[1],o),s=Math.min(r,i),a=Math.max(r,i);let l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:i,min:s,max:a}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function C(e,t,n,o){const r=e.iScale,i=e.vScale,s=r.getLabels(),a=r===i,l=[];let c,d,u,h;for(c=n,d=n+o;c<d;++c)h=t[c],u={},u[r.axis]=a||r.parse(s[c],c),l.push(S(h,u,i,c));return l}function j(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function k(e,t,n,o){let r=t.borderSkipped;const i={};if(!r)return void(e.borderSkipped=i);if(!0===r)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:l,top:c,bottom:d}=function(e){let t,n,o,r,i;return e.horizontal?(t=e.base>e.x,n="left",o="right"):(t=e.base<e.y,n="bottom",o="top"),t?(r="end",i="start"):(r="start",i="end"),{start:n,end:o,reverse:t,top:r,bottom:i}}(e);"middle"===r&&n&&(e.enableBorderRadius=!0,(n._top||0)===o?r=c:(n._bottom||0)===o?r=d:(i[E(d,s,a,l)]=!0,r=c)),i[E(r,s,a,l)]=!0,e.borderSkipped=i}function E(e,t,n,o){var r,i,s;return o?(s=n,e=O(e=(r=e)===(i=t)?s:r===s?i:r,n,t)):e=O(e,t,n),e}function O(e,t,n){return"start"===e?t:"end"===e?n:e}function A(e,{inflateAmount:t},n){e.inflateAmount="auto"===t?1===n?.33:0:t}class T extends x{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,n,o){return C(e,t,n,o)}parseArrayData(e,t,n,o){return C(e,t,n,o)}parseObjectData(e,t,n,r){const{iScale:i,vScale:s}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c="x"===i.axis?a:l,d="x"===s.axis?a:l,u=[];let h,m,p,f;for(h=n,m=n+r;h<m;++h)f=t[h],p={},p[i.axis]=i.parse((0,o.f)(f,c),h),u.push(S((0,o.f)(f,d),p,s,h));return u}updateRangeFromParsed(e,t,n,o){super.updateRangeFromParsed(e,t,n,o);const r=n._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:o}=t,r=this.getParsed(e),i=r._custom,s=j(i)?"["+i.start+", "+i.end+"]":""+o.getLabelForValue(r[o.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const i="reset"===r,{index:s,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),d=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,r);for(let m=t;m<t+n;m++){const t=this.getParsed(m),n=i||(0,o.k)(t[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),p=this._calculateBarIndexPixels(m,d),f=(t._stacks||{})[a.axis],g={horizontal:c,base:n.base,enableBorderRadius:!f||j(t._custom)||s===f._top||s===f._bottom,x:c?n.head:p.center,y:c?p.center:n.head,height:c?p.size:Math.abs(n.size),width:c?Math.abs(n.size):p.size};h&&(g.options=u||this.resolveDataElementOptions(m,e[m].active?"active":r));const v=g.options||e[m].options;k(g,v,f,s),A(g,v,d.ratio),this.updateElement(e[m],m,g,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),i=n.options.stacked,s=[],a=e=>{const n=e.controller.getParsed(t),r=n&&n[e.vScale.axis];if((0,o.k)(r)||isNaN(r))return!0};for(const n of r)if((void 0===t||!a(n))&&((!1===i||-1===s.indexOf(n.stack)||void 0===i&&void 0===n.stack)&&s.push(n.stack),n.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const o=this._getStacks(e,n),r=void 0!==t?o.indexOf(t):-1;return-1===r?o.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,o=[];let r,i;for(r=0,i=t.data.length;r<i;++r)o.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const s=e.barThickness;return{min:s||_(t),pixels:o,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:s?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:i,minBarLength:s}}=this,a=i||0,l=this.getParsed(e),c=l._custom,d=j(c);let u,h,m=l[t.axis],p=0,f=n?this.applyStack(t,l,n):m;f!==m&&(p=f-m,f=m),d&&(m=c.barStart,f=c.barEnd-c.barStart,0!==m&&(0,o.s)(m)!==(0,o.s)(c.barEnd)&&(p=0),p+=m);const g=(0,o.k)(i)||d?p:i;let v=t.getPixelForValue(g);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(p+f):v,h=u-v,Math.abs(h)<s){h=function(e,t,n){return 0!==e?(0,o.s)(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(h,t,a)*s,m===a&&(v-=h/2);const e=t.getPixelForDecimal(0),i=t.getPixelForDecimal(1),c=Math.min(e,i),p=Math.max(e,i);v=Math.max(Math.min(v,p),c),u=v+h,n&&!d&&(l._stacks[t.axis]._visualValues[r]=t.getValueForPixel(u)-t.getValueForPixel(v))}if(v===t.getPixelForValue(a)){const e=(0,o.s)(h)*t.getLineWidthForValue(a)/2;v+=e,h-=e}return{size:h,base:v,head:u,center:u+h/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,i=r.skipNull,s=(0,o.v)(r.maxBarThickness,1/0);let a,l;if(t.grouped){const n=i?this._getStackCount(e):t.stackCount,c="flex"===r.barThickness?function(e,t,n,o){const r=t.pixels,i=r[e];let s=e>0?r[e-1]:null,a=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;null===s&&(s=i-(null===a?t.end-t.start:a-i)),null===a&&(a=i+i-s);const c=i-(i-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/o,ratio:n.barPercentage,start:c}}(e,t,r,n):function(e,t,n,r){const i=n.barThickness;let s,a;return(0,o.k)(i)?(s=t.min*n.categoryPercentage,a=n.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:t.pixels[e]-s/2}}(e,t,r,n),d=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);a=c.start+c.chunk*d+c.chunk/2,l=Math.min(s,c.chunk*c.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(s,t.min*t.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,o=n.length;let r=0;for(;r<o;++r)null!==this.getParsed(r)[t.axis]&&n[r].draw(this._ctx)}}class D extends x{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,o){const r=super.parsePrimitiveData(e,t,n,o);for(let e=0;e<r.length;e++)r[e]._custom=this.resolveDataElementOptions(e+n).radius;return r}parseArrayData(e,t,n,r){const i=super.parseArrayData(e,t,n,r);for(let e=0;e<i.length;e++){const r=t[n+e];i[e]._custom=(0,o.v)(r[2],this.resolveDataElementOptions(e+n).radius)}return i}parseObjectData(e,t,n,r){const i=super.parseObjectData(e,t,n,r);for(let e=0;e<i.length;e++){const r=t[n+e];i[e]._custom=(0,o.v)(r&&r.r&&+r.r,this.resolveDataElementOptions(e+n).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:o,yScale:r}=t,i=this.getParsed(e),s=o.getLabelForValue(i.x),a=r.getLabelForValue(i.y),l=i._custom;return{label:n[e]||"",value:"("+s+", "+a+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,o){const r="reset"===o,{iScale:i,vScale:s}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(t,o),c=i.axis,d=s.axis;for(let u=t;u<t+n;u++){const t=e[u],n=!r&&this.getParsed(u),h={},m=h[c]=r?i.getPixelForDecimal(.5):i.getPixelForValue(n[c]),p=h[d]=r?s.getBasePixel():s.getPixelForValue(n[d]);h.skip=isNaN(m)||isNaN(p),l&&(h.options=a||this.resolveDataElementOptions(u,t.active?"active":o),r&&(h.options.radius=0)),this.updateElement(t,u,h,o)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==t&&(r.radius=0),r.radius+=(0,o.v)(n&&n._custom,i),r}}class M extends x{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:o}}=e.legend.options;return t.labels.map(((t,r)=>{const i=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:o,lineWidth:i.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,s,a=e=>+n[e];if((0,o.i)(n[e])){const{key:e="value"}=this._parsing;a=t=>+(0,o.f)(n[t],e)}for(i=e,s=e+t;i<s;++i)r._parsed[i]=a(i)}}_getRotation(){return(0,o.t)(this.options.rotation-90)}_getCircumference(){return(0,o.t)(this.options.circumference)}_getRotationExtents(){let e=o.T,t=-o.T;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const o=this.chart.getDatasetMeta(n).controller,r=o._getRotation(),i=o._getCircumference();e=Math.min(e,r),t=Math.max(t,r+i)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,i=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-s)/2,0),l=Math.min((0,o.m)(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:d,rotation:u}=this._getRotationExtents(),{ratioX:h,ratioY:m,offsetX:p,offsetY:f}=function(e,t,n){let r=1,i=1,s=0,a=0;if(t<o.T){const l=e,c=l+t,d=Math.cos(l),u=Math.sin(l),h=Math.cos(c),m=Math.sin(c),p=(e,t,r)=>(0,o.p)(e,l,c,!0)?1:Math.max(t,t*n,r,r*n),f=(e,t,r)=>(0,o.p)(e,l,c,!0)?-1:Math.min(t,t*n,r,r*n),g=p(0,d,h),v=p(o.H,u,m),b=f(o.P,d,h),y=f(o.P+o.H,u,m);r=(g-b)/2,i=(v-y)/2,s=-(g+b)/2,a=-(v+y)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}(u,d,l),g=(n.width-s)/h,v=(n.height-s)/m,b=Math.max(Math.min(g,v)/2,0),y=(0,o.n)(this.options.radius,b),w=(y-Math.max(y*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*y,this.offsetY=f*y,r.total=this.calculateTotal(),this.outerRadius=y-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/o.T)}updateElements(e,t,n,o){const r="reset"===o,i=this.chart,s=i.chartArea,a=i.options.animation,l=(s.left+s.right)/2,c=(s.top+s.bottom)/2,d=r&&a.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:m,includeOptions:p}=this._getSharedOptions(t,o);let f,g=this._getRotation();for(f=0;f<t;++f)g+=this._circumference(f,r);for(f=t;f<t+n;++f){const t=this._circumference(f,r),n=e[f],i={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:u};p&&(i.options=m||this.resolveDataElementOptions(f,n.active?"active":o)),g+=t,this.updateElement(n,f,i,o)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,o=0;for(n=0;n<t.length;n++){const r=e._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||t[n].hidden||(o+=Math.abs(r))}return o}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?o.T*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=(0,o.o)(t._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const n=this.chart;let o,r,i,s,a;if(!e)for(o=0,r=n.data.datasets.length;o<r;++o)if(n.isDatasetVisible(o)){i=n.getDatasetMeta(o),e=i.data,s=i.controller;break}if(!e)return 0;for(o=0,r=e.length;o<r;++o)a=s.resolveDataElementOptions(o),"inner"!==a.borderAlign&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,o=e.length;n<o;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max((0,o.v)(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class P extends x{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=t,s=this.chart._animationsDisabled;let{start:a,count:l}=(0,o.q)(t,r,s);this._drawStart=a,this._drawCount=l,(0,o.w)(t)&&(a=0,l=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:c},e),this.updateElements(r,a,l,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,r),h=s.axis,m=a.axis,{spanGaps:p,segment:f}=this.options,g=(0,o.x)(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||"none"===r,b=t+n,y=e.length;let w=t>0&&this.getParsed(t-1);for(let n=0;n<y;++n){const p=e[n],y=v?p:{};if(n<t||n>=b){y.skip=!0;continue}const x=this.getParsed(n),_=(0,o.k)(x[m]),S=y[h]=s.getPixelForValue(x[h],n),C=y[m]=i||_?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,x,l):x[m],n);y.skip=isNaN(S)||isNaN(C)||_,y.stop=n>0&&Math.abs(x[h]-w[h])>g,f&&(y.parsed=x,y.raw=c.data[n]),u&&(y.options=d||this.resolveDataElementOptions(n,p.active?"active":r)),v||this.updateElement(p,n,y,r),w=x}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,o=e.data||[];if(!o.length)return n;const r=o[0].size(this.resolveDataElementOptions(0)),i=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(n,r,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class R extends x{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:o}}=e.legend.options;return t.labels.map(((t,r)=>{const i=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:o,lineWidth:i.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=(0,o.o)(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:i}}parseObjectData(e,t,n,r){return o.y.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const o=this.getParsed(n).r;!isNaN(o)&&this.chart.getDataVisibility(n)&&(o<t.min&&(t.min=o),o>t.max&&(t.max=o))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,o=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(o/2,0),i=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=r-i*this.index,this.innerRadius=this.outerRadius-i}updateElements(e,t,n,r){const i="reset"===r,s=this.chart,a=s.options.animation,l=this._cachedMeta.rScale,c=l.xCenter,d=l.yCenter,u=l.getIndexAngle(0)-.5*o.P;let h,m=u;const p=360/this.countVisibleElements();for(h=0;h<t;++h)m+=this._computeAngle(h,r,p);for(h=t;h<t+n;h++){const t=e[h];let n=m,o=m+this._computeAngle(h,r,p),f=s.getDataVisibility(h)?l.getDistanceFromCenterForValue(this.getParsed(h).r):0;m=o,i&&(a.animateScale&&(f=0),a.animateRotate&&(n=o=u));const g={x:c,y:d,innerRadius:0,outerRadius:f,startAngle:n,endAngle:o,options:this.resolveDataElementOptions(h,t.active?"active":r)};this.updateElement(t,h,g,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?(0,o.t)(this.resolveDataElementOptions(e,t).angle||n):0}}class N extends M{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class L extends x{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return o.y.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,o=t.data||[],r=t.iScale.getLabels();if(n.points=o,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const i={_loop:!0,_fullLoop:r.length===o.length,options:t};this.updateElement(n,void 0,i,e)}this.updateElements(o,0,o.length,e)}updateElements(e,t,n,o){const r=this._cachedMeta.rScale,i="reset"===o;for(let s=t;s<t+n;s++){const t=e[s],n=this.resolveDataElementOptions(s,t.active?"active":o),a=r.getPointPositionForValue(s,this.getParsed(s).r),l=i?r.xCenter:a.x,c=i?r.yCenter:a.y,d={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,s,d,o)}}}class I extends x{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:o,yScale:r}=t,i=this.getParsed(e),s=o.getLabelForValue(i.x),a=r.getLabelForValue(i.y);return{label:n[e]||"",value:"("+s+", "+a+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:i,count:s}=(0,o.q)(t,n,r);if(this._drawStart=i,this._drawCount=s,(0,o.w)(t)&&(i=0,s=n.length),this.options.showLine){const{dataset:o,_dataset:i}=t;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!i._decimated,o.points=n;const s=this.resolveDatasetElementOptions(e);s.segment=this.options.segment,this.updateElement(o,void 0,{animated:!r,options:s},e)}this.updateElements(n,i,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,d=this.resolveDataElementOptions(t,r),u=this.getSharedOptions(d),h=this.includeOptions(r,u),m=s.axis,p=a.axis,{spanGaps:f,segment:g}=this.options,v=(0,o.x)(f)?f:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||"none"===r;let y=t>0&&this.getParsed(t-1);for(let d=t;d<t+n;++d){const t=e[d],n=this.getParsed(d),f=b?t:{},w=(0,o.k)(n[p]),x=f[m]=s.getPixelForValue(n[m],d),_=f[p]=i||w?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,n,l):n[p],d);f.skip=isNaN(x)||isNaN(_)||w,f.stop=d>0&&Math.abs(n[m]-y[m])>v,g&&(f.parsed=n,f.raw=c.data[d]),h&&(f.options=u||this.resolveDataElementOptions(d,t.active?"active":r)),b||this.updateElement(t,d,f,r),y=n}this.updateSharedOptions(u,r,d)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,o=n.options&&n.options.borderWidth||0;if(!t.length)return o;const r=t[0].size(this.resolveDataElementOptions(0)),i=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(o,r,i)/2}}var B=Object.freeze({__proto__:null,BarController:T,BubbleController:D,DoughnutController:M,LineController:P,PieController:N,PolarAreaController:R,RadarController:L,ScatterController:I});function F(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class H{static override(e){Object.assign(H.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return F()}parse(){return F()}format(){return F()}add(){return F()}diff(){return F()}startOf(){return F()}endOf(){return F()}}var V={_date:H};function z(e,t,n,r){const{controller:i,data:s,_sorted:a}=e,l=i._cachedMeta.iScale;if(l&&t===l.axis&&"r"!==t&&a&&s.length){const e=l._reversePixels?o.A:o.B;if(!r)return e(s,t,n);if(i._sharedOptions){const o=s[0],r="function"==typeof o.getRange&&o.getRange(t);if(r){const o=e(s,t,n-r),i=e(s,t,n+r);return{lo:o.lo,hi:i.hi}}}}return{lo:0,hi:s.length-1}}function U(e,t,n,o,r){const i=e.getSortedVisibleDatasetMetas(),s=n[t];for(let e=0,n=i.length;e<n;++e){const{index:n,data:a}=i[e],{lo:l,hi:c}=z(i[e],t,s,r);for(let e=l;e<=c;++e){const t=a[e];t.skip||o(t,n,e)}}}function W(e,t,n,r,i){const s=[];if(!i&&!e.isPointInArea(t))return s;return U(e,n,t,(function(n,a,l){(i||(0,o.C)(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&s.push({element:n,datasetIndex:a,index:l})}),!0),s}function q(e,t,n,o,r,i){let s=[];const a=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,o){const r=t?Math.abs(e.x-o.x):0,i=n?Math.abs(e.y-o.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(i,2))}}(n);let l=Number.POSITIVE_INFINITY;return U(e,n,t,(function(n,c,d){const u=n.inRange(t.x,t.y,r);if(o&&!u)return;const h=n.getCenterPoint(r);if(!(!!i||e.isPointInArea(h))&&!u)return;const m=a(t,h);m<l?(s=[{element:n,datasetIndex:c,index:d}],l=m):m===l&&s.push({element:n,datasetIndex:c,index:d})})),s}function Z(e,t,n,r,i,s){return s||e.isPointInArea(t)?"r"!==n||r?q(e,t,n,r,i,s):function(e,t,n,r){let i=[];return U(e,n,t,(function(e,n,s){const{startAngle:a,endAngle:l}=e.getProps(["startAngle","endAngle"],r),{angle:c}=(0,o.D)(e,{x:t.x,y:t.y});(0,o.p)(c,a,l)&&i.push({element:e,datasetIndex:n,index:s})})),i}(e,t,n,i):[]}function G(e,t,n,o,r){const i=[],s="x"===n?"inXRange":"inYRange";let a=!1;return U(e,n,t,((e,o,l)=>{e[s](t[n],r)&&(i.push({element:e,datasetIndex:o,index:l}),a=a||e.inRange(t.x,t.y,r))})),o&&!a?[]:i}var $={evaluateInteractionItems:U,modes:{index(e,t,n,r){const i=(0,o.z)(t,e),s=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?W(e,i,s,r,a):Z(e,i,s,!1,r,a),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=l[0].index,n=e.data[t];n&&!n.skip&&c.push({element:n,datasetIndex:e.index,index:t})})),c):[]},dataset(e,t,n,r){const i=(0,o.z)(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?W(e,i,s,r,a):Z(e,i,s,!1,r,a);if(l.length>0){const t=l[0].datasetIndex,n=e.getDatasetMeta(t).data;l=[];for(let e=0;e<n.length;++e)l.push({element:n[e],datasetIndex:t,index:e})}return l},point:(e,t,n,r)=>W(e,(0,o.z)(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const i=(0,o.z)(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;return Z(e,i,s,n.intersect,r,a)},x:(e,t,n,r)=>G(e,(0,o.z)(t,e),"x",n.intersect,r),y:(e,t,n,r)=>G(e,(0,o.z)(t,e),"y",n.intersect,r)}};const Y=["left","top","right","bottom"];function K(e,t){return e.filter((e=>e.pos===t))}function X(e,t){return e.filter((e=>-1===Y.indexOf(e.pos)&&e.box.axis===t))}function Q(e,t){return e.sort(((e,n)=>{const o=t?n:e,r=t?e:n;return o.weight===r.weight?o.index-r.index:o.weight-r.weight}))}function J(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:o,stackWeight:r}=n;if(!e||!Y.includes(o))continue;const i=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=r}return t}(e),{vBoxMaxWidth:o,hBoxMaxHeight:r}=t;let i,s,a;for(i=0,s=e.length;i<s;++i){a=e[i];const{fullSize:s}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*o:s&&t.availableWidth,a.height=r):(a.width=o,a.height=c?c*r:s&&t.availableHeight)}return n}function ee(e,t,n,o){return Math.max(e[n],t[n])+Math.max(e[o],t[o])}function te(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function ne(e,t,n,r){const{pos:i,box:s}=n,a=e.maxPadding;if(!(0,o.i)(i)){n.size&&(e[i]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[i]+=n.size}s.getPadding&&te(a,s.getPadding());const l=Math.max(0,t.outerWidth-ee(a,e,"left","right")),c=Math.max(0,t.outerHeight-ee(a,e,"top","bottom")),d=l!==e.w,u=c!==e.h;return e.w=l,e.h=c,n.horizontal?{same:d,other:u}:{same:u,other:d}}function oe(e,t){const n=t.maxPadding;function o(e){const o={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{o[e]=Math.max(t[e],n[e])})),o}return o(e?["left","right"]:["top","bottom"])}function re(e,t,n,o){const r=[];let i,s,a,l,c,d;for(i=0,s=e.length,c=0;i<s;++i){a=e[i],l=a.box,l.update(a.width||t.w,a.height||t.h,oe(a.horizontal,t));const{same:s,other:u}=ne(t,n,a,o);c|=s&&r.length,d=d||u,l.fullSize||r.push(a)}return c&&re(r,t,n,o)||d}function ie(e,t,n,o,r){e.top=n,e.left=t,e.right=t+o,e.bottom=n+r,e.width=o,e.height=r}function se(e,t,n,r){const i=n.padding;let{x:s,y:a}=t;for(const l of e){const e=l.box,c=r[l.stack]||{count:1,placed:0,weight:1},d=l.stackWeight/c.weight||1;if(l.horizontal){const r=t.w*d,s=c.size||e.height;(0,o.h)(c.start)&&(a=c.start),e.fullSize?ie(e,i.left,a,n.outerWidth-i.right-i.left,s):ie(e,t.left+c.placed,a,r,s),c.start=a,c.placed+=r,a=e.bottom}else{const r=t.h*d,a=c.size||e.width;(0,o.h)(c.start)&&(s=c.start),e.fullSize?ie(e,s,i.top,a,n.outerHeight-i.bottom-i.top):ie(e,s,t.top+c.placed,a,r),c.start=s,c.placed+=r,s=e.right}}t.x=s,t.y=a}var ae={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=(0,o.E)(e.options.layout.padding),s=Math.max(t-i.width,0),a=Math.max(n-i.height,0),l=function(e){const t=function(e){const t=[];let n,o,r,i,s,a;for(n=0,o=(e||[]).length;n<o;++n)r=e[n],({position:i,options:{stack:s,stackWeight:a=1}}=r),t.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&i+s,stackWeight:a});return t}(e),n=Q(t.filter((e=>e.box.fullSize)),!0),o=Q(K(t,"left"),!0),r=Q(K(t,"right")),i=Q(K(t,"top"),!0),s=Q(K(t,"bottom")),a=X(t,"x"),l=X(t,"y");return{fullSize:n,leftAndTop:o.concat(i),rightAndBottom:r.concat(l).concat(s).concat(a),chartArea:K(t,"chartArea"),vertical:o.concat(r).concat(l),horizontal:i.concat(s).concat(a)}}(e.boxes),c=l.vertical,d=l.horizontal;(0,o.F)(e.boxes,(e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()}));const u=c.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),m=Object.assign({},i);te(m,(0,o.E)(r));const p=Object.assign({maxPadding:m,w:s,h:a,x:i.left,y:i.top},i),f=J(c.concat(d),h);re(l.fullSize,p,h,f),re(c,p,h,f),re(d,p,h,f)&&re(c,p,h,f),function(e){const t=e.maxPadding;function n(n){const o=Math.max(t[n]-e[n],0);return e[n]+=o,o}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(p),se(l.leftAndTop,p,h,f),p.x+=p.w,p.y+=p.h,se(l.rightAndBottom,p,h,f),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},(0,o.F)(l.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class le{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,o){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,o?Math.floor(t/o):n)}}isAttached(e){return!0}updateConfig(e){}}class ce extends le{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const de="$chartjs",ue={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},he=e=>null===e||""===e;const me=!!o.K&&{passive:!0};function pe(e,t,n){e.canvas.removeEventListener(t,n,me)}function fe(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function ge(e,t,n){const o=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||fe(n.addedNodes,o),t=t&&!fe(n.removedNodes,o);t&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function ve(e,t,n){const o=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||fe(n.removedNodes,o),t=t&&!fe(n.addedNodes,o);t&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const be=new Map;let ye=0;function we(){const e=window.devicePixelRatio;e!==ye&&(ye=e,be.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function xe(e,t,n){const r=e.canvas,i=r&&(0,o.I)(r);if(!i)return;const s=(0,o.L)(((e,t)=>{const o=i.clientWidth;n(e,t),o<i.clientWidth&&n()}),window),a=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,o=t.contentRect.height;0===n&&0===o||s(n,o)}));return a.observe(i),function(e,t){be.size||window.addEventListener("resize",we),be.set(e,t)}(e,s),a}function _e(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){be.delete(e),be.size||window.removeEventListener("resize",we)}(e)}function Se(e,t,n){const r=e.canvas,i=(0,o.L)((t=>{null!==e.ctx&&n(function(e,t){const n=ue[e.type]||e.type,{x:r,y:i}=(0,o.z)(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==i?i:null}}(t,e))}),e);return function(e,t,n){e.addEventListener(t,n,me)}(r,t,i),i}class Ce extends le{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[de]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",he(i)){const t=(0,o.J)(e,"width");void 0!==t&&(e.width=t)}if(he(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=(0,o.J)(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[de])return!1;const n=t[de].initial;["height","width"].forEach((e=>{const r=n[e];(0,o.k)(r)?t.removeAttribute(e):t.setAttribute(e,r)}));const r=n.style||{};return Object.keys(r).forEach((e=>{t.style[e]=r[e]})),t.width=t.width,delete t[de],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const o=e.$proxies||(e.$proxies={}),r={attach:ge,detach:ve,resize:xe}[t]||Se;o[t]=r(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),o=n[t];if(!o)return;({attach:_e,detach:_e,resize:_e}[t]||pe)(e,t,o),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return(0,o.G)(e,t,n,r)}isAttached(e){const t=(0,o.I)(e);return!(!t||!t.isConnected)}}function je(e){return!(0,o.M)()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?ce:Ce}class ke{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return(0,o.x)(this.x)&&(0,o.x)(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const o={};return e.forEach((e=>{o[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),o}}function Ee(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),o=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(o,r))}(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?function(e){const t=[];let n,o;for(n=0,o=e.length;n<o;n++)e[n].major&&t.push(n);return t}(t):[],a=s.length,l=s[0],c=s[a-1],d=[];if(a>i)return function(e,t,n,o){let r,i=0,s=n[0];for(o=Math.ceil(o),r=0;r<e.length;r++)r===s&&(t.push(e[r]),i++,s=n[i*o])}(t,d,s,a/i),d;const u=function(e,t,n){const r=function(e){const t=e.length;let n,o;if(t<2)return!1;for(o=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==o)return!1;return o}(e),i=t.length/n;if(!r)return Math.max(i,1);const s=(0,o.N)(r);for(let e=0,t=s.length-1;e<t;e++){const t=s[e];if(t>i)return t}return Math.max(i,1)}(s,t,i);if(a>0){let e,n;const r=a>1?Math.round((c-l)/(a-1)):null;for(Oe(t,d,u,(0,o.k)(r)?0:l-r,l),e=0,n=a-1;e<n;e++)Oe(t,d,u,s[e],s[e+1]);return Oe(t,d,u,c,(0,o.k)(r)?t.length:c+r),d}return Oe(t,d,u),d}function Oe(e,t,n,r,i){const s=(0,o.v)(r,0),a=Math.min((0,o.v)(i,e.length),e.length);let l,c,d,u=0;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),d=s;d<0;)u++,d=Math.round(s+u*n);for(c=Math.max(s,0);c<a;c++)c===d&&(t.push(e[c]),u++,d=Math.round(s+u*n))}const Ae=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,Te=(e,t)=>Math.min(t||e,e);function De(e,t){const n=[],o=e.length/t,r=e.length;let i=0;for(;i<r;i+=o)n.push(e[Math.floor(i)]);return n}function Me(e,t,n){const o=e.ticks.length,r=Math.min(t,o-1),i=e._startPixel,s=e._endPixel,a=1e-6;let l,c=e.getPixelForTick(r);if(!(n&&(l=1===o?Math.max(c-i,s-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<i-a||c>s+a)))return c}function Pe(e){return e.drawTicks?e.tickLength:0}function Re(e,t){if(!e.display)return 0;const n=(0,o.a0)(e.font,t),r=(0,o.E)(e.padding);return((0,o.b)(e.text)?e.text.length:1)*n.lineHeight+r.height}function Ne(e,t,n){let r=(0,o.a1)(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class Le extends ke{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=(0,o.O)(e,Number.POSITIVE_INFINITY),t=(0,o.O)(t,Number.NEGATIVE_INFINITY),n=(0,o.O)(n,Number.POSITIVE_INFINITY),r=(0,o.O)(r,Number.NEGATIVE_INFINITY),{min:(0,o.O)(e,n),max:(0,o.O)(t,r),minDefined:(0,o.g)(e),maxDefined:(0,o.g)(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let o=0,l=a.length;o<l;++o)t=a[o].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),s||(r=Math.max(r,t.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:(0,o.O)(n,(0,o.O)(r,n)),max:(0,o.O)(r,(0,o.O)(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){(0,o.Q)(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:i,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=(0,o.R)(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?De(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=Ee(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){(0,o.Q)(this.options.afterUpdate,[this])}beforeSetDimensions(){(0,o.Q)(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){(0,o.Q)(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),(0,o.Q)(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){(0,o.Q)(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=(0,o.Q)(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){(0,o.Q)(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){(0,o.Q)(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=Te(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation;let s,a,l,c=r;if(!this._isVisible()||!t.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const d=this._getLabelSizes(),u=d.widest.width,h=d.highest.height,m=(0,o.S)(this.chart.width-u,0,this.maxWidth);s=e.offset?this.maxWidth/n:m/(n-1),u+6>s&&(s=m/(n-(e.offset?.5:1)),a=this.maxHeight-Pe(e.grid)-t.padding-Re(e.title,this.chart.options.font),l=Math.sqrt(u*u+h*h),c=(0,o.U)(Math.min(Math.asin((0,o.S)((d.highest.height+6)/s,-1,1)),Math.asin((0,o.S)(a/l,-1,1))-Math.asin((0,o.S)(h/l,-1,1)))),c=Math.max(r,Math.min(i,c))),this.labelRotation=c}afterCalculateLabelRotation(){(0,o.Q)(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){(0,o.Q)(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:i}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const s=Re(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=Pe(i)+s):(e.height=this.maxHeight,e.width=Pe(i)+s),n.display&&this.ticks.length){const{first:t,last:r,widest:i,highest:s}=this._getLabelSizes(),l=2*n.padding,c=(0,o.t)(this.labelRotation),d=Math.cos(c),u=Math.sin(c);if(a){const t=n.mirror?0:u*i.width+d*s.height;e.height=Math.min(this.maxHeight,e.height+t+l)}else{const t=n.mirror?0:d*i.width+u*s.height;e.width=Math.min(this.maxWidth,e.width+t+l)}this._calculatePadding(t,r,u,d)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,o){const{ticks:{align:r,padding:i},position:s}=this.options,a=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;a?l?(d=o*e.width,u=n*t.height):(d=n*e.height,u=o*t.width):"start"===r?u=t.width:"end"===r?d=e.width:"inner"!==r&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-s+i)*this.width/(this.width-s),0),this.paddingRight=Math.max((u-c+i)*this.width/(this.width-c),0)}else{let n=t.height/2,o=e.height/2;"start"===r?(n=0,o=e.height):"end"===r&&(n=t.height,o=0),this.paddingTop=n+i,this.paddingBottom=o+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){(0,o.Q)(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)(0,o.k)(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=De(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:i}=this,s=[],a=[],l=Math.floor(t/Te(t,n));let c,d,u,h,m,p,f,g,v,b,y,w=0,x=0;for(c=0;c<t;c+=l){if(h=e[c].label,m=this._resolveTickFontOptions(c),r.font=p=m.string,f=i[p]=i[p]||{data:{},gc:[]},g=m.lineHeight,v=b=0,(0,o.k)(h)||(0,o.b)(h)){if((0,o.b)(h))for(d=0,u=h.length;d<u;++d)y=h[d],(0,o.k)(y)||(0,o.b)(y)||(v=(0,o.V)(r,f.data,f.gc,v,y),b+=g)}else v=(0,o.V)(r,f.data,f.gc,v,h),b=g;s.push(v),a.push(b),w=Math.max(v,w),x=Math.max(b,x)}!function(e,t){(0,o.F)(e,(e=>{const n=e.gc,o=n.length/2;let r;if(o>t){for(r=0;r<o;++r)delete e.data[n[r]];n.splice(0,o)}}))}(i,t);const _=s.indexOf(w),S=a.indexOf(x),C=e=>({width:s[e]||0,height:a[e]||0});return{first:C(0),last:C(t-1),widest:C(_),highest:C(S),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return(0,o.W)(this._alignToPixels?(0,o.X)(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return(0,o.j)(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=(n=this.chart.getContext(),r=this,(0,o.j)(n,{scale:r,type:"scale"})));var n,r}_tickSize(){const e=this.options.ticks,t=(0,o.t)(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),s=e.autoSkipPadding||0,a=i?i.widest.width+s:0,l=i?i.highest.height+s:0;return this.isHorizontal()?l*n>a*r?a/n:l/r:l*r<a*n?l/n:a/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:i,position:s,border:a}=r,l=i.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),u=Pe(i),h=[],m=a.setContext(this.getContext()),p=m.display?m.width:0,f=p/2,g=function(e){return(0,o.X)(n,e,p)};let v,b,y,w,x,_,S,C,j,k,E,O;if("top"===s)v=g(this.bottom),_=this.bottom-u,C=v-f,k=g(e.top)+f,O=e.bottom;else if("bottom"===s)v=g(this.top),k=e.top,O=g(e.bottom)-f,_=v+f,C=this.top+u;else if("left"===s)v=g(this.right),x=this.right-u,S=v-f,j=g(e.left)+f,E=e.right;else if("right"===s)v=g(this.left),j=e.left,E=g(e.right)-f,x=v+f,S=this.left+u;else if("x"===t){if("center"===s)v=g((e.top+e.bottom)/2+.5);else if((0,o.i)(s)){const e=Object.keys(s)[0],t=s[e];v=g(this.chart.scales[e].getPixelForValue(t))}k=e.top,O=e.bottom,_=v+f,C=_+u}else if("y"===t){if("center"===s)v=g((e.left+e.right)/2);else if((0,o.i)(s)){const e=Object.keys(s)[0],t=s[e];v=g(this.chart.scales[e].getPixelForValue(t))}x=v-f,S=x-u,j=e.left,E=e.right}const A=(0,o.v)(r.ticks.maxTicksLimit,d),T=Math.max(1,Math.ceil(d/A));for(b=0;b<d;b+=T){const e=this.getContext(b),t=i.setContext(e),r=a.setContext(e),s=t.lineWidth,d=t.color,u=r.dash||[],m=r.dashOffset,p=t.tickWidth,f=t.tickColor,g=t.tickBorderDash||[],v=t.tickBorderDashOffset;y=Me(this,b,l),void 0!==y&&(w=(0,o.X)(n,y,s),c?x=S=j=E=w:_=C=k=O=w,h.push({tx1:x,ty1:_,tx2:S,ty2:C,x1:j,y1:k,x2:E,y2:O,width:s,color:d,borderDash:u,borderDashOffset:m,tickWidth:p,tickColor:f,tickBorderDash:g,tickBorderDashOffset:v}))}return this._ticksLength=d,this._borderValue=v,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:i}=n,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:u}=i,h=Pe(n.grid),m=h+d,p=u?-d:m,f=-(0,o.t)(this.labelRotation),g=[];let v,b,y,w,x,_,S,C,j,k,E,O,A="middle";if("top"===r)_=this.bottom-p,S=this._getXAxisLabelAlignment();else if("bottom"===r)_=this.top+p,S=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(h);S=e.textAlign,x=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(h);S=e.textAlign,x=e.x}else if("x"===t){if("center"===r)_=(e.top+e.bottom)/2+m;else if((0,o.i)(r)){const e=Object.keys(r)[0],t=r[e];_=this.chart.scales[e].getPixelForValue(t)+m}S=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)x=(e.left+e.right)/2-m;else if((0,o.i)(r)){const e=Object.keys(r)[0],t=r[e];x=this.chart.scales[e].getPixelForValue(t)}S=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===l?A="top":"end"===l&&(A="bottom"));const T=this._getLabelSizes();for(v=0,b=a.length;v<b;++v){y=a[v],w=y.label;const e=i.setContext(this.getContext(v));C=this.getPixelForTick(v)+i.labelOffset,j=this._resolveTickFontOptions(v),k=j.lineHeight,E=(0,o.b)(w)?w.length:1;const t=E/2,n=e.color,l=e.textStrokeColor,d=e.textStrokeWidth;let h,m=S;if(s?(x=C,"inner"===S&&(m=v===b-1?this.options.reverse?"left":"right":0===v?this.options.reverse?"right":"left":"center"),O="top"===r?"near"===c||0!==f?-E*k+k/2:"center"===c?-T.highest.height/2-t*k+k:-T.highest.height+k/2:"near"===c||0!==f?k/2:"center"===c?T.highest.height/2-t*k:T.highest.height-E*k,u&&(O*=-1),0===f||e.showLabelBackdrop||(x+=k/2*Math.sin(f))):(_=C,O=(1-E)*k/2),e.showLabelBackdrop){const t=(0,o.E)(e.backdropPadding),n=T.heights[v],r=T.widths[v];let i=O-t.top,s=0-t.left;switch(A){case"middle":i-=n/2;break;case"bottom":i-=n}switch(S){case"center":s-=r/2;break;case"right":s-=r}h={left:s,top:i,width:r+t.width,height:n+t.height,color:e.backdropColor}}g.push({label:w,font:j,textOffset:O,options:{rotation:f,color:n,strokeColor:l,strokeWidth:d,textAlign:m,textBaseline:A,translation:[x,_],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-(0,o.t)(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:o,padding:r}}=this.options,i=e+r,s=this._getLabelSizes().widest.width;let a,l;return"left"===t?o?(l=this.right+r,"near"===n?a="left":"center"===n?(a="center",l+=s/2):(a="right",l+=s)):(l=this.right-i,"near"===n?a="right":"center"===n?(a="center",l-=s/2):(a="left",l=this.left)):"right"===t?o?(l=this.left+r,"near"===n?a="right":"center"===n?(a="center",l-=s/2):(a="left",l-=s)):(l=this.left+i,"near"===n?a="left":"center"===n?(a="center",l+=s/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:o,width:r,height:i}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,o,r,i),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,i;const s=(e,t,o)=>{o.width&&o.color&&(n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.setLineDash(o.borderDash||[]),n.lineDashOffset=o.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(r=0,i=o.length;r<i;++r){const e=o[r];t.drawOnChartArea&&s({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&s({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),s=n.display?i.width:0;if(!s)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,u,h;this.isHorizontal()?(c=(0,o.X)(e,this.left,s)-s/2,d=(0,o.X)(e,this.right,a)+a/2,u=h=l):(u=(0,o.X)(e,this.top,s)-s/2,h=(0,o.X)(e,this.bottom,a)+a/2,c=d=l),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(c,u),t.lineTo(d,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&(0,o.Y)(t,n);const r=this.getLabelItems(e);for(const e of r){const n=e.options,r=e.font,i=e.label,s=e.textOffset;(0,o.Z)(t,i,0,s,r,n)}n&&(0,o.$)(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const i=(0,o.a0)(n.font),s=(0,o.E)(n.padding),a=n.align;let l=i.lineHeight/2;"bottom"===t||"center"===t||(0,o.i)(t)?(l+=s.bottom,(0,o.b)(n.text)&&(l+=i.lineHeight*(n.text.length-1))):l+=s.top;const{titleX:c,titleY:d,maxWidth:u,rotation:h}=function(e,t,n,r){const{top:i,left:s,bottom:a,right:l,chart:c}=e,{chartArea:d,scales:u}=c;let h,m,p,f=0;const g=a-i,v=l-s;if(e.isHorizontal()){if(m=(0,o.a2)(r,s,l),(0,o.i)(n)){const e=Object.keys(n)[0],o=n[e];p=u[e].getPixelForValue(o)+g-t}else p="center"===n?(d.bottom+d.top)/2+g-t:Ae(e,n,t);h=l-s}else{if((0,o.i)(n)){const e=Object.keys(n)[0],o=n[e];m=u[e].getPixelForValue(o)-v+t}else m="center"===n?(d.left+d.right)/2-v+t:Ae(e,n,t);p=(0,o.a2)(r,a,i),f="left"===n?-o.H:o.H}return{titleX:m,titleY:p,maxWidth:h,rotation:f}}(this,l,t,a);(0,o.Z)(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:Ne(a,t,r),textBaseline:"middle",translation:[c,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=(0,o.v)(e.grid&&e.grid.z,-1),r=(0,o.v)(e.border&&e.border.z,0);return this._isVisible()&&this.draw===Le.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",o=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];i[n]!==this.id||e&&i.type!==e||o.push(i)}return o}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return(0,o.a0)(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ie{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,i=e.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){const r=(0,o.a4)(Object.create(null),[n?o.d.get(n):{},o.d.get(t),e.defaults]);o.d.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),a=t[n].split("."),l=a.pop(),c=a.join(".");o.d.route(s,i,c,l)}))}(t,e.defaultRoutes);e.descriptors&&o.d.describe(t,e.descriptors)}(e,s,n),this.override&&o.d.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in o.d[r]&&(delete o.d[r][n],this.override&&delete o.a3[n])}}class Be{constructor(){this.controllers=new Ie(x,"datasets",!0),this.elements=new Ie(ke,"elements"),this.plugins=new Ie(Object,"plugins"),this.scales=new Ie(Le,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach((t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):(0,o.F)(t,(t=>{const o=n||this._getRegistryForType(t);this._exec(e,o,t)}))}))}_exec(e,t,n){const r=(0,o.a5)(e);(0,o.Q)(n["before"+r],[],n),t[e](n),(0,o.Q)(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const o=t.get(e);if(void 0===o)throw new Error('"'+e+'" is not a registered '+n+".");return o}}var Fe=new Be;class He{constructor(){this._init=[]}notify(e,t,n,o){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=o?this._descriptors(e).filter(o):this._descriptors(e),i=this._notify(r,e,t,n);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,t,n,r){r=r||{};for(const i of e){const e=i.plugin,s=e[n],a=[t,r,i.options];if(!1===(0,o.Q)(s,a,e)&&r.cancelable)return!1}return!0}invalidate(){(0,o.k)(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=(0,o.v)(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],o=Object.keys(Fe.plugins.items);for(let e=0;e<o.length;e++)n.push(Fe.getPlugin(o[e]));const r=e.plugins||[];for(let e=0;e<r.length;e++){const o=r[e];-1===n.indexOf(o)&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,{plugins:t,localIds:n},o,r){const i=[],s=e.getContext();for(const a of t){const t=a.id,l=Ve(o[t],r);null!==l&&i.push({plugin:a,options:ze(e.config,{plugin:a,local:n[t]},l,s)})}return i}(e,i,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,o=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(o(t,n),e,"stop"),this._notify(o(n,t),e,"start")}}function Ve(e,t){return t||!1!==e?!0===e?{}:e:null}function ze(e,{plugin:t,local:n},o,r){const i=e.pluginScopeKeys(t),s=e.getOptionScopes(o,i);return n&&t.defaults&&s.push(t.defaults),e.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ue(e,t){const n=o.d.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function We(e){if("x"===e||"y"===e||"r"===e)return e}function qe(e,...t){if(We(e))return e;for(const o of t){const t=o.axis||("top"===(n=o.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||e.length>1&&We(e[0].toLowerCase());if(t)return t}var n;throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Ze(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Ge(e,t){const n=o.a3[e.type]||{scales:{}},r=t.scales||{},i=Ue(e.type,t),s=Object.create(null);return Object.keys(r).forEach((t=>{const a=r[t];if(!(0,o.i)(a))return console.error(`Invalid scale configuration for scale: ${t}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const l=qe(t,a,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return Ze(e,"x",n[0])||Ze(e,"y",n[0])}return{}}(t,e),o.d.scales[a.type]),c=function(e,t){return e===t?"_index_":"_value_"}(l,i),d=n.scales||{};s[t]=(0,o.ab)(Object.create(null),[{axis:l},a,d[l],d[c]])})),e.data.datasets.forEach((n=>{const i=n.type||e.type,a=n.indexAxis||Ue(i,t),l=(o.a3[i]||{}).scales||{};Object.keys(l).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,a),i=n[t+"AxisID"]||t;s[i]=s[i]||Object.create(null),(0,o.ab)(s[i],[{axis:t},r[i],l[e]])}))})),Object.keys(s).forEach((e=>{const t=s[e];(0,o.ab)(t,[o.d.scales[t.type],o.d.scale])})),s}function $e(e){const t=e.options||(e.options={});t.plugins=(0,o.v)(t.plugins,{}),t.scales=Ge(e,t)}function Ye(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const Ke=new Map,Xe=new Set;function Qe(e,t){let n=Ke.get(e);return n||(n=t(),Ke.set(e,n),Xe.add(n)),n}const Je=(e,t,n)=>{const r=(0,o.f)(t,n);void 0!==r&&e.add(r)};class et{constructor(e){this._config=function(e){return(e=e||{}).data=Ye(e.data),$e(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Ye(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),$e(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Qe(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return Qe(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return Qe(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return Qe(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let o=n.get(e);return o&&!t||(o=new Map,n.set(e,o)),o}getOptionScopes(e,t,n){const{options:r,type:i}=this,s=this._cachedScopes(e,n),a=s.get(t);if(a)return a;const l=new Set;t.forEach((t=>{e&&(l.add(e),t.forEach((t=>Je(l,e,t)))),t.forEach((e=>Je(l,r,e))),t.forEach((e=>Je(l,o.a3[i]||{},e))),t.forEach((e=>Je(l,o.d,e))),t.forEach((e=>Je(l,o.a6,e)))}));const c=Array.from(l);return 0===c.length&&c.push(Object.create(null)),Xe.has(t)&&s.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,o.a3[t]||{},o.d.datasets[t]||{},{type:t},o.d,o.a6]}resolveNamedOptions(e,t,n,r=[""]){const i={$shared:!0},{resolver:s,subPrefixes:a}=tt(this._resolverCache,e,r);let l=s;if(function(e,t){const{isScriptable:n,isIndexable:r}=(0,o.aa)(e);for(const i of t){const t=n(i),s=r(i),a=(s||t)&&e[i];if(t&&((0,o.a7)(a)||nt(a))||s&&(0,o.b)(a))return!0}return!1}(s,t)){i.$shared=!1,n=(0,o.a7)(n)?n():n;const t=this.createResolver(e,n,a);l=(0,o.a8)(s,n,t)}for(const e of t)i[e]=l[e];return i}createResolver(e,t,n=[""],r){const{resolver:i}=tt(this._resolverCache,e,n);return(0,o.i)(t)?(0,o.a8)(i,t,void 0,r):i}}function tt(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);if(!s){s={resolver:(0,o.a9)(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},r.set(i,s)}return s}const nt=e=>(0,o.i)(e)&&Object.getOwnPropertyNames(e).reduce(((t,n)=>t||(0,o.a7)(e[n])),!1);const ot=["top","bottom","left","right","chartArea"];function rt(e,t){return"top"===e||"bottom"===e||-1===ot.indexOf(e)&&"x"===t}function it(e,t){return function(n,o){return n[e]===o[e]?n[t]-o[t]:n[e]-o[e]}}function st(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),(0,o.Q)(n&&n.onComplete,[e],t)}function at(e){const t=e.chart,n=t.options.animation;(0,o.Q)(n&&n.onProgress,[e],t)}function lt(e){return(0,o.M)()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ct={},dt=e=>{const t=lt(e);return Object.values(ct).filter((e=>e.canvas===t)).pop()};function ut(e,t,n){const o=Object.keys(e);for(const r of o){const o=+r;if(o>=t){const i=e[r];delete e[r],(n>0||o>t)&&(e[o+n]=i)}}}class ht{static defaults=o.d;static instances=ct;static overrides=o.a3;static registry=Fe;static version="4.3.0";static getChart=dt;static register(...e){Fe.add(...e),mt()}static unregister(...e){Fe.remove(...e),mt()}constructor(e,t){const n=this.config=new et(t),r=lt(e),s=dt(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||je(r)),this.platform.updateConfig(n);const l=this.platform.acquireContext(r,a.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;this.id=(0,o.ac)(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new He,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(0,o.ad)((e=>this.update(e)),a.resizeDelay||0),this._dataChanges=[],ct[this.id]=this,l&&c?(i.listen(this,"complete",st),i.listen(this,"progress",at),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:i}=this;return(0,o.k)(e)?t&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Fe}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():(0,o.ae)(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return(0,o.af)(this.canvas,this.ctx),this}stop(){return i.stop(this),this}resize(e,t){i.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,t,i),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,(0,o.ae)(this,a,!0)&&(this.notifyPlugins("resize",{size:s}),(0,o.Q)(n.onResize,[this,s],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};(0,o.F)(e,((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let i=[];t&&(i=i.concat(Object.keys(t).map((e=>{const n=t[e],o=qe(e,n),r="r"===o,i="x"===o;return{options:n,dposition:r?"chartArea":i?"bottom":"left",dtype:r?"radialLinear":i?"category":"linear"}})))),(0,o.F)(i,(t=>{const i=t.options,s=i.id,a=qe(s,i),l=(0,o.v)(i.type,t.dtype);void 0!==i.position&&rt(i.position,a)===rt(t.dposition)||(i.position=t.dposition),r[s]=!0;let c=null;if(s in n&&n[s].type===l)c=n[s];else{c=new(Fe.getScale(l))({id:s,type:l,ctx:this.ctx,chart:this}),n[c.id]=c}c.init(i,e)})),(0,o.F)(r,((e,t)=>{e||delete n[t]})),(0,o.F)(n,(e=>{ae.configure(this,e,e.options),ae.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(it("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let i=this.getDatasetMeta(n);const s=r.type||this.config.type;if(i.type&&i.type!==s&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=s,i.indexAxis=r.indexAxis||Ue(s,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=Fe.getController(s),{datasetElementType:r,dataElementType:a}=o.d.datasets[s];Object.assign(t,{dataElementType:Fe.getElement(a),datasetElementType:r&&Fe.getElement(r)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){(0,o.F)(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let e=0,t=this.data.datasets.length;e<t;e++){const{controller:t}=this.getDatasetMeta(e),n=!r&&-1===i.indexOf(t);t.buildOrUpdateElements(n),s=Math.max(+t.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||(0,o.F)(i,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(it("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){(0,o.F)(this.scales,(e=>{ae.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(0,o.ag)(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:o,count:r}of t){ut(e,o,"_removeElements"===n?-r:r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),r=n(0);for(let e=1;e<t;e++)if(!(0,o.ag)(r,n(e)))return;return Array.from(r).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ae.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],(0,o.F)(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,(0,o.a7)(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),o={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",o)&&(n.controller._update(t),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(i.has(this)?this.attached&&!i.running(this)&&i.start(this):(this.draw(),st({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let o,r;for(o=0,r=t.length;o<r;++o){const r=t[o];e&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,r=!n.disabled,i=function(e){const{xScale:t,yScale:n}=e;if(t&&n)return{left:t.left,right:t.right,top:n.top,bottom:n.bottom}}(e)||this.chartArea,s={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(r&&(0,o.Y)(t,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),e.controller.draw(),r&&(0,o.$)(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return(0,o.C)(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,o){const r=$.modes[t];return"function"==typeof r?r(this,e,n,o):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let o=n.filter((e=>e&&e._dataset===t)).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(o)),o}getContext(){return this.$context||(this.$context=(0,o.j)(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"==typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),s=i.controller._resolveAnimations(void 0,r);(0,o.h)(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(i,{visible:n}),this.update((t=>t.datasetIndex===e?r:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),i.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),(0,o.af)(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ct[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,o)=>{t.addEventListener(this,n,o),e[n]=o},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};(0,o.F)(this.options.events,(e=>n(e,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,o)=>{t.addEventListener(this,n,o),e[n]=o},o=(n,o)=>{e[n]&&(t.removeEventListener(this,n,o),delete e[n])},r=(e,t)=>{this.canvas&&this.resize(e,t)};let i;const s=()=>{o("attach",s),this.attached=!0,this.resize(),n("resize",r),n("detach",i)};i=()=>{this.attached=!1,o("resize",r),this._stop(),this._resize(0,0),n("attach",s)},t.isAttached(this.canvas)?s():i()}unbindEvents(){(0,o.F)(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},(0,o.F)(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const o=n?"set":"remove";let r,i,s,a;for("dataset"===t&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+o+"DatasetHoverStyle"]()),s=0,a=e.length;s<a;++s){i=e[s];const t=i&&this.getDatasetMeta(i.datasetIndex).controller;t&&t[o+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((({datasetIndex:e,index:t})=>{const n=this.getDatasetMeta(e);if(!n)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:n.data[t],index:t}}));!(0,o.ah)(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const o=this.options.hover,r=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),i=r(t,e),s=n?e:r(e,t);i.length&&this.updateHoverStyle(i,o.mode,!1),s.length&&o.mode&&this.updateHoverStyle(s,o.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},o=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,o))return;const r=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,o),(r||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:i}=this,s=t,a=this._getActiveElements(e,r,n,s),l=(0,o.ai)(e),c=function(e,t,n,o){return n&&"mouseout"!==e.type?o?t:e:null}(e,this._lastEvent,n,l);n&&(this._lastEvent=null,(0,o.Q)(i.onHover,[e,a,this],this),l&&(0,o.Q)(i.onClick,[e,a,this],this));const d=!(0,o.ah)(a,r);return(d||t)&&(this._active=a,this._updateHoverStyles(a,r,t)),this._lastEvent=c,d}_getActiveElements(e,t,n,o){if("mouseout"===e.type)return[];if(!n)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,o)}}function mt(){return(0,o.F)(ht.instances,(e=>e._plugins.invalidate()))}function pt(e,t,n,r){const i=(s=e.options.borderRadius,(0,o.ak)(s,["outerStart","outerEnd","innerStart","innerEnd"]));var s;const a=(n-t)/2,l=Math.min(a,r*t/2),c=e=>{const t=(n-Math.min(a,e))*r/2;return(0,o.S)(e,0,Math.min(a,t))};return{outerStart:c(i.outerStart),outerEnd:c(i.outerEnd),innerStart:(0,o.S)(i.innerStart,0,l),innerEnd:(0,o.S)(i.innerEnd,0,l)}}function ft(e,t,n,o){return{x:n+e*Math.cos(t),y:o+e*Math.sin(t)}}function gt(e,t,n,r,i,s){const{x:a,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=t,h=Math.max(t.outerRadius+r+n-d,0),m=u>0?u+r+n+d:0;let p=0;const f=i-c;if(r){const e=((u>0?u-r:0)+(h>0?h-r:0))/2;p=(f-(0!==e?f*e/(e+r):f))/2}const g=(f-Math.max(.001,f*h-n/o.P)/h)/2,v=c+g+p,b=i-g-p,{outerStart:y,outerEnd:w,innerStart:x,innerEnd:_}=pt(t,m,h,b-v),S=h-y,C=h-w,j=v+y/S,k=b-w/C,E=m+x,O=m+_,A=v+x/E,T=b-_/O;if(e.beginPath(),s){const t=(j+k)/2;if(e.arc(a,l,h,j,t),e.arc(a,l,h,t,k),w>0){const t=ft(C,k,a,l);e.arc(t.x,t.y,w,k,b+o.H)}const n=ft(O,b,a,l);if(e.lineTo(n.x,n.y),_>0){const t=ft(O,T,a,l);e.arc(t.x,t.y,_,b+o.H,T+Math.PI)}const r=(b-_/m+(v+x/m))/2;if(e.arc(a,l,m,b-_/m,r,!0),e.arc(a,l,m,r,v+x/m,!0),x>0){const t=ft(E,A,a,l);e.arc(t.x,t.y,x,A+Math.PI,v-o.H)}const i=ft(S,v,a,l);if(e.lineTo(i.x,i.y),y>0){const t=ft(S,j,a,l);e.arc(t.x,t.y,y,v-o.H,j)}}else{e.moveTo(a,l);const t=Math.cos(j)*h+a,n=Math.sin(j)*h+l;e.lineTo(t,n);const o=Math.cos(k)*h+a,r=Math.sin(k)*h+l;e.lineTo(o,r)}e.closePath()}function vt(e,t,n,r,i){const{fullCircles:s,startAngle:a,circumference:l,options:c}=t,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:m}=c,p="inner"===c.borderAlign;if(!d)return;e.setLineDash(h||[]),e.lineDashOffset=m,p?(e.lineWidth=2*d,e.lineJoin=u||"round"):(e.lineWidth=d,e.lineJoin=u||"bevel");let f=t.endAngle;if(s){gt(e,t,n,r,f,i);for(let t=0;t<s;++t)e.stroke();isNaN(l)||(f=a+(l%o.T||o.T))}p&&function(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:l,innerRadius:c}=t;let d=i/l;e.beginPath(),e.arc(s,a,l,r-d,n+d),c>i?(d=i/c,e.arc(s,a,c,n+d,r-d,!0)):e.arc(s,a,i,n+o.H,r-o.H),e.closePath(),e.clip()}(e,t,f),s||(gt(e,t,n,r,f,i),e.stroke())}class bt extends ke{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:i,distance:s}=(0,o.D)(r,{x:e,y:t}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:d,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,m=(0,o.v)(u,l-a)>=o.T||(0,o.p)(i,a,l),p=(0,o.aj)(s,c+h,d+h);return m&&p}getCenterPoint(e){const{x:t,y:n,startAngle:o,endAngle:r,innerRadius:i,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:a,spacing:l}=this.options,c=(o+r)/2,d=(i+s+l+a)/2;return{x:t+Math.cos(c)*d,y:n+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,i=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>o.T?Math.floor(n/o.T):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);const l=r*(1-Math.sin(Math.min(o.P,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,i){const{fullCircles:s,startAngle:a,circumference:l}=t;let c=t.endAngle;if(s){gt(e,t,n,r,c,i);for(let t=0;t<s;++t)e.fill();isNaN(l)||(c=a+(l%o.T||o.T))}gt(e,t,n,r,c,i),e.fill()}(e,this,l,i,s),vt(e,this,l,i,s),e.restore()}}function yt(e,t,n=t){e.lineCap=(0,o.v)(n.borderCapStyle,t.borderCapStyle),e.setLineDash((0,o.v)(n.borderDash,t.borderDash)),e.lineDashOffset=(0,o.v)(n.borderDashOffset,t.borderDashOffset),e.lineJoin=(0,o.v)(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=(0,o.v)(n.borderWidth,t.borderWidth),e.strokeStyle=(0,o.v)(n.borderColor,t.borderColor)}function wt(e,t,n){e.lineTo(n.x,n.y)}function xt(e,t,n={}){const o=e.length,{start:r=0,end:i=o-1}=n,{start:s,end:a}=t,l=Math.max(r,s),c=Math.min(i,a),d=r<s&&i<s||r>a&&i>a;return{count:o,start:l,loop:t.loop,ilen:c<l&&!d?o+c-l:c-l}}function _t(e,t,n,r){const{points:i,options:s}=t,{count:a,start:l,loop:c,ilen:d}=xt(i,n,r),u=function(e){return e.stepped?o.ar:e.tension||"monotone"===e.cubicInterpolationMode?o.as:wt}(s);let h,m,p,{move:f=!0,reverse:g}=r||{};for(h=0;h<=d;++h)m=i[(l+(g?d-h:h))%a],m.skip||(f?(e.moveTo(m.x,m.y),f=!1):u(e,p,m,g,s.stepped),p=m);return c&&(m=i[(l+(g?d:0))%a],u(e,p,m,g,s.stepped)),!!c}function St(e,t,n,o){const r=t.points,{count:i,start:s,ilen:a}=xt(r,n,o),{move:l=!0,reverse:c}=o||{};let d,u,h,m,p,f,g=0,v=0;const b=e=>(s+(c?a-e:e))%i,y=()=>{m!==p&&(e.lineTo(g,p),e.lineTo(g,m),e.lineTo(g,f))};for(l&&(u=r[b(0)],e.moveTo(u.x,u.y)),d=0;d<=a;++d){if(u=r[b(d)],u.skip)continue;const t=u.x,n=u.y,o=0|t;o===h?(n<m?m=n:n>p&&(p=n),g=(v*g+t)/++v):(y(),e.lineTo(t,n),h=o,v=0,m=p=n),f=n}y()}function Ct(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!(e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||n)?St:_t}const jt="function"==typeof Path2D;function kt(e,t,n,o){jt&&!t.options.segment?function(e,t,n,o){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,o)&&r.closePath()),yt(e,t.options),e.stroke(r)}(e,t,n,o):function(e,t,n,o){const{segments:r,options:i}=t,s=Ct(t);for(const a of r)yt(e,i,a.style),e.beginPath(),s(e,t,a,{start:n,end:n+o-1})&&e.closePath(),e.stroke()}(e,t,n,o)}class Et extends ke{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;(0,o.al)(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=(0,o.am)(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],i=this.points,s=(0,o.an)(this,{property:t,start:r,end:r});if(!s.length)return;const a=[],l=function(e){return e.stepped?o.ao:e.tension||"monotone"===e.cubicInterpolationMode?o.ap:o.aq}(n);let c,d;for(c=0,d=s.length;c<d;++c){const{start:o,end:d}=s[c],u=i[o],h=i[d];if(u===h){a.push(u);continue}const m=l(u,h,Math.abs((r-u[t])/(h[t]-u[t])),n.stepped);m[t]=e[t],a.push(m)}return 1===a.length?a[0]:a}pathSegment(e,t,n){return Ct(this)(e,this,t,n)}path(e,t,n){const o=this.segments,r=Ct(this);let i=this._loop;t=t||0,n=n||this.points.length-t;for(const s of o)i&=r(e,this,s,{start:t,end:t+n-1});return!!i}draw(e,t,n,o){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),kt(e,this,n,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Ot(e,t,n,o){const r=e.options,{[n]:i}=e.getProps([n],o);return Math.abs(t-i)<r.radius+r.hitRadius}class At extends ke{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const o=this.options,{x:r,y:i}=this.getProps(["x","y"],n);return Math.pow(e-r,2)+Math.pow(t-i,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,t){return Ot(this,e,"x",t)}inYRange(e,t){return Ot(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!(0,o.C)(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,(0,o.at)(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Tt(e,t){const{x:n,y:o,base:r,width:i,height:s}=e.getProps(["x","y","base","width","height"],t);let a,l,c,d,u;return e.horizontal?(u=s/2,a=Math.min(n,r),l=Math.max(n,r),c=o-u,d=o+u):(u=i/2,a=n-u,l=n+u,c=Math.min(o,r),d=Math.max(o,r)),{left:a,top:c,right:l,bottom:d}}function Dt(e,t,n,r){return e?0:(0,o.S)(t,n,r)}function Mt(e){const t=Tt(e),n=t.right-t.left,r=t.bottom-t.top,i=function(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=(0,o.av)(r);return{t:Dt(i.top,s.top,0,n),r:Dt(i.right,s.right,0,t),b:Dt(i.bottom,s.bottom,0,n),l:Dt(i.left,s.left,0,t)}}(e,n/2,r/2),s=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=(0,o.aw)(i),a=Math.min(t,n),l=e.borderSkipped,c=r||(0,o.i)(i);return{topLeft:Dt(!c||l.top||l.left,s.topLeft,0,a),topRight:Dt(!c||l.top||l.right,s.topRight,0,a),bottomLeft:Dt(!c||l.bottom||l.left,s.bottomLeft,0,a),bottomRight:Dt(!c||l.bottom||l.right,s.bottomRight,0,a)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function Pt(e,t,n,r){const i=null===t,s=null===n,a=e&&!(i&&s)&&Tt(e,r);return a&&(i||(0,o.aj)(t,a.left,a.right))&&(s||(0,o.aj)(n,a.top,a.bottom))}function Rt(e,t){e.rect(t.x,t.y,t.w,t.h)}function Nt(e,t,n={}){const o=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-o,s=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+o,y:e.y+r,w:e.w+i,h:e.h+s,radius:e.radius}}class Lt extends ke{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:s}=Mt(this),a=(l=s.radius).topLeft||l.topRight||l.bottomLeft||l.bottomRight?o.au:Rt;var l;e.save(),s.w===i.w&&s.h===i.h||(e.beginPath(),a(e,Nt(s,t,i)),e.clip(),a(e,Nt(i,-t,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,Nt(i,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return Pt(this,e,t,n)}inXRange(e,t){return Pt(this,e,null,t)}inYRange(e,t){return Pt(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:o,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+o)/2:t,y:r?n:(n+o)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}var It=Object.freeze({__proto__:null,ArcElement:bt,BarElement:Lt,LineElement:Et,PointElement:At});const Bt=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Ft=Bt.map((e=>e.replace("rgb(","rgba(").replace(")",", 0.5)")));function Ht(e){return Bt[e%Bt.length]}function Vt(e){return Ft[e%Ft.length]}function zt(e){let t=0;return(n,o)=>{const r=e.getDatasetMeta(o).controller;r instanceof M?t=function(e,t){return e.backgroundColor=e.data.map((()=>Ht(t++))),t}(n,t):r instanceof R?t=function(e,t){return e.backgroundColor=e.data.map((()=>Vt(t++))),t}(n,t):r&&(t=function(e,t){return e.borderColor=Ht(t),e.backgroundColor=Vt(t),++t}(n,t))}}function Ut(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var Wt={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:o},options:r}=e.config,{elements:i}=r;if(!n.forceOverride&&(Ut(o)||(s=r)&&(s.borderColor||s.backgroundColor)||i&&Ut(i)))return;var s;const a=zt(e);o.forEach(a)}};function qt(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Zt(e){e.data.datasets.forEach((e=>{qt(e)}))}var Gt={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled)return void Zt(e);const r=e.width;e.data.datasets.forEach(((t,i)=>{const{_data:s,indexAxis:a}=t,l=e.getDatasetMeta(i),c=s||t.data;if("y"===(0,o.a)([a,e.options.indexAxis]))return;if(!l.controller.supportsDecimation)return;const d=e.scales[l.xAxisID];if("linear"!==d.type&&"time"!==d.type)return;if(e.options.parsing)return;let{start:u,count:h}=function(e,t){const n=t.length;let r,i=0;const{iScale:s}=e,{min:a,max:l,minDefined:c,maxDefined:d}=s.getUserBounds();return c&&(i=(0,o.S)((0,o.B)(t,s.axis,a).lo,0,n-1)),r=d?(0,o.S)((0,o.B)(t,s.axis,l).hi+1,i,n)-i:n-i,{start:i,count:r}}(l,c);if(h<=(n.threshold||4*r))return void qt(t);let m;switch((0,o.k)(s)&&(t._data=c,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":m=function(e,t,n,o,r){const i=r.samples||o;if(i>=n)return e.slice(t,t+n);const s=[],a=(n-2)/(i-2);let l=0;const c=t+n-1;let d,u,h,m,p,f=t;for(s[l++]=e[f],d=0;d<i-2;d++){let o,r=0,i=0;const c=Math.floor((d+1)*a)+1+t,g=Math.min(Math.floor((d+2)*a)+1,n)+t,v=g-c;for(o=c;o<g;o++)r+=e[o].x,i+=e[o].y;r/=v,i/=v;const b=Math.floor(d*a)+1+t,y=Math.min(Math.floor((d+1)*a)+1,n)+t,{x:w,y:x}=e[f];for(h=m=-1,o=b;o<y;o++)m=.5*Math.abs((w-r)*(e[o].y-x)-(w-e[o].x)*(i-x)),m>h&&(h=m,u=e[o],p=o);s[l++]=u,f=p}return s[l++]=e[c],s}(c,u,h,r,n);break;case"min-max":m=function(e,t,n,r){let i,s,a,l,c,d,u,h,m,p,f=0,g=0;const v=[],b=t+n-1,y=e[t].x,w=e[b].x-y;for(i=t;i<t+n;++i){s=e[i],a=(s.x-y)/w*r,l=s.y;const t=0|a;if(t===c)l<m?(m=l,d=i):l>p&&(p=l,u=i),f=(g*f+s.x)/++g;else{const n=i-1;if(!(0,o.k)(d)&&!(0,o.k)(u)){const t=Math.min(d,u),o=Math.max(d,u);t!==h&&t!==n&&v.push({...e[t],x:f}),o!==h&&o!==n&&v.push({...e[o],x:f})}i>0&&n!==h&&v.push(e[n]),v.push(s),c=t,g=0,m=p=l,d=u=h=i}}return v}(c,u,h,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}t._decimated=m}))},destroy(e){Zt(e)}};function $t(e,t,n,r){if(r)return;let i=t[e],s=n[e];return"angle"===e&&(i=(0,o.ay)(i),s=(0,o.ay)(s)),{property:e,start:i,end:s}}function Yt(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function Kt(e,t,n,o){return e&&t?o(e[n],t[n]):e?e[n]:t?t[n]:0}function Xt(e,t){let n=[],r=!1;return(0,o.b)(e)?(r=!0,n=e):n=function(e,t){const{x:n=null,y:o=null}=e||{},r=t.points,i=[];return t.segments.forEach((({start:e,end:t})=>{t=Yt(e,t,r);const s=r[e],a=r[t];null!==o?(i.push({x:s.x,y:o}),i.push({x:a.x,y:o})):null!==n&&(i.push({x:n,y:s.y}),i.push({x:n,y:a.y}))})),i}(e,t),n.length?new Et({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function Qt(e){return e&&!1!==e.fill}function Jt(e,t,n){let r=e[t].fill;const i=[t];let s;if(!n)return r;for(;!1!==r&&-1===i.indexOf(r);){if(!(0,o.g)(r))return r;if(s=e[r],!s)return!1;if(s.visible)return r;i.push(r),r=s.fill}return!1}function en(e,t,n){const r=function(e){const t=e.options,n=t.fill;let r=(0,o.v)(n&&n.target,n);void 0===r&&(r=!!t.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(e);if((0,o.i)(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return(0,o.g)(i)&&Math.floor(i)===i?function(e,t,n,o){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=o)return!1;return n}(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function tn(e,t,n){const o=[];for(let r=0;r<n.length;r++){const i=n[r],{first:s,last:a,point:l}=nn(i,t,"x");if(!(!l||s&&a))if(s)o.unshift(l);else if(e.push(l),!a)break}e.push(...o)}function nn(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],s=e.segments,a=e.points;let l=!1,c=!1;for(let e=0;e<s.length;e++){const t=s[e],r=a[t.start][n],d=a[t.end][n];if((0,o.aj)(i,r,d)){l=i===r,c=i===d;break}}return{first:l,last:c,point:r}}class on{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:r,y:i,radius:s}=this;return t=t||{start:0,end:o.T},e.arc(r,i,s,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:o}=this,r=e.angle;return{x:t+Math.cos(r)*o,y:n+Math.sin(r)*o,angle:r}}}function rn(e){const{chart:t,fill:n,line:r}=e;if((0,o.g)(n))return function(e,t){const n=e.getDatasetMeta(t),o=n&&e.isDatasetVisible(t);return o?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:o}=e,r=[],i=o.segments,s=o.points,a=function(e,t){const n=[],o=e.getMatchingVisibleMetas("line");for(let e=0;e<o.length;e++){const r=o[e];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}(t,n);a.push(Xt({x:null,y:t.bottom},o));for(let e=0;e<i.length;e++){const t=i[e];for(let e=t.start;e<=t.end;e++)tn(r,s[e],a)}return new Et({points:r,options:{}})}(e);if("shape"===n)return!0;const i=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,a=function(e,t,n){let r;return r="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:(0,o.i)(e)?e.value:t.getBaseValue(),r}(n,t,s),l=[];if(r.grid.circular){const e=t.getPointPositionForValue(0,s);return new on({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(a)})}for(let e=0;e<i;++e)l.push(t.getPointPositionForValue(e,a));return l}(e);return function(e){const{scale:t={},fill:n}=e,r=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:(0,o.i)(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if((0,o.g)(r)){const e=t.isHorizontal();return{x:e?r:null,y:e?null:r}}return null}(e)}(e);return i instanceof on?i:Xt(i,r)}function sn(e,t,n){const r=rn(t),{line:i,scale:s,axis:a}=t,l=i.options,c=l.fill,d=l.backgroundColor,{above:u=d,below:h=d}=c||{};r&&i.points.length&&((0,o.Y)(e,n),function(e,t){const{line:n,target:o,above:r,below:i,area:s,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),"x"===l&&i!==r&&(an(e,o,s.top),ln(e,{line:n,target:o,color:r,scale:a,property:l}),e.restore(),e.save(),an(e,o,s.bottom));ln(e,{line:n,target:o,color:i,scale:a,property:l}),e.restore()}(e,{line:i,target:r,above:u,below:h,area:n,scale:s,axis:a}),(0,o.$)(e))}function an(e,t,n){const{segments:o,points:r}=t;let i=!0,s=!1;e.beginPath();for(const a of o){const{start:o,end:l}=a,c=r[o],d=r[Yt(o,l,r)];i?(e.moveTo(c.x,c.y),i=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),s=!!t.pathSegment(e,a,{move:s}),s?e.closePath():e.lineTo(d.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function ln(e,t){const{line:n,target:r,property:i,color:s,scale:a}=t,l=function(e,t,n){const r=e.segments,i=e.points,s=t.points,a=[];for(const e of r){let{start:r,end:l}=e;l=Yt(r,l,i);const c=$t(n,i[r],i[l],e.loop);if(!t.segments){a.push({source:e,target:c,start:i[r],end:i[l]});continue}const d=(0,o.an)(t,c);for(const t of d){const r=$t(n,s[t.start],s[t.end],t.loop),l=(0,o.ax)(e,i,r);for(const e of l)a.push({source:e,target:t,start:{[n]:Kt(c,r,"start",Math.max)},end:{[n]:Kt(c,r,"end",Math.min)}})}}return a}(n,r,i);for(const{source:t,target:o,start:c,end:d}of l){const{style:{backgroundColor:l=s}={}}=t,u=!0!==r;e.save(),e.fillStyle=l,cn(e,a,u&&$t(i,c,d)),e.beginPath();const h=!!n.pathSegment(e,t);let m;if(u){h?e.closePath():dn(e,r,d,i);const t=!!r.pathSegment(e,o,{move:h,reverse:!0});m=h&&t,m||dn(e,r,c,i)}e.closePath(),e.fill(m?"evenodd":"nonzero"),e.restore()}}function cn(e,t,n){const{top:o,bottom:r}=t.chart.chartArea,{property:i,start:s,end:a}=n||{};"x"===i&&(e.beginPath(),e.rect(s,o,a-s,r-o),e.clip())}function dn(e,t,n,o){const r=t.interpolate(n,o);r&&e.lineTo(r.x,r.y)}var un={id:"filler",afterDatasetsUpdate(e,t,n){const o=(e.data.datasets||[]).length,r=[];let i,s,a,l;for(s=0;s<o;++s)i=e.getDatasetMeta(s),a=i.dataset,l=null,a&&a.options&&a instanceof Et&&(l={visible:e.isDatasetVisible(s),index:s,fill:en(a,s,o),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:a}),i.$filler=l,r.push(l);for(s=0;s<o;++s)l=r[s],l&&!1!==l.fill&&(l.fill=Jt(r,s,n.propagate))},beforeDraw(e,t,n){const o="beforeDraw"===n.drawTime,r=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let t=r.length-1;t>=0;--t){const n=r[t].$filler;n&&(n.line.updateControlPoints(i,n.axis),o&&n.fill&&sn(e.ctx,n,i))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const o=e.getSortedVisibleDatasetMetas();for(let t=o.length-1;t>=0;--t){const n=o[t].$filler;Qt(n)&&sn(e.ctx,n,e.chartArea)}},beforeDatasetDraw(e,t,n){const o=t.meta.$filler;Qt(o)&&"beforeDatasetDraw"===n.drawTime&&sn(e.ctx,o,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const hn=(e,t)=>{let{boxHeight:n=t,boxWidth:o=t}=e;return e.usePointStyle&&(n=Math.min(n,t),o=e.pointStyleWidth||Math.min(o,t)),{boxWidth:o,boxHeight:n,itemHeight:Math.max(t,n)}};class mn extends ke{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=(0,o.Q)(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=(0,o.a0)(n.font),i=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=hn(n,i);let c,d;t.font=r.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(s,i,a,l)+10):(d=this.maxHeight,c=this._fitCols(s,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,o){const{ctx:r,maxWidth:i,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=o+s;let d=e;r.textAlign="left",r.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach(((e,m)=>{const p=n+t/2+r.measureText(e.text).width;(0===m||l[l.length-1]+p+2*s>i)&&(d+=c,l[l.length-(m>0?0:1)]=0,h+=c,u++),a[m]={left:0,top:h,row:u,width:p,height:o},l[l.length-1]+=p+s})),d}_fitCols(e,t,n,o){const{ctx:r,maxHeight:i,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=i-e;let d=s,u=0,h=0,m=0,p=0;return this.legendItems.forEach(((e,i)=>{const{itemWidth:f,itemHeight:g}=function(e,t,n,o,r){const i=function(e,t,n,o){let r=e.text;r&&"string"!=typeof r&&(r=r.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+o.measureText(r).width}(o,e,t,n),s=function(e,t,n){let o=e;"string"!=typeof t.text&&(o=pn(t,n));return o}(r,o,t.lineHeight);return{itemWidth:i,itemHeight:s}}(n,t,r,e,o);i>0&&h+g+2*s>c&&(d+=u+s,l.push({width:u,height:h}),m+=u+s,p++,u=h=0),a[i]={left:m,top:h,col:p,width:f,height:g},u=Math.max(u,f),h+=g+s})),d+=u,l.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:i}}=this,s=(0,o.az)(i,this.left,this.width);if(this.isHorizontal()){let i=0,a=(0,o.a2)(n,this.left+r,this.right-this.lineWidths[i]);for(const l of t)i!==l.row&&(i=l.row,a=(0,o.a2)(n,this.left+r,this.right-this.lineWidths[i])),l.top+=this.top+e+r,l.left=s.leftForLtr(s.x(a),l.width),a+=l.width+r}else{let i=0,a=(0,o.a2)(n,this.top+e+r,this.bottom-this.columnSizes[i].height);for(const l of t)l.col!==i&&(i=l.col,a=(0,o.a2)(n,this.top+e+r,this.bottom-this.columnSizes[i].height)),l.top=a,l.left+=this.left+r,l.left=s.leftForLtr(s.x(l.left),l.width),a+=l.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;(0,o.Y)(e,this),this._draw(),(0,o.$)(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:i,labels:s}=e,a=o.d.color,l=(0,o.az)(e.rtl,this.left,this.width),c=(0,o.a0)(s.font),{padding:d}=s,u=c.size,h=u/2;let m;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:p,boxHeight:f,itemHeight:g}=hn(s,u),v=this.isHorizontal(),b=this._computeTitleHeight();m=v?{x:(0,o.a2)(i,this.left+d,this.right-n[0]),y:this.top+d+b,line:0}:{x:this.left+d,y:(0,o.a2)(i,this.top+b+d,this.bottom-t[0].height),line:0},(0,o.aA)(this.ctx,e.textDirection);const y=g+d;this.legendItems.forEach(((w,x)=>{r.strokeStyle=w.fontColor,r.fillStyle=w.fontColor;const _=r.measureText(w.text).width,S=l.textAlign(w.textAlign||(w.textAlign=s.textAlign)),C=p+h+_;let j=m.x,k=m.y;l.setWidth(this.width),v?x>0&&j+C+d>this.right&&(k=m.y+=y,m.line++,j=m.x=(0,o.a2)(i,this.left+d,this.right-n[m.line])):x>0&&k+y>this.bottom&&(j=m.x=j+t[m.line].width+d,m.line++,k=m.y=(0,o.a2)(i,this.top+b+d,this.bottom-t[m.line].height));if(function(e,t,n){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;r.save();const i=(0,o.v)(n.lineWidth,1);if(r.fillStyle=(0,o.v)(n.fillStyle,a),r.lineCap=(0,o.v)(n.lineCap,"butt"),r.lineDashOffset=(0,o.v)(n.lineDashOffset,0),r.lineJoin=(0,o.v)(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=(0,o.v)(n.strokeStyle,a),r.setLineDash((0,o.v)(n.lineDash,[])),s.usePointStyle){const a={radius:f*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},c=l.xPlus(e,p/2),d=t+h;(0,o.aD)(r,a,c,d,s.pointStyleWidth&&p)}else{const s=t+Math.max((u-f)/2,0),a=l.leftForLtr(e,p),c=(0,o.aw)(n.borderRadius);r.beginPath(),Object.values(c).some((e=>0!==e))?(0,o.au)(r,{x:a,y:s,w:p,h:f,radius:c}):r.rect(a,s,p,f),r.fill(),0!==i&&r.stroke()}r.restore()}(l.x(j),k,w),j=(0,o.aB)(S,j+p+h,v?j+C:this.right,e.rtl),function(e,t,n){(0,o.Z)(r,n.text,e,t+g/2,c,{strikethrough:n.hidden,textAlign:l.textAlign(n.textAlign)})}(l.x(j),k,w),v)m.x+=C+d;else if("string"!=typeof w.text){const e=c.lineHeight;m.y+=pn(w,e)}else m.y+=y})),(0,o.aC)(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=(0,o.a0)(t.font),r=(0,o.E)(t.padding);if(!t.display)return;const i=(0,o.az)(e.rtl,this.left,this.width),s=this.ctx,a=t.position,l=n.size/2,c=r.top+l;let d,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+c,u=(0,o.a2)(e.align,u,this.right-h);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);d=c+(0,o.a2)(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const m=(0,o.a2)(a,u,u+h);s.textAlign=i.textAlign((0,o.a1)(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,(0,o.Z)(s,t.text,m,d,n)}_computeTitleHeight(){const e=this.options.title,t=(0,o.a0)(e.font),n=(0,o.E)(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,i;if((0,o.aj)(e,this.left,this.right)&&(0,o.aj)(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],(0,o.aj)(e,r.left,r.left+r.width)&&(0,o.aj)(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const s=this._hoveredItem,a=(i=n,null!==(r=s)&&null!==i&&r.datasetIndex===i.datasetIndex&&r.index===i.index);s&&!a&&(0,o.Q)(t.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!a&&(0,o.Q)(t.onHover,[e,n,this],this)}else n&&(0,o.Q)(t.onClick,[e,n,this],this);var r,i}}function pn(e,t){return t*(e.text?e.text.length+.5:0)}var fn={id:"legend",_element:mn,start(e,t,n){const o=e.legend=new mn({ctx:e.ctx,options:n,chart:e});ae.configure(e,o,n),ae.addBox(e,o)},stop(e){ae.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const o=e.legend;ae.configure(e,o,n),o.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const o=t.datasetIndex,r=n.chart;r.isDatasetVisible(o)?(r.hide(o),t.hidden=!0):(r.show(o),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const c=e.controller.getStyle(n?0:void 0),d=(0,o.E)(c.borderWidth);return{text:t[e.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:a&&(l||c.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class gn extends ke{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=(0,o.b)(n.text)?n.text.length:1;this._padding=(0,o.E)(n.padding);const i=r*(0,o.a0)(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:i,options:s}=this,a=s.align;let l,c,d,u=0;return this.isHorizontal()?(c=(0,o.a2)(a,n,i),d=t+e,l=i-n):("left"===s.position?(c=n+e,d=(0,o.a2)(a,r,t),u=-.5*o.P):(c=i-e,d=(0,o.a2)(a,t,r),u=.5*o.P),l=r-t),{titleX:c,titleY:d,maxWidth:l,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=(0,o.a0)(t.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:s,maxWidth:a,rotation:l}=this._drawArgs(r);(0,o.Z)(e,t.text,0,0,n,{color:t.color,maxWidth:a,rotation:l,textAlign:(0,o.a1)(t.align),textBaseline:"middle",translation:[i,s]})}}var vn={id:"title",_element:gn,start(e,t,n){!function(e,t){const n=new gn({ctx:e.ctx,options:t,chart:e});ae.configure(e,n,t),ae.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;ae.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const o=e.titleBlock;ae.configure(e,o,n),o.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bn=new WeakMap;var yn={id:"subtitle",start(e,t,n){const o=new gn({ctx:e.ctx,options:n,chart:e});ae.configure(e,o,n),ae.addBox(e,o),bn.set(e,o)},stop(e){ae.removeBox(e,bn.get(e)),bn.delete(e)},beforeUpdate(e,t,n){const o=bn.get(e);ae.configure(e,o,n),o.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wn={average(e){if(!e.length)return!1;let t,n,o=0,r=0,i=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();o+=e.x,r+=e.y,++i}}return{x:o/i,y:r/i}},nearest(e,t){if(!e.length)return!1;let n,r,i,s=t.x,a=t.y,l=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=r.getCenterPoint(),n=(0,o.aE)(t,e);n<l&&(l=n,i=r)}}if(i){const e=i.tooltipPosition();s=e.x,a=e.y}return{x:s,y:a}}};function xn(e,t){return t&&((0,o.b)(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function _n(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Sn(e,t){const{element:n,datasetIndex:o,index:r}=t,i=e.getDatasetMeta(o).controller,{label:s,value:a}=i.getLabelAndValue(r);return{chart:e,label:s,parsed:i.getParsed(r),raw:e.data.datasets[o].data[r],formattedValue:a,dataset:i.getDataset(),dataIndex:r,datasetIndex:o,element:n}}function Cn(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:a,boxHeight:l}=t,c=(0,o.a0)(t.bodyFont),d=(0,o.a0)(t.titleFont),u=(0,o.a0)(t.footerFont),h=s.length,m=i.length,p=r.length,f=(0,o.E)(t.padding);let g=f.height,v=0,b=r.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(b+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*d.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),b){g+=p*(t.displayColors?Math.max(l,c.lineHeight):c.lineHeight)+(b-p)*c.lineHeight+(b-1)*t.bodySpacing}m&&(g+=t.footerMarginTop+m*u.lineHeight+(m-1)*t.footerSpacing);let y=0;const w=function(e){v=Math.max(v,n.measureText(e).width+y)};return n.save(),n.font=d.string,(0,o.F)(e.title,w),n.font=c.string,(0,o.F)(e.beforeBody.concat(e.afterBody),w),y=t.displayColors?a+2+t.boxPadding:0,(0,o.F)(r,(e=>{(0,o.F)(e.before,w),(0,o.F)(e.lines,w),(0,o.F)(e.after,w)})),y=0,n.font=u.string,(0,o.F)(e.footer,w),n.restore(),v+=f.width,{width:v,height:g}}function jn(e,t,n,o){const{x:r,width:i}=n,{width:s,chartArea:{left:a,right:l}}=e;let c="center";return"center"===o?c=r<=(a+l)/2?"left":"right":r<=i/2?c="left":r>=s-i/2&&(c="right"),function(e,t,n,o){const{x:r,width:i}=o,s=n.caretSize+n.caretPadding;return"left"===e&&r+i+s>t.width||"right"===e&&r-i-s<0||void 0}(c,e,t,n)&&(c="center"),c}function kn(e,t,n){const o=n.yAlign||t.yAlign||function(e,t){const{y:n,height:o}=t;return n<o/2?"top":n>e.height-o/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||jn(e,t,n,o),yAlign:o}}function En(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=e,{xAlign:l,yAlign:c}=n,d=i+s,{topLeft:u,topRight:h,bottomLeft:m,bottomRight:p}=(0,o.aw)(a);let f=function(e,t){let{x:n,width:o}=e;return"right"===t?n-=o:"center"===t&&(n-=o/2),n}(t,l);const g=function(e,t,n){let{y:o,height:r}=e;return"top"===t?o+=n:o-="bottom"===t?r+n:r/2,o}(t,c,d);return"center"===c?"left"===l?f+=d:"right"===l&&(f-=d):"left"===l?f-=Math.max(u,m)+i:"right"===l&&(f+=Math.max(h,p)+i),{x:(0,o.S)(f,0,r.width-t.width),y:(0,o.S)(g,0,r.height-t.height)}}function On(e,t,n){const r=(0,o.E)(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function An(e){return xn([],_n(e))}function Tn(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Dn={beforeTitle:o.aF,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,o=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(o>0&&t.dataIndex<o)return n[t.dataIndex]}return""},afterTitle:o.aF,beforeBody:o.aF,beforeLabel:o.aF,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return(0,o.k)(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:o.aF,afterBody:o.aF,beforeFooter:o.aF,footer:o.aF,afterFooter:o.aF};function Mn(e,t,n,o){const r=e[t].call(n,o);return void 0===r?Dn[t].call(n,o):r}class Pn extends ke{static positioners=wn;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),o=n.enabled&&t.options.animation&&n.animations,r=new c(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,(0,o.j)(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,o=Mn(n,"beforeTitle",this,e),r=Mn(n,"title",this,e),i=Mn(n,"afterTitle",this,e);let s=[];return s=xn(s,_n(o)),s=xn(s,_n(r)),s=xn(s,_n(i)),s}getBeforeBody(e,t){return An(Mn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return(0,o.F)(e,(e=>{const t={before:[],lines:[],after:[]},o=Tn(n,e);xn(t.before,_n(Mn(o,"beforeLabel",this,e))),xn(t.lines,Mn(o,"label",this,e)),xn(t.after,_n(Mn(o,"afterLabel",this,e))),r.push(t)})),r}getAfterBody(e,t){return An(Mn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,o=Mn(n,"beforeFooter",this,e),r=Mn(n,"footer",this,e),i=Mn(n,"afterFooter",this,e);let s=[];return s=xn(s,_n(o)),s=xn(s,_n(r)),s=xn(s,_n(i)),s}_createItems(e){const t=this._active,n=this.chart.data,r=[],i=[],s=[];let a,l,c=[];for(a=0,l=t.length;a<l;++a)c.push(Sn(this.chart,t[a]));return e.filter&&(c=c.filter(((t,o,r)=>e.filter(t,o,r,n)))),e.itemSort&&(c=c.sort(((t,o)=>e.itemSort(t,o,n)))),(0,o.F)(c,(t=>{const n=Tn(e.callbacks,t);r.push(Mn(n,"labelColor",this,t)),i.push(Mn(n,"labelPointStyle",this,t)),s.push(Mn(n,"labelTextColor",this,t))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=c,c}update(e,t){const n=this.options.setContext(this.getContext()),o=this._active;let r,i=[];if(o.length){const e=wn[n.position].call(this,o,this._eventPosition);i=this._createItems(n),this.title=this.getTitle(i,n),this.beforeBody=this.getBeforeBody(i,n),this.body=this.getBody(i,n),this.afterBody=this.getAfterBody(i,n),this.footer=this.getFooter(i,n);const t=this._size=Cn(this,n),s=Object.assign({},e,t),a=kn(this.chart,n,s),l=En(n,s,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=i,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,o){const r=this.getCaretPosition(e,n,o);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:i}=this,{caretSize:s,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:u}=(0,o.aw)(a),{x:h,y:m}=e,{width:p,height:f}=t;let g,v,b,y,w,x;return"center"===i?(w=m+f/2,"left"===r?(g=h,v=g-s,y=w+s,x=w-s):(g=h+p,v=g+s,y=w-s,x=w+s),b=g):(v="left"===r?h+Math.max(l,d)+s:"right"===r?h+p-Math.max(c,u)-s:this.caretX,"top"===i?(y=m,w=y-s,g=v-s,b=v+s):(y=m+f,w=y+s,g=v+s,b=v-s),x=y),{x1:g,x2:v,x3:b,y1:y,y2:w,y3:x}}drawTitle(e,t,n){const r=this.title,i=r.length;let s,a,l;if(i){const c=(0,o.az)(n.rtl,this.x,this.width);for(e.x=On(this,n.titleAlign,n),t.textAlign=c.textAlign(n.titleAlign),t.textBaseline="middle",s=(0,o.a0)(n.titleFont),a=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,l=0;l<i;++l)t.fillText(r[l],c.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+a,l+1===i&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,t,n,r,i){const s=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=i,d=(0,o.a0)(i.bodyFont),u=On(this,"left",i),h=r.x(u),m=l<d.lineHeight?(d.lineHeight-l)/2:0,p=t.y+m;if(i.usePointStyle){const t={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=r.leftForLtr(h,c)+c/2,d=p+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,(0,o.at)(e,t,n,d),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,(0,o.at)(e,t,n,d)}else{e.lineWidth=(0,o.i)(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=r.leftForLtr(h,c),n=r.leftForLtr(r.xPlus(h,1),c-2),a=(0,o.aw)(s.borderRadius);Object.values(a).some((e=>0!==e))?(e.beginPath(),e.fillStyle=i.multiKeyBackground,(0,o.au)(e,{x:t,y:p,w:c,h:l,radius:a}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),(0,o.au)(e,{x:n,y:p+1,w:c-2,h:l-2,radius:a}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,p,c,l),e.strokeRect(t,p,c,l),e.fillStyle=s.backgroundColor,e.fillRect(n,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:i,bodyAlign:s,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:d}=n,u=(0,o.a0)(n.bodyFont);let h=u.lineHeight,m=0;const p=(0,o.az)(n.rtl,this.x,this.width),f=function(n){t.fillText(n,p.x(e.x+m),e.y+h/2),e.y+=h+i},g=p.textAlign(s);let v,b,y,w,x,_,S;for(t.textAlign=s,t.textBaseline="middle",t.font=u.string,e.x=On(this,g,n),t.fillStyle=n.bodyColor,(0,o.F)(this.beforeBody,f),m=a&&"right"!==g?"center"===s?c/2+d:c+2+d:0,w=0,_=r.length;w<_;++w){for(v=r[w],b=this.labelTextColors[w],t.fillStyle=b,(0,o.F)(v.before,f),y=v.lines,a&&y.length&&(this._drawColorBox(t,e,w,p,n),h=Math.max(u.lineHeight,l)),x=0,S=y.length;x<S;++x)f(y[x]),h=u.lineHeight;(0,o.F)(v.after,f)}m=0,h=u.lineHeight,(0,o.F)(this.afterBody,f),e.y-=i}drawFooter(e,t,n){const r=this.footer,i=r.length;let s,a;if(i){const l=(0,o.az)(n.rtl,this.x,this.width);for(e.x=On(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=l.textAlign(n.footerAlign),t.textBaseline="middle",s=(0,o.a0)(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,a=0;a<i;++a)t.fillText(r[a],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:i,yAlign:s}=this,{x:a,y:l}=e,{width:c,height:d}=n,{topLeft:u,topRight:h,bottomLeft:m,bottomRight:p}=(0,o.aw)(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(a+u,l),"top"===s&&this.drawCaret(e,t,n,r),t.lineTo(a+c-h,l),t.quadraticCurveTo(a+c,l,a+c,l+h),"center"===s&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(a+c,l+d-p),t.quadraticCurveTo(a+c,l+d,a+c-p,l+d),"bottom"===s&&this.drawCaret(e,t,n,r),t.lineTo(a+m,l+d),t.quadraticCurveTo(a,l+d,a,l+d-m),"center"===s&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(a,l+u),t.quadraticCurveTo(a,l,a+u,l),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,o=n&&n.x,r=n&&n.y;if(o||r){const n=wn[e.position].call(this,this._active,this._eventPosition);if(!n)return;const i=this._size=Cn(this,e),s=Object.assign({},n,this._size),a=kn(t,e,s),l=En(e,s,a,t);o._to===l.x&&r._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=i.width,this.height=i.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=(0,o.E)(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),(0,o.aA)(e,t.textDirection),i.y+=s.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),(0,o.aC)(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map((({datasetIndex:e,index:t})=>{const n=this.chart.getDatasetMeta(e);if(!n)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:n.data[t],index:t}})),i=!(0,o.ah)(n,r),s=this._positionChanged(r,t);(i||s)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],s=this._getActiveElements(e,i,t,n),a=this._positionChanged(s,e),l=t||!(0,o.ah)(s,i)||a;return l&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,n,o){const r=this.options;if("mouseout"===e.type)return[];if(!o)return t;const i=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&i.reverse(),i}_positionChanged(e,t){const{caretX:n,caretY:o,options:r}=this,i=wn[r.position].call(this,e,t);return!1!==i&&(n!==i.x||o!==i.y)}}var Rn={id:"tooltip",_element:Pn,positioners:wn,afterInit(e,t,n){n&&(e.tooltip=new Pn({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Dn},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Nn=Object.freeze({__proto__:null,Colors:Wt,Decimation:Gt,Filler:un,Legend:fn,SubTitle:yn,Title:vn,Tooltip:Rn});function Ln(e,t,n,o){const r=e.indexOf(t);if(-1===r)return((e,t,n,o)=>("string"==typeof t?(n=e.push(t)-1,o.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,o);return r!==e.lastIndexOf(t)?n:r}function In(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Bn extends Le{static id="category";static defaults={ticks:{callback:In}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:o}of t)e[n]===o&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if((0,o.k)(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:(0,o.S)(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:Ln(n,e,(0,o.v)(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:o}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(o=this.getLabels().length-1)),this.min=n,this.max=o}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,o=[];let r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let n=e;n<=t;n++)o.push({value:n});return o}getLabelForValue(e){return In.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Fn(e,t,{horizontal:n,minRotation:r}){const i=(0,o.t)(r),s=(n?Math.sin(i):Math.cos(i))||.001,a=.75*t*(""+e).length;return Math.min(t/s,a)}class Hn extends Le{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return(0,o.k)(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const s=e=>r=t?r:e,a=e=>i=n?i:e;if(e){const e=(0,o.s)(r),t=(0,o.s)(i);e<0&&t<0?a(0):e>0&&t>0&&s(0)}if(r===i){let t=0===i?1:Math.abs(.05*i);a(i+t),e||s(r-t)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:o}=e;return o?(t=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=function(e,t){const n=[],{bounds:r,step:i,min:s,max:a,precision:l,count:c,maxTicks:d,maxDigits:u,includeBounds:h}=e,m=i||1,p=d-1,{min:f,max:g}=t,v=!(0,o.k)(s),b=!(0,o.k)(a),y=!(0,o.k)(c),w=(g-f)/(u+1);let x,_,S,C,j=(0,o.aH)((g-f)/p/m)*m;if(j<1e-14&&!v&&!b)return[{value:f},{value:g}];C=Math.ceil(g/j)-Math.floor(f/j),C>p&&(j=(0,o.aH)(C*j/p/m)*m),(0,o.k)(l)||(x=Math.pow(10,l),j=Math.ceil(j*x)/x),"ticks"===r?(_=Math.floor(f/j)*j,S=Math.ceil(g/j)*j):(_=f,S=g),v&&b&&i&&(0,o.aI)((a-s)/i,j/1e3)?(C=Math.round(Math.min((a-s)/j,d)),j=(a-s)/C,_=s,S=a):y?(_=v?s:_,S=b?a:S,C=c-1,j=(S-_)/C):(C=(S-_)/j,C=(0,o.aJ)(C,Math.round(C),j/1e3)?Math.round(C):Math.ceil(C));const k=Math.max((0,o.aK)(j),(0,o.aK)(_));x=Math.pow(10,(0,o.k)(l)?k:l),_=Math.round(_*x)/x,S=Math.round(S*x)/x;let E=0;for(v&&(h&&_!==s?(n.push({value:s}),_<s&&E++,(0,o.aJ)(Math.round((_+E*j)*x)/x,s,Fn(s,w,e))&&E++):_<s&&E++);E<C;++E){const e=Math.round((_+E*j)*x)/x;if(b&&e>a)break;n.push({value:e})}return b&&h&&S!==a?n.length&&(0,o.aJ)(n[n.length-1].value,a,Fn(a,w,e))?n[n.length-1].value=a:n.push({value:a}):b&&S!==a||n.push({value:S}),n}({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&(0,o.aG)(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const o=(n-t)/Math.max(e.length-1,1)/2;t-=o,n+=o}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return(0,o.o)(e,this.chart.options.locale,this.options.ticks.format)}}class Vn extends Hn{static id="linear";static defaults={ticks:{callback:o.aL.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=(0,o.g)(e)?e:0,this.max=(0,o.g)(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=(0,o.t)(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const zn=e=>Math.floor((0,o.aM)(e)),Un=(e,t)=>Math.pow(10,zn(e)+t);function Wn(e){return 1===e/Math.pow(10,zn(e))}function qn(e,t,n){const o=Math.pow(10,n),r=Math.floor(e/o);return Math.ceil(t/o)-r}function Zn(e,{min:t,max:n}){t=(0,o.O)(e.min,t);const r=[],i=zn(t);let s=function(e,t){let n=zn(t-e);for(;qn(e,t,n)>10;)n++;for(;qn(e,t,n)<10;)n--;return Math.min(n,zn(e))}(t,n),a=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),c=i>s?Math.pow(10,i):0,d=Math.round((t-c)*a)/a,u=Math.floor((t-c)/l/10)*l*10;let h=Math.floor((d-u)/Math.pow(10,s)),m=(0,o.O)(e.min,Math.round((c+u+h*Math.pow(10,s))*a)/a);for(;m<n;)r.push({value:m,major:Wn(m),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,a=s>=0?1:a),m=Math.round((c+u+h*Math.pow(10,s))*a)/a;const p=(0,o.O)(e.max,m);return r.push({value:p,major:Wn(p),significand:h}),r}class Gn extends Le{static id="logarithmic";static defaults={ticks:{callback:o.aL.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=Hn.prototype.parse.apply(this,[e,t]);if(0!==n)return(0,o.g)(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=(0,o.g)(e)?Math.max(0,e):null,this.max=(0,o.g)(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!(0,o.g)(this._userMin)&&(this.min=e===Un(this.min,0)?Un(this.min,-1):Un(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,o=this.max;const r=t=>n=e?n:t,i=e=>o=t?o:e;n===o&&(n<=0?(r(1),i(10)):(r(Un(n,-1)),i(Un(o,1)))),n<=0&&r(Un(o,-1)),o<=0&&i(Un(n,1)),this.min=n,this.max=o}buildTicks(){const e=this.options,t=Zn({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&(0,o.aG)(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":(0,o.o)(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=(0,o.aM)(e),this._valueRange=(0,o.aM)(this.max)-(0,o.aM)(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:((0,o.aM)(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function $n(e){const t=e.ticks;if(t.display&&e.display){const e=(0,o.E)(t.backdropPadding);return(0,o.v)(t.font&&t.font.size,o.d.font.size)+e.height}return 0}function Yn(e,t,n,o,r){return e===o||e===r?{start:t-n/2,end:t+n/2}:e<o||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function Kn(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,a=e.options.pointLabels,l=a.centerPointLabels?o.P/s:0;for(let h=0;h<s;h++){const s=a.setContext(e.getPointLabelContext(h));i[h]=s.padding;const m=e.getPointPosition(h,e.drawingArea+i[h],l),p=(0,o.a0)(s.font),f=(c=e.ctx,d=p,u=e._pointLabels[h],u=(0,o.b)(u)?u:[u],{w:(0,o.aN)(c,d.string,u),h:u.length*d.lineHeight});r[h]=f;const g=(0,o.ay)(e.getIndexAngle(h)+l),v=Math.round((0,o.U)(g));Xn(n,t,g,Yn(v,m.x,f.w,0,180),Yn(v,m.y,f.h,90,270))}var c,d,u;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:a,display:l}=s.pointLabels,c={extra:$n(s)/2,additionalAngle:a?o.P/i:0};let d;for(let o=0;o<i;o++){c.padding=n[o],c.size=t[o];const i=Qn(e,o,c);r.push(i),"auto"===l&&(i.visible=Jn(i,d),i.visible&&(d=i))}return r}(e,r,i)}function Xn(e,t,n,o,r){const i=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n));let a=0,l=0;o.start<t.l?(a=(t.l-o.start)/i,e.l=Math.min(e.l,t.l-a)):o.end>t.r&&(a=(o.end-t.r)/i,e.r=Math.max(e.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/s,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/s,e.b=Math.max(e.b,t.b+l))}function Qn(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:a,size:l}=n,c=e.getPointPosition(t,r+i+a,s),d=Math.round((0,o.U)((0,o.ay)(c.angle+o.H))),u=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(c.y,l.h,d),h=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(d),m=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(c.x,l.w,h);return{visible:!0,x:c.x,y:u,textAlign:h,left:m,top:u,right:m+l.w,bottom:u+l.h}}function Jn(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!((0,o.C)({x:n,y:r},t)||(0,o.C)({x:n,y:s},t)||(0,o.C)({x:i,y:r},t)||(0,o.C)({x:i,y:s},t))}function eo(e,t,n){const{left:r,top:i,right:s,bottom:a}=n,{backdropColor:l}=t;if(!(0,o.k)(l)){const n=(0,o.aw)(t.borderRadius),c=(0,o.E)(t.backdropPadding);e.fillStyle=l;const d=r-c.left,u=i-c.top,h=s-r+c.width,m=a-i+c.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),(0,o.au)(e,{x:d,y:u,w:h,h:m,radius:n}),e.fill()):e.fillRect(d,u,h,m)}}function to(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,o.T);else{let n=e.getPointPosition(0,t);i.moveTo(n.x,n.y);for(let o=1;o<r;o++)n=e.getPointPosition(o,t),i.lineTo(n.x,n.y)}}class no extends Hn{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:o.aL.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=(0,o.E)($n(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=(0,o.g)(e)&&!isNaN(e)?e:0,this.max=(0,o.g)(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/$n(this.options))}generateTickLabels(e){Hn.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=(0,o.Q)(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?Kn(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,o){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,o))}getIndexAngle(e){const t=o.T/(this._pointLabels.length||1),n=this.options.startAngle||0;return(0,o.ay)(e*t+(0,o.t)(n))}getDistanceFromCenterForValue(e){if((0,o.k)(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if((0,o.k)(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return(0,o.j)(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const r=this.getIndexAngle(e)-o.H+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:o,bottom:r}=this._pointLabelItems[e];return{left:t,top:n,right:o,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),to(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:i}=t,s=this._pointLabels.length;let a,l,c;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const t=e._pointLabelItems[i];if(!t.visible)continue;const s=r.setContext(e.getPointLabelContext(i));eo(n,s,t);const a=(0,o.a0)(s.font),{x:l,y:c,textAlign:d}=t;(0,o.Z)(n,e._pointLabels[i],l,c+a.lineHeight/2,a,{color:s.color,textAlign:d,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach(((e,t)=>{if(0!==t){l=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),o=r.setContext(n),a=i.setContext(n);!function(e,t,n,o,r){const i=e.ctx,s=t.circular,{color:a,lineWidth:l}=t;!s&&!o||!a||!l||n<0||(i.save(),i.strokeStyle=a,i.lineWidth=l,i.setLineDash(r.dash),i.lineDashOffset=r.dashOffset,i.beginPath(),to(e,n,s,o),i.closePath(),i.stroke(),i.restore())}(this,o,l,s,a)}})),n.display){for(e.save(),a=s-1;a>=0;a--){const o=n.setContext(this.getPointLabelContext(a)),{color:r,lineWidth:i}=o;i&&r&&(e.lineWidth=i,e.strokeStyle=r,e.setLineDash(o.borderDash),e.lineDashOffset=o.borderDashOffset,l=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((r,a)=>{if(0===a&&!t.reverse)return;const l=n.setContext(this.getContext(a)),c=(0,o.a0)(l.font);if(i=this.getDistanceFromCenterForValue(this.ticks[a].value),l.showLabelBackdrop){e.font=c.string,s=e.measureText(r.label).width,e.fillStyle=l.backdropColor;const t=(0,o.E)(l.backdropPadding);e.fillRect(-s/2-t.left,-i-c.size/2-t.top,s+t.width,c.size+t.height)}(0,o.Z)(e,r.label,0,-i,c,{color:l.color})})),e.restore()}drawTitle(){}}const oo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ro=Object.keys(oo);function io(e,t){return e-t}function so(e,t){if((0,o.k)(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let a=t;return"function"==typeof r&&(a=r(a)),(0,o.g)(a)||(a="string"==typeof r?n.parse(a,r):n.parse(a)),null===a?null:(i&&(a="week"!==i||!(0,o.x)(s)&&!0!==s?n.startOf(a,i):n.startOf(a,"isoWeek",s)),+a)}function ao(e,t,n,o){const r=ro.length;for(let i=ro.indexOf(e);i<r-1;++i){const e=oo[ro[i]],r=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(r*e.size))<=o)return ro[i]}return ro[r-1]}function lo(e,t,n){if(n){if(n.length){const{lo:r,hi:i}=(0,o.aP)(n,t);e[n[r]>=t?n[r]:n[i]]=!0}}else e[t]=!0}function co(e,t,n){const o=[],r={},i=t.length;let s,a;for(s=0;s<i;++s)a=t[s],r[a]=s,o.push({value:a,major:!1});return 0!==i&&n?function(e,t,n,o){const r=e._adapter,i=+r.startOf(t[0].value,o),s=t[t.length-1].value;let a,l;for(a=i;a<=s;a=+r.add(a,1,o))l=n[a],l>=0&&(t[l].major=!0);return t}(e,o,r,n):o}class uo extends Le{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),r=this._adapter=new V._date(e.adapters.date);r.init(t),(0,o.ab)(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:so(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:i,minDefined:s,maxDefined:a}=this.getUserBounds();function l(e){s||isNaN(e.min)||(r=Math.min(r,e.min)),a||isNaN(e.max)||(i=Math.max(i,e.max))}s&&a||(l(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||l(this.getMinMax(!1))),r=(0,o.g)(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),i=(0,o.g)(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,s=this.max,a=(0,o.aO)(r,i,s);return this._unit=t.unit||(n.autoSkip?ao(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,o,r){for(let i=ro.length-1;i>=ro.indexOf(n);i--){const n=ro[i];if(oo[n].common&&e._adapter.diff(r,o,n)>=t-1)return n}return ro[n?ro.indexOf(n):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=ro.indexOf(e)+1,n=ro.length;t<n;++t)if(oo[ro[t]].common)return ro[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&a.reverse(),co(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(e=[]){let t,n,r=0,i=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),r=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,n=this.getDecimalForValue(e[e.length-1]),i=1===e.length?n:(n-this.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;r=(0,o.S)(r,0,s),i=(0,o.S)(i,0,s),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,i=r.time,s=i.unit||ao(i.minUnit,t,n,this._getLabelCapacity(t)),a=(0,o.v)(r.ticks.stepSize,1),l="week"===s&&i.isoWeekday,c=(0,o.x)(l)||!0===l,d={};let u,h,m=t;if(c&&(m=+e.startOf(m,"isoWeek",l)),m=+e.startOf(m,c?"day":s),e.diff(n,t,s)>1e5*a)throw new Error(t+" and "+n+" are too far apart with stepSize of "+a+" "+s);const p="data"===r.ticks.source&&this.getDataTimestamps();for(u=m,h=0;u<n;u=+e.add(u,a,s),h++)lo(d,u,p);return u!==n&&"ticks"!==r.bounds&&1!==h||lo(d,u,p),Object.keys(d).sort(((e,t)=>e-t)).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,o=this._unit,r=t||n[o];return this._adapter.format(e,r)}_tickFormatFunction(e,t,n,r){const i=this.options,s=i.ticks.callback;if(s)return(0,o.Q)(s,[e,t,n],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&a[l],u=c&&a[c],h=n[t],m=c&&u&&h&&h.major;return this._adapter.format(e,r||(m?u:d))}generateTickLabels(e){let t,n,o;for(t=0,n=e.length;t<n;++t)o=e[t],o.label=this._tickFormatFunction(o.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=(0,o.t)(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),s=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*i+a*s,h:n*s+a*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,o=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,co(this,[e],this._majorUnit),o),i=this._getLabelSize(r),s=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return s>0?s:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(e=0,t=o.length;e<t;++e)n=n.concat(o[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const o=this.getLabels();for(t=0,n=o.length;t<n;++t)e.push(so(this,o[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return(0,o._)(e.sort(io))}}function ho(e,t,n){let r,i,s,a,l=0,c=e.length-1;n?(t>=e[l].pos&&t<=e[c].pos&&({lo:l,hi:c}=(0,o.B)(e,"pos",t)),({pos:r,time:s}=e[l]),({pos:i,time:a}=e[c])):(t>=e[l].time&&t<=e[c].time&&({lo:l,hi:c}=(0,o.B)(e,"time",t)),({time:r,pos:s}=e[l]),({time:i,pos:a}=e[c]));const d=i-r;return d?s+(a-s)*(t-r)/d:s}class mo extends uo{static id="timeseries";static defaults=uo.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=ho(t,this.min),this._tableRange=ho(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,o=[],r=[];let i,s,a,l,c;for(i=0,s=e.length;i<s;++i)l=e[i],l>=t&&l<=n&&o.push(l);if(o.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(i=0,s=o.length;i<s;++i)c=o[i+1],a=o[i-1],l=o[i],Math.round((c+a)/2)!==l&&r.push({time:l,pos:i/(s-1)});return r}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(ho(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return ho(this._table,n*this._tableRange+this._minPos,!0)}}var po=Object.freeze({__proto__:null,CategoryScale:Bn,LinearScale:Vn,LogarithmicScale:Gn,RadialLinearScale:no,TimeScale:uo,TimeSeriesScale:mo});const fo=[B,It,Nn,po]},"./node_modules/chart.js/dist/chunks/helpers.segment.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{$:()=>Ke,A:()=>ae,B:()=>se,C:()=>$e,D:()=>X,E:()=>dt,F:()=>f,G:()=>Zt,H:()=>I,I:()=>It,J:()=>Yt,K:()=>$t,L:()=>fe,M:()=>Lt,N:()=>W,O:()=>d,P:()=>M,Q:()=>p,R:()=>mt,S:()=>ne,T:()=>P,U:()=>Y,V:()=>ze,W:()=>oe,X:()=>We,Y:()=>Ye,Z:()=>tt,_:()=>he,a:()=>ht,a$:()=>me,a0:()=>ut,a1:()=>ve,a2:()=>be,a3:()=>Ne,a4:()=>w,a5:()=>E,a6:()=>Le,a7:()=>A,a8:()=>gt,a9:()=>ft,aA:()=>nn,aB:()=>ye,aC:()=>on,aD:()=>Ge,aE:()=>Q,aF:()=>r,aG:()=>G,aH:()=>U,aI:()=>Z,aJ:()=>z,aK:()=>K,aL:()=>Re,aM:()=>H,aN:()=>Ue,aO:()=>le,aP:()=>ie,aQ:()=>ke,aR:()=>Oe,aS:()=>v,aT:()=>y,aU:()=>_,aV:()=>S,aW:()=>j,aX:()=>Ve,aY:()=>Mt,aZ:()=>Pt,a_:()=>Ht,aa:()=>vt,ab:()=>x,ac:()=>i,ad:()=>ge,ae:()=>Gt,af:()=>qe,ag:()=>T,ah:()=>g,ai:()=>D,aj:()=>re,ak:()=>at,al:()=>Nt,am:()=>cn,an:()=>ln,ao:()=>Xt,ap:()=>Qt,aq:()=>Kt,ar:()=>Xe,as:()=>Qe,at:()=>Ze,au:()=>nt,av:()=>lt,aw:()=>ct,ax:()=>an,ay:()=>ee,az:()=>tn,b:()=>a,b0:()=>it,b1:()=>R,b2:()=>N,b3:()=>L,b4:()=>B,b5:()=>F,b6:()=>J,c:()=>Ee,d:()=>He,e:()=>je,f:()=>k,g:()=>c,h:()=>O,i:()=>l,j:()=>pt,k:()=>s,l:()=>de,m:()=>h,n:()=>m,o:()=>Me,p:()=>te,q:()=>we,r:()=>pe,s:()=>V,t:()=>$,u:()=>ue,v:()=>u,w:()=>xe,x:()=>q,y:()=>Ot,z:()=>Wt});var o=n("./node_modules/@kurkle/color/dist/color.esm.js");function r(){}const i=(()=>{let e=0;return()=>e++})();function s(e){return null==e}function a(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function l(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function c(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function d(e,t){return c(e)?e:t}function u(e,t){return void 0===e?t:e}const h=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t,m=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function p(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)}function f(e,t,n,o){let r,i,s;if(a(e))if(i=e.length,o)for(r=i-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<i;r++)t.call(n,e[r],r);else if(l(e))for(s=Object.keys(e),i=s.length,r=0;r<i;r++)t.call(n,e[s[r]],s[r])}function g(e,t){let n,o,r,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,o=e.length;n<o;++n)if(r=e[n],i=t[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function v(e){if(a(e))return e.map(v);if(l(e)){const t=Object.create(null),n=Object.keys(e),o=n.length;let r=0;for(;r<o;++r)t[n[r]]=v(e[n[r]]);return t}return e}function b(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function y(e,t,n,o){if(!b(e))return;const r=t[e],i=n[e];l(r)&&l(i)?w(r,i,o):t[e]=v(i)}function w(e,t,n){const o=a(t)?t:[t],r=o.length;if(!l(e))return e;const i=(n=n||{}).merger||y;let s;for(let t=0;t<r;++t){if(s=o[t],!l(s))continue;const r=Object.keys(s);for(let t=0,o=r.length;t<o;++t)i(r[t],e,s,n)}return e}function x(e,t){return w(e,t,{merger:_})}function _(e,t,n){if(!b(e))return;const o=t[e],r=n[e];l(o)&&l(r)?x(o,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=v(r))}function S(e,t,n,o){void 0!==t&&console.warn(e+': "'+n+'" is deprecated. Please use "'+o+'" instead')}const C={"":e=>e,x:e=>e.x,y:e=>e.y};function j(e){const t=e.split("."),n=[];let o="";for(const e of t)o+=e,o.endsWith("\\")?o=o.slice(0,-1)+".":(n.push(o),o="");return n}function k(e,t){const n=C[t]||(C[t]=function(e){const t=j(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function E(e){return e.charAt(0).toUpperCase()+e.slice(1)}const O=e=>void 0!==e,A=e=>"function"==typeof e,T=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function D(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}const M=Math.PI,P=2*M,R=P+M,N=Number.POSITIVE_INFINITY,L=M/180,I=M/2,B=M/4,F=2*M/3,H=Math.log10,V=Math.sign;function z(e,t,n){return Math.abs(e-t)<n}function U(e){const t=Math.round(e);e=z(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(H(e))),o=e/n;return(o<=1?1:o<=2?2:o<=5?5:10)*n}function W(e){const t=[],n=Math.sqrt(e);let o;for(o=1;o<n;o++)e%o==0&&(t.push(o),t.push(e/o));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}function q(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Z(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function G(e,t,n){let o,r,i;for(o=0,r=e.length;o<r;o++)i=e[o][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function $(e){return e*(M/180)}function Y(e){return e*(180/M)}function K(e){if(!c(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function X(e,t){const n=t.x-e.x,o=t.y-e.y,r=Math.sqrt(n*n+o*o);let i=Math.atan2(o,n);return i<-.5*M&&(i+=P),{angle:i,distance:r}}function Q(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function J(e,t){return(e-t+R)%P-M}function ee(e){return(e%P+P)%P}function te(e,t,n,o){const r=ee(e),i=ee(t),s=ee(n),a=ee(i-r),l=ee(s-r),c=ee(r-i),d=ee(r-s);return r===i||r===s||o&&i===s||a>l&&c<d}function ne(e,t,n){return Math.max(t,Math.min(n,e))}function oe(e){return ne(e,-32768,32767)}function re(e,t,n,o=1e-6){return e>=Math.min(t,n)-o&&e<=Math.max(t,n)+o}function ie(e,t,n){n=n||(n=>e[n]<t);let o,r=e.length-1,i=0;for(;r-i>1;)o=i+r>>1,n(o)?i=o:r=o;return{lo:i,hi:r}}const se=(e,t,n,o)=>ie(e,n,o?o=>{const r=e[o][t];return r<n||r===n&&e[o+1][t]===n}:o=>e[o][t]<n),ae=(e,t,n)=>ie(e,n,(o=>e[o][t]>=n));function le(e,t,n){let o=0,r=e.length;for(;o<r&&e[o]<t;)o++;for(;r>o&&e[r-1]>n;)r--;return o>0||r<e.length?e.slice(o,r):e}const ce=["push","pop","shift","splice","unshift"];function de(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),ce.forEach((t=>{const n="_onData"+E(t),o=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...t){const r=o.apply(this,t);return e._chartjs.listeners.forEach((e=>{"function"==typeof e[n]&&e[n](...t)})),r}})})))}function ue(e,t){const n=e._chartjs;if(!n)return;const o=n.listeners,r=o.indexOf(t);-1!==r&&o.splice(r,1),o.length>0||(ce.forEach((t=>{delete e[t]})),delete e._chartjs)}function he(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}function me(e,t,n){return t+" "+e+"px "+n}const pe="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function fe(e,t){let n=[],o=!1;return function(...r){n=r,o||(o=!0,pe.call(window,(()=>{o=!1,e.apply(t,n)})))}}function ge(e,t){let n;return function(...o){return t?(clearTimeout(n),n=setTimeout(e,t,o)):e.apply(this,o),t}}const ve=e=>"start"===e?"left":"end"===e?"right":"center",be=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2,ye=(e,t,n,o)=>e===(o?"left":"right")?n:"center"===e?(t+n)/2:t;function we(e,t,n){const o=t.length;let r=0,i=o;if(e._sorted){const{iScale:s,_parsed:a}=e,l=s.axis,{min:c,max:d,minDefined:u,maxDefined:h}=s.getUserBounds();u&&(r=ne(Math.min(se(a,s.axis,c).lo,n?o:se(t,l,s.getPixelForValue(c)).lo),0,o-1)),i=h?ne(Math.max(se(a,s.axis,d,!0).hi+1,n?0:se(t,l,s.getPixelForValue(d),!0).hi+1),r,o)-r:o-r}return{start:r,count:i}}function xe(e){const{xScale:t,yScale:n,_scaleRanges:o}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!o)return e._scaleRanges=r,!0;const i=o.xmin!==t.min||o.xmax!==t.max||o.ymin!==n.min||o.ymax!==n.max;return Object.assign(o,r),i}const _e=e=>0===e||1===e,Se=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*P/n),Ce=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*P/n)+1,je={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*I),easeOutSine:e=>Math.sin(e*I),easeInOutSine:e=>-.5*(Math.cos(M*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>_e(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>_e(e)?e:Se(e,.075,.3),easeOutElastic:e=>_e(e)?e:Ce(e,.075,.3),easeInOutElastic(e){const t=.1125;return _e(e)?e:e<.5?.5*Se(2*e,t,.45):.5+.5*Ce(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-je.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*je.easeInBounce(2*e):.5*je.easeOutBounce(2*e-1)+.5};function ke(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Ee(e){return ke(e)?e:new o.Color(e)}function Oe(e){return ke(e)?e:new o.Color(e).saturate(.5).darken(.1).hexString()}const Ae=["x","y","borderWidth","radius","tension"],Te=["color","borderColor","backgroundColor"];const De=new Map;function Me(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let o=De.get(n);return o||(o=new Intl.NumberFormat(e,t),De.set(n,o)),o}(t,n).format(e)}const Pe={values:e=>a(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const o=this.chart.options.locale;let r,i=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(r="scientific"),i=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const s=H(Math.abs(i)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Me(e,o,l)},logarithmic(e,t,n){if(0===e)return"0";const o=n[t].significand||e/Math.pow(10,Math.floor(H(e)));return[1,2,3,5,10,15].includes(o)||t>.8*n.length?Pe.numeric.call(this,e,t,n):""}};var Re={formatters:Pe};const Ne=Object.create(null),Le=Object.create(null);function Ie(e,t){if(!t)return e;const n=t.split(".");for(let t=0,o=n.length;t<o;++t){const o=n[t];e=e[o]||(e[o]=Object.create(null))}return e}function Be(e,t,n){return"string"==typeof t?w(Ie(e,t),n):w(Ie(e,""),t)}class Fe{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Oe(t.backgroundColor),this.hoverBorderColor=(e,t)=>Oe(t.borderColor),this.hoverColor=(e,t)=>Oe(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Be(this,e,t)}get(e){return Ie(this,e)}describe(e,t){return Be(Le,e,t)}override(e,t){return Be(Ne,e,t)}route(e,t,n,o){const r=Ie(this,e),i=Ie(this,n),s="_"+t;Object.defineProperties(r,{[s]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[s],t=i[o];return l(e)?Object.assign({},t,e):u(e,t)},set(e){this[s]=e}}})}apply(e){e.forEach((e=>e(this)))}}var He=new Fe({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:Te},numbers:{type:"number",properties:Ae}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Re.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function Ve(e){return!e||s(e.size)||s(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function ze(e,t,n,o,r){let i=t[r];return i||(i=t[r]=e.measureText(r).width,n.push(r)),i>o&&(o=i),o}function Ue(e,t,n,o){let r=(o=o||{}).data=o.data||{},i=o.garbageCollect=o.garbageCollect||[];o.font!==t&&(r=o.data={},i=o.garbageCollect=[],o.font=t),e.save(),e.font=t;let s=0;const l=n.length;let c,d,u,h,m;for(c=0;c<l;c++)if(h=n[c],null==h||a(h)){if(a(h))for(d=0,u=h.length;d<u;d++)m=h[d],null==m||a(m)||(s=ze(e,r,i,s,m))}else s=ze(e,r,i,s,h);e.restore();const p=i.length/2;if(p>n.length){for(c=0;c<p;c++)delete r[i[c]];i.splice(0,p)}return s}function We(e,t,n){const o=e.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((t-r)*o)/o+r}function qe(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function Ze(e,t,n,o){Ge(e,t,n,o,null)}function Ge(e,t,n,o,r){let i,s,a,l,c,d,u,h;const m=t.pointStyle,p=t.rotation,f=t.radius;let g=(p||0)*L;if(m&&"object"==typeof m&&(i=m.toString(),"[object HTMLImageElement]"===i||"[object HTMLCanvasElement]"===i))return e.save(),e.translate(n,o),e.rotate(g),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),void e.restore();if(!(isNaN(f)||f<=0)){switch(e.beginPath(),m){default:r?e.ellipse(n,o,r/2,f,0,0,P):e.arc(n,o,f,0,P),e.closePath();break;case"triangle":d=r?r/2:f,e.moveTo(n+Math.sin(g)*d,o-Math.cos(g)*f),g+=F,e.lineTo(n+Math.sin(g)*d,o-Math.cos(g)*f),g+=F,e.lineTo(n+Math.sin(g)*d,o-Math.cos(g)*f),e.closePath();break;case"rectRounded":c=.516*f,l=f-c,s=Math.cos(g+B)*l,u=Math.cos(g+B)*(r?r/2-c:l),a=Math.sin(g+B)*l,h=Math.sin(g+B)*(r?r/2-c:l),e.arc(n-u,o-a,c,g-M,g-I),e.arc(n+h,o-s,c,g-I,g),e.arc(n+u,o+a,c,g,g+I),e.arc(n-h,o+s,c,g+I,g+M),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*f,d=r?r/2:l,e.rect(n-d,o-l,2*d,2*l);break}g+=B;case"rectRot":u=Math.cos(g)*(r?r/2:f),s=Math.cos(g)*f,a=Math.sin(g)*f,h=Math.sin(g)*(r?r/2:f),e.moveTo(n-u,o-a),e.lineTo(n+h,o-s),e.lineTo(n+u,o+a),e.lineTo(n-h,o+s),e.closePath();break;case"crossRot":g+=B;case"cross":u=Math.cos(g)*(r?r/2:f),s=Math.cos(g)*f,a=Math.sin(g)*f,h=Math.sin(g)*(r?r/2:f),e.moveTo(n-u,o-a),e.lineTo(n+u,o+a),e.moveTo(n+h,o-s),e.lineTo(n-h,o+s);break;case"star":u=Math.cos(g)*(r?r/2:f),s=Math.cos(g)*f,a=Math.sin(g)*f,h=Math.sin(g)*(r?r/2:f),e.moveTo(n-u,o-a),e.lineTo(n+u,o+a),e.moveTo(n+h,o-s),e.lineTo(n-h,o+s),g+=B,u=Math.cos(g)*(r?r/2:f),s=Math.cos(g)*f,a=Math.sin(g)*f,h=Math.sin(g)*(r?r/2:f),e.moveTo(n-u,o-a),e.lineTo(n+u,o+a),e.moveTo(n+h,o-s),e.lineTo(n-h,o+s);break;case"line":s=r?r/2:Math.cos(g)*f,a=Math.sin(g)*f,e.moveTo(n-s,o-a),e.lineTo(n+s,o+a);break;case"dash":e.moveTo(n,o),e.lineTo(n+Math.cos(g)*(r?r/2:f),o+Math.sin(g)*f);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function $e(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Ye(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ke(e){e.restore()}function Xe(e,t,n,o,r){if(!t)return e.lineTo(n.x,n.y);if("middle"===r){const o=(t.x+n.x)/2;e.lineTo(o,t.y),e.lineTo(o,n.y)}else"after"===r!=!!o?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Qe(e,t,n,o){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(o?t.cp1x:t.cp2x,o?t.cp1y:t.cp2y,o?n.cp2x:n.cp1x,o?n.cp2y:n.cp1y,n.x,n.y)}function Je(e,t,n,o,r){if(r.strikethrough||r.underline){const i=e.measureText(o),s=t-i.actualBoundingBoxLeft,a=t+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,d=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(s,d),e.lineTo(a,d),e.stroke()}}function et(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function tt(e,t,n,o,r,i={}){const l=a(t)?t:[t],c=i.strokeWidth>0&&""!==i.strokeColor;let d,u;for(e.save(),e.font=r.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),s(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,i),d=0;d<l.length;++d)u=l[d],i.backdrop&&et(e,i.backdrop),c&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),s(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(u,n,o,i.maxWidth)),e.fillText(u,n,o,i.maxWidth),Je(e,n,o,u,i),o+=Number(r.lineHeight);e.restore()}function nt(e,t){const{x:n,y:o,w:r,h:i,radius:s}=t;e.arc(n+s.topLeft,o+s.topLeft,s.topLeft,-I,M,!0),e.lineTo(n,o+i-s.bottomLeft),e.arc(n+s.bottomLeft,o+i-s.bottomLeft,s.bottomLeft,M,I,!0),e.lineTo(n+r-s.bottomRight,o+i),e.arc(n+r-s.bottomRight,o+i-s.bottomRight,s.bottomRight,I,0,!0),e.lineTo(n+r,o+s.topRight),e.arc(n+r-s.topRight,o+s.topRight,s.topRight,0,-I,!0),e.lineTo(n+s.topLeft,o)}const ot=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,rt=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function it(e,t){const n=(""+e).match(ot);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const st=e=>+e||0;function at(e,t){const n={},o=l(t),r=o?Object.keys(t):t,i=l(e)?o?n=>u(e[n],e[t[n]]):t=>e[t]:()=>e;for(const e of r)n[e]=st(i(e));return n}function lt(e){return at(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ct(e){return at(e,["topLeft","topRight","bottomLeft","bottomRight"])}function dt(e){const t=lt(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ut(e,t){e=e||{},t=t||He.font;let n=u(e.size,t.size);"string"==typeof n&&(n=parseInt(n,10));let o=u(e.style,t.style);o&&!(""+o).match(rt)&&(console.warn('Invalid font style specified: "'+o+'"'),o=void 0);const r={family:u(e.family,t.family),lineHeight:it(u(e.lineHeight,t.lineHeight),n),size:n,style:o,weight:u(e.weight,t.weight),string:""};return r.string=Ve(r),r}function ht(e,t,n,o){let r,i,s,l=!0;for(r=0,i=e.length;r<i;++r)if(s=e[r],void 0!==s&&(void 0!==t&&"function"==typeof s&&(s=s(t),l=!1),void 0!==n&&a(s)&&(s=s[n%s.length],l=!1),void 0!==s))return o&&!l&&(o.cacheable=!1),s}function mt(e,t,n){const{min:o,max:r}=e,i=m(t,(r-o)/2),s=(e,t)=>n&&0===e?0:e+t;return{min:s(o,-Math.abs(i)),max:s(r,i)}}function pt(e,t){return Object.assign(Object.create(e),t)}function ft(e,t=[""],n,o,r=(()=>e[0])){const i=n||e;void 0===o&&(o=kt("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:o,_getTarget:r,override:n=>ft([n,...e],t,i,o)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,o)=>wt(n,o,(()=>function(e,t,n,o){let r;for(const i of t)if(r=kt(bt(i,e),n),void 0!==r)return yt(e,r)?Ct(n,o,e,r):r}(o,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Et(e).includes(t),ownKeys:e=>Et(e),set(e,t,n){const o=e._storage||(e._storage=r());return e[t]=o[t]=n,delete e._keys,!0}})}function gt(e,t,n,o){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:vt(e,o),setContext:t=>gt(e,t,n,o),override:r=>gt(e.override(r),t,n,o)};return new Proxy(r,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>wt(e,t,(()=>function(e,t,n){const{_proxy:o,_context:r,_subProxy:i,_descriptors:s}=e;let c=o[t];A(c)&&s.isScriptable(t)&&(c=function(e,t,n,o){const{_proxy:r,_context:i,_subProxy:s,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(i,s||o);a.delete(e),yt(e,l)&&(l=Ct(r._scopes,r,e,l));return l}(t,c,e,n));a(c)&&c.length&&(c=function(e,t,n,o){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=n;if(void 0!==i.index&&o(e))return t[i.index%t.length];if(l(t[0])){const n=t,o=r._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=Ct(o,r,e,l);t.push(gt(n,i,s&&s[e],a))}}return t}(t,c,e,s.isIndexable));yt(t,c)&&(c=gt(c,r,i&&i[t],s));return c}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,o)=>(e[n]=o,delete t[n],!0)})}function vt(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:o=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:o,isScriptable:A(n)?n:()=>n,isIndexable:A(o)?o:()=>o}}const bt=(e,t)=>e?e+E(t):t,yt=(e,t)=>l(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function wt(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const o=n();return e[t]=o,o}function xt(e,t,n){return A(e)?e(t,n):e}const _t=(e,t)=>!0===e?t:"string"==typeof e?k(t,e):void 0;function St(e,t,n,o,r){for(const i of t){const t=_t(n,i);if(t){e.add(t);const i=xt(t._fallback,n,r);if(void 0!==i&&i!==n&&i!==o)return i}else if(!1===t&&void 0!==o&&n!==o)return null}return!1}function Ct(e,t,n,o){const r=t._rootScopes,i=xt(t._fallback,n,o),s=[...e,...r],c=new Set;c.add(o);let d=jt(c,s,n,i||n,o);return null!==d&&((void 0===i||i===n||(d=jt(c,s,i,d,o),null!==d))&&ft(Array.from(c),[""],r,i,(()=>function(e,t,n){const o=e._getTarget();t in o||(o[t]={});const r=o[t];if(a(r)&&l(n))return n;return r||{}}(t,n,o))))}function jt(e,t,n,o,r){for(;n;)n=St(e,t,n,o,r);return n}function kt(e,t){for(const n of t){if(!n)continue;const t=n[e];if(void 0!==t)return t}}function Et(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function Ot(e,t,n,o){const{iScale:r}=e,{key:i="r"}=this._parsing,s=new Array(o);let a,l,c,d;for(a=0,l=o;a<l;++a)c=a+n,d=t[c],s[a]={r:r.parse(k(d,i),c)};return s}const At=Number.EPSILON||1e-14,Tt=(e,t)=>t<e.length&&!e[t].skip&&e[t],Dt=e=>"x"===e?"y":"x";function Mt(e,t,n,o){const r=e.skip?t:e,i=t,s=n.skip?t:n,a=Q(i,r),l=Q(s,i);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=o*c,h=o*d;return{previous:{x:i.x-u*(s.x-r.x),y:i.y-u*(s.y-r.y)},next:{x:i.x+h*(s.x-r.x),y:i.y+h*(s.y-r.y)}}}function Pt(e,t="x"){const n=Dt(t),o=e.length,r=Array(o).fill(0),i=Array(o);let s,a,l,c=Tt(e,0);for(s=0;s<o;++s)if(a=l,l=c,c=Tt(e,s+1),l){if(c){const e=c[t]-l[t];r[s]=0!==e?(c[n]-l[n])/e:0}i[s]=a?c?V(r[s-1])!==V(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}!function(e,t,n){const o=e.length;let r,i,s,a,l,c=Tt(e,0);for(let d=0;d<o-1;++d)l=c,c=Tt(e,d+1),l&&c&&(z(t[d],0,At)?n[d]=n[d+1]=0:(r=n[d]/t[d],i=n[d+1]/t[d],a=Math.pow(r,2)+Math.pow(i,2),a<=9||(s=3/Math.sqrt(a),n[d]=r*s*t[d],n[d+1]=i*s*t[d])))}(e,r,i),function(e,t,n="x"){const o=Dt(n),r=e.length;let i,s,a,l=Tt(e,0);for(let c=0;c<r;++c){if(s=a,a=l,l=Tt(e,c+1),!a)continue;const r=a[n],d=a[o];s&&(i=(r-s[n])/3,a[`cp1${n}`]=r-i,a[`cp1${o}`]=d-i*t[c]),l&&(i=(l[n]-r)/3,a[`cp2${n}`]=r+i,a[`cp2${o}`]=d+i*t[c])}}(e,i,t)}function Rt(e,t,n){return Math.max(Math.min(e,n),t)}function Nt(e,t,n,o,r){let i,s,a,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)Pt(e,r);else{let n=o?e[e.length-1]:e[0];for(i=0,s=e.length;i<s;++i)a=e[i],l=Mt(n,a,e[Math.min(i+1,s-(o?0:1))%s],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}t.capBezierPoints&&function(e,t){let n,o,r,i,s,a=$e(e[0],t);for(n=0,o=e.length;n<o;++n)s=i,i=a,a=n<o-1&&$e(e[n+1],t),i&&(r=e[n],s&&(r.cp1x=Rt(r.cp1x,t.left,t.right),r.cp1y=Rt(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=Rt(r.cp2x,t.left,t.right),r.cp2y=Rt(r.cp2y,t.top,t.bottom)))}(e,n)}function Lt(){return"undefined"!=typeof window&&"undefined"!=typeof document}function It(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Bt(e,t,n){let o;return"string"==typeof e?(o=parseInt(e,10),-1!==e.indexOf("%")&&(o=o/100*t.parentNode[n])):o=e,o}const Ft=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Ht(e,t){return Ft(e).getPropertyValue(t)}const Vt=["top","right","bottom","left"];function zt(e,t,n){const o={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=Vt[r];o[i]=parseFloat(e[t+"-"+i+n])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}const Ut=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function Wt(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:o}=t,r=Ft(n),i="border-box"===r.boxSizing,s=zt(r,"padding"),a=zt(r,"border","width"),{x:l,y:c,box:d}=function(e,t){const n=e.touches,o=n&&n.length?n[0]:e,{offsetX:r,offsetY:i}=o;let s,a,l=!1;if(Ut(r,i,e.target))s=r,a=i;else{const e=t.getBoundingClientRect();s=o.clientX-e.left,a=o.clientY-e.top,l=!0}return{x:s,y:a,box:l}}(e,n),u=s.left+(d&&a.left),h=s.top+(d&&a.top);let{width:m,height:p}=t;return i&&(m-=s.width+a.width,p-=s.height+a.height),{x:Math.round((l-u)/m*n.width/o),y:Math.round((c-h)/p*n.height/o)}}const qt=e=>Math.round(10*e)/10;function Zt(e,t,n,o){const r=Ft(e),i=zt(r,"margin"),s=Bt(r.maxWidth,e,"clientWidth")||N,a=Bt(r.maxHeight,e,"clientHeight")||N,l=function(e,t,n){let o,r;if(void 0===t||void 0===n){const i=It(e);if(i){const e=i.getBoundingClientRect(),s=Ft(i),a=zt(s,"border","width"),l=zt(s,"padding");t=e.width-l.width-a.width,n=e.height-l.height-a.height,o=Bt(s.maxWidth,i,"clientWidth"),r=Bt(s.maxHeight,i,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:o||N,maxHeight:r||N}}(e,t,n);let{width:c,height:d}=l;if("content-box"===r.boxSizing){const e=zt(r,"border","width"),t=zt(r,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-i.width),d=Math.max(0,o?c/o:d-i.height),c=qt(Math.min(c,s,l.maxWidth)),d=qt(Math.min(d,a,l.maxHeight)),c&&!d&&(d=qt(c/2));return(void 0!==t||void 0!==n)&&o&&l.height&&d>l.height&&(d=l.height,c=qt(Math.floor(d*o))),{width:c,height:d}}function Gt(e,t,n){const o=t||1,r=Math.floor(e.height*o),i=Math.floor(e.width*o);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const s=e.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==o||s.height!==r||s.width!==i)&&(e.currentDevicePixelRatio=o,s.height=r,s.width=i,e.ctx.setTransform(o,0,0,o,0,0),!0)}const $t=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function Yt(e,t){const n=Ht(e,t),o=n&&n.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function Kt(e,t,n,o){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Xt(e,t,n,o){return{x:e.x+n*(t.x-e.x),y:"middle"===o?n<.5?e.y:t.y:"after"===o?n<1?e.y:t.y:n>0?t.y:e.y}}function Qt(e,t,n,o){const r={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},s=Kt(e,r,n),a=Kt(r,i,n),l=Kt(i,t,n),c=Kt(s,a,n),d=Kt(a,l,n);return Kt(c,d,n)}const Jt=function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}},en=function(){return{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}};function tn(e,t,n){return e?Jt(t,n):en()}function nn(e,t){let n,o;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,o=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=o)}function on(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function rn(e){return"angle"===e?{between:te,compare:J,normalize:ee}:{between:re,compare:(e,t)=>e-t,normalize:e=>e}}function sn({start:e,end:t,count:n,loop:o,style:r}){return{start:e%n,end:t%n,loop:o&&(t-e+1)%n==0,style:r}}function an(e,t,n){if(!n)return[e];const{property:o,start:r,end:i}=n,s=t.length,{compare:a,between:l,normalize:c}=rn(o),{start:d,end:u,loop:h,style:m}=function(e,t,n){const{property:o,start:r,end:i}=n,{between:s,normalize:a}=rn(o),l=t.length;let c,d,{start:u,end:h,loop:m}=e;if(m){for(u+=l,h+=l,c=0,d=l;c<d&&s(a(t[u%l][o]),r,i);++c)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:m,style:e.style}}(e,t,n),p=[];let f,g,v,b=!1,y=null;const w=()=>b||l(r,v,f)&&0!==a(r,v),x=()=>!b||0===a(i,f)||l(i,v,f);for(let e=d,n=d;e<=u;++e)g=t[e%s],g.skip||(f=c(g[o]),f!==v&&(b=l(f,r,i),null===y&&w()&&(y=0===a(f,r)?e:n),null!==y&&x()&&(p.push(sn({start:y,end:e,loop:h,count:s,style:m})),y=null),n=e,v=f));return null!==y&&p.push(sn({start:y,end:u,loop:h,count:s,style:m})),p}function ln(e,t){const n=[],o=e.segments;for(let r=0;r<o.length;r++){const i=an(o[r],e.points,t);i.length&&n.push(...i)}return n}function cn(e,t){const n=e.points,o=e.options.spanGaps,r=n.length;if(!r)return[];const i=!!e._loop,{start:s,end:a}=function(e,t,n,o){let r=0,i=t-1;if(n&&!o)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(i+=r);i>r&&e[i%t].skip;)i--;return i%=t,{start:r,end:i}}(n,r,i,o);if(!0===o)return dn(e,[{start:s,end:a,loop:i}],n,t);return dn(e,function(e,t,n,o){const r=e.length,i=[];let s,a=t,l=e[t];for(s=t+1;s<=n;++s){const n=e[s%r];n.skip||n.stop?l.skip||(o=!1,i.push({start:t%r,end:(s-1)%r,loop:o}),t=a=n.stop?s:null):(a=s,l.skip&&(t=s)),l=n}return null!==a&&i.push({start:t%r,end:a%r,loop:o}),i}(n,s,a<s?a+r:a,!!e._fullLoop&&0===s&&a===r-1),n,t)}function dn(e,t,n,o){return o&&o.setContext&&n?function(e,t,n,o){const r=e._chart.getContext(),i=un(e.options),{_datasetIndex:s,options:{spanGaps:a}}=e,l=n.length,c=[];let d=i,u=t[0].start,h=u;function m(e,t,o,r){const i=a?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=i;for(;n[t%l].skip;)t+=i;e%l!=t%l&&(c.push({start:e%l,end:t%l,loop:o,style:r}),d=r,u=t%l)}}for(const e of t){u=a?u:e.start;let t,i=n[u%l];for(h=u+1;h<=e.end;h++){const a=n[h%l];t=un(o.setContext(pt(r,{type:"segment",p0:i,p1:a,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:s}))),hn(t,d)&&m(u,h-1,e.loop,d),i=a,d=t}u<h-1&&m(u,h-1,e.loop,d)}return c}(e,t,n,o):t}function un(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function hn(e,t){if(!t)return!1;const n=[],o=function(e,t){return ke(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,o)!==JSON.stringify(t,o)}},"./node_modules/chartjs-plugin-autocolors/dist/chartjs-plugin-autocolors.esm.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var o=n("./node_modules/@kurkle/color/dist/color.esm.js");function r(e,t,n){return e.backgroundColor=e.backgroundColor||t,e.borderColor=e.borderColor||n,e.backgroundColor===t&&e.borderColor===n}function i(e,t,n){const o=e.next().value;return"function"==typeof t?t(Object.assign({colors:o},n)):o}var s={id:"autocolors",beforeUpdate(e,t,n){const{mode:s="dataset",enabled:a=!0,customize:l,repeat:c}=n;if(!a)return;const d=function*(e=1){const t=function*(){for(yield 0;;)for(let e=1;e<10;e++){const t=1<<e;for(let e=1;e<=t;e+=2)yield e/t}}();let n=t.next();for(;!n.done;){let r=(0,o.hsv2rgb)(Math.round(360*n.value),.6,.8);for(let t=0;t<e;t++)yield{background:(0,o.rgbString)({r:r[0],g:r[1],b:r[2],a:192}),border:(0,o.rgbString)({r:r[0],g:r[1],b:r[2],a:144})};r=(0,o.hsv2rgb)(Math.round(360*n.value),.6,.5);for(let t=0;t<e;t++)yield{background:(0,o.rgbString)({r:r[0],g:r[1],b:r[2],a:192}),border:(0,o.rgbString)({r:r[0],g:r[1],b:r[2],a:144})};n=t.next()}}(c);if(n.offset)for(let e=0;e<n.offset;e++)d.next();if("label"===s)return function(e,t,n){const o={};for(const s of e.data.datasets){const a=s.label??"";o[a]||(o[a]=i(t,n,{chart:e,datasetIndex:0,dataIndex:void 0,label:a}));const l=o[a];r(s,l.background,l.border)}}(e,d,l);const u="dataset"===s;let h=i(d,l,{chart:e,datasetIndex:0,dataIndex:u?void 0:0});for(const t of e.data.datasets)if(u)r(t,h.background,h.border)&&(h=i(d,l,{chart:e,datasetIndex:t.index}));else{const n=[],o=[];for(let r=0;r<t.data.length;r++)n.push(h.background),o.push(h.border),h=i(d,l,{chart:e,datasetIndex:t.index,dataIndex:r});r(t,n,o)}}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{"use strict";n.r({})})(),(()=>{"use strict";n.r(o);n("./node_modules/core-js/modules/es.array.for-each.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/web.dom-collections.for-each.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.string.replace.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/web.url-search-params.js"),n("./node_modules/core-js/modules/es.error.to-string.js"),n("./node_modules/core-js/modules/es.date.to-string.js"),n("./node_modules/core-js/modules/es.regexp.to-string.js"),n("./node_modules/core-js/modules/es.object.keys.js"),n("./node_modules/core-js/modules/es.object.values.js"),n("./node_modules/core-js/modules/es.array.map.js"),n("./node_modules/core-js/modules/web.timers.js"),n("./node_modules/core-js/modules/es.parse-int.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.index-of.js"),n("./node_modules/core-js/modules/es.string.search.js"),n("./node_modules/core-js/modules/web.url.js"),n("./resources/js/bootstrap.js");var e=n("./node_modules/chart.js/auto/auto.js"),t=n("./node_modules/chartjs-plugin-autocolors/dist/chartjs-plugin-autocolors.esm.js"),r=n("./resources/js/Components/SelectInput.js"),i=n("./resources/js/Components/DatePicker.js"),s=n("./resources/js/Components/InputNumeric.js"),a=n("./resources/js/Components/TextEditor.js"),l=n("./resources/js/Components/calendar.js"),c=n("./resources/js/libs/CustomConfirm.js"),d=n("./resources/js/libs/NotificationToast.js"),u=n("./resources/js/libs/FormControl.js"),h=n("./node_modules/tinymce/tinymce.js"),m=n.n(h),p=n("./node_modules/tippy.js/dist/tippy.esm.js"),f=n("./node_modules/@tarekraafat/autocomplete.js/dist/autoComplete.js"),g=n.n(f),v=n("./node_modules/autonumeric/dist/autoNumeric.min.js"),b=n.n(v),y=n("./node_modules/turbolinks/dist/turbolinks.js");function w(e){e.setAttribute("disabled","");var t=e.parentElement.parentElement,n=e.parentElement.parentElement.querySelector(".modal__body").querySelector(".modal__body form"),o=new FormData(n);n.querySelectorAll("textarea[is='text-editor']").forEach((function(e){var t=m().get(e.id).getContent();o.set(e.name,t)}));var r=n.action;!0===(0,u.default)(n,o)&&(t.classList.add("show__loader"),axios({method:"post",url:r,responseType:"json",data:o}).then((function(e){var t,n=e.data,o=null===(t=n)||void 0===t?void 0:t.redirection,r=new URL(o).search,i=window.location.search;r!==i&&-1===r.search("tab")&&(o+=i),y.visit(o),document.addEventListener("turbolinks:load",(function(){var e,t;void 0!==n&&((0,d.default)(null===(e=n)||void 0===e?void 0:e.type,null===(t=n)||void 0===t?void 0:t.message),setTimeout((function(){n=void 0}),500))}))})).catch((function(e){t.classList.remove("show__loader"),(0,d.default)("error",e.message)}))),setTimeout((function(){e.removeAttribute("disabled")}),1e3)}y.start(),customElements.define("custom-select",r.SelectInput,{extends:"select"}),customElements.define("custom-select-top",r.SelectInputTop,{extends:"select"}),customElements.define("time-picker",i.TimePicker,{extends:"input"}),customElements.define("date-picker",i.DatePicker,{extends:"input"}),customElements.define("date-picker-two",i.DatePickerTwo,{extends:"input"}),customElements.define("number-format",s.InputNumeric,{extends:"input"}),customElements.define("text-editor",a.TextEditor,{extends:"textarea"}),customElements.define("calendar-form",l.calendar,{extends:"div"}),document.addEventListener("turbolinks:load",(function(){try{var n=notification;null!==n&&(0,d.default)(n.type,n.message)}catch(e){}document.querySelectorAll("[data-tooltip]").forEach((function(e){if("<ul></ul>"!==e.dataset.tooltip&&"<ol></ol>"!==e.dataset.tooltip)(0,p.default)(e,{content:e.dataset.tooltip,allowHTML:!0,animation:"shift-away",placement:"bottom",theme:"translucent",interactive:!1})})),window.addEventListener("click",(function(e){e.target.matches(".icon.fi-rr-menu-dots-vertical")||e.target.matches(".table_drop_action")||document.querySelectorAll(".table_drop_action").forEach((function(e){e.classList.contains("active")&&e.classList.remove("active")})),null!==document.querySelector(".dropdown .default_option")&&(e.target.matches(".dropdown .default_option")||document.querySelector(".dropdown .default_option + ul").classList.contains("active")&&document.querySelector(".dropdown .default_option + ul").classList.remove("active")),e.target.matches(".JsShowNotification")||document.querySelectorAll(".JsShowNotification").forEach((function(e){e.parentElement.querySelector(".notifications_list").classList.contains("active")&&e.parentElement.querySelector(".notifications_list").classList.remove("active")})),e.target.matches(".default_option")||document.querySelectorAll(".dropdownList > ul").forEach((function(e){e.classList.contains("active")&&e.classList.remove("active")}))}));var o=document.querySelector(".dropdown .default_option");null!=o&&o.addEventListener("click",(function(){document.querySelector(".dropdown .default_option + ul").classList.toggle("active")}));var r=document.querySelectorAll(".dropdownList .default_option");r.forEach((function(e){var t=e.parentElement.querySelector("ul");null!=r&&e.addEventListener("click",(function(){t.classList.toggle("active")}))})),document.querySelectorAll(".deleteForm").forEach((function(e){e.addEventListener("submit",(function(t){t.preventDefault(),(0,c.CustomConfirm)(e)}))}));var i=document.querySelectorAll(".table_drop_action");i.forEach((function(e){e.addEventListener("click",(function(){i.forEach((function(t){t.classList.contains("active")&&t!==e&&t.classList.remove("active")})),e.classList.toggle("active")}))}));var s=document.querySelector(".sidebar"),a=document.querySelector("#close-nav");null!==a&&a.addEventListener("click",(function(){s.classList.toggle("close"),s.classList.contains("close")?a.classList.replace("fi-rr-align-right","fi-rr-menu-burger"):a.classList.replace("fi-rr-menu-burger","fi-rr-align-right")}));for(var l=document.querySelectorAll(".dropdown-link"),h=function(e){l[e].addEventListener("click",(function(t){l[e].parentElement.parentElement.classList.toggle("showMenu")}))},m=0;m<l.length;m++)h(m);var f=document.querySelector(".search_field .input");if(null!=f){var v;new(g())({selector:"#autoComplete",placeHolder:"Rechercher...",data:{src:null!==(v=searchList)&&void 0!==v?v:[],cache:!0},resultsList:{element:function(e,t){if(!t.results.length){var n=document.createElement("div");n.setAttribute("class","no_result"),n.innerHTML='<span>Aucun rsultat trouv pour "'.concat(t.query,'"</span>'),e.prepend(n)}},noResults:!0,maxResults:15,tabSelect:!0},submit:!0,resultItem:{highlight:!0},events:{input:{selection:function(e){var t=e.detail.selection.value,n=window.location.origin+window.location.pathname,o=new URLSearchParams({q:t});y.visit(n+"?"+o.toString())}}}})}document.querySelectorAll(".JsShowNotification").forEach((function(e){e.addEventListener("click",(function(t){var n=e.parentElement;null==n||n.querySelector(".notifications_list").classList.toggle("active")}))}));var x=document.querySelector("#chart__stats_year");if(null!==x){var _=situation,S=[];Object.keys(_).forEach((function(e,t){S.push({label:e,data:Object.values(_[e]),pointStyle:"circle",pointRadius:5,pointHoverRadius:8,tension:.2})})),new e.default(x,{type:"line",data:{labels:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],datasets:S},options:{plugins:{autocolors:t.default,legend:{labels:{font:{family:"poppins",weight:"500"}}},tooltip:{bodyFont:{family:"poppins",weight:"400"},titleFont:{family:"poppins",weight:"400"}},subtitle:{display:!0,text:"Situation Charges/Revenus "+(new Date).getFullYear(),font:{family:"poppins",weight:"700"}}},scales:{y:{ticks:{font:{family:"poppins",weight:"500"}}},x:{ticks:{font:{family:"poppins",weight:"500"}}}}}})}var C=document.querySelector("#chart__stats_doughnut");if(null!==C){var j=categorie_article;new e.default(C,{type:"doughnut",data:{labels:j.map((function(e){return e.title})),datasets:[{label:"Articles",data:j.map((function(e){return e.value}))}]},options:{plugins:{autocolors:t.default,legend:{labels:{font:{family:"poppins"}}},tooltip:{bodyFont:{family:"poppins",weight:"400"},titleFont:{family:"poppins",weight:"400"}},subtitle:{display:!0,text:"Articles/Catgories",font:{family:"poppins",weight:"700"}}}}})}document.querySelectorAll(".JS_load__previewImg").forEach((function(e){var t=document.querySelector("#load__previewImg_"+e.name),n=e.parentElement.querySelector(".deleteUploadPreview");e.addEventListener("change",(function(){if(e.files&&1===e.files.length&&e.files[0].size>2097152)(0,c.customAlert)("La taille de l'image <b>"+e.files[0].name+"</b> ne doit pas dpasser <b>2MB</b>."),e.value=null,t.setAttribute("src",t.dataset.img),n.style.display="none";else{var o=e.files[0];if(o){var r=new FileReader;r.addEventListener("load",(function(){-1!==e.files[0].type.indexOf("image")&&t.setAttribute("src",r.result),n.style.display="block"})),r.readAsDataURL(o)}else-1!==e.files[0].type.indexOf("image")&&t.setAttribute("src",t.dataset.img),n.style.display="none"}})),n.addEventListener("click",(function(o){if(o.preventDefault(),null!=e.value){e.value=null,t.setAttribute("src",t.dataset.img),n.style.display="none";var r=document.querySelector("#remove_"+e.name);null!==r&&(r.value=!0)}}))})),document.querySelectorAll(".custom__link").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),y.visit(e.dataset.url)}))})),document.querySelectorAll("form.custom__form").forEach((function(e){e.addEventListener("submit",(function(t){t.preventDefault();var n,o=e,r=new FormData(o),i=o.action;!0===(0,u.default)(o,r)&&(null===(n=document.querySelector(".spinner__loader"))||void 0===n||n.classList.add("active"),axios({method:"post",url:i,responseType:"json",data:r}).then((function(e){var t,n=e.data,o=null===(t=n)||void 0===t?void 0:t.redirection;y.visit(o),document.addEventListener("turbolinks:load",(function(){var e,t;void 0!==n&&((0,d.default)(null===(e=n)||void 0===e?void 0:e.type,null===(t=n)||void 0===t?void 0:t.message),setTimeout((function(){n=void 0}),500))}))})).catch((function(e){(0,d.default)("error",e.message)})))}))})),document.querySelectorAll(".submit__form").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n,o=document.querySelector("form#"+e.dataset.id),r=new FormData(o),i=o.action;!0===(0,u.default)(o,r)&&(null===(n=document.querySelector(".spinner__loader"))||void 0===n||n.classList.add("active"),axios({method:"post",url:i,responseType:"json",data:r}).then((function(e){var t,n,o=e.data,r=null===(t=o)||void 0===t?void 0:t.redirection;null===(n=document.querySelector(".spinner__loader"))||void 0===n||n.classList.remove("active"),y.visit(r),document.addEventListener("turbolinks:load",(function(){var e,t;void 0!==o&&((0,d.default)(null===(e=o)||void 0===e?void 0:e.type,null===(t=o)||void 0===t?void 0:t.message),setTimeout((function(){o=void 0}),500))}))})).catch((function(e){(0,d.default)("error",e.message)})))}))})),document.querySelectorAll(".JS_Call_Url_Get_Form").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.dataset.url;void 0===n&&(n=e.href),null!=n&&axios({method:"get",url:n,responseType:"text"}).then((function(e){var t=document.querySelector("#JS_GenerateForm");if(void 0===e.data||null===t)return 0;t.innerHTML=e.data;var n=t.querySelector("form");if(null!=n&&n.setAttribute("method","post"),null!==t.querySelector("[data-control ~= 'noEmpty']")&&null==t.querySelector(".required__placeholder")){var o=document.createElement("p");o.classList.add("required__placeholder"),o.innerHTML='<i class="fi-rr-exclamation"></i> champs obligatoires',t.querySelector(".modal__container").insertBefore(o,t.querySelector(".modal__footer"))}!function(){var e=document.querySelector(".modal__box .modal__header #JS_editModal");null!==e&&(t(e),e.addEventListener("click",(function(){t(e)})));function t(e){if(!1===e.checked){document.querySelectorAll(".modal__body input").forEach((function(e){e.setAttribute("disabled","")})),document.querySelectorAll(".modal__body select").forEach((function(e){e.setAttribute("disabled","")})),document.querySelectorAll(".modal__body textarea").forEach((function(e){e.setAttribute("disabled","")})),document.querySelectorAll(".modal__footer input").forEach((function(e){e.style.opacity=0,e.style.visibility="hidden"})),document.querySelectorAll(".modal__body [data-control*=noEmpty] + label + i").forEach((function(e){e.style.opacity=0,e.style.visibility="hidden",e.setAttribute("disabled","")})),document.querySelectorAll(".modal__body [data-control*=noEmpty] + .ss-main + label +i").forEach((function(e){e.style.opacity=0,e.style.visibility="hidden",e.setAttribute("disabled","")}));var t=document.querySelector(".modal__body + br");null!==t&&(t.style.display="none");var n=document.querySelector(".required__placeholder");null!==n&&(n.style.display="none")}else{document.querySelectorAll(".modal__body input").forEach((function(e){e.removeAttribute("disabled")})),document.querySelectorAll(".modal__body select").forEach((function(e){null==e.getAttribute("forceDisabled")&&e.removeAttribute("disabled")})),document.querySelectorAll(".modal__body textarea").forEach((function(e){e.removeAttribute("disabled")})),document.querySelectorAll(".modal__footer input").forEach((function(e){e.style.opacity=1,e.style.visibility="visible"})),document.querySelectorAll(".modal__body [data-control*=noEmpty] + label + i").forEach((function(e){e.style.opacity=1,e.style.visibility="visible",e.removeAttribute("disabled")})),document.querySelectorAll(".modal__body [data-control*=noEmpty] + .ss-main + label + i").forEach((function(e){e.style.opacity=1,e.style.visibility="visible",e.removeAttribute("disabled")}));var o=document.querySelector(".modal__body + br");null!==o&&(o.style.display="block");var r=document.querySelector(".required__placeholder");null!==r&&(r.style.display="flex")}}}(),setTimeout((function(){t.querySelector(".modal__box").classList.add("active"),document.querySelector("body").style.overflow="hidden"}),100);var r=t.querySelectorAll(".close__modal");null!=r&&r.forEach((function(e){e.addEventListener("click",(function(){document.querySelector(".modal__box:not(.excel_export_popUp)").classList.toggle("active"),document.querySelector("body").style.overflow="auto",setTimeout((function(){document.querySelector("#JS_GenerateForm").innerHTML=""}),200)}))}));var i=t.querySelector(".modalForm__submit");null!=i&&(i.addEventListener("click",(function(){w(i)})),t.querySelector("form").addEventListener("submit",(function(e){e.preventDefault(),w(i)})))})).catch((function(e){(0,d.default)("error",e.message)}))}))}));var k=document.querySelector("#vente_form");if(null!==k){var E=function(){var e=parseInt(k.querySelector("#qte").value.replace(" ",""),10);e<=0&&(e=1);var t=parseInt(k.querySelector("#price").value.replace(" ",""),10)*e;b().set(D,t)},O=k.querySelector("#article"),A=k.querySelector("#price"),T=k.querySelector("#qte"),D=k.querySelector("#total");O.addEventListener("change",(function(e){var t=O.options[O.selectedIndex];b().set(A,t.dataset.price),axios({method:"post",url:k.dataset.stock+t.value,responseType:"text"}).then((function(e){b().set(T,1,{maximumValue:e.data}),E()}))})),T.onkeyup=function(){E()},T.onchange=function(){E()}}document.querySelectorAll(".link_delete").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.dataset.url;e.dataset.content;if(""===n||null===n)return 0;e.action=n,(0,c.CustomConfirm)(e)}))}));var M=document.querySelector("#JSlogout__user");null==M||M.addEventListener("click",(function(e){e.preventDefault(),(0,c.CustomConfirmLogout)(M.dataset.url)}))}))})()})();
//# sourceMappingURL=app.947f16e4.js.map